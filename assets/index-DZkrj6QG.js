var SB=Object.defineProperty;var zR=e=>{throw TypeError(e)};var EB=(e,t,n)=>t in e?SB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var q=(e,t,n)=>EB(e,typeof t!="symbol"?t+"":t,n),u1=(e,t,n)=>t.has(e)||zR("Cannot "+n);var pe=(e,t,n)=>(u1(e,t,"read from private field"),n?n.call(e):t.get(e)),Et=(e,t,n)=>t.has(e)?zR("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),st=(e,t,n,r)=>(u1(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ht=(e,t,n)=>(u1(e,t,"access private method"),n);var cb=(e,t,n,r)=>({set _(s){st(e,t,s,n)},get _(){return pe(e,t,r)}});function AB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var e3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var c1={exports:{}},A0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function CB(){if(VR)return A0;VR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var f in s)f!=="key"&&(a[f]=s[f])}else a=s;return s=a.ref,{$$typeof:e,type:r,key:l,ref:s!==void 0?s:null,props:a}}return A0.Fragment=t,A0.jsx=n,A0.jsxs=n,A0}var UR;function n3(){return UR||(UR=1,c1.exports=CB()),c1.exports}var O=n3(),f1={exports:{}},C0={},d1={exports:{}},h1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR;function wB(){return GR||(GR=1,function(e){function t(ie,we){var de=ie.length;ie.push(we);e:for(;0<de;){var ue=de-1>>>1,K=ie[ue];if(0<s(K,we))ie[ue]=we,ie[de]=K,de=ue;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var we=ie[0],de=ie.pop();if(de!==we){ie[0]=de;e:for(var ue=0,K=ie.length,ne=K>>>1;ue<ne;){var he=2*(ue+1)-1,j=ie[he],z=he+1,G=ie[z];if(0>s(j,de))z<K&&0>s(G,j)?(ie[ue]=G,ie[z]=de,ue=z):(ie[ue]=j,ie[he]=de,ue=he);else if(z<K&&0>s(G,de))ie[ue]=G,ie[z]=de,ue=z;else break e}}return we}function s(ie,we){var de=ie.sortIndex-we.sortIndex;return de!==0?de:ie.id-we.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,f=l.now();e.unstable_now=function(){return l.now()-f}}var d=[],g=[],p=1,m=null,x=3,b=!1,A=!1,C=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function D(ie){for(var we=n(g);we!==null;){if(we.callback===null)r(g);else if(we.startTime<=ie)r(g),we.sortIndex=we.expirationTime,t(d,we);else break;we=n(g)}}function F(ie){if(C=!1,D(ie),!A)if(n(d)!==null)A=!0,k||(k=!0,se());else{var we=n(g);we!==null&&Me(F,we.startTime-ie)}}var k=!1,V=-1,B=5,H=-1;function te(){return w?!0:!(e.unstable_now()-H<B)}function re(){if(w=!1,k){var ie=e.unstable_now();H=ie;var we=!0;try{e:{A=!1,C&&(C=!1,N(V),V=-1),b=!0;var de=x;try{t:{for(D(ie),m=n(d);m!==null&&!(m.expirationTime>ie&&te());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,x=m.priorityLevel;var K=ue(m.expirationTime<=ie);if(ie=e.unstable_now(),typeof K=="function"){m.callback=K,D(ie),we=!0;break t}m===n(d)&&r(d),D(ie)}else r(d);m=n(d)}if(m!==null)we=!0;else{var ne=n(g);ne!==null&&Me(F,ne.startTime-ie),we=!1}}break e}finally{m=null,x=de,b=!1}we=void 0}}finally{we?se():k=!1}}}var se;if(typeof I=="function")se=function(){I(re)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ke=Ee.port2;Ee.port1.onmessage=re,se=function(){ke.postMessage(null)}}else se=function(){R(re,0)};function Me(ie,we){V=R(function(){ie(e.unstable_now())},we)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(ie){switch(x){case 1:case 2:case 3:var we=3;break;default:we=x}var de=x;x=we;try{return ie()}finally{x=de}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(ie,we){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var de=x;x=ie;try{return we()}finally{x=de}},e.unstable_scheduleCallback=function(ie,we,de){var ue=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ue+de:ue):de=ue,ie){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=de+K,ie={id:p++,callback:we,priorityLevel:ie,startTime:de,expirationTime:K,sortIndex:-1},de>ue?(ie.sortIndex=de,t(g,ie),n(d)===null&&ie===n(g)&&(C?(N(V),V=-1):C=!0,Me(F,de-ue))):(ie.sortIndex=K,t(d,ie),A||b||(A=!0,k||(k=!0,se()))),ie},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(ie){var we=x;return function(){var de=x;x=we;try{return ie.apply(this,arguments)}finally{x=de}}}}(h1)),h1}var $R;function RB(){return $R||($R=1,d1.exports=wB()),d1.exports}var p1={exports:{}},Ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HR;function TB(){if(HR)return Ut;HR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(K){return K===null||typeof K!="object"?null:(K=m&&K[m]||K["@@iterator"],typeof K=="function"?K:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function w(K,ne,he){this.props=K,this.context=ne,this.refs=C,this.updater=he||b}w.prototype.isReactComponent={},w.prototype.setState=function(K,ne){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ne,"setState")},w.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function R(){}R.prototype=w.prototype;function N(K,ne,he){this.props=K,this.context=ne,this.refs=C,this.updater=he||b}var I=N.prototype=new R;I.constructor=N,A(I,w.prototype),I.isPureReactComponent=!0;var D=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function V(K,ne,he,j,z,G){return he=G.ref,{$$typeof:e,type:K,key:ne,ref:he!==void 0?he:null,props:G}}function B(K,ne){return V(K.type,ne,void 0,void 0,void 0,K.props)}function H(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function te(K){var ne={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(he){return ne[he]})}var re=/\/+/g;function se(K,ne){return typeof K=="object"&&K!==null&&K.key!=null?te(""+K.key):ne.toString(36)}function Ee(){}function ke(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(Ee,Ee):(K.status="pending",K.then(function(ne){K.status==="pending"&&(K.status="fulfilled",K.value=ne)},function(ne){K.status==="pending"&&(K.status="rejected",K.reason=ne)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function Me(K,ne,he,j,z){var G=typeof K;(G==="undefined"||G==="boolean")&&(K=null);var Y=!1;if(K===null)Y=!0;else switch(G){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(K.$$typeof){case e:case t:Y=!0;break;case p:return Y=K._init,Me(Y(K._payload),ne,he,j,z)}}if(Y)return z=z(K),Y=j===""?"."+se(K,0):j,D(z)?(he="",Y!=null&&(he=Y.replace(re,"$&/")+"/"),Me(z,ne,he,"",function(Z){return Z})):z!=null&&(H(z)&&(z=B(z,he+(z.key==null||K&&K.key===z.key?"":(""+z.key).replace(re,"$&/")+"/")+Y)),ne.push(z)),1;Y=0;var J=j===""?".":j+":";if(D(K))for(var X=0;X<K.length;X++)j=K[X],G=J+se(j,X),Y+=Me(j,ne,he,G,z);else if(X=x(K),typeof X=="function")for(K=X.call(K),X=0;!(j=K.next()).done;)j=j.value,G=J+se(j,X++),Y+=Me(j,ne,he,G,z);else if(G==="object"){if(typeof K.then=="function")return Me(ke(K),ne,he,j,z);throw ne=String(K),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Y}function ie(K,ne,he){if(K==null)return K;var j=[],z=0;return Me(K,j,"","",function(G){return ne.call(he,G,z++)}),j}function we(K){if(K._status===-1){var ne=K._result;ne=ne(),ne.then(function(he){(K._status===0||K._status===-1)&&(K._status=1,K._result=he)},function(he){(K._status===0||K._status===-1)&&(K._status=2,K._result=he)}),K._status===-1&&(K._status=0,K._result=ne)}if(K._status===1)return K._result.default;throw K._result}var de=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function ue(){}return Ut.Children={map:ie,forEach:function(K,ne,he){ie(K,function(){ne.apply(this,arguments)},he)},count:function(K){var ne=0;return ie(K,function(){ne++}),ne},toArray:function(K){return ie(K,function(ne){return ne})||[]},only:function(K){if(!H(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Ut.Component=w,Ut.Fragment=n,Ut.Profiler=s,Ut.PureComponent=N,Ut.StrictMode=r,Ut.Suspense=d,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ut.__COMPILER_RUNTIME={__proto__:null,c:function(K){return F.H.useMemoCache(K)}},Ut.cache=function(K){return function(){return K.apply(null,arguments)}},Ut.cloneElement=function(K,ne,he){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var j=A({},K.props),z=K.key,G=void 0;if(ne!=null)for(Y in ne.ref!==void 0&&(G=void 0),ne.key!==void 0&&(z=""+ne.key),ne)!k.call(ne,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&ne.ref===void 0||(j[Y]=ne[Y]);var Y=arguments.length-2;if(Y===1)j.children=he;else if(1<Y){for(var J=Array(Y),X=0;X<Y;X++)J[X]=arguments[X+2];j.children=J}return V(K.type,z,void 0,void 0,G,j)},Ut.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:a,_context:K},K},Ut.createElement=function(K,ne,he){var j,z={},G=null;if(ne!=null)for(j in ne.key!==void 0&&(G=""+ne.key),ne)k.call(ne,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(z[j]=ne[j]);var Y=arguments.length-2;if(Y===1)z.children=he;else if(1<Y){for(var J=Array(Y),X=0;X<Y;X++)J[X]=arguments[X+2];z.children=J}if(K&&K.defaultProps)for(j in Y=K.defaultProps,Y)z[j]===void 0&&(z[j]=Y[j]);return V(K,G,void 0,void 0,null,z)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(K){return{$$typeof:f,render:K}},Ut.isValidElement=H,Ut.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:we}},Ut.memo=function(K,ne){return{$$typeof:g,type:K,compare:ne===void 0?null:ne}},Ut.startTransition=function(K){var ne=F.T,he={};F.T=he;try{var j=K(),z=F.S;z!==null&&z(he,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(ue,de)}catch(G){de(G)}finally{F.T=ne}},Ut.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ut.use=function(K){return F.H.use(K)},Ut.useActionState=function(K,ne,he){return F.H.useActionState(K,ne,he)},Ut.useCallback=function(K,ne){return F.H.useCallback(K,ne)},Ut.useContext=function(K){return F.H.useContext(K)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(K,ne){return F.H.useDeferredValue(K,ne)},Ut.useEffect=function(K,ne,he){var j=F.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(K,ne)},Ut.useId=function(){return F.H.useId()},Ut.useImperativeHandle=function(K,ne,he){return F.H.useImperativeHandle(K,ne,he)},Ut.useInsertionEffect=function(K,ne){return F.H.useInsertionEffect(K,ne)},Ut.useLayoutEffect=function(K,ne){return F.H.useLayoutEffect(K,ne)},Ut.useMemo=function(K,ne){return F.H.useMemo(K,ne)},Ut.useOptimistic=function(K,ne){return F.H.useOptimistic(K,ne)},Ut.useReducer=function(K,ne,he){return F.H.useReducer(K,ne,he)},Ut.useRef=function(K){return F.H.useRef(K)},Ut.useState=function(K){return F.H.useState(K)},Ut.useSyncExternalStore=function(K,ne,he){return F.H.useSyncExternalStore(K,ne,he)},Ut.useTransition=function(){return F.H.useTransition()},Ut.version="19.1.0",Ut}var YR;function xS(){return YR||(YR=1,p1.exports=TB()),p1.exports}var g1={exports:{}},ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR;function NB(){if(WR)return ui;WR=1;var e=xS();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,g,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:d,containerInfo:g,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ui.createPortal=function(d,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return a(d,g,null,p)},ui.flushSync=function(d){var g=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=g,r.p=p,r.d.f()}},ui.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(d,g))},ui.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ui.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var p=g.as,m=f(p,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?r.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:x,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ui.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=f(g.as,g.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(d)},ui.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,m=f(p,g.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ui.preloadModule=function(d,g){if(typeof d=="string")if(g){var p=f(g.as,g.crossOrigin);r.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(d)},ui.requestFormReset=function(d){r.d.r(d)},ui.unstable_batchedUpdates=function(d,g){return d(g)},ui.useFormState=function(d,g,p){return l.H.useFormState(d,g,p)},ui.useFormStatus=function(){return l.H.useHostTransitionStatus()},ui.version="19.1.0",ui}var qR;function r3(){if(qR)return g1.exports;qR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),g1.exports=NB(),g1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR;function _B(){if(KR)return C0;KR=1;var e=RB(),t=xS(),n=r3();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)c+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,y=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(y=c.return),o=c.return;while(o)}return c.tag===3?y:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function f(o){if(a(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(r(188));return c!==o?null:o}for(var y=o,S=c;;){var T=y.return;if(T===null)break;var P=T.alternate;if(P===null){if(S=T.return,S!==null){y=S;continue}break}if(T.child===P.child){for(P=T.child;P;){if(P===y)return f(T),o;if(P===S)return f(T),c;P=P.sibling}throw Error(r(188))}if(y.return!==S.return)y=T,S=P;else{for(var $=!1,Q=T.child;Q;){if(Q===y){$=!0,y=T,S=P;break}if(Q===S){$=!0,S=T,y=P;break}Q=Q.sibling}if(!$){for(Q=P.child;Q;){if(Q===y){$=!0,y=P,S=T;break}if(Q===S){$=!0,S=P,y=T;break}Q=Q.sibling}if(!$)throw Error(r(189))}}if(y.alternate!==S)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?o:c}function g(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=g(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function se(o){return o===null||typeof o!="object"?null:(o=re&&o[re]||o["@@iterator"],typeof o=="function"?o:null)}var Ee=Symbol.for("react.client.reference");function ke(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Ee?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case w:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case k:return"SuspenseList";case H:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case I:return(o.displayName||"Context")+".Provider";case N:return(o._context.displayName||"Context")+".Consumer";case D:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case V:return c=o.displayName||null,c!==null?c:ke(o.type)||"Memo";case B:c=o._payload,o=o._init;try{return ke(o(c))}catch{}}return null}var Me=Array.isArray,ie=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ue=[],K=-1;function ne(o){return{current:o}}function he(o){0>K||(o.current=ue[K],ue[K]=null,K--)}function j(o,c){K++,ue[K]=o.current,o.current=c}var z=ne(null),G=ne(null),Y=ne(null),J=ne(null);function X(o,c){switch(j(Y,c),j(G,o),j(z,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?XE(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=XE(c),o=ZE(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}he(z),j(z,o)}function Z(){he(z),he(G),he(Y)}function oe(o){o.memoizedState!==null&&j(J,o);var c=z.current,y=ZE(c,o.type);c!==y&&(j(G,o),j(z,y))}function ye(o){G.current===o&&(he(z),he(G)),J.current===o&&(he(J),bc._currentValue=de)}var xe=Object.prototype.hasOwnProperty,ae=e.unstable_scheduleCallback,le=e.unstable_cancelCallback,Ae=e.unstable_shouldYield,Ie=e.unstable_requestPaint,je=e.unstable_now,Ve=e.unstable_getCurrentPriorityLevel,me=e.unstable_ImmediatePriority,De=e.unstable_UserBlockingPriority,Ze=e.unstable_NormalPriority,ht=e.unstable_LowPriority,pt=e.unstable_IdlePriority,ge=e.log,Ne=e.unstable_setDisableYieldValue,qe=null,Ye=null;function tt(o){if(typeof ge=="function"&&Ne(o),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(qe,o)}catch{}}var at=Math.clz32?Math.clz32:It,yt=Math.log,Rt=Math.LN2;function It(o){return o>>>=0,o===0?32:31-(yt(o)/Rt|0)|0}var on=256,Fe=4194304;function nt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function gt(o,c,y){var S=o.pendingLanes;if(S===0)return 0;var T=0,P=o.suspendedLanes,$=o.pingedLanes;o=o.warmLanes;var Q=S&134217727;return Q!==0?(S=Q&~P,S!==0?T=nt(S):($&=Q,$!==0?T=nt($):y||(y=Q&~o,y!==0&&(T=nt(y))))):(Q=S&~P,Q!==0?T=nt(Q):$!==0?T=nt($):y||(y=S&~o,y!==0&&(T=nt(y)))),T===0?0:c!==0&&c!==T&&(c&P)===0&&(P=T&-T,y=c&-c,P>=y||P===32&&(y&4194048)!==0)?c:T}function St(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Dt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mn(){var o=on;return on<<=1,(on&4194048)===0&&(on=256),o}function Fn(){var o=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),o}function Hn(o){for(var c=[],y=0;31>y;y++)c.push(o);return c}function sn(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Zn(o,c,y,S,T,P){var $=o.pendingLanes;o.pendingLanes=y,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=y,o.entangledLanes&=y,o.errorRecoveryDisabledLanes&=y,o.shellSuspendCounter=0;var Q=o.entanglements,fe=o.expirationTimes,Oe=o.hiddenUpdates;for(y=$&~y;0<y;){var ze=31-at(y),$e=1<<ze;Q[ze]=0,fe[ze]=-1;var Pe=Oe[ze];if(Pe!==null)for(Oe[ze]=null,ze=0;ze<Pe.length;ze++){var Le=Pe[ze];Le!==null&&(Le.lane&=-536870913)}y&=~$e}S!==0&&rt(o,S,0),P!==0&&T===0&&o.tag!==0&&(o.suspendedLanes|=P&~($&~c))}function rt(o,c,y){o.pendingLanes|=c,o.suspendedLanes&=~c;var S=31-at(c);o.entangledLanes|=c,o.entanglements[S]=o.entanglements[S]|1073741824|y&4194090}function an(o,c){var y=o.entangledLanes|=c;for(o=o.entanglements;y;){var S=31-at(y),T=1<<S;T&c|o[S]&c&&(o[S]|=c),y&=~T}}function Zt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function nn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function gr(){var o=we.p;return o!==0?o:(o=window.event,o===void 0?32:MR(o.type))}function Wt(o,c){var y=we.p;try{return we.p=o,c()}finally{we.p=y}}var Bt=Math.random().toString(36).slice(2),ln="__reactFiber$"+Bt,Mt="__reactProps$"+Bt,En="__reactContainer$"+Bt,Oi="__reactEvents$"+Bt,xr="__reactListeners$"+Bt,mi="__reactHandles$"+Bt,Ho="__reactResources$"+Bt,Ji="__reactMarker$"+Bt;function Fg(o){delete o[ln],delete o[Mt],delete o[Oi],delete o[xr],delete o[mi]}function ks(o){var c=o[ln];if(c)return c;for(var y=o.parentNode;y;){if(c=y[En]||y[ln]){if(y=c.alternate,c.child!==null||y!==null&&y.child!==null)for(o=Xx(o);o!==null;){if(y=o[ln])return y;o=Xx(o)}return c}o=y,y=o.parentNode}return null}function Yo(o){if(o=o[ln]||o[En]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Du(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Bs(o){var c=o[Ho];return c||(c=o[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function tr(o){o[Ji]=!0}var kg=new Set,Bg={};function js(o,c){Ua(o,c),Ua(o+"Capture",c)}function Ua(o,c){for(Bg[o]=c,o=0;o<c.length;o++)kg.add(c[o])}var jg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oy={},lf={};function sy(o){return xe.call(lf,o)?!0:xe.call(oy,o)?!1:jg.test(o)?lf[o]=!0:(oy[o]=!0,!1)}function Wo(o,c,y){if(sy(c))if(y===null)o.removeAttribute(c);else{switch(typeof y){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var S=c.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+y)}}function uf(o,c,y){if(y===null)o.removeAttribute(c);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+y)}}function qo(o,c,y,S){if(S===null)o.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(y);return}o.setAttributeNS(c,y,""+S)}}var Ga,ay;function yo(o){if(Ga===void 0)try{throw Error()}catch(y){var c=y.stack.trim().match(/\n( *(at )?)/);Ga=c&&c[1]||"",ay=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+o+ay}var cf=!1;function zg(o,c){if(!o||cf)return"";cf=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(c){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(Le){var Pe=Le}Reflect.construct(o,[],$e)}else{try{$e.call()}catch(Le){Pe=Le}o.call($e.prototype)}}else{try{throw Error()}catch(Le){Pe=Le}($e=o())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(Le){if(Le&&Pe&&typeof Le.stack=="string")return[Le.stack,Pe.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=S.DetermineComponentFrameRoot(),$=P[0],Q=P[1];if($&&Q){var fe=$.split(`
`),Oe=Q.split(`
`);for(T=S=0;S<fe.length&&!fe[S].includes("DetermineComponentFrameRoot");)S++;for(;T<Oe.length&&!Oe[T].includes("DetermineComponentFrameRoot");)T++;if(S===fe.length||T===Oe.length)for(S=fe.length-1,T=Oe.length-1;1<=S&&0<=T&&fe[S]!==Oe[T];)T--;for(;1<=S&&0<=T;S--,T--)if(fe[S]!==Oe[T]){if(S!==1||T!==1)do if(S--,T--,0>T||fe[S]!==Oe[T]){var ze=`
`+fe[S].replace(" at new "," at ");return o.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",o.displayName)),ze}while(1<=S&&0<=T);break}}}finally{cf=!1,Error.prepareStackTrace=y}return(y=o?o.displayName||o.name:"")?yo(y):""}function cE(o){switch(o.tag){case 26:case 27:case 5:return yo(o.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 15:return zg(o.type,!1);case 11:return zg(o.type.render,!1);case 1:return zg(o.type,!0);case 31:return yo("Activity");default:return""}}function ly(o){try{var c="";do c+=cE(o),o=o.return;while(o);return c}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function Xr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Vg(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function fE(o){var c=Vg(o)?"checked":"value",y=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),S=""+o[c];if(!o.hasOwnProperty(c)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var T=y.get,P=y.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return T.call(this)},set:function($){S=""+$,P.call(this,$)}}),Object.defineProperty(o,c,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function($){S=""+$},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Eh(o){o._valueTracker||(o._valueTracker=fE(o))}function uy(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var y=c.getValue(),S="";return o&&(S=Vg(o)?o.checked?"true":"false":o.value),o=S,o!==y?(c.setValue(o),!0):!1}function Ah(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ff=/[\n"\\]/g;function Pr(o){return o.replace(ff,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ug(o,c,y,S,T,P,$,Q){o.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?o.type=$:o.removeAttribute("type"),c!=null?$==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Xr(c)):o.value!==""+Xr(c)&&(o.value=""+Xr(c)):$!=="submit"&&$!=="reset"||o.removeAttribute("value"),c!=null?df(o,$,Xr(c)):y!=null?df(o,$,Xr(y)):S!=null&&o.removeAttribute("value"),T==null&&P!=null&&(o.defaultChecked=!!P),T!=null&&(o.checked=T&&typeof T!="function"&&typeof T!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?o.name=""+Xr(Q):o.removeAttribute("name")}function Gg(o,c,y,S,T,P,$,Q){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(o.type=P),c!=null||y!=null){if(!(P!=="submit"&&P!=="reset"||c!=null))return;y=y!=null?""+Xr(y):"",c=c!=null?""+Xr(c):y,Q||c===o.value||(o.value=c),o.defaultValue=c}S=S??T,S=typeof S!="function"&&typeof S!="symbol"&&!!S,o.checked=Q?o.checked:!!S,o.defaultChecked=!!S,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(o.name=$)}function df(o,c,y){c==="number"&&Ah(o.ownerDocument)===o||o.defaultValue===""+y||(o.defaultValue=""+y)}function Pu(o,c,y,S){if(o=o.options,c){c={};for(var T=0;T<y.length;T++)c["$"+y[T]]=!0;for(y=0;y<o.length;y++)T=c.hasOwnProperty("$"+o[y].value),o[y].selected!==T&&(o[y].selected=T),T&&S&&(o[y].defaultSelected=!0)}else{for(y=""+Xr(y),c=null,T=0;T<o.length;T++){if(o[T].value===y){o[T].selected=!0,S&&(o[T].defaultSelected=!0);return}c!==null||o[T].disabled||(c=o[T])}c!==null&&(c.selected=!0)}}function $g(o,c,y){if(c!=null&&(c=""+Xr(c),c!==o.value&&(o.value=c),y==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=y!=null?""+Xr(y):""}function cy(o,c,y,S){if(c==null){if(S!=null){if(y!=null)throw Error(r(92));if(Me(S)){if(1<S.length)throw Error(r(93));S=S[0]}y=S}y==null&&(y=""),c=y}y=Xr(c),o.defaultValue=y,S=o.textContent,S===y&&S!==""&&S!==null&&(o.value=S)}function zs(o,c){if(c){var y=o.firstChild;if(y&&y===o.lastChild&&y.nodeType===3){y.nodeValue=c;return}}o.textContent=c}var fy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dy(o,c,y){var S=c.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?S?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":S?o.setProperty(c,y):typeof y!="number"||y===0||fy.has(c)?c==="float"?o.cssFloat=y:o[c]=(""+y).trim():o[c]=y+"px"}function hy(o,c,y){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,y!=null){for(var S in y)!y.hasOwnProperty(S)||c!=null&&c.hasOwnProperty(S)||(S.indexOf("--")===0?o.setProperty(S,""):S==="float"?o.cssFloat="":o[S]="");for(var T in c)S=c[T],c.hasOwnProperty(T)&&y[T]!==S&&dy(o,T,S)}else for(var P in c)c.hasOwnProperty(P)&&dy(o,P,c[P])}function Hg(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),py=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hf(o){return py.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var pf=null;function gf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var $a=null,Ha=null;function gy(o){var c=Yo(o);if(c&&(o=c.stateNode)){var y=o[Mt]||null;e:switch(o=c.stateNode,c.type){case"input":if(Ug(o,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),c=y.name,y.type==="radio"&&c!=null){for(y=o;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+Pr(""+c)+'"][type="radio"]'),c=0;c<y.length;c++){var S=y[c];if(S!==o&&S.form===o.form){var T=S[Mt]||null;if(!T)throw Error(r(90));Ug(S,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(c=0;c<y.length;c++)S=y[c],S.form===o.form&&uy(S)}break e;case"textarea":$g(o,y.value,y.defaultValue);break e;case"select":c=y.value,c!=null&&Pu(o,!!y.multiple,c,!1)}}}var Yg=!1;function my(o,c,y){if(Yg)return o(c,y);Yg=!0;try{var S=o(c);return S}finally{if(Yg=!1,($a!==null||Ha!==null)&&(ca(),$a&&(c=$a,o=Ha,Ha=$a=null,gy(c),o)))for(c=0;c<o.length;c++)gy(o[c])}}function Ya(o,c){var y=o.stateNode;if(y===null)return null;var S=y[Mt]||null;if(S===null)return null;y=S[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(o=o.type,S=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!S;break e;default:o=!1}if(o)return null;if(y&&typeof y!="function")throw Error(r(231,c,typeof y));return y}var Ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wg=!1;if(Ko)try{var mf={};Object.defineProperty(mf,"passive",{get:function(){Wg=!0}}),window.addEventListener("test",mf,mf),window.removeEventListener("test",mf,mf)}catch{Wg=!1}var Vs=null,Mu=null,Di=null;function vy(){if(Di)return Di;var o,c=Mu,y=c.length,S,T="value"in Vs?Vs.value:Vs.textContent,P=T.length;for(o=0;o<y&&c[o]===T[o];o++);var $=y-o;for(S=1;S<=$&&c[y-S]===T[P-S];S++);return Di=T.slice(o,1<S?1-S:void 0)}function Ch(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function wh(){return!0}function yy(){return!1}function Zr(o){function c(y,S,T,P,$){this._reactName=y,this._targetInst=T,this.type=S,this.nativeEvent=P,this.target=$,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(y=o[Q],this[Q]=y?y(P):P[Q]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?wh:yy,this.isPropagationStopped=yy,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=wh)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=wh)},persist:function(){},isPersistent:wh}),c}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=Zr(Us),zr=p({},Us,{view:0,detail:0}),hE=Zr(zr),qg,Rh,vf,Th=p({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_h,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==vf&&(vf&&o.type==="mousemove"?(qg=o.screenX-vf.screenX,Rh=o.screenY-vf.screenY):Rh=qg=0,vf=o),qg)},movementY:function(o){return"movementY"in o?o.movementY:Rh}}),Kg=Zr(Th),Pt=p({},Th,{dataTransfer:0}),TR=Zr(Pt),pE=p({},zr,{relatedTarget:0}),Nh=Zr(pE),xy=p({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),by=Zr(xy),Sy=p({},Us,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ey=Zr(Sy),Ay=p({},Us,{data:0}),Xg=Zr(Ay),Cy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ry={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ty(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Ry[o])?!!c[o]:!1}function _h(){return Ty}var Ny=p({},zr,{key:function(o){if(o.key){var c=Cy[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Ch(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?wy[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_h,charCode:function(o){return o.type==="keypress"?Ch(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ch(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),_y=Zr(Ny),Iy=p({},Th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=Zr(Iy),Oy=p({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_h}),Dy=Zr(Oy),Py=p({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),My=Zr(Py),Ly=p({},Th,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),gE=Zr(Ly),Pi=p({},Us,{newState:0,oldState:0}),Fy=Zr(Pi),ky=[9,13,27,32],Jg=Ko&&"CompositionEvent"in window,yf=null;Ko&&"documentMode"in document&&(yf=document.documentMode);var Qg=Ko&&"TextEvent"in window&&!yf,Wa=Ko&&(!Jg||yf&&8<yf&&11>=yf),xo=" ",By=!1;function jy(o,c){switch(o){case"keyup":return ky.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zy(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Lu=!1;function Vy(o,c){switch(o){case"compositionend":return zy(c);case"keypress":return c.which!==32?null:(By=!0,xo);case"textInput":return o=c.data,o===xo&&By?null:o;default:return null}}function mE(o,c){if(Lu)return o==="compositionend"||!Jg&&jy(o,c)?(o=vy(),Di=Mu=Vs=null,Lu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Wa&&c.locale!=="ko"?null:c.data;default:return null}}var vE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function em(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!vE[o.type]:c==="textarea"}function Uy(o,c,y,S){$a?Ha?Ha.push(S):Ha=[S]:$a=S,c=$f(c,"onChange"),0<c.length&&(y=new Xo("onChange","change",null,y,S),o.push({event:y,listeners:c}))}var Mi=null,Gs=null;function Gy(o){Lo(o,0)}function qa(o){var c=Du(o);if(uy(c))return o}function tm(o,c){if(o==="change")return c}var $y=!1;if(Ko){var nm;if(Ko){var Ih="oninput"in document;if(!Ih){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),Ih=typeof Hy.oninput=="function"}nm=Ih}else nm=!1;$y=nm&&(!document.documentMode||9<document.documentMode)}function Yy(){Mi&&(Mi.detachEvent("onpropertychange",Wy),Gs=Mi=null)}function Wy(o){if(o.propertyName==="value"&&qa(Gs)){var c=[];Uy(c,Gs,o,gf(o)),my(Gy,c)}}function yE(o,c,y){o==="focusin"?(Yy(),Mi=c,Gs=y,Mi.attachEvent("onpropertychange",Wy)):o==="focusout"&&Yy()}function xE(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return qa(Gs)}function qy(o,c){if(o==="click")return qa(c)}function rm(o,c){if(o==="input"||o==="change")return qa(c)}function bE(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Jr=typeof Object.is=="function"?Object.is:bE;function xf(o,c){if(Jr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var y=Object.keys(o),S=Object.keys(c);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var T=y[S];if(!xe.call(c,T)||!Jr(o[T],c[T]))return!1}return!0}function Oh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ky(o,c){var y=Oh(o);o=0;for(var S;y;){if(y.nodeType===3){if(S=o+y.textContent.length,o<=c&&S>=c)return{node:y,offset:c-o};o=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Oh(y)}}function Xy(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Xy(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Zy(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Ah(o.document);c instanceof o.HTMLIFrameElement;){try{var y=typeof c.contentWindow.location.href=="string"}catch{y=!1}if(y)o=c.contentWindow;else break;c=Ah(o.document)}return c}function im(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Dh=Ko&&"documentMode"in document&&11>=document.documentMode,Ka=null,om=null,bf=null,Ph=!1;function Jy(o,c,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Ph||Ka==null||Ka!==Ah(S)||(S=Ka,"selectionStart"in S&&im(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),bf&&xf(bf,S)||(bf=S,S=$f(om,"onSelect"),0<S.length&&(c=new Xo("onSelect","select",null,c,y),o.push({event:c,listeners:S}),c.target=Ka)))}function Xa(o,c){var y={};return y[o.toLowerCase()]=c.toLowerCase(),y["Webkit"+o]="webkit"+c,y["Moz"+o]="moz"+c,y}var Fu={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Za={},sm={};Ko&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function Ja(o){if(Za[o])return Za[o];if(!Fu[o])return o;var c=Fu[o],y;for(y in c)if(c.hasOwnProperty(y)&&y in sm)return Za[o]=c[y];return o}var Qy=Ja("animationend"),Mh=Ja("animationiteration"),Sf=Ja("animationstart"),SE=Ja("transitionrun"),EE=Ja("transitionstart"),AE=Ja("transitioncancel"),ex=Ja("transitionend"),tx=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function vi(o,c){tx.set(o,c),js(c,[o])}var am=new WeakMap;function Li(o,c){if(typeof o=="object"&&o!==null){var y=am.get(o);return y!==void 0?y:(c={value:o,source:c,stack:ly(c)},am.set(o,c),c)}return{value:o,source:c,stack:ly(c)}}var yi=[],ku=0,lm=0;function Fh(){for(var o=ku,c=lm=ku=0;c<o;){var y=yi[c];yi[c++]=null;var S=yi[c];yi[c++]=null;var T=yi[c];yi[c++]=null;var P=yi[c];if(yi[c++]=null,S!==null&&T!==null){var $=S.pending;$===null?T.next=T:(T.next=$.next,$.next=T),S.pending=T}P!==0&&nx(y,T,P)}}function Zo(o,c,y,S){yi[ku++]=o,yi[ku++]=c,yi[ku++]=y,yi[ku++]=S,lm|=S,o.lanes|=S,o=o.alternate,o!==null&&(o.lanes|=S)}function kh(o,c,y,S){return Zo(o,c,y,S),Bh(o)}function Bu(o,c){return Zo(o,null,null,c),Bh(o)}function nx(o,c,y){o.lanes|=y;var S=o.alternate;S!==null&&(S.lanes|=y);for(var T=!1,P=o.return;P!==null;)P.childLanes|=y,S=P.alternate,S!==null&&(S.childLanes|=y),P.tag===22&&(o=P.stateNode,o===null||o._visibility&1||(T=!0)),o=P,P=P.return;return o.tag===3?(P=o.stateNode,T&&c!==null&&(T=31-at(y),o=P.hiddenUpdates,S=o[T],S===null?o[T]=[c]:S.push(c),c.lane=y|536870912),P):null}function Bh(o){if(50<yn)throw yn=0,kr=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var ju={};function CE(o,c,y,S){this.tag=o,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(o,c,y,S){return new CE(o,c,y,S)}function Ef(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Fi(o,c){var y=o.alternate;return y===null?(y=Mr(o.tag,c,o.key,o.mode),y.elementType=o.elementType,y.type=o.type,y.stateNode=o.stateNode,y.alternate=o,o.alternate=y):(y.pendingProps=c,y.type=o.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=o.flags&65011712,y.childLanes=o.childLanes,y.lanes=o.lanes,y.child=o.child,y.memoizedProps=o.memoizedProps,y.memoizedState=o.memoizedState,y.updateQueue=o.updateQueue,c=o.dependencies,y.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},y.sibling=o.sibling,y.index=o.index,y.ref=o.ref,y.refCleanup=o.refCleanup,y}function Af(o,c){o.flags&=65011714;var y=o.alternate;return y===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=y.childLanes,o.lanes=y.lanes,o.child=y.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=y.memoizedProps,o.memoizedState=y.memoizedState,o.updateQueue=y.updateQueue,o.type=y.type,c=y.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function jh(o,c,y,S,T,P){var $=0;if(S=o,typeof o=="function")Ef(o)&&($=1);else if(typeof o=="string")$=cn(o,y,z.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case H:return o=Mr(31,y,c,T),o.elementType=H,o.lanes=P,o;case A:return $s(y.children,T,P,c);case C:$=8,T|=24;break;case w:return o=Mr(12,y,c,T|2),o.elementType=w,o.lanes=P,o;case F:return o=Mr(13,y,c,T),o.elementType=F,o.lanes=P,o;case k:return o=Mr(19,y,c,T),o.elementType=k,o.lanes=P,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:case I:$=10;break e;case N:$=9;break e;case D:$=11;break e;case V:$=14;break e;case B:$=16,S=null;break e}$=29,y=Error(r(130,o===null?"null":typeof o,"")),S=null}return c=Mr($,y,c,T),c.elementType=o,c.type=S,c.lanes=P,c}function $s(o,c,y,S){return o=Mr(7,o,S,c),o.lanes=y,o}function um(o,c,y){return o=Mr(6,o,null,c),o.lanes=y,o}function cm(o,c,y){return c=Mr(4,o.children!==null?o.children:[],o.key,c),c.lanes=y,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var zu=[],Vu=0,zh=null,Vh=0,xi=[],Qr=0,Hs=null,bo=1,qt="";function Qa(o,c){zu[Vu++]=Vh,zu[Vu++]=zh,zh=o,Vh=c}function rx(o,c,y){xi[Qr++]=bo,xi[Qr++]=qt,xi[Qr++]=Hs,Hs=o;var S=bo;o=qt;var T=32-at(S)-1;S&=~(1<<T),y+=1;var P=32-at(c)+T;if(30<P){var $=T-T%5;P=(S&(1<<$)-1).toString(32),S>>=$,T-=$,bo=1<<32-at(c)+T|y<<T|S,qt=P+o}else bo=1<<P|y<<T|S,qt=o}function fm(o){o.return!==null&&(Qa(o,1),rx(o,1,0))}function Uh(o){for(;o===zh;)zh=zu[--Vu],zu[Vu]=null,Vh=zu[--Vu],zu[Vu]=null;for(;o===Hs;)Hs=xi[--Qr],xi[Qr]=null,qt=xi[--Qr],xi[Qr]=null,bo=xi[--Qr],xi[Qr]=null}var Vr=null,Yn=null,un=!1,Ys=null,Qi=!1,dm=Error(r(519));function eo(o){var c=Error(r(418,""));throw wf(Li(c,o)),dm}function ix(o){var c=o.stateNode,y=o.type,S=o.memoizedProps;switch(c[ln]=o,c[Mt]=S,y){case"dialog":Ft("cancel",c),Ft("close",c);break;case"iframe":case"object":case"embed":Ft("load",c);break;case"video":case"audio":for(y=0;y<Mo.length;y++)Ft(Mo[y],c);break;case"source":Ft("error",c);break;case"img":case"image":case"link":Ft("error",c),Ft("load",c);break;case"details":Ft("toggle",c);break;case"input":Ft("invalid",c),Gg(c,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),Eh(c);break;case"select":Ft("invalid",c);break;case"textarea":Ft("invalid",c),cy(c,S.value,S.defaultValue,S.children),Eh(c)}y=S.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||c.textContent===""+y||S.suppressHydrationWarning===!0||$x(c.textContent,y)?(S.popover!=null&&(Ft("beforetoggle",c),Ft("toggle",c)),S.onScroll!=null&&Ft("scroll",c),S.onScrollEnd!=null&&Ft("scrollend",c),S.onClick!=null&&(c.onclick=ml),c=!0):c=!1,c||eo(o)}function ox(o){for(Vr=o.return;Vr;)switch(Vr.tag){case 5:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:Vr=Vr.return}}function Cf(o){if(o!==Vr)return!1;if(!un)return ox(o),un=!0,!1;var c=o.tag,y;if((y=c!==3&&c!==27)&&((y=c===5)&&(y=o.type,y=!(y!=="form"&&y!=="button")||vc(o.type,o.memoizedProps)),y=!y),y&&Yn&&eo(o),ox(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(y=o.data,y==="/$"){if(c===0){Yn=li(o.nextSibling);break e}c--}else y!=="$"&&y!=="$!"&&y!=="$?"||c++;o=o.nextSibling}Yn=null}}else c===27?(c=Yn,bs(o.type)?(o=y0,y0=null,Yn=o):Yn=c):Yn=Vr?li(o.stateNode.nextSibling):null;return!0}function Uu(){Yn=Vr=null,un=!1}function el(){var o=Ys;return o!==null&&(qr===null?qr=o:qr.push.apply(qr,o),Ys=null),o}function wf(o){Ys===null?Ys=[o]:Ys.push(o)}var hm=ne(null),tl=null,Jo=null;function Ws(o,c,y){j(hm,c._currentValue),c._currentValue=y}function Qo(o){o._currentValue=hm.current,he(hm)}function pm(o,c,y){for(;o!==null;){var S=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,S!==null&&(S.childLanes|=c)):S!==null&&(S.childLanes&c)!==c&&(S.childLanes|=c),o===y)break;o=o.return}}function Gh(o,c,y,S){var T=o.child;for(T!==null&&(T.return=o);T!==null;){var P=T.dependencies;if(P!==null){var $=T.child;P=P.firstContext;e:for(;P!==null;){var Q=P;P=T;for(var fe=0;fe<c.length;fe++)if(Q.context===c[fe]){P.lanes|=y,Q=P.alternate,Q!==null&&(Q.lanes|=y),pm(P.return,y,o),S||($=null);break e}P=Q.next}}else if(T.tag===18){if($=T.return,$===null)throw Error(r(341));$.lanes|=y,P=$.alternate,P!==null&&(P.lanes|=y),pm($,y,o),$=null}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===o){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}}function Rf(o,c,y,S){o=null;for(var T=c,P=!1;T!==null;){if(!P){if((T.flags&524288)!==0)P=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var $=T.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var Q=T.type;Jr(T.pendingProps.value,$.value)||(o!==null?o.push(Q):o=[Q])}}else if(T===J.current){if($=T.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(o!==null?o.push(bc):o=[bc])}T=T.return}o!==null&&Gh(c,o,y,S),c.flags|=262144}function $h(o){for(o=o.firstContext;o!==null;){if(!Jr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function qs(o){tl=o,Jo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function br(o){return gm(tl,o)}function Gu(o,c){return tl===null&&qs(o),gm(o,c)}function gm(o,c){var y=c._currentValue;if(c={context:c,memoizedValue:y,next:null},Jo===null){if(o===null)throw Error(r(308));Jo=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Jo=Jo.next=c;return y}var wE=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(y,S){o.push(S)}};this.abort=function(){c.aborted=!0,o.forEach(function(y){return y()})}},RE=e.unstable_scheduleCallback,$u=e.unstable_NormalPriority,nr={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mm(){return{controller:new wE,data:new Map,refCount:0}}function Tf(o){o.refCount--,o.refCount===0&&RE($u,function(){o.controller.abort()})}var Hu=null,vm=0,Yu=0,Wu=null;function TE(o,c){if(Hu===null){var y=Hu=[];vm=0,Yu=Cp(),Wu={status:"pending",value:void 0,then:function(S){y.push(S)}}}return vm++,c.then(NE,NE),c}function NE(){if(--vm===0&&Hu!==null){Wu!==null&&(Wu.status="fulfilled");var o=Hu;Hu=null,Yu=0,Wu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function _E(o,c){var y=[],S={status:"pending",value:null,reason:null,then:function(T){y.push(T)}};return o.then(function(){S.status="fulfilled",S.value=c;for(var T=0;T<y.length;T++)(0,y[T])(c)},function(T){for(S.status="rejected",S.reason=T,T=0;T<y.length;T++)(0,y[T])(void 0)}),S}var sx=ie.S;ie.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&TE(o,c),sx!==null&&sx(o,c)};var Ks=ne(null);function Hh(){var o=Ks.current;return o!==null?o:Mn.pooledCache}function Nf(o,c){c===null?j(Ks,Ks.current):j(Ks,c.pool)}function ax(){var o=Hh();return o===null?null:{parent:nr._currentValue,pool:o}}var qu=Error(r(460)),lx=Error(r(474)),_f=Error(r(542)),Yh={then:function(){}};function ym(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Wh(){}function ux(o,c,y){switch(y=o[y],y===void 0?o.push(c):y!==c&&(c.then(Wh,Wh),c=y),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,xm(o),o;default:if(typeof c.status=="string")c.then(Wh,Wh);else{if(o=Mn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(S){if(c.status==="pending"){var T=c;T.status="fulfilled",T.value=S}},function(S){if(c.status==="pending"){var T=c;T.status="rejected",T.reason=S}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,xm(o),o}throw Ku=c,qu}}var Ku=null;function cx(){if(Ku===null)throw Error(r(459));var o=Ku;return Ku=null,o}function xm(o){if(o===qu||o===_f)throw Error(r(483))}var es=!1;function bm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qh(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ei(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Xs(o,c,y){var S=o.updateQueue;if(S===null)return null;if(S=S.shared,(dn&2)!==0){var T=S.pending;return T===null?c.next=c:(c.next=T.next,T.next=c),S.pending=c,c=Bh(o),nx(o,null,y),c}return Zo(o,S,c,y),Bh(o)}function Xu(o,c,y){if(c=c.updateQueue,c!==null&&(c=c.shared,(y&4194048)!==0)){var S=c.lanes;S&=o.pendingLanes,y|=S,c.lanes=y,an(o,y)}}function Sm(o,c){var y=o.updateQueue,S=o.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var T=null,P=null;if(y=y.firstBaseUpdate,y!==null){do{var $={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};P===null?T=P=$:P=P.next=$,y=y.next}while(y!==null);P===null?T=P=c:P=P.next=c}else T=P=c;y={baseState:S.baseState,firstBaseUpdate:T,lastBaseUpdate:P,shared:S.shared,callbacks:S.callbacks},o.updateQueue=y;return}o=y.lastBaseUpdate,o===null?y.firstBaseUpdate=c:o.next=c,y.lastBaseUpdate=c}var Lt=!1;function If(){if(Lt){var o=Wu;if(o!==null)throw o}}function Of(o,c,y,S){Lt=!1;var T=o.updateQueue;es=!1;var P=T.firstBaseUpdate,$=T.lastBaseUpdate,Q=T.shared.pending;if(Q!==null){T.shared.pending=null;var fe=Q,Oe=fe.next;fe.next=null,$===null?P=Oe:$.next=Oe,$=fe;var ze=o.alternate;ze!==null&&(ze=ze.updateQueue,Q=ze.lastBaseUpdate,Q!==$&&(Q===null?ze.firstBaseUpdate=Oe:Q.next=Oe,ze.lastBaseUpdate=fe))}if(P!==null){var $e=T.baseState;$=0,ze=Oe=fe=null,Q=P;do{var Pe=Q.lane&-536870913,Le=Pe!==Q.lane;if(Le?(Qt&Pe)===Pe:(S&Pe)===Pe){Pe!==0&&Pe===Yu&&(Lt=!0),ze!==null&&(ze=ze.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var Ot=o,Ct=Q;Pe=c;var Ln=y;switch(Ct.tag){case 1:if(Ot=Ct.payload,typeof Ot=="function"){$e=Ot.call(Ln,$e,Pe);break e}$e=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=Ct.payload,Pe=typeof Ot=="function"?Ot.call(Ln,$e,Pe):Ot,Pe==null)break e;$e=p({},$e,Pe);break e;case 2:es=!0}}Pe=Q.callback,Pe!==null&&(o.flags|=64,Le&&(o.flags|=8192),Le=T.callbacks,Le===null?T.callbacks=[Pe]:Le.push(Pe))}else Le={lane:Pe,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},ze===null?(Oe=ze=Le,fe=$e):ze=ze.next=Le,$|=Pe;if(Q=Q.next,Q===null){if(Q=T.shared.pending,Q===null)break;Le=Q,Q=Le.next,Le.next=null,T.lastBaseUpdate=Le,T.shared.pending=null}}while(!0);ze===null&&(fe=$e),T.baseState=fe,T.firstBaseUpdate=Oe,T.lastBaseUpdate=ze,P===null&&(T.shared.lanes=0),Oo|=$,o.lanes=$,o.memoizedState=$e}}function fx(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function Kh(o,c){var y=o.callbacks;if(y!==null)for(o.callbacks=null,o=0;o<y.length;o++)fx(y[o],c)}var Zs=ne(null),Zu=ne(0);function dx(o,c){o=ms,j(Zu,o),j(Zs,c),ms=o|c.baseLanes}function Em(){j(Zu,ms),j(Zs,Zs.current)}function Am(){ms=Zu.current,he(Zs),he(Zu)}var Js=0,Vt=null,An=null,rr=null,Xh=!1,Ju=!1,nl=!1,ts=0,Lr=0,Qu=null,IE=0;function Jn(){throw Error(r(321))}function Cm(o,c){if(c===null)return!1;for(var y=0;y<c.length&&y<o.length;y++)if(!Jr(o[y],c[y]))return!1;return!0}function wm(o,c,y,S,T,P){return Js=P,Vt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ie.H=o===null||o.memoizedState===null?Xe:Cn,nl=!1,P=y(S,T),nl=!1,Ju&&(P=px(c,y,S,T)),hx(o),P}function hx(o){ie.H=Ar;var c=An!==null&&An.next!==null;if(Js=0,rr=An=Vt=null,Xh=!1,Lr=0,Qu=null,c)throw Error(r(300));o===null||Wn||(o=o.dependencies,o!==null&&$h(o)&&(Wn=!0))}function px(o,c,y,S){Vt=o;var T=0;do{if(Ju&&(Qu=null),Lr=0,Ju=!1,25<=T)throw Error(r(301));if(T+=1,rr=An=null,o.updateQueue!=null){var P=o.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}ie.H=Vn,P=c(y,S)}while(Ju);return P}function OE(){var o=ie.H,c=o.useState()[0];return c=typeof c.then=="function"?Df(c):c,o=o.useState()[0],(An!==null?An.memoizedState:null)!==o&&(Vt.flags|=1024),c}function Zh(){var o=ts!==0;return ts=0,o}function Rm(o,c,y){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~y}function Tm(o){if(Xh){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Xh=!1}Js=0,rr=An=Vt=null,Ju=!1,Lr=ts=0,Qu=null}function ti(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?Vt.memoizedState=rr=o:rr=rr.next=o,rr}function ir(){if(An===null){var o=Vt.alternate;o=o!==null?o.memoizedState:null}else o=An.next;var c=rr===null?Vt.memoizedState:rr.next;if(c!==null)rr=c,An=o;else{if(o===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));An=o,o={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},rr===null?Vt.memoizedState=rr=o:rr=rr.next=o}return rr}function Nm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Df(o){var c=Lr;return Lr+=1,Qu===null&&(Qu=[]),o=ux(Qu,o,c),c=Vt,(rr===null?c.memoizedState:rr.next)===null&&(c=c.alternate,ie.H=c===null||c.memoizedState===null?Xe:Cn),o}function Pf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Df(o);if(o.$$typeof===I)return br(o)}throw Error(r(438,String(o)))}function rl(o){var c=null,y=Vt.updateQueue;if(y!==null&&(c=y.memoCache),c==null){var S=Vt.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(c={data:S.data.map(function(T){return T.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),y===null&&(y=Nm(),Vt.updateQueue=y),y.memoCache=c,y=c.data[c.index],y===void 0)for(y=c.data[c.index]=Array(o),S=0;S<o;S++)y[S]=te;return c.index++,y}function ns(o,c){return typeof c=="function"?c(o):c}function Jh(o){var c=ir();return _m(c,An,o)}function _m(o,c,y){var S=o.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=y;var T=o.baseQueue,P=S.pending;if(P!==null){if(T!==null){var $=T.next;T.next=P.next,P.next=$}c.baseQueue=T=P,S.pending=null}if(P=o.baseState,T===null)o.memoizedState=P;else{c=T.next;var Q=$=null,fe=null,Oe=c,ze=!1;do{var $e=Oe.lane&-536870913;if($e!==Oe.lane?(Qt&$e)===$e:(Js&$e)===$e){var Pe=Oe.revertLane;if(Pe===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),$e===Yu&&(ze=!0);else if((Js&Pe)===Pe){Oe=Oe.next,Pe===Yu&&(ze=!0);continue}else $e={lane:0,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},fe===null?(Q=fe=$e,$=P):fe=fe.next=$e,Vt.lanes|=Pe,Oo|=Pe;$e=Oe.action,nl&&y(P,$e),P=Oe.hasEagerState?Oe.eagerState:y(P,$e)}else Pe={lane:$e,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},fe===null?(Q=fe=Pe,$=P):fe=fe.next=Pe,Vt.lanes|=$e,Oo|=$e;Oe=Oe.next}while(Oe!==null&&Oe!==c);if(fe===null?$=P:fe.next=Q,!Jr(P,o.memoizedState)&&(Wn=!0,ze&&(y=Wu,y!==null)))throw y;o.memoizedState=P,o.baseState=$,o.baseQueue=fe,S.lastRenderedState=P}return T===null&&(S.lanes=0),[o.memoizedState,S.dispatch]}function Im(o){var c=ir(),y=c.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=o;var S=y.dispatch,T=y.pending,P=c.memoizedState;if(T!==null){y.pending=null;var $=T=T.next;do P=o(P,$.action),$=$.next;while($!==T);Jr(P,c.memoizedState)||(Wn=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),y.lastRenderedState=P}return[P,S]}function Om(o,c,y){var S=Vt,T=ir(),P=un;if(P){if(y===void 0)throw Error(r(407));y=y()}else y=c();var $=!Jr((An||T).memoizedState,y);$&&(T.memoizedState=y,Wn=!0),T=T.queue;var Q=DE.bind(null,S,T,o);if(Ur(2048,8,Q,[o]),T.getSnapshot!==c||$||rr!==null&&rr.memoizedState.tag&1){if(S.flags|=2048,is(9,os(),Mf.bind(null,S,T,y,c),null),Mn===null)throw Error(r(349));P||(Js&124)!==0||jt(S,c,y)}return y}function jt(o,c,y){o.flags|=16384,o={getSnapshot:c,value:y},c=Vt.updateQueue,c===null?(c=Nm(),Vt.updateQueue=c,c.stores=[o]):(y=c.stores,y===null?c.stores=[o]:y.push(o))}function Mf(o,c,y,S){c.value=y,c.getSnapshot=S,gx(c)&&PE(o)}function DE(o,c,y){return y(function(){gx(c)&&PE(o)})}function gx(o){var c=o.getSnapshot;o=o.value;try{var y=c();return!Jr(o,y)}catch{return!0}}function PE(o){var c=Bu(o,2);c!==null&&Je(c,o,2)}function Dm(o){var c=ti();if(typeof o=="function"){var y=o;if(o=y(),nl){tt(!0);try{y()}finally{tt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:o},c}function ve(o,c,y,S){return o.baseState=y,_m(o,An,typeof S=="function"?S:ns)}function Se(o,c,y,S,T){if(tc(o))throw Error(r(485));if(o=c.action,o!==null){var P={payload:T,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){P.listeners.push($)}};ie.T!==null?y(!0):P.isTransition=!1,S(P),y=c.pending,y===null?(P.next=c.pending=P,to(c,P)):(P.next=y.next,c.pending=y.next=P)}}function to(o,c){var y=c.action,S=c.payload,T=o.state;if(c.isTransition){var P=ie.T,$={};ie.T=$;try{var Q=y(T,S),fe=ie.S;fe!==null&&fe($,Q),Qh(o,c,Q)}catch(Oe){ni(o,c,Oe)}finally{ie.T=P}}else try{P=y(T,S),Qh(o,c,P)}catch(Oe){ni(o,c,Oe)}}function Qh(o,c,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(S){no(o,c,S)},function(S){return ni(o,c,S)}):no(o,c,y)}function no(o,c,y){c.status="fulfilled",c.value=y,ep(c),o.state=y,c=o.pending,c!==null&&(y=c.next,y===c?o.pending=null:(y=y.next,c.next=y,to(o,y)))}function ni(o,c,y){var S=o.pending;if(o.pending=null,S!==null){S=S.next;do c.status="rejected",c.reason=y,ep(c),c=c.next;while(c!==S)}o.action=null}function ep(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Pm(o,c){return c}function tp(o,c){if(un){var y=Mn.formState;if(y!==null){e:{var S=Vt;if(un){if(Yn){t:{for(var T=Yn,P=Qi;T.nodeType!==8;){if(!P){T=null;break t}if(T=li(T.nextSibling),T===null){T=null;break t}}P=T.data,T=P==="F!"||P==="F"?T:null}if(T){Yn=li(T.nextSibling),S=T.data==="F!";break e}}eo(S)}S=!1}S&&(c=y[0])}}return y=ti(),y.memoizedState=y.baseState=c,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:c},y.queue=S,y=So.bind(null,Vt,S),S.dispatch=y,S=Dm(!1),P=rp.bind(null,Vt,!1,S.queue),S=ti(),T={state:c,dispatch:null,action:o,pending:null},S.queue=T,y=Se.bind(null,Vt,T,P,y),T.dispatch=y,S.memoizedState=o,[c,y,!1]}function il(o){var c=ir();return ro(c,An,o)}function ro(o,c,y){if(c=_m(o,c,Pm)[0],o=Jh(ns)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var S=Df(c)}catch($){throw $===qu?_f:$}else S=c;c=ir();var T=c.queue,P=T.dispatch;return y!==c.memoizedState&&(Vt.flags|=2048,is(9,os(),Lf.bind(null,T,y),null)),[S,P,o]}function Lf(o,c){o.action=c}function rs(o){var c=ir(),y=An;if(y!==null)return ro(c,y,o);ir(),c=c.memoizedState,y=ir();var S=y.queue.dispatch;return y.memoizedState=o,[c,S,!1]}function is(o,c,y,S){return o={tag:o,create:y,deps:S,inst:c,next:null},c=Vt.updateQueue,c===null&&(c=Nm(),Vt.updateQueue=c),y=c.lastEffect,y===null?c.lastEffect=o.next=o:(S=y.next,y.next=o,o.next=S,c.lastEffect=o),o}function os(){return{destroy:void 0,resource:void 0}}function Sr(){return ir().memoizedState}function On(o,c,y,S){var T=ti();S=S===void 0?null:S,Vt.flags|=o,T.memoizedState=is(1|c,os(),y,S)}function Ur(o,c,y,S){var T=ir();S=S===void 0?null:S;var P=T.memoizedState.inst;An!==null&&S!==null&&Cm(S,An.memoizedState.deps)?T.memoizedState=is(c,P,y,S):(Vt.flags|=o,T.memoizedState=is(1|c,P,y,S))}function Mm(o,c){On(8390656,8,o,c)}function ec(o,c){Ur(2048,8,o,c)}function bi(o,c){return Ur(4,2,o,c)}function Gt(o,c){return Ur(4,4,o,c)}function Er(o,c){if(typeof c=="function"){o=o();var y=c(o);return function(){typeof y=="function"?y():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Lm(o,c,y){y=y!=null?y.concat([o]):null,Ur(4,4,Er.bind(null,c,o),y)}function np(){}function Fm(o,c){var y=ir();c=c===void 0?null:c;var S=y.memoizedState;return c!==null&&Cm(c,S[1])?S[0]:(y.memoizedState=[o,c],o)}function Qs(o,c){var y=ir();c=c===void 0?null:c;var S=y.memoizedState;if(c!==null&&Cm(c,S[1]))return S[0];if(S=o(),nl){tt(!0);try{o()}finally{tt(!1)}}return y.memoizedState=[S,c],S}function ri(o,c,y){return y===void 0||(Js&1073741824)!==0?o.memoizedState=c:(o.memoizedState=y,o=Lx(),Vt.lanes|=o,Oo|=o,y)}function Jt(o,c,y,S){return Jr(y,c)?y:Zs.current!==null?(o=ri(o,y,S),Jr(o,c)||(Wn=!0),o):(Js&42)===0?(Wn=!0,o.memoizedState=y):(o=Lx(),Vt.lanes|=o,Oo|=o,c)}function Ff(o,c,y,S,T){var P=we.p;we.p=P!==0&&8>P?P:8;var $=ie.T,Q={};ie.T=Q,rp(o,!1,c,y);try{var fe=T(),Oe=ie.S;if(Oe!==null&&Oe(Q,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var ze=_E(fe,S);Eo(o,c,ze,fr(o))}else Eo(o,c,S,fr(o))}catch($e){Eo(o,c,{then:function(){},status:"rejected",reason:$e},fr())}finally{we.p=P,ie.T=$}}function km(){}function ii(o,c,y,S){if(o.tag!==5)throw Error(r(476));var T=Bm(o).queue;Ff(o,T,c,de,y===null?km:function(){return mx(o),y(S)})}function Bm(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:de},next:null};var y={};return c.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:y},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function mx(o){var c=Bm(o).next.queue;Eo(o,c,{},fr())}function ea(){return br(bc)}function jm(){return ir().memoizedState}function vx(){return ir().memoizedState}function yx(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var y=fr();o=ei(y);var S=Xs(c,o,y);S!==null&&(Je(S,c,y),Xu(S,c,y)),c={cache:mm()},o.payload=c;return}c=c.return}}function io(o,c,y){var S=fr();y={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},tc(o)?zm(c,y):(y=kh(o,c,y,S),y!==null&&(Je(y,o,S),Vm(y,c,S)))}function So(o,c,y){var S=fr();Eo(o,c,y,S)}function Eo(o,c,y,S){var T={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(tc(o))zm(c,T);else{var P=o.alternate;if(o.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var $=c.lastRenderedState,Q=P($,y);if(T.hasEagerState=!0,T.eagerState=Q,Jr(Q,$))return Zo(o,c,T,0),Mn===null&&Fh(),!1}catch{}finally{}if(y=kh(o,c,T,S),y!==null)return Je(y,o,S),Vm(y,c,S),!0}return!1}function rp(o,c,y,S){if(S={lane:2,revertLane:Cp(),action:S,hasEagerState:!1,eagerState:null,next:null},tc(o)){if(c)throw Error(r(479))}else c=kh(o,y,S,2),c!==null&&Je(c,o,2)}function tc(o){var c=o.alternate;return o===Vt||c!==null&&c===Vt}function zm(o,c){Ju=Xh=!0;var y=o.pending;y===null?c.next=c:(c.next=y.next,y.next=c),o.pending=c}function Vm(o,c,y){if((y&4194048)!==0){var S=c.lanes;S&=o.pendingLanes,y|=S,c.lanes=y,an(o,y)}}var Ar={readContext:br,use:Pf,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useLayoutEffect:Jn,useInsertionEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useSyncExternalStore:Jn,useId:Jn,useHostTransitionStatus:Jn,useFormState:Jn,useActionState:Jn,useOptimistic:Jn,useMemoCache:Jn,useCacheRefresh:Jn},Xe={readContext:br,use:Pf,useCallback:function(o,c){return ti().memoizedState=[o,c===void 0?null:c],o},useContext:br,useEffect:Mm,useImperativeHandle:function(o,c,y){y=y!=null?y.concat([o]):null,On(4194308,4,Er.bind(null,c,o),y)},useLayoutEffect:function(o,c){return On(4194308,4,o,c)},useInsertionEffect:function(o,c){On(4,2,o,c)},useMemo:function(o,c){var y=ti();c=c===void 0?null:c;var S=o();if(nl){tt(!0);try{o()}finally{tt(!1)}}return y.memoizedState=[S,c],S},useReducer:function(o,c,y){var S=ti();if(y!==void 0){var T=y(c);if(nl){tt(!0);try{y(c)}finally{tt(!1)}}}else T=c;return S.memoizedState=S.baseState=T,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:T},S.queue=o,o=o.dispatch=io.bind(null,Vt,o),[S.memoizedState,o]},useRef:function(o){var c=ti();return o={current:o},c.memoizedState=o},useState:function(o){o=Dm(o);var c=o.queue,y=So.bind(null,Vt,c);return c.dispatch=y,[o.memoizedState,y]},useDebugValue:np,useDeferredValue:function(o,c){var y=ti();return ri(y,o,c)},useTransition:function(){var o=Dm(!1);return o=Ff.bind(null,Vt,o.queue,!0,!1),ti().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,y){var S=Vt,T=ti();if(un){if(y===void 0)throw Error(r(407));y=y()}else{if(y=c(),Mn===null)throw Error(r(349));(Qt&124)!==0||jt(S,c,y)}T.memoizedState=y;var P={value:y,getSnapshot:c};return T.queue=P,Mm(DE.bind(null,S,P,o),[o]),S.flags|=2048,is(9,os(),Mf.bind(null,S,P,y,c),null),y},useId:function(){var o=ti(),c=Mn.identifierPrefix;if(un){var y=qt,S=bo;y=(S&~(1<<32-at(S)-1)).toString(32)+y,c=""+c+"R"+y,y=ts++,0<y&&(c+="H"+y.toString(32)),c+=""}else y=IE++,c=""+c+"r"+y.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:ea,useFormState:tp,useActionState:tp,useOptimistic:function(o){var c=ti();c.memoizedState=c.baseState=o;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=y,c=rp.bind(null,Vt,!0,y),y.dispatch=c,[o,c]},useMemoCache:rl,useCacheRefresh:function(){return ti().memoizedState=yx.bind(null,Vt)}},Cn={readContext:br,use:Pf,useCallback:Fm,useContext:br,useEffect:ec,useImperativeHandle:Lm,useInsertionEffect:bi,useLayoutEffect:Gt,useMemo:Qs,useReducer:Jh,useRef:Sr,useState:function(){return Jh(ns)},useDebugValue:np,useDeferredValue:function(o,c){var y=ir();return Jt(y,An.memoizedState,o,c)},useTransition:function(){var o=Jh(ns)[0],c=ir().memoizedState;return[typeof o=="boolean"?o:Df(o),c]},useSyncExternalStore:Om,useId:jm,useHostTransitionStatus:ea,useFormState:il,useActionState:il,useOptimistic:function(o,c){var y=ir();return ve(y,An,o,c)},useMemoCache:rl,useCacheRefresh:vx},Vn={readContext:br,use:Pf,useCallback:Fm,useContext:br,useEffect:ec,useImperativeHandle:Lm,useInsertionEffect:bi,useLayoutEffect:Gt,useMemo:Qs,useReducer:Im,useRef:Sr,useState:function(){return Im(ns)},useDebugValue:np,useDeferredValue:function(o,c){var y=ir();return An===null?ri(y,o,c):Jt(y,An.memoizedState,o,c)},useTransition:function(){var o=Im(ns)[0],c=ir().memoizedState;return[typeof o=="boolean"?o:Df(o),c]},useSyncExternalStore:Om,useId:jm,useHostTransitionStatus:ea,useFormState:rs,useActionState:rs,useOptimistic:function(o,c){var y=ir();return An!==null?ve(y,An,o,c):(y.baseState=o,[o,y.queue.dispatch])},useMemoCache:rl,useCacheRefresh:vx},ss=null,as=0;function ar(o){var c=as;return as+=1,ss===null&&(ss=[]),ux(ss,o,c)}function ki(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Si(o,c){throw c.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function ta(o){var c=o._init;return c(o._payload)}function Bi(o){function c(Ce,be){if(o){var _e=Ce.deletions;_e===null?(Ce.deletions=[be],Ce.flags|=16):_e.push(be)}}function y(Ce,be){if(!o)return null;for(;be!==null;)c(Ce,be),be=be.sibling;return null}function S(Ce){for(var be=new Map;Ce!==null;)Ce.key!==null?be.set(Ce.key,Ce):be.set(Ce.index,Ce),Ce=Ce.sibling;return be}function T(Ce,be){return Ce=Fi(Ce,be),Ce.index=0,Ce.sibling=null,Ce}function P(Ce,be,_e){return Ce.index=_e,o?(_e=Ce.alternate,_e!==null?(_e=_e.index,_e<be?(Ce.flags|=67108866,be):_e):(Ce.flags|=67108866,be)):(Ce.flags|=1048576,be)}function $(Ce){return o&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function Q(Ce,be,_e,Ge){return be===null||be.tag!==6?(be=um(_e,Ce.mode,Ge),be.return=Ce,be):(be=T(be,_e),be.return=Ce,be)}function fe(Ce,be,_e,Ge){var lt=_e.type;return lt===A?ze(Ce,be,_e.props.children,Ge,_e.key):be!==null&&(be.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===B&&ta(lt)===be.type)?(be=T(be,_e.props),ki(be,_e),be.return=Ce,be):(be=jh(_e.type,_e.key,_e.props,null,Ce.mode,Ge),ki(be,_e),be.return=Ce,be)}function Oe(Ce,be,_e,Ge){return be===null||be.tag!==4||be.stateNode.containerInfo!==_e.containerInfo||be.stateNode.implementation!==_e.implementation?(be=cm(_e,Ce.mode,Ge),be.return=Ce,be):(be=T(be,_e.children||[]),be.return=Ce,be)}function ze(Ce,be,_e,Ge,lt){return be===null||be.tag!==7?(be=$s(_e,Ce.mode,Ge,lt),be.return=Ce,be):(be=T(be,_e),be.return=Ce,be)}function $e(Ce,be,_e){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=um(""+be,Ce.mode,_e),be.return=Ce,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case x:return _e=jh(be.type,be.key,be.props,null,Ce.mode,_e),ki(_e,be),_e.return=Ce,_e;case b:return be=cm(be,Ce.mode,_e),be.return=Ce,be;case B:var Ge=be._init;return be=Ge(be._payload),$e(Ce,be,_e)}if(Me(be)||se(be))return be=$s(be,Ce.mode,_e,null),be.return=Ce,be;if(typeof be.then=="function")return $e(Ce,ar(be),_e);if(be.$$typeof===I)return $e(Ce,Gu(Ce,be),_e);Si(Ce,be)}return null}function Pe(Ce,be,_e,Ge){var lt=be!==null?be.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return lt!==null?null:Q(Ce,be,""+_e,Ge);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case x:return _e.key===lt?fe(Ce,be,_e,Ge):null;case b:return _e.key===lt?Oe(Ce,be,_e,Ge):null;case B:return lt=_e._init,_e=lt(_e._payload),Pe(Ce,be,_e,Ge)}if(Me(_e)||se(_e))return lt!==null?null:ze(Ce,be,_e,Ge,null);if(typeof _e.then=="function")return Pe(Ce,be,ar(_e),Ge);if(_e.$$typeof===I)return Pe(Ce,be,Gu(Ce,_e),Ge);Si(Ce,_e)}return null}function Le(Ce,be,_e,Ge,lt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ce=Ce.get(_e)||null,Q(be,Ce,""+Ge,lt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case x:return Ce=Ce.get(Ge.key===null?_e:Ge.key)||null,fe(be,Ce,Ge,lt);case b:return Ce=Ce.get(Ge.key===null?_e:Ge.key)||null,Oe(be,Ce,Ge,lt);case B:var Xt=Ge._init;return Ge=Xt(Ge._payload),Le(Ce,be,_e,Ge,lt)}if(Me(Ge)||se(Ge))return Ce=Ce.get(_e)||null,ze(be,Ce,Ge,lt,null);if(typeof Ge.then=="function")return Le(Ce,be,_e,ar(Ge),lt);if(Ge.$$typeof===I)return Le(Ce,be,_e,Gu(be,Ge),lt);Si(be,Ge)}return null}function Ot(Ce,be,_e,Ge){for(var lt=null,Xt=null,xt=be,Tt=be=0,Br=null;xt!==null&&Tt<_e.length;Tt++){xt.index>Tt?(Br=xt,xt=null):Br=xt.sibling;var hn=Pe(Ce,xt,_e[Tt],Ge);if(hn===null){xt===null&&(xt=Br);break}o&&xt&&hn.alternate===null&&c(Ce,xt),be=P(hn,be,Tt),Xt===null?lt=hn:Xt.sibling=hn,Xt=hn,xt=Br}if(Tt===_e.length)return y(Ce,xt),un&&Qa(Ce,Tt),lt;if(xt===null){for(;Tt<_e.length;Tt++)xt=$e(Ce,_e[Tt],Ge),xt!==null&&(be=P(xt,be,Tt),Xt===null?lt=xt:Xt.sibling=xt,Xt=xt);return un&&Qa(Ce,Tt),lt}for(xt=S(xt);Tt<_e.length;Tt++)Br=Le(xt,Ce,Tt,_e[Tt],Ge),Br!==null&&(o&&Br.alternate!==null&&xt.delete(Br.key===null?Tt:Br.key),be=P(Br,be,Tt),Xt===null?lt=Br:Xt.sibling=Br,Xt=Br);return o&&xt.forEach(function(wc){return c(Ce,wc)}),un&&Qa(Ce,Tt),lt}function Ct(Ce,be,_e,Ge){if(_e==null)throw Error(r(151));for(var lt=null,Xt=null,xt=be,Tt=be=0,Br=null,hn=_e.next();xt!==null&&!hn.done;Tt++,hn=_e.next()){xt.index>Tt?(Br=xt,xt=null):Br=xt.sibling;var wc=Pe(Ce,xt,hn.value,Ge);if(wc===null){xt===null&&(xt=Br);break}o&&xt&&wc.alternate===null&&c(Ce,xt),be=P(wc,be,Tt),Xt===null?lt=wc:Xt.sibling=wc,Xt=wc,xt=Br}if(hn.done)return y(Ce,xt),un&&Qa(Ce,Tt),lt;if(xt===null){for(;!hn.done;Tt++,hn=_e.next())hn=$e(Ce,hn.value,Ge),hn!==null&&(be=P(hn,be,Tt),Xt===null?lt=hn:Xt.sibling=hn,Xt=hn);return un&&Qa(Ce,Tt),lt}for(xt=S(xt);!hn.done;Tt++,hn=_e.next())hn=Le(xt,Ce,Tt,hn.value,Ge),hn!==null&&(o&&hn.alternate!==null&&xt.delete(hn.key===null?Tt:hn.key),be=P(hn,be,Tt),Xt===null?lt=hn:Xt.sibling=hn,Xt=hn);return o&&xt.forEach(function(bB){return c(Ce,bB)}),un&&Qa(Ce,Tt),lt}function Ln(Ce,be,_e,Ge){if(typeof _e=="object"&&_e!==null&&_e.type===A&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case x:e:{for(var lt=_e.key;be!==null;){if(be.key===lt){if(lt=_e.type,lt===A){if(be.tag===7){y(Ce,be.sibling),Ge=T(be,_e.props.children),Ge.return=Ce,Ce=Ge;break e}}else if(be.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===B&&ta(lt)===be.type){y(Ce,be.sibling),Ge=T(be,_e.props),ki(Ge,_e),Ge.return=Ce,Ce=Ge;break e}y(Ce,be);break}else c(Ce,be);be=be.sibling}_e.type===A?(Ge=$s(_e.props.children,Ce.mode,Ge,_e.key),Ge.return=Ce,Ce=Ge):(Ge=jh(_e.type,_e.key,_e.props,null,Ce.mode,Ge),ki(Ge,_e),Ge.return=Ce,Ce=Ge)}return $(Ce);case b:e:{for(lt=_e.key;be!==null;){if(be.key===lt)if(be.tag===4&&be.stateNode.containerInfo===_e.containerInfo&&be.stateNode.implementation===_e.implementation){y(Ce,be.sibling),Ge=T(be,_e.children||[]),Ge.return=Ce,Ce=Ge;break e}else{y(Ce,be);break}else c(Ce,be);be=be.sibling}Ge=cm(_e,Ce.mode,Ge),Ge.return=Ce,Ce=Ge}return $(Ce);case B:return lt=_e._init,_e=lt(_e._payload),Ln(Ce,be,_e,Ge)}if(Me(_e))return Ot(Ce,be,_e,Ge);if(se(_e)){if(lt=se(_e),typeof lt!="function")throw Error(r(150));return _e=lt.call(_e),Ct(Ce,be,_e,Ge)}if(typeof _e.then=="function")return Ln(Ce,be,ar(_e),Ge);if(_e.$$typeof===I)return Ln(Ce,be,Gu(Ce,_e),Ge);Si(Ce,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,be!==null&&be.tag===6?(y(Ce,be.sibling),Ge=T(be,_e),Ge.return=Ce,Ce=Ge):(y(Ce,be),Ge=um(_e,Ce.mode,Ge),Ge.return=Ce,Ce=Ge),$(Ce)):y(Ce,be)}return function(Ce,be,_e,Ge){try{as=0;var lt=Ln(Ce,be,_e,Ge);return ss=null,lt}catch(xt){if(xt===qu||xt===_f)throw xt;var Xt=Mr(29,xt,null,Ce.mode);return Xt.lanes=Ge,Xt.return=Ce,Xt}finally{}}}var nc=Bi(!0),xx=Bi(!1),ji=ne(null),oo=null;function na(o){var c=o.alternate;j(wn,wn.current&1),j(ji,o),oo===null&&(c===null||Zs.current!==null||c.memoizedState!==null)&&(oo=o)}function Um(o){if(o.tag===22){if(j(wn,wn.current),j(ji,o),oo===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(oo=o)}}else kn()}function kn(){j(wn,wn.current),j(ji,ji.current)}function Gr(o){he(ji),oo===o&&(oo=null),he(wn)}var wn=ne(0);function ip(o){for(var c=o;c!==null;){if(c.tag===13){var y=c.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||Pp(y)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function lr(o,c,y,S){c=o.memoizedState,y=y(S,c),y=y==null?c:p({},c,y),o.memoizedState=y,o.lanes===0&&(o.updateQueue.baseState=y)}var Ao={enqueueSetState:function(o,c,y){o=o._reactInternals;var S=fr(),T=ei(S);T.payload=c,y!=null&&(T.callback=y),c=Xs(o,T,S),c!==null&&(Je(c,o,S),Xu(c,o,S))},enqueueReplaceState:function(o,c,y){o=o._reactInternals;var S=fr(),T=ei(S);T.tag=1,T.payload=c,y!=null&&(T.callback=y),c=Xs(o,T,S),c!==null&&(Je(c,o,S),Xu(c,o,S))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var y=fr(),S=ei(y);S.tag=2,c!=null&&(S.callback=c),c=Xs(o,S,y),c!==null&&(Je(c,o,y),Xu(c,o,y))}};function ol(o,c,y,S,T,P,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(S,P,$):c.prototype&&c.prototype.isPureReactComponent?!xf(y,S)||!xf(T,P):!0}function ls(o,c,y,S){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(y,S),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(y,S),c.state!==o&&Ao.enqueueReplaceState(c,c.state,null)}function $r(o,c){var y=c;if("ref"in c){y={};for(var S in c)S!=="ref"&&(y[S]=c[S])}if(o=o.defaultProps){y===c&&(y=p({},y));for(var T in o)y[T]===void 0&&(y[T]=o[T])}return y}var oi=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Gm(o){oi(o)}function sl(o){console.error(o)}function Co(o){oi(o)}function ra(o,c){try{var y=o.onUncaughtError;y(c.value,{componentStack:c.stack})}catch(S){setTimeout(function(){throw S})}}function Hr(o,c,y){try{var S=o.onCaughtError;S(y.value,{componentStack:y.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function wo(o,c,y){return y=ei(y),y.tag=3,y.payload={element:null},y.callback=function(){ra(o,c)},y}function rc(o){return o=ei(o),o.tag=3,o}function bx(o,c,y,S){var T=y.type.getDerivedStateFromError;if(typeof T=="function"){var P=S.value;o.payload=function(){return T(P)},o.callback=function(){Hr(c,y,S)}}var $=y.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(o.callback=function(){Hr(c,y,S),typeof T!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var Q=S.stack;this.componentDidCatch(S.value,{componentStack:Q!==null?Q:""})})}function ME(o,c,y,S,T){if(y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(c=y.alternate,c!==null&&Rf(c,y,T,!0),y=ji.current,y!==null){switch(y.tag){case 13:return oo===null?rn():y.alternate===null&&Un===0&&(Un=3),y.flags&=-257,y.flags|=65536,y.lanes=T,S===Yh?y.flags|=16384:(c=y.updateQueue,c===null?y.updateQueue=new Set([S]):c.add(S),c0(o,S,T)),!1;case 22:return y.flags|=65536,S===Yh?y.flags|=16384:(c=y.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([S])},y.updateQueue=c):(y=c.retryQueue,y===null?c.retryQueue=new Set([S]):y.add(S)),c0(o,S,T)),!1}throw Error(r(435,y.tag))}return c0(o,S,T),rn(),!1}if(un)return c=ji.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=T,S!==dm&&(o=Error(r(422),{cause:S}),wf(Li(o,y)))):(S!==dm&&(c=Error(r(423),{cause:S}),wf(Li(c,y))),o=o.current.alternate,o.flags|=65536,T&=-T,o.lanes|=T,S=Li(S,y),T=wo(o.stateNode,S,T),Sm(o,T),Un!==4&&(Un=2)),!1;var P=Error(r(520),{cause:S});if(P=Li(P,y),fc===null?fc=[P]:fc.push(P),Un!==4&&(Un=2),c===null)return!0;S=Li(S,y),y=c;do{switch(y.tag){case 3:return y.flags|=65536,o=T&-T,y.lanes|=o,o=wo(y.stateNode,S,o),Sm(y,o),!1;case 1:if(c=y.type,P=y.stateNode,(y.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(uo===null||!uo.has(P))))return y.flags|=65536,T&=-T,y.lanes|=T,T=rc(T),bx(T,o,y,S),Sm(y,T),!1}y=y.return}while(y!==null);return!1}var so=Error(r(461)),Wn=!1;function Cr(o,c,y,S){c.child=o===null?xx(c,null,y,S):nc(c,o.child,y,S)}function Sx(o,c,y,S,T){y=y.render;var P=c.ref;if("ref"in S){var $={};for(var Q in S)Q!=="ref"&&($[Q]=S[Q])}else $=S;return qs(c),S=wm(o,c,y,$,P,T),Q=Zh(),o!==null&&!Wn?(Rm(o,c,T),us(o,c,T)):(un&&Q&&fm(c),c.flags|=1,Cr(o,c,S,T),c.child)}function qn(o,c,y,S,T){if(o===null){var P=y.type;return typeof P=="function"&&!Ef(P)&&P.defaultProps===void 0&&y.compare===null?(c.tag=15,c.type=P,$m(o,c,P,S,T)):(o=jh(y.type,null,S,c,c.mode,T),o.ref=c.ref,o.return=c,c.child=o)}if(P=o.child,!ia(o,T)){var $=P.memoizedProps;if(y=y.compare,y=y!==null?y:xf,y($,S)&&o.ref===c.ref)return us(o,c,T)}return c.flags|=1,o=Fi(P,S),o.ref=c.ref,o.return=c,c.child=o}function $m(o,c,y,S,T){if(o!==null){var P=o.memoizedProps;if(xf(P,S)&&o.ref===c.ref)if(Wn=!1,c.pendingProps=S=P,ia(o,T))(o.flags&131072)!==0&&(Wn=!0);else return c.lanes=o.lanes,us(o,c,T)}return op(o,c,y,S,T)}function Hm(o,c,y){var S=c.pendingProps,T=S.children,P=o!==null?o.memoizedState:null;if(S.mode==="hidden"){if((c.flags&128)!==0){if(S=P!==null?P.baseLanes|y:y,o!==null){for(T=c.child=o.child,P=0;T!==null;)P=P|T.lanes|T.childLanes,T=T.sibling;c.childLanes=P&~S}else c.childLanes=0,c.child=null;return kf(o,c,S,y)}if((y&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Nf(c,P!==null?P.cachePool:null),P!==null?dx(c,P):Em(),Um(c);else return c.lanes=c.childLanes=536870912,kf(o,c,P!==null?P.baseLanes|y:y,y)}else P!==null?(Nf(c,P.cachePool),dx(c,P),kn(),c.memoizedState=null):(o!==null&&Nf(c,null),Em(),kn());return Cr(o,c,T,y),c.child}function kf(o,c,y,S){var T=Hh();return T=T===null?null:{parent:nr._currentValue,pool:T},c.memoizedState={baseLanes:y,cachePool:T},o!==null&&Nf(c,null),Em(),Um(c),o!==null&&Rf(o,c,S,!0),null}function ic(o,c){var y=c.ref;if(y===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(o===null||o.ref!==y)&&(c.flags|=4194816)}}function op(o,c,y,S,T){return qs(c),y=wm(o,c,y,S,void 0,T),S=Zh(),o!==null&&!Wn?(Rm(o,c,T),us(o,c,T)):(un&&S&&fm(c),c.flags|=1,Cr(o,c,y,T),c.child)}function Ex(o,c,y,S,T,P){return qs(c),c.updateQueue=null,y=px(c,S,y,T),hx(o),S=Zh(),o!==null&&!Wn?(Rm(o,c,P),us(o,c,P)):(un&&S&&fm(c),c.flags|=1,Cr(o,c,y,P),c.child)}function Ax(o,c,y,S,T){if(qs(c),c.stateNode===null){var P=ju,$=y.contextType;typeof $=="object"&&$!==null&&(P=br($)),P=new y(S,P),c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=Ao,c.stateNode=P,P._reactInternals=c,P=c.stateNode,P.props=S,P.state=c.memoizedState,P.refs={},bm(c),$=y.contextType,P.context=typeof $=="object"&&$!==null?br($):ju,P.state=c.memoizedState,$=y.getDerivedStateFromProps,typeof $=="function"&&(lr(c,y,$,S),P.state=c.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||($=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),$!==P.state&&Ao.enqueueReplaceState(P,P.state,null),Of(c,S,P,T),If(),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308),S=!0}else if(o===null){P=c.stateNode;var Q=c.memoizedProps,fe=$r(y,Q);P.props=fe;var Oe=P.context,ze=y.contextType;$=ju,typeof ze=="object"&&ze!==null&&($=br(ze));var $e=y.getDerivedStateFromProps;ze=typeof $e=="function"||typeof P.getSnapshotBeforeUpdate=="function",Q=c.pendingProps!==Q,ze||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Q||Oe!==$)&&ls(c,P,S,$),es=!1;var Pe=c.memoizedState;P.state=Pe,Of(c,S,P,T),If(),Oe=c.memoizedState,Q||Pe!==Oe||es?(typeof $e=="function"&&(lr(c,y,$e,S),Oe=c.memoizedState),(fe=es||ol(c,y,fe,S,Pe,Oe,$))?(ze||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(c.flags|=4194308)):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=S,c.memoizedState=Oe),P.props=S,P.state=Oe,P.context=$,S=fe):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),S=!1)}else{P=c.stateNode,qh(o,c),$=c.memoizedProps,ze=$r(y,$),P.props=ze,$e=c.pendingProps,Pe=P.context,Oe=y.contextType,fe=ju,typeof Oe=="object"&&Oe!==null&&(fe=br(Oe)),Q=y.getDerivedStateFromProps,(Oe=typeof Q=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==$e||Pe!==fe)&&ls(c,P,S,fe),es=!1,Pe=c.memoizedState,P.state=Pe,Of(c,S,P,T),If();var Le=c.memoizedState;$!==$e||Pe!==Le||es||o!==null&&o.dependencies!==null&&$h(o.dependencies)?(typeof Q=="function"&&(lr(c,y,Q,S),Le=c.memoizedState),(ze=es||ol(c,y,ze,S,Pe,Le,fe)||o!==null&&o.dependencies!==null&&$h(o.dependencies))?(Oe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(S,Le,fe),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(S,Le,fe)),typeof P.componentDidUpdate=="function"&&(c.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof P.componentDidUpdate!="function"||$===o.memoizedProps&&Pe===o.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&Pe===o.memoizedState||(c.flags|=1024),c.memoizedProps=S,c.memoizedState=Le),P.props=S,P.state=Le,P.context=fe,S=ze):(typeof P.componentDidUpdate!="function"||$===o.memoizedProps&&Pe===o.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&Pe===o.memoizedState||(c.flags|=1024),S=!1)}return P=S,ic(o,c),S=(c.flags&128)!==0,P||S?(P=c.stateNode,y=S&&typeof y.getDerivedStateFromError!="function"?null:P.render(),c.flags|=1,o!==null&&S?(c.child=nc(c,o.child,null,T),c.child=nc(c,null,y,T)):Cr(o,c,y,T),c.memoizedState=P.state,o=c.child):o=us(o,c,T),o}function zi(o,c,y,S){return Uu(),c.flags|=256,Cr(o,c,y,S),c.child}var ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yr(o){return{baseLanes:o,cachePool:ax()}}function Bf(o,c,y){return o=o!==null?o.childLanes&~y:0,c&&(o|=Ui),o}function sp(o,c,y){var S=c.pendingProps,T=!1,P=(c.flags&128)!==0,$;if(($=P)||($=o!==null&&o.memoizedState===null?!1:(wn.current&2)!==0),$&&(T=!0,c.flags&=-129),$=(c.flags&32)!==0,c.flags&=-33,o===null){if(un){if(T?na(c):kn(),un){var Q=Yn,fe;if(fe=Q){e:{for(fe=Q,Q=Qi;fe.nodeType!==8;){if(!Q){Q=null;break e}if(fe=li(fe.nextSibling),fe===null){Q=null;break e}}Q=fe}Q!==null?(c.memoizedState={dehydrated:Q,treeContext:Hs!==null?{id:bo,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},fe=Mr(18,null,null,0),fe.stateNode=Q,fe.return=c,c.child=fe,Vr=c,Yn=null,fe=!0):fe=!1}fe||eo(c)}if(Q=c.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return Pp(Q)?c.lanes=32:c.lanes=536870912,null;Gr(c)}return Q=S.children,S=S.fallback,T?(kn(),T=c.mode,Q=Fr({mode:"hidden",children:Q},T),S=$s(S,T,y,null),Q.return=c,S.return=c,Q.sibling=S,c.child=Q,T=c.child,T.memoizedState=Yr(y),T.childLanes=Bf(o,$,y),c.memoizedState=ur,S):(na(c),ap(c,Q))}if(fe=o.memoizedState,fe!==null&&(Q=fe.dehydrated,Q!==null)){if(P)c.flags&256?(na(c),c.flags&=-257,c=al(o,c,y)):c.memoizedState!==null?(kn(),c.child=o.child,c.flags|=128,c=null):(kn(),T=S.fallback,Q=c.mode,S=Fr({mode:"visible",children:S.children},Q),T=$s(T,Q,y,null),T.flags|=2,S.return=c,T.return=c,S.sibling=T,c.child=S,nc(c,o.child,null,y),S=c.child,S.memoizedState=Yr(y),S.childLanes=Bf(o,$,y),c.memoizedState=ur,c=T);else if(na(c),Pp(Q)){if($=Q.nextSibling&&Q.nextSibling.dataset,$)var Oe=$.dgst;$=Oe,S=Error(r(419)),S.stack="",S.digest=$,wf({value:S,source:null,stack:null}),c=al(o,c,y)}else if(Wn||Rf(o,c,y,!1),$=(y&o.childLanes)!==0,Wn||$){if($=Mn,$!==null&&(S=y&-y,S=(S&42)!==0?1:Zt(S),S=(S&($.suspendedLanes|y))!==0?0:S,S!==0&&S!==fe.retryLane))throw fe.retryLane=S,Bu(o,S),Je($,o,S),so;Q.data==="$?"||rn(),c=al(o,c,y)}else Q.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=fe.treeContext,Yn=li(Q.nextSibling),Vr=c,un=!0,Ys=null,Qi=!1,o!==null&&(xi[Qr++]=bo,xi[Qr++]=qt,xi[Qr++]=Hs,bo=o.id,qt=o.overflow,Hs=c),c=ap(c,S.children),c.flags|=4096);return c}return T?(kn(),T=S.fallback,Q=c.mode,fe=o.child,Oe=fe.sibling,S=Fi(fe,{mode:"hidden",children:S.children}),S.subtreeFlags=fe.subtreeFlags&65011712,Oe!==null?T=Fi(Oe,T):(T=$s(T,Q,y,null),T.flags|=2),T.return=c,S.return=c,S.sibling=T,c.child=S,S=T,T=c.child,Q=o.child.memoizedState,Q===null?Q=Yr(y):(fe=Q.cachePool,fe!==null?(Oe=nr._currentValue,fe=fe.parent!==Oe?{parent:Oe,pool:Oe}:fe):fe=ax(),Q={baseLanes:Q.baseLanes|y,cachePool:fe}),T.memoizedState=Q,T.childLanes=Bf(o,$,y),c.memoizedState=ur,S):(na(c),y=o.child,o=y.sibling,y=Fi(y,{mode:"visible",children:S.children}),y.return=c,y.sibling=null,o!==null&&($=c.deletions,$===null?(c.deletions=[o],c.flags|=16):$.push(o)),c.child=y,c.memoizedState=null,y)}function ap(o,c){return c=Fr({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Fr(o,c){return o=Mr(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function al(o,c,y){return nc(c,o.child,null,y),o=ap(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function ll(o,c,y){o.lanes|=c;var S=o.alternate;S!==null&&(S.lanes|=c),pm(o.return,c,y)}function lp(o,c,y,S,T){var P=o.memoizedState;P===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:T}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=S,P.tail=y,P.tailMode=T)}function Vi(o,c,y){var S=c.pendingProps,T=S.revealOrder,P=S.tail;if(Cr(o,c,S.children,y),S=wn.current,(S&2)!==0)S=S&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ll(o,y,c);else if(o.tag===19)ll(o,y,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}S&=1}switch(j(wn,S),T){case"forwards":for(y=c.child,T=null;y!==null;)o=y.alternate,o!==null&&ip(o)===null&&(T=y),y=y.sibling;y=T,y===null?(T=c.child,c.child=null):(T=y.sibling,y.sibling=null),lp(c,!1,T,y,P);break;case"backwards":for(y=null,T=c.child,c.child=null;T!==null;){if(o=T.alternate,o!==null&&ip(o)===null){c.child=T;break}o=T.sibling,T.sibling=y,y=T,T=o}lp(c,!0,y,null,P);break;case"together":lp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function us(o,c,y){if(o!==null&&(c.dependencies=o.dependencies),Oo|=c.lanes,(y&c.childLanes)===0)if(o!==null){if(Rf(o,c,y,!1),(y&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,y=Fi(o,o.pendingProps),c.child=y,y.return=c;o.sibling!==null;)o=o.sibling,y=y.sibling=Fi(o,o.pendingProps),y.return=c;y.sibling=null}return c.child}function ia(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&$h(o)))}function up(o,c,y){switch(c.tag){case 3:X(c,c.stateNode.containerInfo),Ws(c,nr,o.memoizedState.cache),Uu();break;case 27:case 5:oe(c);break;case 4:X(c,c.stateNode.containerInfo);break;case 10:Ws(c,c.type,c.memoizedProps.value);break;case 13:var S=c.memoizedState;if(S!==null)return S.dehydrated!==null?(na(c),c.flags|=128,null):(y&c.child.childLanes)!==0?sp(o,c,y):(na(c),o=us(o,c,y),o!==null?o.sibling:null);na(c);break;case 19:var T=(o.flags&128)!==0;if(S=(y&c.childLanes)!==0,S||(Rf(o,c,y,!1),S=(y&c.childLanes)!==0),T){if(S)return Vi(o,c,y);c.flags|=128}if(T=c.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),j(wn,wn.current),S)break;return null;case 22:case 23:return c.lanes=0,Hm(o,c,y);case 24:Ws(c,nr,o.memoizedState.cache)}return us(o,c,y)}function ul(o,c,y){if(o!==null)if(o.memoizedProps!==c.pendingProps)Wn=!0;else{if(!ia(o,y)&&(c.flags&128)===0)return Wn=!1,up(o,c,y);Wn=(o.flags&131072)!==0}else Wn=!1,un&&(c.flags&1048576)!==0&&rx(c,Vh,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var S=c.elementType,T=S._init;if(S=T(S._payload),c.type=S,typeof S=="function")Ef(S)?(o=$r(S,o),c.tag=1,c=Ax(null,c,S,o,y)):(c.tag=0,c=op(null,c,S,o,y));else{if(S!=null){if(T=S.$$typeof,T===D){c.tag=11,c=Sx(null,c,S,o,y);break e}else if(T===V){c.tag=14,c=qn(null,c,S,o,y);break e}}throw c=ke(S)||S,Error(r(306,c,""))}}return c;case 0:return op(o,c,c.type,c.pendingProps,y);case 1:return S=c.type,T=$r(S,c.pendingProps),Ax(o,c,S,T,y);case 3:e:{if(X(c,c.stateNode.containerInfo),o===null)throw Error(r(387));S=c.pendingProps;var P=c.memoizedState;T=P.element,qh(o,c),Of(c,S,null,y);var $=c.memoizedState;if(S=$.cache,Ws(c,nr,S),S!==P.cache&&Gh(c,[nr],y,!0),If(),S=$.element,P.isDehydrated)if(P={element:S,isDehydrated:!1,cache:$.cache},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){c=zi(o,c,S,y);break e}else if(S!==T){T=Li(Error(r(424)),c),wf(T),c=zi(o,c,S,y);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Yn=li(o.firstChild),Vr=c,un=!0,Ys=null,Qi=!0,y=xx(c,null,S,y),c.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(Uu(),S===T){c=us(o,c,y);break e}Cr(o,c,S,y)}c=c.child}return c;case 26:return ic(o,c),o===null?(y=E(c.type,null,c.pendingProps,null))?c.memoizedState=y:un||(y=c.type,o=c.pendingProps,S=Op(Y.current).createElement(y),S[ln]=c,S[Mt]=o,Rr(S,y,o),tr(S),c.stateNode=S):c.memoizedState=E(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return oe(c),o===null&&un&&(S=c.stateNode=Zx(c.type,c.pendingProps,Y.current),Vr=c,Qi=!0,T=Yn,bs(c.type)?(y0=T,Yn=li(S.firstChild)):Yn=T),Cr(o,c,c.pendingProps.children,y),ic(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&un&&((T=S=Yn)&&(S=JE(S,c.type,c.pendingProps,Qi),S!==null?(c.stateNode=S,Vr=c,Yn=li(S.firstChild),Qi=!1,T=!0):T=!1),T||eo(c)),oe(c),T=c.type,P=c.pendingProps,$=o!==null?o.memoizedProps:null,S=P.children,vc(T,P)?S=null:$!==null&&vc(T,$)&&(c.flags|=32),c.memoizedState!==null&&(T=wm(o,c,OE,null,null,y),bc._currentValue=T),ic(o,c),Cr(o,c,S,y),c.child;case 6:return o===null&&un&&((o=y=Yn)&&(y=QE(y,c.pendingProps,Qi),y!==null?(c.stateNode=y,Vr=c,Yn=null,o=!0):o=!1),o||eo(c)),null;case 13:return sp(o,c,y);case 4:return X(c,c.stateNode.containerInfo),S=c.pendingProps,o===null?c.child=nc(c,null,S,y):Cr(o,c,S,y),c.child;case 11:return Sx(o,c,c.type,c.pendingProps,y);case 7:return Cr(o,c,c.pendingProps,y),c.child;case 8:return Cr(o,c,c.pendingProps.children,y),c.child;case 12:return Cr(o,c,c.pendingProps.children,y),c.child;case 10:return S=c.pendingProps,Ws(c,c.type,S.value),Cr(o,c,S.children,y),c.child;case 9:return T=c.type._context,S=c.pendingProps.children,qs(c),T=br(T),S=S(T),c.flags|=1,Cr(o,c,S,y),c.child;case 14:return qn(o,c,c.type,c.pendingProps,y);case 15:return $m(o,c,c.type,c.pendingProps,y);case 19:return Vi(o,c,y);case 31:return S=c.pendingProps,y=c.mode,S={mode:S.mode,children:S.children},o===null?(y=Fr(S,y),y.ref=c.ref,c.child=y,y.return=c,c=y):(y=Fi(o.child,S),y.ref=c.ref,c.child=y,y.return=c,c=y),c;case 22:return Hm(o,c,y);case 24:return qs(c),S=br(nr),o===null?(T=Hh(),T===null&&(T=Mn,P=mm(),T.pooledCache=P,P.refCount++,P!==null&&(T.pooledCacheLanes|=y),T=P),c.memoizedState={parent:S,cache:T},bm(c),Ws(c,nr,T)):((o.lanes&y)!==0&&(qh(o,c),Of(c,null,null,y),If()),T=o.memoizedState,P=c.memoizedState,T.parent!==S?(T={parent:S,cache:S},c.memoizedState=T,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=T),Ws(c,nr,S)):(S=P.cache,Ws(c,nr,S),S!==T.cache&&Gh(c,[nr],y,!0))),Cr(o,c,c.pendingProps.children,y),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function cs(o){o.flags|=4}function Ym(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Dn(c)){if(c=ji.current,c!==null&&((Qt&4194048)===Qt?oo!==null:(Qt&62914560)!==Qt&&(Qt&536870912)===0||c!==oo))throw Ku=Yh,lx;o.flags|=8192}}function Ei(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Fn():536870912,o.lanes|=c,cc|=c)}function mr(o,c){if(!un)switch(o.tailMode){case"hidden":c=o.tail;for(var y=null;c!==null;)c.alternate!==null&&(y=c),c=c.sibling;y===null?o.tail=null:y.sibling=null;break;case"collapsed":y=o.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:S.sibling=null}}function Rn(o){var c=o.alternate!==null&&o.alternate.child===o.child,y=0,S=0;if(c)for(var T=o.child;T!==null;)y|=T.lanes|T.childLanes,S|=T.subtreeFlags&65011712,S|=T.flags&65011712,T.return=o,T=T.sibling;else for(T=o.child;T!==null;)y|=T.lanes|T.childLanes,S|=T.subtreeFlags,S|=T.flags,T.return=o,T=T.sibling;return o.subtreeFlags|=S,o.childLanes=y,c}function fs(o,c,y){var S=c.pendingProps;switch(Uh(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(c),null;case 1:return Rn(c),null;case 3:return y=c.stateNode,S=null,o!==null&&(S=o.memoizedState.cache),c.memoizedState.cache!==S&&(c.flags|=2048),Qo(nr),Z(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Cf(c)?cs(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,el())),Rn(c),null;case 26:return y=c.memoizedState,o===null?(cs(c),y!==null?(Rn(c),Ym(c,y)):(Rn(c),c.flags&=-16777217)):y?y!==o.memoizedState?(cs(c),Rn(c),Ym(c,y)):(Rn(c),c.flags&=-16777217):(o.memoizedProps!==S&&cs(c),Rn(c),c.flags&=-16777217),null;case 27:ye(c),y=Y.current;var T=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==S&&cs(c);else{if(!S){if(c.stateNode===null)throw Error(r(166));return Rn(c),null}o=z.current,Cf(c)?ix(c):(o=Zx(T,S,y),c.stateNode=o,cs(c))}return Rn(c),null;case 5:if(ye(c),y=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==S&&cs(c);else{if(!S){if(c.stateNode===null)throw Error(r(166));return Rn(c),null}if(o=z.current,Cf(c))ix(c);else{switch(T=Op(Y.current),o){case 1:o=T.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:o=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":o=T.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":o=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":o=T.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof S.is=="string"?T.createElement("select",{is:S.is}):T.createElement("select"),S.multiple?o.multiple=!0:S.size&&(o.size=S.size);break;default:o=typeof S.is=="string"?T.createElement(y,{is:S.is}):T.createElement(y)}}o[ln]=c,o[Mt]=S;e:for(T=c.child;T!==null;){if(T.tag===5||T.tag===6)o.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===c)break e;for(;T.sibling===null;){if(T.return===null||T.return===c)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}c.stateNode=o;e:switch(Rr(o,y,S),y){case"button":case"input":case"select":case"textarea":o=!!S.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&cs(c)}}return Rn(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==S&&cs(c);else{if(typeof S!="string"&&c.stateNode===null)throw Error(r(166));if(o=Y.current,Cf(c)){if(o=c.stateNode,y=c.memoizedProps,S=null,T=Vr,T!==null)switch(T.tag){case 27:case 5:S=T.memoizedProps}o[ln]=c,o=!!(o.nodeValue===y||S!==null&&S.suppressHydrationWarning===!0||$x(o.nodeValue,y)),o||eo(c)}else o=Op(o).createTextNode(S),o[ln]=c,c.stateNode=o}return Rn(c),null;case 13:if(S=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(T=Cf(c),S!==null&&S.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[ln]=c}else Uu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Rn(c),T=!1}else T=el(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=T),T=!0;if(!T)return c.flags&256?(Gr(c),c):(Gr(c),null)}if(Gr(c),(c.flags&128)!==0)return c.lanes=y,c;if(y=S!==null,o=o!==null&&o.memoizedState!==null,y){S=c.child,T=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(T=S.alternate.memoizedState.cachePool.pool);var P=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(P=S.memoizedState.cachePool.pool),P!==T&&(S.flags|=2048)}return y!==o&&y&&(c.child.flags|=8192),Ei(c,c.updateQueue),Rn(c),null;case 4:return Z(),o===null&&Rp(c.stateNode.containerInfo),Rn(c),null;case 10:return Qo(c.type),Rn(c),null;case 19:if(he(wn),T=c.memoizedState,T===null)return Rn(c),null;if(S=(c.flags&128)!==0,P=T.rendering,P===null)if(S)mr(T,!1);else{if(Un!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(P=ip(o),P!==null){for(c.flags|=128,mr(T,!1),o=P.updateQueue,c.updateQueue=o,Ei(c,o),c.subtreeFlags=0,o=y,y=c.child;y!==null;)Af(y,o),y=y.sibling;return j(wn,wn.current&1|2),c.child}o=o.sibling}T.tail!==null&&je()>gp&&(c.flags|=128,S=!0,mr(T,!1),c.lanes=4194304)}else{if(!S)if(o=ip(P),o!==null){if(c.flags|=128,S=!0,o=o.updateQueue,c.updateQueue=o,Ei(c,o),mr(T,!0),T.tail===null&&T.tailMode==="hidden"&&!P.alternate&&!un)return Rn(c),null}else 2*je()-T.renderingStartTime>gp&&y!==536870912&&(c.flags|=128,S=!0,mr(T,!1),c.lanes=4194304);T.isBackwards?(P.sibling=c.child,c.child=P):(o=T.last,o!==null?o.sibling=P:c.child=P,T.last=P)}return T.tail!==null?(c=T.tail,T.rendering=c,T.tail=c.sibling,T.renderingStartTime=je(),c.sibling=null,o=wn.current,j(wn,S?o&1|2:o&1),c):(Rn(c),null);case 22:case 23:return Gr(c),Am(),S=c.memoizedState!==null,o!==null?o.memoizedState!==null!==S&&(c.flags|=8192):S&&(c.flags|=8192),S?(y&536870912)!==0&&(c.flags&128)===0&&(Rn(c),c.subtreeFlags&6&&(c.flags|=8192)):Rn(c),y=c.updateQueue,y!==null&&Ei(c,y.retryQueue),y=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(y=o.memoizedState.cachePool.pool),S=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(S=c.memoizedState.cachePool.pool),S!==y&&(c.flags|=2048),o!==null&&he(Ks),null;case 24:return y=null,o!==null&&(y=o.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),Qo(nr),Rn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function ds(o,c){switch(Uh(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Qo(nr),Z(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return ye(c),null;case 13:if(Gr(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Uu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return he(wn),null;case 4:return Z(),null;case 10:return Qo(c.type),null;case 22:case 23:return Gr(c),Am(),o!==null&&he(Ks),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Qo(nr),null;case 25:return null;default:return null}}function Cx(o,c){switch(Uh(c),c.tag){case 3:Qo(nr),Z();break;case 26:case 27:case 5:ye(c);break;case 4:Z();break;case 13:Gr(c);break;case 19:he(wn);break;case 10:Qo(c.type);break;case 22:case 23:Gr(c),Am(),o!==null&&he(Ks);break;case 24:Qo(nr)}}function jf(o,c){try{var y=c.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var T=S.next;y=T;do{if((y.tag&o)===o){S=void 0;var P=y.create,$=y.inst;S=P(),$.destroy=S}y=y.next}while(y!==T)}}catch(Q){Tn(c,c.return,Q)}}function oa(o,c,y){try{var S=c.updateQueue,T=S!==null?S.lastEffect:null;if(T!==null){var P=T.next;S=P;do{if((S.tag&o)===o){var $=S.inst,Q=$.destroy;if(Q!==void 0){$.destroy=void 0,T=c;var fe=y,Oe=Q;try{Oe()}catch(ze){Tn(T,fe,ze)}}}S=S.next}while(S!==P)}}catch(ze){Tn(c,c.return,ze)}}function cp(o){var c=o.updateQueue;if(c!==null){var y=o.stateNode;try{Kh(c,y)}catch(S){Tn(o,o.return,S)}}}function mt(o,c,y){y.props=$r(o.type,o.memoizedProps),y.state=o.memoizedState;try{y.componentWillUnmount()}catch(S){Tn(o,c,S)}}function cl(o,c){try{var y=o.ref;if(y!==null){switch(o.tag){case 26:case 27:case 5:var S=o.stateNode;break;case 30:S=o.stateNode;break;default:S=o.stateNode}typeof y=="function"?o.refCleanup=y(S):y.current=S}}catch(T){Tn(o,c,T)}}function ao(o,c){var y=o.ref,S=o.refCleanup;if(y!==null)if(typeof S=="function")try{S()}catch(T){Tn(o,c,T)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(T){Tn(o,c,T)}else y.current=null}function Wm(o){var c=o.type,y=o.memoizedProps,S=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":y.autoFocus&&S.focus();break e;case"img":y.src?S.src=y.src:y.srcSet&&(S.srcset=y.srcSet)}}catch(T){Tn(o,o.return,T)}}function oc(o,c,y){try{var S=o.stateNode;KE(S,o.type,y,c),S[Mt]=c}catch(T){Tn(o,o.return,T)}}function wx(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&bs(o.type)||o.tag===4}function sc(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&bs(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ac(o,c,y){var S=o.tag;if(S===5||S===6)o=o.stateNode,c?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(o,c):(c=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,c.appendChild(o),y=y._reactRootContainer,y!=null||c.onclick!==null||(c.onclick=ml));else if(S!==4&&(S===27&&bs(o.type)&&(y=o.stateNode,c=null),o=o.child,o!==null))for(ac(o,c,y),o=o.sibling;o!==null;)ac(o,c,y),o=o.sibling}function sa(o,c,y){var S=o.tag;if(S===5||S===6)o=o.stateNode,c?y.insertBefore(o,c):y.appendChild(o);else if(S!==4&&(S===27&&bs(o.type)&&(y=o.stateNode),o=o.child,o!==null))for(sa(o,c,y),o=o.sibling;o!==null;)sa(o,c,y),o=o.sibling}function fp(o){var c=o.stateNode,y=o.memoizedProps;try{for(var S=o.type,T=c.attributes;T.length;)c.removeAttributeNode(T[0]);Rr(c,S,y),c[ln]=o,c[Mt]=y}catch(P){Tn(o,o.return,P)}}var hs=!1,Qn=!1,qm=!1,Rx=typeof WeakSet=="function"?WeakSet:Set,vr=null;function LE(o,c){if(o=o.containerInfo,_p=rb,o=Zy(o),im(o)){if("selectionStart"in o)var y={start:o.selectionStart,end:o.selectionEnd};else e:{y=(y=o.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var T=S.anchorOffset,P=S.focusNode;S=S.focusOffset;try{y.nodeType,P.nodeType}catch{y=null;break e}var $=0,Q=-1,fe=-1,Oe=0,ze=0,$e=o,Pe=null;t:for(;;){for(var Le;$e!==y||T!==0&&$e.nodeType!==3||(Q=$+T),$e!==P||S!==0&&$e.nodeType!==3||(fe=$+S),$e.nodeType===3&&($+=$e.nodeValue.length),(Le=$e.firstChild)!==null;)Pe=$e,$e=Le;for(;;){if($e===o)break t;if(Pe===y&&++Oe===T&&(Q=$),Pe===P&&++ze===S&&(fe=$),(Le=$e.nextSibling)!==null)break;$e=Pe,Pe=$e.parentNode}$e=Le}y=Q===-1||fe===-1?null:{start:Q,end:fe}}else y=null}y=y||{start:0,end:0}}else y=null;for(Ip={focusedElem:o,selectionRange:y},rb=!1,vr=c;vr!==null;)if(c=vr,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,vr=o;else for(;vr!==null;){switch(c=vr,P=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&P!==null){o=void 0,y=c,T=P.memoizedProps,P=P.memoizedState,S=y.stateNode;try{var Ot=$r(y.type,T,y.elementType===y.type);o=S.getSnapshotBeforeUpdate(Ot,P),S.__reactInternalSnapshotBeforeUpdate=o}catch(Ct){Tn(y,y.return,Ct)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,y=o.nodeType,y===9)v0(o);else if(y===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":v0(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,vr=o;break}vr=c.return}}function Tx(o,c,y){var S=y.flags;switch(y.tag){case 0:case 11:case 15:To(o,y),S&4&&jf(5,y);break;case 1:if(To(o,y),S&4)if(o=y.stateNode,c===null)try{o.componentDidMount()}catch($){Tn(y,y.return,$)}else{var T=$r(y.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(T,c,o.__reactInternalSnapshotBeforeUpdate)}catch($){Tn(y,y.return,$)}}S&64&&cp(y),S&512&&cl(y,y.return);break;case 3:if(To(o,y),S&64&&(o=y.updateQueue,o!==null)){if(c=null,y.child!==null)switch(y.child.tag){case 27:case 5:c=y.child.stateNode;break;case 1:c=y.child.stateNode}try{Kh(o,c)}catch($){Tn(y,y.return,$)}}break;case 27:c===null&&S&4&&fp(y);case 26:case 5:To(o,y),c===null&&S&4&&Wm(y),S&512&&cl(y,y.return);break;case 12:To(o,y);break;case 13:To(o,y),S&4&&Ix(o,y),S&64&&(o=y.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(y=UE.bind(null,y),Kx(o,y))));break;case 22:if(S=y.memoizedState!==null||hs,!S){c=c!==null&&c.memoizedState!==null||Qn,T=hs;var P=Qn;hs=S,(Qn=c)&&!P?No(o,y,(y.subtreeFlags&8772)!==0):To(o,y),hs=T,Qn=P}break;case 30:break;default:To(o,y)}}function Nx(o){var c=o.alternate;c!==null&&(o.alternate=null,Nx(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Fg(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Pn=null,si=!1;function Ro(o,c,y){for(y=y.child;y!==null;)_x(o,c,y),y=y.sibling}function _x(o,c,y){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(qe,y)}catch{}switch(y.tag){case 26:Qn||ao(y,c),Ro(o,c,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:Qn||ao(y,c);var S=Pn,T=si;bs(y.type)&&(Pn=y.stateNode,si=!1),Ro(o,c,y),Hf(y.stateNode),Pn=S,si=T;break;case 5:Qn||ao(y,c);case 6:if(S=Pn,T=si,Pn=null,Ro(o,c,y),Pn=S,si=T,Pn!==null)if(si)try{(Pn.nodeType===9?Pn.body:Pn.nodeName==="HTML"?Pn.ownerDocument.body:Pn).removeChild(y.stateNode)}catch(P){Tn(y,c,P)}else try{Pn.removeChild(y.stateNode)}catch(P){Tn(y,c,P)}break;case 18:Pn!==null&&(si?(o=Pn,m0(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,y.stateNode),E0(o)):m0(Pn,y.stateNode));break;case 4:S=Pn,T=si,Pn=y.stateNode.containerInfo,si=!0,Ro(o,c,y),Pn=S,si=T;break;case 0:case 11:case 14:case 15:Qn||oa(2,y,c),Qn||oa(4,y,c),Ro(o,c,y);break;case 1:Qn||(ao(y,c),S=y.stateNode,typeof S.componentWillUnmount=="function"&&mt(y,c,S)),Ro(o,c,y);break;case 21:Ro(o,c,y);break;case 22:Qn=(S=Qn)||y.memoizedState!==null,Ro(o,c,y),Qn=S;break;default:Ro(o,c,y)}}function Ix(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{E0(o)}catch(y){Tn(c,c.return,y)}}function FE(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Rx),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Rx),c;default:throw Error(r(435,o.tag))}}function dp(o,c){var y=FE(o);c.forEach(function(S){var T=GE.bind(null,o,S);y.has(S)||(y.add(S),S.then(T,T))})}function Wr(o,c){var y=c.deletions;if(y!==null)for(var S=0;S<y.length;S++){var T=y[S],P=o,$=c,Q=$;e:for(;Q!==null;){switch(Q.tag){case 27:if(bs(Q.type)){Pn=Q.stateNode,si=!1;break e}break;case 5:Pn=Q.stateNode,si=!1;break e;case 3:case 4:Pn=Q.stateNode.containerInfo,si=!0;break e}Q=Q.return}if(Pn===null)throw Error(r(160));_x(P,$,T),Pn=null,si=!1,P=T.alternate,P!==null&&(P.return=null),T.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Ox(c,o),c=c.sibling}var lo=null;function Ox(o,c){var y=o.alternate,S=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Wr(c,o),wr(o),S&4&&(oa(3,o,o.return),jf(3,o),oa(5,o,o.return));break;case 1:Wr(c,o),wr(o),S&512&&(Qn||y===null||ao(y,y.return)),S&64&&hs&&(o=o.updateQueue,o!==null&&(S=o.callbacks,S!==null&&(y=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=y===null?S:y.concat(S))));break;case 26:var T=lo;if(Wr(c,o),wr(o),S&512&&(Qn||y===null||ao(y,y.return)),S&4){var P=y!==null?y.memoizedState:null;if(S=o.memoizedState,y===null)if(S===null)if(o.stateNode===null){e:{S=o.type,y=o.memoizedProps,T=T.ownerDocument||T;t:switch(S){case"title":P=T.getElementsByTagName("title")[0],(!P||P[Ji]||P[ln]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=T.createElement(S),T.head.insertBefore(P,T.querySelector("head > title"))),Rr(P,S,y),P[ln]=o,tr(P),S=P;break e;case"link":var $=ot("link","href",T).get(S+(y.href||""));if($){for(var Q=0;Q<$.length;Q++)if(P=$[Q],P.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&P.getAttribute("rel")===(y.rel==null?null:y.rel)&&P.getAttribute("title")===(y.title==null?null:y.title)&&P.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){$.splice(Q,1);break t}}P=T.createElement(S),Rr(P,S,y),T.head.appendChild(P);break;case"meta":if($=ot("meta","content",T).get(S+(y.content||""))){for(Q=0;Q<$.length;Q++)if(P=$[Q],P.getAttribute("content")===(y.content==null?null:""+y.content)&&P.getAttribute("name")===(y.name==null?null:y.name)&&P.getAttribute("property")===(y.property==null?null:y.property)&&P.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&P.getAttribute("charset")===(y.charSet==null?null:y.charSet)){$.splice(Q,1);break t}}P=T.createElement(S),Rr(P,S,y),T.head.appendChild(P);break;default:throw Error(r(468,S))}P[ln]=o,tr(P),S=P}o.stateNode=S}else At(T,o.type,o.stateNode);else o.stateNode=Re(T,S,o.memoizedProps);else P!==S?(P===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):P.count--,S===null?At(T,o.type,o.stateNode):Re(T,S,o.memoizedProps)):S===null&&o.stateNode!==null&&oc(o,o.memoizedProps,y.memoizedProps)}break;case 27:Wr(c,o),wr(o),S&512&&(Qn||y===null||ao(y,y.return)),y!==null&&S&4&&oc(o,o.memoizedProps,y.memoizedProps);break;case 5:if(Wr(c,o),wr(o),S&512&&(Qn||y===null||ao(y,y.return)),o.flags&32){T=o.stateNode;try{zs(T,"")}catch(Le){Tn(o,o.return,Le)}}S&4&&o.stateNode!=null&&(T=o.memoizedProps,oc(o,T,y!==null?y.memoizedProps:T)),S&1024&&(qm=!0);break;case 6:if(Wr(c,o),wr(o),S&4){if(o.stateNode===null)throw Error(r(162));S=o.memoizedProps,y=o.stateNode;try{y.nodeValue=S}catch(Le){Tn(o,o.return,Le)}}break;case 3:if(He=null,T=lo,lo=yc(c.containerInfo),Wr(c,o),lo=T,wr(o),S&4&&y!==null&&y.memoizedState.isDehydrated)try{E0(c.containerInfo)}catch(Le){Tn(o,o.return,Le)}qm&&(qm=!1,fl(o));break;case 4:S=lo,lo=yc(o.stateNode.containerInfo),Wr(c,o),wr(o),lo=S;break;case 12:Wr(c,o),wr(o);break;case 13:Wr(c,o),wr(o),o.child.flags&8192&&o.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Qm=je()),S&4&&(S=o.updateQueue,S!==null&&(o.updateQueue=null,dp(o,S)));break;case 22:T=o.memoizedState!==null;var fe=y!==null&&y.memoizedState!==null,Oe=hs,ze=Qn;if(hs=Oe||T,Qn=ze||fe,Wr(c,o),Qn=ze,hs=Oe,wr(o),S&8192)e:for(c=o.stateNode,c._visibility=T?c._visibility&-2:c._visibility|1,T&&(y===null||fe||hs||Qn||aa(o)),y=null,c=o;;){if(c.tag===5||c.tag===26){if(y===null){fe=y=c;try{if(P=fe.stateNode,T)$=P.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{Q=fe.stateNode;var $e=fe.memoizedProps.style,Pe=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;Q.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(Le){Tn(fe,fe.return,Le)}}}else if(c.tag===6){if(y===null){fe=c;try{fe.stateNode.nodeValue=T?"":fe.memoizedProps}catch(Le){Tn(fe,fe.return,Le)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;y===c&&(y=null),c=c.return}y===c&&(y=null),c.sibling.return=c.return,c=c.sibling}S&4&&(S=o.updateQueue,S!==null&&(y=S.retryQueue,y!==null&&(S.retryQueue=null,dp(o,y))));break;case 19:Wr(c,o),wr(o),S&4&&(S=o.updateQueue,S!==null&&(o.updateQueue=null,dp(o,S)));break;case 30:break;case 21:break;default:Wr(c,o),wr(o)}}function wr(o){var c=o.flags;if(c&2){try{for(var y,S=o.return;S!==null;){if(wx(S)){y=S;break}S=S.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var T=y.stateNode,P=sc(o);sa(o,P,T);break;case 5:var $=y.stateNode;y.flags&32&&(zs($,""),y.flags&=-33);var Q=sc(o);sa(o,Q,$);break;case 3:case 4:var fe=y.stateNode.containerInfo,Oe=sc(o);ac(o,Oe,fe);break;default:throw Error(r(161))}}catch(ze){Tn(o,o.return,ze)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function fl(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;fl(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function To(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Tx(o,c.alternate,c),c=c.sibling}function aa(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:oa(4,c,c.return),aa(c);break;case 1:ao(c,c.return);var y=c.stateNode;typeof y.componentWillUnmount=="function"&&mt(c,c.return,y),aa(c);break;case 27:Hf(c.stateNode);case 26:case 5:ao(c,c.return),aa(c);break;case 22:c.memoizedState===null&&aa(c);break;case 30:aa(c);break;default:aa(c)}o=o.sibling}}function No(o,c,y){for(y=y&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var S=c.alternate,T=o,P=c,$=P.flags;switch(P.tag){case 0:case 11:case 15:No(T,P,y),jf(4,P);break;case 1:if(No(T,P,y),S=P,T=S.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Oe){Tn(S,S.return,Oe)}if(S=P,T=S.updateQueue,T!==null){var Q=S.stateNode;try{var fe=T.shared.hiddenCallbacks;if(fe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<fe.length;T++)fx(fe[T],Q)}catch(Oe){Tn(S,S.return,Oe)}}y&&$&64&&cp(P),cl(P,P.return);break;case 27:fp(P);case 26:case 5:No(T,P,y),y&&S===null&&$&4&&Wm(P),cl(P,P.return);break;case 12:No(T,P,y);break;case 13:No(T,P,y),y&&$&4&&Ix(T,P);break;case 22:P.memoizedState===null&&No(T,P,y),cl(P,P.return);break;case 30:break;default:No(T,P,y)}c=c.sibling}}function vt(o,c){var y=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(y=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==y&&(o!=null&&o.refCount++,y!=null&&Tf(y))}function zf(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Tf(o))}function _o(o,c,y,S){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Dx(o,c,y,S),c=c.sibling}function Dx(o,c,y,S){var T=c.flags;switch(c.tag){case 0:case 11:case 15:_o(o,c,y,S),T&2048&&jf(9,c);break;case 1:_o(o,c,y,S);break;case 3:_o(o,c,y,S),T&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Tf(o)));break;case 12:if(T&2048){_o(o,c,y,S),o=c.stateNode;try{var P=c.memoizedProps,$=P.id,Q=P.onPostCommit;typeof Q=="function"&&Q($,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(fe){Tn(c,c.return,fe)}}else _o(o,c,y,S);break;case 13:_o(o,c,y,S);break;case 23:break;case 22:P=c.stateNode,$=c.alternate,c.memoizedState!==null?P._visibility&2?_o(o,c,y,S):la(o,c):P._visibility&2?_o(o,c,y,S):(P._visibility|=2,dl(o,c,y,S,(c.subtreeFlags&10256)!==0)),T&2048&&vt($,c);break;case 24:_o(o,c,y,S),T&2048&&zf(c.alternate,c);break;default:_o(o,c,y,S)}}function dl(o,c,y,S,T){for(T=T&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var P=o,$=c,Q=y,fe=S,Oe=$.flags;switch($.tag){case 0:case 11:case 15:dl(P,$,Q,fe,T),jf(8,$);break;case 23:break;case 22:var ze=$.stateNode;$.memoizedState!==null?ze._visibility&2?dl(P,$,Q,fe,T):la(P,$):(ze._visibility|=2,dl(P,$,Q,fe,T)),T&&Oe&2048&&vt($.alternate,$);break;case 24:dl(P,$,Q,fe,T),T&&Oe&2048&&zf($.alternate,$);break;default:dl(P,$,Q,fe,T)}c=c.sibling}}function la(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var y=o,S=c,T=S.flags;switch(S.tag){case 22:la(y,S),T&2048&&vt(S.alternate,S);break;case 24:la(y,S),T&2048&&zf(S.alternate,S);break;default:la(y,S)}c=c.sibling}}var ua=8192;function ps(o){if(o.subtreeFlags&ua)for(o=o.child;o!==null;)Km(o),o=o.sibling}function Km(o){switch(o.tag){case 26:ps(o),o.flags&ua&&o.memoizedState!==null&&fn(lo,o.memoizedState,o.memoizedProps);break;case 5:ps(o);break;case 3:case 4:var c=lo;lo=yc(o.stateNode.containerInfo),ps(o),lo=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=ua,ua=16777216,ps(o),ua=c):ps(o));break;default:ps(o)}}function Px(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Io(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var y=0;y<c.length;y++){var S=c[y];vr=S,pp(S,o)}Px(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)lc(o),o=o.sibling}function lc(o){switch(o.tag){case 0:case 11:case 15:Io(o),o.flags&2048&&oa(9,o,o.return);break;case 3:Io(o);break;case 12:Io(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,hp(o)):Io(o);break;default:Io(o)}}function hp(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var y=0;y<c.length;y++){var S=c[y];vr=S,pp(S,o)}Px(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:oa(8,c,c.return),hp(c);break;case 22:y=c.stateNode,y._visibility&2&&(y._visibility&=-3,hp(c));break;default:hp(c)}o=o.sibling}}function pp(o,c){for(;vr!==null;){var y=vr;switch(y.tag){case 0:case 11:case 15:oa(8,y,c);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var S=y.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Tf(y.memoizedState.cache)}if(S=y.child,S!==null)S.return=y,vr=S;else e:for(y=o;vr!==null;){S=vr;var T=S.sibling,P=S.return;if(Nx(S),S===y){vr=null;break e}if(T!==null){T.return=P,vr=T;break e}vr=P}}}var kE={getCacheForType:function(o){var c=br(nr),y=c.data.get(o);return y===void 0&&(y=o(),c.data.set(o,y)),y}},BE=typeof WeakMap=="function"?WeakMap:Map,dn=0,Mn=null,$t=null,Qt=0,vn=0,ai=null,gs=!1,uc=!1,Xm=!1,ms=0,Un=0,Oo=0,hl=0,Zm=0,Ui=0,cc=0,fc=null,qr=null,Jm=!1,Qm=0,gp=1/0,mp=null,uo=null,cr=0,Do=null,dc=null,vs=0,e0=0,t0=null,Mx=null,yn=0,kr=null;function fr(){if((dn&2)!==0&&Qt!==0)return Qt&-Qt;if(ie.T!==null){var o=Yu;return o!==0?o:Cp()}return gr()}function Lx(){Ui===0&&(Ui=(Qt&536870912)===0||un?mn():536870912);var o=ji.current;return o!==null&&(o.flags|=32),Ui}function Je(o,c,y){(o===Mn&&(vn===2||vn===9)||o.cancelPendingCommit!==null)&&(Po(o,0),ys(o,Qt,Ui,!1)),sn(o,y),((dn&2)===0||o!==Mn)&&(o===Mn&&((dn&2)===0&&(hl|=y),Un===4&&ys(o,Qt,Ui,!1)),Ai(o))}function n0(o,c,y){if((dn&6)!==0)throw Error(r(327));var S=!y&&(c&124)===0&&(c&o.expiredLanes)===0||St(o,c),T=S?o0(o,c):Vf(o,c,!0),P=S;do{if(T===0){uc&&!S&&ys(o,c,0,!1);break}else{if(y=o.current.alternate,P&&!jE(y)){T=Vf(o,c,!1),P=!1;continue}if(T===2){if(P=c,o.errorRecoveryDisabledLanes&P)var $=0;else $=o.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){c=$;e:{var Q=o;T=fc;var fe=Q.current.memoizedState.isDehydrated;if(fe&&(Po(Q,$).flags|=256),$=Vf(Q,$,!1),$!==2){if(Xm&&!fe){Q.errorRecoveryDisabledLanes|=P,hl|=P,T=4;break e}P=qr,qr=T,P!==null&&(qr===null?qr=P:qr.push.apply(qr,P))}T=$}if(P=!1,T!==2)continue}}if(T===1){Po(o,0),ys(o,c,0,!0);break}e:{switch(S=o,P=T,P){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:ys(S,c,Ui,!gs);break e;case 2:qr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(T=Qm+300-je(),10<T)){if(ys(S,c,Ui,!gs),gt(S,0,!0)!==0)break e;S.timeoutHandle=Yx(vp.bind(null,S,y,qr,mp,Jm,c,Ui,hl,cc,gs,P,2,-0,0),T);break e}vp(S,y,qr,mp,Jm,c,Ui,hl,cc,gs,P,0,-0,0)}}break}while(!0);Ai(o)}function vp(o,c,y,S,T,P,$,Q,fe,Oe,ze,$e,Pe,Le){if(o.timeoutHandle=-1,$e=c.subtreeFlags,($e&8192||($e&16785408)===16785408)&&(en={stylesheets:null,count:0,unsuspend:Tr},Km(c),$e=or(),$e!==null)){o.cancelPendingCommit=$e(a0.bind(null,o,c,P,y,S,T,$,Q,fe,ze,1,Pe,Le)),ys(o,P,$,!Oe);return}a0(o,c,P,y,S,T,$,Q,fe)}function jE(o){for(var c=o;;){var y=c.tag;if((y===0||y===11||y===15)&&c.flags&16384&&(y=c.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var S=0;S<y.length;S++){var T=y[S],P=T.getSnapshot;T=T.value;try{if(!Jr(P(),T))return!1}catch{return!1}}if(y=c.child,c.subtreeFlags&16384&&y!==null)y.return=c,c=y;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ys(o,c,y,S){c&=~Zm,c&=~hl,o.suspendedLanes|=c,o.pingedLanes&=~c,S&&(o.warmLanes|=c),S=o.expirationTimes;for(var T=c;0<T;){var P=31-at(T),$=1<<P;S[P]=-1,T&=~$}y!==0&&rt(o,y,c)}function ca(){return(dn&6)===0?(ma(0),!1):!0}function yp(){if($t!==null){if(vn===0)var o=$t.return;else o=$t,Jo=tl=null,Tm(o),ss=null,as=0,o=$t;for(;o!==null;)Cx(o.alternate,o),o=o.return;$t=null}}function Po(o,c){var y=o.timeoutHandle;y!==-1&&(o.timeoutHandle=-1,Wx(y)),y=o.cancelPendingCommit,y!==null&&(o.cancelPendingCommit=null,y()),yp(),Mn=o,$t=y=Fi(o.current,null),Qt=c,vn=0,ai=null,gs=!1,uc=St(o,c),Xm=!1,cc=Ui=Zm=hl=Oo=Un=0,qr=fc=null,Jm=!1,(c&8)!==0&&(c|=c&32);var S=o.entangledLanes;if(S!==0)for(o=o.entanglements,S&=c;0<S;){var T=31-at(S),P=1<<T;c|=o[T],S&=~P}return ms=c,Fh(),y}function Fx(o,c){Vt=null,ie.H=Ar,c===qu||c===_f?(c=cx(),vn=3):c===lx?(c=cx(),vn=4):vn=c===so?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ai=c,$t===null&&(Un=1,ra(o,Li(c,o.current)))}function r0(){var o=ie.H;return ie.H=Ar,o===null?Ar:o}function kx(){var o=ie.A;return ie.A=kE,o}function rn(){Un=4,gs||(Qt&4194048)!==Qt&&ji.current!==null||(uc=!0),(Oo&134217727)===0&&(hl&134217727)===0||Mn===null||ys(Mn,Qt,Ui,!1)}function Vf(o,c,y){var S=dn;dn|=2;var T=r0(),P=kx();(Mn!==o||Qt!==c)&&(mp=null,Po(o,c)),c=!1;var $=Un;e:do try{if(vn!==0&&$t!==null){var Q=$t,fe=ai;switch(vn){case 8:yp(),$=6;break e;case 3:case 2:case 9:case 6:ji.current===null&&(c=!0);var Oe=vn;if(vn=0,ai=null,fa(o,Q,fe,Oe),y&&uc){$=0;break e}break;default:Oe=vn,vn=0,ai=null,fa(o,Q,fe,Oe)}}i0(),$=Un;break}catch(ze){Fx(o,ze)}while(!0);return c&&o.shellSuspendCounter++,Jo=tl=null,dn=S,ie.H=T,ie.A=P,$t===null&&(Mn=null,Qt=0,Fh()),$}function i0(){for(;$t!==null;)Bx($t)}function o0(o,c){var y=dn;dn|=2;var S=r0(),T=kx();Mn!==o||Qt!==c?(mp=null,gp=je()+500,Po(o,c)):uc=St(o,c);e:do try{if(vn!==0&&$t!==null){c=$t;var P=ai;t:switch(vn){case 1:vn=0,ai=null,fa(o,c,P,1);break;case 2:case 9:if(ym(P)){vn=0,ai=null,jx(c);break}c=function(){vn!==2&&vn!==9||Mn!==o||(vn=7),Ai(o)},P.then(c,c);break e;case 3:vn=7;break e;case 4:vn=5;break e;case 7:ym(P)?(vn=0,ai=null,jx(c)):(vn=0,ai=null,fa(o,c,P,7));break;case 5:var $=null;switch($t.tag){case 26:$=$t.memoizedState;case 5:case 27:var Q=$t;if(!$||Dn($)){vn=0,ai=null;var fe=Q.sibling;if(fe!==null)$t=fe;else{var Oe=Q.return;Oe!==null?($t=Oe,xp(Oe)):$t=null}break t}}vn=0,ai=null,fa(o,c,P,5);break;case 6:vn=0,ai=null,fa(o,c,P,6);break;case 8:yp(),Un=6;break e;default:throw Error(r(462))}}zE();break}catch(ze){Fx(o,ze)}while(!0);return Jo=tl=null,ie.H=S,ie.A=T,dn=y,$t!==null?0:(Mn=null,Qt=0,Fh(),Un)}function zE(){for(;$t!==null&&!Ae();)Bx($t)}function Bx(o){var c=ul(o.alternate,o,ms);o.memoizedProps=o.pendingProps,c===null?xp(o):$t=c}function jx(o){var c=o,y=c.alternate;switch(c.tag){case 15:case 0:c=Ex(y,c,c.pendingProps,c.type,void 0,Qt);break;case 11:c=Ex(y,c,c.pendingProps,c.type.render,c.ref,Qt);break;case 5:Tm(c);default:Cx(y,c),c=$t=Af(c,ms),c=ul(y,c,ms)}o.memoizedProps=o.pendingProps,c===null?xp(o):$t=c}function fa(o,c,y,S){Jo=tl=null,Tm(c),ss=null,as=0;var T=c.return;try{if(ME(o,T,c,y,Qt)){Un=1,ra(o,Li(y,o.current)),$t=null;return}}catch(P){if(T!==null)throw $t=T,P;Un=1,ra(o,Li(y,o.current)),$t=null;return}c.flags&32768?(un||S===1?o=!0:uc||(Qt&536870912)!==0?o=!1:(gs=o=!0,(S===2||S===9||S===3||S===6)&&(S=ji.current,S!==null&&S.tag===13&&(S.flags|=16384))),s0(c,o)):xp(c)}function xp(o){var c=o;do{if((c.flags&32768)!==0){s0(c,gs);return}o=c.return;var y=fs(c.alternate,c,ms);if(y!==null){$t=y;return}if(c=c.sibling,c!==null){$t=c;return}$t=c=o}while(c!==null);Un===0&&(Un=5)}function s0(o,c){do{var y=ds(o.alternate,o);if(y!==null){y.flags&=32767,$t=y;return}if(y=o.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!c&&(o=o.sibling,o!==null)){$t=o;return}$t=o=y}while(o!==null);Un=6,$t=null}function a0(o,c,y,S,T,P,$,Q,fe){o.cancelPendingCommit=null;do ha();while(cr!==0);if((dn&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(P=c.lanes|c.childLanes,P|=lm,Zn(o,y,P,$,Q,fe),o===Mn&&($t=Mn=null,Qt=0),dc=c,Do=o,vs=y,e0=P,t0=T,Mx=S,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,$E(Ze,function(){return hc(),null})):(o.callbackNode=null,o.callbackPriority=0),S=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||S){S=ie.T,ie.T=null,T=we.p,we.p=2,$=dn,dn|=4;try{LE(o,c,y)}finally{dn=$,we.p=T,ie.T=S}}cr=1,bp(),l0(),Gi()}}function bp(){if(cr===1){cr=0;var o=Do,c=dc,y=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||y){y=ie.T,ie.T=null;var S=we.p;we.p=2;var T=dn;dn|=4;try{Ox(c,o);var P=Ip,$=Zy(o.containerInfo),Q=P.focusedElem,fe=P.selectionRange;if($!==Q&&Q&&Q.ownerDocument&&Xy(Q.ownerDocument.documentElement,Q)){if(fe!==null&&im(Q)){var Oe=fe.start,ze=fe.end;if(ze===void 0&&(ze=Oe),"selectionStart"in Q)Q.selectionStart=Oe,Q.selectionEnd=Math.min(ze,Q.value.length);else{var $e=Q.ownerDocument||document,Pe=$e&&$e.defaultView||window;if(Pe.getSelection){var Le=Pe.getSelection(),Ot=Q.textContent.length,Ct=Math.min(fe.start,Ot),Ln=fe.end===void 0?Ct:Math.min(fe.end,Ot);!Le.extend&&Ct>Ln&&($=Ln,Ln=Ct,Ct=$);var Ce=Ky(Q,Ct),be=Ky(Q,Ln);if(Ce&&be&&(Le.rangeCount!==1||Le.anchorNode!==Ce.node||Le.anchorOffset!==Ce.offset||Le.focusNode!==be.node||Le.focusOffset!==be.offset)){var _e=$e.createRange();_e.setStart(Ce.node,Ce.offset),Le.removeAllRanges(),Ct>Ln?(Le.addRange(_e),Le.extend(be.node,be.offset)):(_e.setEnd(be.node,be.offset),Le.addRange(_e))}}}}for($e=[],Le=Q;Le=Le.parentNode;)Le.nodeType===1&&$e.push({element:Le,left:Le.scrollLeft,top:Le.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<$e.length;Q++){var Ge=$e[Q];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}rb=!!_p,Ip=_p=null}finally{dn=T,we.p=S,ie.T=y}}o.current=c,cr=2}}function l0(){if(cr===2){cr=0;var o=Do,c=dc,y=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||y){y=ie.T,ie.T=null;var S=we.p;we.p=2;var T=dn;dn|=4;try{Tx(o,c.alternate,c)}finally{dn=T,we.p=S,ie.T=y}}cr=3}}function Gi(){if(cr===4||cr===3){cr=0,Ie();var o=Do,c=dc,y=vs,S=Mx;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?cr=5:(cr=0,dc=Do=null,da(o,o.pendingLanes));var T=o.pendingLanes;if(T===0&&(uo=null),nn(y),c=c.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(qe,c,void 0,(c.current.flags&128)===128)}catch{}if(S!==null){c=ie.T,T=we.p,we.p=2,ie.T=null;try{for(var P=o.onRecoverableError,$=0;$<S.length;$++){var Q=S[$];P(Q.value,{componentStack:Q.stack})}}finally{ie.T=c,we.p=T}}(vs&3)!==0&&ha(),Ai(o),T=o.pendingLanes,(y&4194090)!==0&&(T&42)!==0?o===kr?yn++:(yn=0,kr=o):yn=0,ma(0)}}function da(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Tf(c)))}function ha(o){return bp(),l0(),Gi(),hc()}function hc(){if(cr!==5)return!1;var o=Do,c=e0;e0=0;var y=nn(vs),S=ie.T,T=we.p;try{we.p=32>y?32:y,ie.T=null,y=t0,t0=null;var P=Do,$=vs;if(cr=0,dc=Do=null,vs=0,(dn&6)!==0)throw Error(r(331));var Q=dn;if(dn|=4,lc(P.current),Dx(P,P.current,$,y),dn=Q,ma(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(qe,P)}catch{}return!0}finally{we.p=T,ie.T=S,da(o,c)}}function u0(o,c,y){c=Li(y,c),c=wo(o.stateNode,c,2),o=Xs(o,c,2),o!==null&&(sn(o,2),Ai(o))}function Tn(o,c,y){if(o.tag===3)u0(o,o,y);else for(;c!==null;){if(c.tag===3){u0(c,o,y);break}else if(c.tag===1){var S=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(uo===null||!uo.has(S))){o=Li(y,o),y=rc(2),S=Xs(c,y,2),S!==null&&(bx(y,S,c,o),sn(S,2),Ai(S));break}}c=c.return}}function c0(o,c,y){var S=o.pingCache;if(S===null){S=o.pingCache=new BE;var T=new Set;S.set(c,T)}else T=S.get(c),T===void 0&&(T=new Set,S.set(c,T));T.has(y)||(Xm=!0,T.add(y),o=VE.bind(null,o,c,y),c.then(o,o))}function VE(o,c,y){var S=o.pingCache;S!==null&&S.delete(c),o.pingedLanes|=o.suspendedLanes&y,o.warmLanes&=~y,Mn===o&&(Qt&y)===y&&(Un===4||Un===3&&(Qt&62914560)===Qt&&300>je()-Qm?(dn&2)===0&&Po(o,0):Zm|=y,cc===Qt&&(cc=0)),Ai(o)}function zx(o,c){c===0&&(c=Fn()),o=Bu(o,c),o!==null&&(sn(o,c),Ai(o))}function UE(o){var c=o.memoizedState,y=0;c!==null&&(y=c.retryLane),zx(o,y)}function GE(o,c){var y=0;switch(o.tag){case 13:var S=o.stateNode,T=o.memoizedState;T!==null&&(y=T.retryLane);break;case 19:S=o.stateNode;break;case 22:S=o.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(c),zx(o,y)}function $E(o,c){return ae(o,c)}var Sp=null,pc=null,f0=!1,Ep=!1,pa=!1,ga=0;function Ai(o){o!==pc&&o.next===null&&(pc===null?Sp=pc=o:pc=pc.next=o),Ep=!0,f0||(f0=!0,va())}function ma(o,c){if(!pa&&Ep){pa=!0;do for(var y=!1,S=Sp;S!==null;){if(o!==0){var T=S.pendingLanes;if(T===0)var P=0;else{var $=S.suspendedLanes,Q=S.pingedLanes;P=(1<<31-at(42|o)+1)-1,P&=T&~($&~Q),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(y=!0,Ap(S,P))}else P=Qt,P=gt(S,S===Mn?P:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(P&3)===0||St(S,P)||(y=!0,Ap(S,P));S=S.next}while(y);pa=!1}}function HE(){xs()}function xs(){Ep=f0=!1;var o=0;ga!==0&&(Hx()&&(o=ga),ga=0);for(var c=je(),y=null,S=Sp;S!==null;){var T=S.next,P=dr(S,c);P===0?(S.next=null,y===null?Sp=T:y.next=T,T===null&&(pc=y)):(y=S,(o!==0||(P&3)!==0)&&(Ep=!0)),S=T}ma(o)}function dr(o,c){for(var y=o.suspendedLanes,S=o.pingedLanes,T=o.expirationTimes,P=o.pendingLanes&-62914561;0<P;){var $=31-at(P),Q=1<<$,fe=T[$];fe===-1?((Q&y)===0||(Q&S)!==0)&&(T[$]=Dt(Q,c)):fe<=c&&(o.expiredLanes|=Q),P&=~Q}if(c=Mn,y=Qt,y=gt(o,o===c?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),S=o.callbackNode,y===0||o===c&&(vn===2||vn===9)||o.cancelPendingCommit!==null)return S!==null&&S!==null&&le(S),o.callbackNode=null,o.callbackPriority=0;if((y&3)===0||St(o,y)){if(c=y&-y,c===o.callbackPriority)return c;switch(S!==null&&le(S),nn(y)){case 2:case 8:y=De;break;case 32:y=Ze;break;case 268435456:y=pt;break;default:y=Ze}return S=pl.bind(null,o),y=ae(y,S),o.callbackPriority=c,o.callbackNode=y,c}return S!==null&&S!==null&&le(S),o.callbackPriority=2,o.callbackNode=null,2}function pl(o,c){if(cr!==0&&cr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var y=o.callbackNode;if(ha()&&o.callbackNode!==y)return null;var S=Qt;return S=gt(o,o===Mn?S:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),S===0?null:(n0(o,S,c),dr(o,je()),o.callbackNode!=null&&o.callbackNode===y?pl.bind(null,o):null)}function Ap(o,c){if(ha())return null;n0(o,c,!0)}function va(){qx(function(){(dn&6)!==0?ae(me,HE):xs()})}function Cp(){return ga===0&&(ga=mn()),ga}function Vx(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:hf(""+o)}function YE(o,c){var y=c.ownerDocument.createElement("input");return y.name=c.name,y.value=c.value,o.id&&y.setAttribute("form",o.id),c.parentNode.insertBefore(y,c),o=new FormData(o),y.parentNode.removeChild(y),o}function NR(o,c,y,S,T){if(c==="submit"&&y&&y.stateNode===T){var P=Vx((T[Mt]||null).action),$=S.submitter;$&&(c=(c=$[Mt]||null)?Vx(c.formAction):$.getAttribute("formAction"),c!==null&&(P=c,$=null));var Q=new Xo("action","action",null,S,T);o.push({event:Q,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(ga!==0){var fe=$?YE(T,$):new FormData(T);ii(y,{pending:!0,data:fe,method:T.method,action:P},null,fe)}}else typeof P=="function"&&(Q.preventDefault(),fe=$?YE(T,$):new FormData(T),ii(y,{pending:!0,data:fe,method:T.method,action:P},P,fe))},currentTarget:T}]})}}for(var wp=0;wp<Lh.length;wp++){var d0=Lh[wp],WE=d0.toLowerCase(),Uf=d0[0].toUpperCase()+d0.slice(1);vi(WE,"on"+Uf)}vi(Qy,"onAnimationEnd"),vi(Mh,"onAnimationIteration"),vi(Sf,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(SE,"onTransitionRun"),vi(EE,"onTransitionStart"),vi(AE,"onTransitionCancel"),vi(ex,"onTransitionEnd"),Ua("onMouseEnter",["mouseout","mouseover"]),Ua("onMouseLeave",["mouseout","mouseover"]),Ua("onPointerEnter",["pointerout","pointerover"]),Ua("onPointerLeave",["pointerout","pointerover"]),js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),js("onBeforeInput",["compositionend","keypress","textInput","paste"]),js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mo));function Lo(o,c){c=(c&4)!==0;for(var y=0;y<o.length;y++){var S=o[y],T=S.event;S=S.listeners;e:{var P=void 0;if(c)for(var $=S.length-1;0<=$;$--){var Q=S[$],fe=Q.instance,Oe=Q.currentTarget;if(Q=Q.listener,fe!==P&&T.isPropagationStopped())break e;P=Q,T.currentTarget=Oe;try{P(T)}catch(ze){oi(ze)}T.currentTarget=null,P=fe}else for($=0;$<S.length;$++){if(Q=S[$],fe=Q.instance,Oe=Q.currentTarget,Q=Q.listener,fe!==P&&T.isPropagationStopped())break e;P=Q,T.currentTarget=Oe;try{P(T)}catch(ze){oi(ze)}T.currentTarget=null,P=fe}}}}function Ft(o,c){var y=c[Oi];y===void 0&&(y=c[Oi]=new Set);var S=o+"__bubble";y.has(S)||(h0(c,o,2,!1),y.add(S))}function ya(o,c,y){var S=0;c&&(S|=4),h0(y,o,S,c)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Rp(o){if(!o[gc]){o[gc]=!0,kg.forEach(function(y){y!=="selectionchange"&&(Gf.has(y)||ya(y,!1,o),ya(y,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[gc]||(c[gc]=!0,ya("selectionchange",!1,c))}}function h0(o,c,y,S){switch(MR(c)){case 2:var T=pB;break;case 8:T=gB;break;default:T=i1}y=T.bind(null,c,y,o),T=void 0,!Wg||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(T=!0),S?T!==void 0?o.addEventListener(c,y,{capture:!0,passive:T}):o.addEventListener(c,y,!0):T!==void 0?o.addEventListener(c,y,{passive:T}):o.addEventListener(c,y,!1)}function Tp(o,c,y,S,T){var P=S;if((c&1)===0&&(c&2)===0&&S!==null)e:for(;;){if(S===null)return;var $=S.tag;if($===3||$===4){var Q=S.stateNode.containerInfo;if(Q===T)break;if($===4)for($=S.return;$!==null;){var fe=$.tag;if((fe===3||fe===4)&&$.stateNode.containerInfo===T)return;$=$.return}for(;Q!==null;){if($=ks(Q),$===null)return;if(fe=$.tag,fe===5||fe===6||fe===26||fe===27){S=P=$;continue e}Q=Q.parentNode}}S=S.return}my(function(){var Oe=P,ze=gf(y),$e=[];e:{var Pe=tx.get(o);if(Pe!==void 0){var Le=Xo,Ot=o;switch(o){case"keypress":if(Ch(y)===0)break e;case"keydown":case"keyup":Le=_y;break;case"focusin":Ot="focus",Le=Nh;break;case"focusout":Ot="blur",Le=Nh;break;case"beforeblur":case"afterblur":Le=Nh;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=Kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=TR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=Dy;break;case Qy:case Mh:case Sf:Le=by;break;case ex:Le=My;break;case"scroll":case"scrollend":Le=hE;break;case"wheel":Le=gE;break;case"copy":case"cut":case"paste":Le=Ey;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=Zg;break;case"toggle":case"beforetoggle":Le=Fy}var Ct=(c&4)!==0,Ln=!Ct&&(o==="scroll"||o==="scrollend"),Ce=Ct?Pe!==null?Pe+"Capture":null:Pe;Ct=[];for(var be=Oe,_e;be!==null;){var Ge=be;if(_e=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||_e===null||Ce===null||(Ge=Ya(be,Ce),Ge!=null&&Ct.push(mc(be,Ge,_e))),Ln)break;be=be.return}0<Ct.length&&(Pe=new Le(Pe,Ot,null,y,ze),$e.push({event:Pe,listeners:Ct}))}}if((c&7)===0){e:{if(Pe=o==="mouseover"||o==="pointerover",Le=o==="mouseout"||o==="pointerout",Pe&&y!==pf&&(Ot=y.relatedTarget||y.fromElement)&&(ks(Ot)||Ot[En]))break e;if((Le||Pe)&&(Pe=ze.window===ze?ze:(Pe=ze.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Le?(Ot=y.relatedTarget||y.toElement,Le=Oe,Ot=Ot?ks(Ot):null,Ot!==null&&(Ln=a(Ot),Ct=Ot.tag,Ot!==Ln||Ct!==5&&Ct!==27&&Ct!==6)&&(Ot=null)):(Le=null,Ot=Oe),Le!==Ot)){if(Ct=Kg,Ge="onMouseLeave",Ce="onMouseEnter",be="mouse",(o==="pointerout"||o==="pointerover")&&(Ct=Zg,Ge="onPointerLeave",Ce="onPointerEnter",be="pointer"),Ln=Le==null?Pe:Du(Le),_e=Ot==null?Pe:Du(Ot),Pe=new Ct(Ge,be+"leave",Le,y,ze),Pe.target=Ln,Pe.relatedTarget=_e,Ge=null,ks(ze)===Oe&&(Ct=new Ct(Ce,be+"enter",Ot,y,ze),Ct.target=_e,Ct.relatedTarget=Ln,Ge=Ct),Ln=Ge,Le&&Ot)t:{for(Ct=Le,Ce=Ot,be=0,_e=Ct;_e;_e=gl(_e))be++;for(_e=0,Ge=Ce;Ge;Ge=gl(Ge))_e++;for(;0<be-_e;)Ct=gl(Ct),be--;for(;0<_e-be;)Ce=gl(Ce),_e--;for(;be--;){if(Ct===Ce||Ce!==null&&Ct===Ce.alternate)break t;Ct=gl(Ct),Ce=gl(Ce)}Ct=null}else Ct=null;Le!==null&&p0($e,Pe,Le,Ct,!1),Ot!==null&&Ln!==null&&p0($e,Ln,Ot,Ct,!0)}}e:{if(Pe=Oe?Du(Oe):window,Le=Pe.nodeName&&Pe.nodeName.toLowerCase(),Le==="select"||Le==="input"&&Pe.type==="file")var lt=tm;else if(em(Pe))if($y)lt=rm;else{lt=xE;var Xt=yE}else Le=Pe.nodeName,!Le||Le.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?Oe&&Hg(Oe.elementType)&&(lt=tm):lt=qy;if(lt&&(lt=lt(o,Oe))){Uy($e,lt,y,ze);break e}Xt&&Xt(o,Pe,Oe),o==="focusout"&&Oe&&Pe.type==="number"&&Oe.memoizedProps.value!=null&&df(Pe,"number",Pe.value)}switch(Xt=Oe?Du(Oe):window,o){case"focusin":(em(Xt)||Xt.contentEditable==="true")&&(Ka=Xt,om=Oe,bf=null);break;case"focusout":bf=om=Ka=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Jy($e,y,ze);break;case"selectionchange":if(Dh)break;case"keydown":case"keyup":Jy($e,y,ze)}var xt;if(Jg)e:{switch(o){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Lu?jy(o,y)&&(Tt="onCompositionEnd"):o==="keydown"&&y.keyCode===229&&(Tt="onCompositionStart");Tt&&(Wa&&y.locale!=="ko"&&(Lu||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Lu&&(xt=vy()):(Vs=ze,Mu="value"in Vs?Vs.value:Vs.textContent,Lu=!0)),Xt=$f(Oe,Tt),0<Xt.length&&(Tt=new Xg(Tt,o,null,y,ze),$e.push({event:Tt,listeners:Xt}),xt?Tt.data=xt:(xt=zy(y),xt!==null&&(Tt.data=xt)))),(xt=Qg?Vy(o,y):mE(o,y))&&(Tt=$f(Oe,"onBeforeInput"),0<Tt.length&&(Xt=new Xg("onBeforeInput","beforeinput",null,y,ze),$e.push({event:Xt,listeners:Tt}),Xt.data=xt)),NR($e,o,Oe,y,ze)}Lo($e,c)})}function mc(o,c,y){return{instance:o,listener:c,currentTarget:y}}function $f(o,c){for(var y=c+"Capture",S=[];o!==null;){var T=o,P=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||P===null||(T=Ya(o,y),T!=null&&S.unshift(mc(o,T,P)),T=Ya(o,c),T!=null&&S.push(mc(o,T,P))),o.tag===3)return S;o=o.return}return[]}function gl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function p0(o,c,y,S,T){for(var P=c._reactName,$=[];y!==null&&y!==S;){var Q=y,fe=Q.alternate,Oe=Q.stateNode;if(Q=Q.tag,fe!==null&&fe===S)break;Q!==5&&Q!==26&&Q!==27||Oe===null||(fe=Oe,T?(Oe=Ya(y,P),Oe!=null&&$.unshift(mc(y,Oe,fe))):T||(Oe=Ya(y,P),Oe!=null&&$.push(mc(y,Oe,fe)))),y=y.return}$.length!==0&&o.push({event:c,listeners:$})}var Ux=/\r\n?/g,qE=/\u0000|\uFFFD/g;function Gx(o){return(typeof o=="string"?o:""+o).replace(Ux,`
`).replace(qE,"")}function $x(o,c){return c=Gx(c),Gx(o)===c}function ml(){}function Nn(o,c,y,S,T,P){switch(y){case"children":typeof S=="string"?c==="body"||c==="textarea"&&S===""||zs(o,S):(typeof S=="number"||typeof S=="bigint")&&c!=="body"&&zs(o,""+S);break;case"className":uf(o,"class",S);break;case"tabIndex":uf(o,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":uf(o,y,S);break;case"style":hy(o,S,P);break;case"data":if(c!=="object"){uf(o,"data",S);break}case"src":case"href":if(S===""&&(c!=="a"||y!=="href")){o.removeAttribute(y);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){o.removeAttribute(y);break}S=hf(""+S),o.setAttribute(y,S);break;case"action":case"formAction":if(typeof S=="function"){o.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(y==="formAction"?(c!=="input"&&Nn(o,c,"name",T.name,T,null),Nn(o,c,"formEncType",T.formEncType,T,null),Nn(o,c,"formMethod",T.formMethod,T,null),Nn(o,c,"formTarget",T.formTarget,T,null)):(Nn(o,c,"encType",T.encType,T,null),Nn(o,c,"method",T.method,T,null),Nn(o,c,"target",T.target,T,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){o.removeAttribute(y);break}S=hf(""+S),o.setAttribute(y,S);break;case"onClick":S!=null&&(o.onclick=ml);break;case"onScroll":S!=null&&Ft("scroll",o);break;case"onScrollEnd":S!=null&&Ft("scrollend",o);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(T.children!=null)throw Error(r(60));o.innerHTML=y}}break;case"multiple":o.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":o.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){o.removeAttribute("xlink:href");break}y=hf(""+S),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(y,""+S):o.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(y,""):o.removeAttribute(y);break;case"capture":case"download":S===!0?o.setAttribute(y,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(y,S):o.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?o.setAttribute(y,S):o.removeAttribute(y);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?o.removeAttribute(y):o.setAttribute(y,S);break;case"popover":Ft("beforetoggle",o),Ft("toggle",o),Wo(o,"popover",S);break;case"xlinkActuate":qo(o,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":qo(o,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":qo(o,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":qo(o,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":qo(o,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":qo(o,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":qo(o,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":qo(o,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":qo(o,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Wo(o,"is",S);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=dE.get(y)||y,Wo(o,y,S))}}function Np(o,c,y,S,T,P){switch(y){case"style":hy(o,S,P);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(T.children!=null)throw Error(r(60));o.innerHTML=y}}break;case"children":typeof S=="string"?zs(o,S):(typeof S=="number"||typeof S=="bigint")&&zs(o,""+S);break;case"onScroll":S!=null&&Ft("scroll",o);break;case"onScrollEnd":S!=null&&Ft("scrollend",o);break;case"onClick":S!=null&&(o.onclick=ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bg.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(T=y.endsWith("Capture"),c=y.slice(2,T?y.length-7:void 0),P=o[Mt]||null,P=P!=null?P[y]:null,typeof P=="function"&&o.removeEventListener(c,P,T),typeof S=="function")){typeof P!="function"&&P!==null&&(y in o?o[y]=null:o.hasAttribute(y)&&o.removeAttribute(y)),o.addEventListener(c,S,T);break e}y in o?o[y]=S:S===!0?o.setAttribute(y,""):Wo(o,y,S)}}}function Rr(o,c,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",o),Ft("load",o);var S=!1,T=!1,P;for(P in y)if(y.hasOwnProperty(P)){var $=y[P];if($!=null)switch(P){case"src":S=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Nn(o,c,P,$,y,null)}}T&&Nn(o,c,"srcSet",y.srcSet,y,null),S&&Nn(o,c,"src",y.src,y,null);return;case"input":Ft("invalid",o);var Q=P=$=T=null,fe=null,Oe=null;for(S in y)if(y.hasOwnProperty(S)){var ze=y[S];if(ze!=null)switch(S){case"name":T=ze;break;case"type":$=ze;break;case"checked":fe=ze;break;case"defaultChecked":Oe=ze;break;case"value":P=ze;break;case"defaultValue":Q=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,c));break;default:Nn(o,c,S,ze,y,null)}}Gg(o,P,Q,fe,Oe,$,T,!1),Eh(o);return;case"select":Ft("invalid",o),S=$=P=null;for(T in y)if(y.hasOwnProperty(T)&&(Q=y[T],Q!=null))switch(T){case"value":P=Q;break;case"defaultValue":$=Q;break;case"multiple":S=Q;default:Nn(o,c,T,Q,y,null)}c=P,y=$,o.multiple=!!S,c!=null?Pu(o,!!S,c,!1):y!=null&&Pu(o,!!S,y,!0);return;case"textarea":Ft("invalid",o),P=T=S=null;for($ in y)if(y.hasOwnProperty($)&&(Q=y[$],Q!=null))switch($){case"value":S=Q;break;case"defaultValue":T=Q;break;case"children":P=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:Nn(o,c,$,Q,y,null)}cy(o,S,T,P),Eh(o);return;case"option":for(fe in y)if(y.hasOwnProperty(fe)&&(S=y[fe],S!=null))switch(fe){case"selected":o.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Nn(o,c,fe,S,y,null)}return;case"dialog":Ft("beforetoggle",o),Ft("toggle",o),Ft("cancel",o),Ft("close",o);break;case"iframe":case"object":Ft("load",o);break;case"video":case"audio":for(S=0;S<Mo.length;S++)Ft(Mo[S],o);break;case"image":Ft("error",o),Ft("load",o);break;case"details":Ft("toggle",o);break;case"embed":case"source":case"link":Ft("error",o),Ft("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in y)if(y.hasOwnProperty(Oe)&&(S=y[Oe],S!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Nn(o,c,Oe,S,y,null)}return;default:if(Hg(c)){for(ze in y)y.hasOwnProperty(ze)&&(S=y[ze],S!==void 0&&Np(o,c,ze,S,y,void 0));return}}for(Q in y)y.hasOwnProperty(Q)&&(S=y[Q],S!=null&&Nn(o,c,Q,S,y,null))}function KE(o,c,y,S){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,P=null,$=null,Q=null,fe=null,Oe=null,ze=null;for(Le in y){var $e=y[Le];if(y.hasOwnProperty(Le)&&$e!=null)switch(Le){case"checked":break;case"value":break;case"defaultValue":fe=$e;default:S.hasOwnProperty(Le)||Nn(o,c,Le,null,S,$e)}}for(var Pe in S){var Le=S[Pe];if($e=y[Pe],S.hasOwnProperty(Pe)&&(Le!=null||$e!=null))switch(Pe){case"type":P=Le;break;case"name":T=Le;break;case"checked":Oe=Le;break;case"defaultChecked":ze=Le;break;case"value":$=Le;break;case"defaultValue":Q=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,c));break;default:Le!==$e&&Nn(o,c,Pe,Le,S,$e)}}Ug(o,$,Q,fe,Oe,ze,P,T);return;case"select":Le=$=Q=Pe=null;for(P in y)if(fe=y[P],y.hasOwnProperty(P)&&fe!=null)switch(P){case"value":break;case"multiple":Le=fe;default:S.hasOwnProperty(P)||Nn(o,c,P,null,S,fe)}for(T in S)if(P=S[T],fe=y[T],S.hasOwnProperty(T)&&(P!=null||fe!=null))switch(T){case"value":Pe=P;break;case"defaultValue":Q=P;break;case"multiple":$=P;default:P!==fe&&Nn(o,c,T,P,S,fe)}c=Q,y=$,S=Le,Pe!=null?Pu(o,!!y,Pe,!1):!!S!=!!y&&(c!=null?Pu(o,!!y,c,!0):Pu(o,!!y,y?[]:"",!1));return;case"textarea":Le=Pe=null;for(Q in y)if(T=y[Q],y.hasOwnProperty(Q)&&T!=null&&!S.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Nn(o,c,Q,null,S,T)}for($ in S)if(T=S[$],P=y[$],S.hasOwnProperty($)&&(T!=null||P!=null))switch($){case"value":Pe=T;break;case"defaultValue":Le=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==P&&Nn(o,c,$,T,S,P)}$g(o,Pe,Le);return;case"option":for(var Ot in y)if(Pe=y[Ot],y.hasOwnProperty(Ot)&&Pe!=null&&!S.hasOwnProperty(Ot))switch(Ot){case"selected":o.selected=!1;break;default:Nn(o,c,Ot,null,S,Pe)}for(fe in S)if(Pe=S[fe],Le=y[fe],S.hasOwnProperty(fe)&&Pe!==Le&&(Pe!=null||Le!=null))switch(fe){case"selected":o.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:Nn(o,c,fe,Pe,S,Le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in y)Pe=y[Ct],y.hasOwnProperty(Ct)&&Pe!=null&&!S.hasOwnProperty(Ct)&&Nn(o,c,Ct,null,S,Pe);for(Oe in S)if(Pe=S[Oe],Le=y[Oe],S.hasOwnProperty(Oe)&&Pe!==Le&&(Pe!=null||Le!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,c));break;default:Nn(o,c,Oe,Pe,S,Le)}return;default:if(Hg(c)){for(var Ln in y)Pe=y[Ln],y.hasOwnProperty(Ln)&&Pe!==void 0&&!S.hasOwnProperty(Ln)&&Np(o,c,Ln,void 0,S,Pe);for(ze in S)Pe=S[ze],Le=y[ze],!S.hasOwnProperty(ze)||Pe===Le||Pe===void 0&&Le===void 0||Np(o,c,ze,Pe,S,Le);return}}for(var Ce in y)Pe=y[Ce],y.hasOwnProperty(Ce)&&Pe!=null&&!S.hasOwnProperty(Ce)&&Nn(o,c,Ce,null,S,Pe);for($e in S)Pe=S[$e],Le=y[$e],!S.hasOwnProperty($e)||Pe===Le||Pe==null&&Le==null||Nn(o,c,$e,Pe,S,Le)}var _p=null,Ip=null;function Op(o){return o.nodeType===9?o:o.ownerDocument}function XE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZE(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function vc(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Dp=null;function Hx(){var o=window.event;return o&&o.type==="popstate"?o===Dp?!1:(Dp=o,!0):(Dp=null,!1)}var Yx=typeof setTimeout=="function"?setTimeout:void 0,Wx=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,qx=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(o){return g0.resolve(null).then(o).catch(Fo)}:Yx;function Fo(o){setTimeout(function(){throw o})}function bs(o){return o==="head"}function m0(o,c){var y=c,S=0,T=0;do{var P=y.nextSibling;if(o.removeChild(y),P&&P.nodeType===8)if(y=P.data,y==="/$"){if(0<S&&8>S){y=S;var $=o.ownerDocument;if(y&1&&Hf($.documentElement),y&2&&Hf($.body),y&4)for(y=$.head,Hf(y),$=y.firstChild;$;){var Q=$.nextSibling,fe=$.nodeName;$[Ji]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&$.rel.toLowerCase()==="stylesheet"||y.removeChild($),$=Q}}if(T===0){o.removeChild(P),E0(c);return}T--}else y==="$"||y==="$?"||y==="$!"?T++:S=y.charCodeAt(0)-48;else S=0;y=P}while(y);E0(c)}function v0(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var y=c;switch(c=c.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":v0(y),Fg(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}o.removeChild(y)}}function JE(o,c,y,S){for(;o.nodeType===1;){var T=y;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!S&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(S){if(!o[Ji])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(P=o.getAttribute("rel"),P==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(P!==T.rel||o.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||o.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||o.getAttribute("title")!==(T.title==null?null:T.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(P=o.getAttribute("src"),(P!==(T.src==null?null:T.src)||o.getAttribute("type")!==(T.type==null?null:T.type)||o.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&P&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var P=T.name==null?null:""+T.name;if(T.type==="hidden"&&o.getAttribute("name")===P)return o}else return o;if(o=li(o.nextSibling),o===null)break}return null}function QE(o,c,y){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!y||(o=li(o.nextSibling),o===null))return null;return o}function Pp(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function Kx(o,c){var y=o.ownerDocument;if(o.data!=="$?"||y.readyState==="complete")c();else{var S=function(){c(),y.removeEventListener("DOMContentLoaded",S)};y.addEventListener("DOMContentLoaded",S),o._reactRetry=S}}function li(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var y0=null;function Xx(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var y=o.data;if(y==="$"||y==="$!"||y==="$?"){if(c===0)return o;c--}else y==="/$"&&c++}o=o.previousSibling}return null}function Zx(o,c,y){switch(c=Op(y),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Hf(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Fg(o)}var $i=new Map,Jx=new Set;function yc(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ss=we.d;we.d={f:e1,r:Qx,D:tb,C:t1,L:n1,m:h,X:u,S:i,M:v};function e1(){var o=Ss.f(),c=ca();return o||c}function Qx(o){var c=Yo(o);c!==null&&c.tag===5&&c.type==="form"?mx(c):Ss.r(o)}var xc=typeof document>"u"?null:document;function eb(o,c,y){var S=xc;if(S&&typeof c=="string"&&c){var T=Pr(c);T='link[rel="'+o+'"][href="'+T+'"]',typeof y=="string"&&(T+='[crossorigin="'+y+'"]'),Jx.has(T)||(Jx.add(T),o={rel:o,crossOrigin:y,href:c},S.querySelector(T)===null&&(c=S.createElement("link"),Rr(c,"link",o),tr(c),S.head.appendChild(c)))}}function tb(o){Ss.D(o),eb("dns-prefetch",o,null)}function t1(o,c){Ss.C(o,c),eb("preconnect",o,c)}function n1(o,c,y){Ss.L(o,c,y);var S=xc;if(S&&o&&c){var T='link[rel="preload"][as="'+Pr(c)+'"]';c==="image"&&y&&y.imageSrcSet?(T+='[imagesrcset="'+Pr(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(T+='[imagesizes="'+Pr(y.imageSizes)+'"]')):T+='[href="'+Pr(o)+'"]';var P=T;switch(c){case"style":P=_(o);break;case"script":P=ee(o)}$i.has(P)||(o=p({rel:"preload",href:c==="image"&&y&&y.imageSrcSet?void 0:o,as:c},y),$i.set(P,o),S.querySelector(T)!==null||c==="style"&&S.querySelector(L(P))||c==="script"&&S.querySelector(ce(P))||(c=S.createElement("link"),Rr(c,"link",o),tr(c),S.head.appendChild(c)))}}function h(o,c){Ss.m(o,c);var y=xc;if(y&&o){var S=c&&typeof c.as=="string"?c.as:"script",T='link[rel="modulepreload"][as="'+Pr(S)+'"][href="'+Pr(o)+'"]',P=T;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=ee(o)}if(!$i.has(P)&&(o=p({rel:"modulepreload",href:o},c),$i.set(P,o),y.querySelector(T)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(ce(P)))return}S=y.createElement("link"),Rr(S,"link",o),tr(S),y.head.appendChild(S)}}}function i(o,c,y){Ss.S(o,c,y);var S=xc;if(S&&o){var T=Bs(S).hoistableStyles,P=_(o);c=c||"default";var $=T.get(P);if(!$){var Q={loading:0,preload:null};if($=S.querySelector(L(P)))Q.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},y),(y=$i.get(P))&&Te(o,y);var fe=$=S.createElement("link");tr(fe),Rr(fe,"link",o),fe._p=new Promise(function(Oe,ze){fe.onload=Oe,fe.onerror=ze}),fe.addEventListener("load",function(){Q.loading|=1}),fe.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Be($,c,S)}$={type:"stylesheet",instance:$,count:1,state:Q},T.set(P,$)}}}function u(o,c){Ss.X(o,c);var y=xc;if(y&&o){var S=Bs(y).hoistableScripts,T=ee(o),P=S.get(T);P||(P=y.querySelector(ce(T)),P||(o=p({src:o,async:!0},c),(c=$i.get(T))&&We(o,c),P=y.createElement("script"),tr(P),Rr(P,"link",o),y.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},S.set(T,P))}}function v(o,c){Ss.M(o,c);var y=xc;if(y&&o){var S=Bs(y).hoistableScripts,T=ee(o),P=S.get(T);P||(P=y.querySelector(ce(T)),P||(o=p({src:o,async:!0,type:"module"},c),(c=$i.get(T))&&We(o,c),P=y.createElement("script"),tr(P),Rr(P,"link",o),y.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},S.set(T,P))}}function E(o,c,y,S){var T=(T=Y.current)?yc(T):null;if(!T)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(c=_(y.href),y=Bs(T).hoistableStyles,S=y.get(c),S||(S={type:"style",instance:null,count:0,state:null},y.set(c,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){o=_(y.href);var P=Bs(T).hoistableStyles,$=P.get(o);if($||(T=T.ownerDocument||T,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(o,$),(P=T.querySelector(L(o)))&&!P._p&&($.instance=P,$.state.loading=5),$i.has(o)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},$i.set(o,y),P||W(T,o,y,$.state))),c&&S===null)throw Error(r(528,""));return $}if(c&&S!==null)throw Error(r(529,""));return null;case"script":return c=y.async,y=y.src,typeof y=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=ee(y),y=Bs(T).hoistableScripts,S=y.get(c),S||(S={type:"script",instance:null,count:0,state:null},y.set(c,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function _(o){return'href="'+Pr(o)+'"'}function L(o){return'link[rel="stylesheet"]['+o+"]"}function U(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function W(o,c,y,S){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?S.loading=1:(c=o.createElement("link"),S.preload=c,c.addEventListener("load",function(){return S.loading|=1}),c.addEventListener("error",function(){return S.loading|=2}),Rr(c,"link",y),tr(c),o.head.appendChild(c))}function ee(o){return'[src="'+Pr(o)+'"]'}function ce(o){return"script[async]"+o}function Re(o,c,y){if(c.count++,c.instance===null)switch(c.type){case"style":var S=o.querySelector('style[data-href~="'+Pr(y.href)+'"]');if(S)return c.instance=S,tr(S),S;var T=p({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return S=(o.ownerDocument||o).createElement("style"),tr(S),Rr(S,"style",T),Be(S,y.precedence,o),c.instance=S;case"stylesheet":T=_(y.href);var P=o.querySelector(L(T));if(P)return c.state.loading|=4,c.instance=P,tr(P),P;S=U(y),(T=$i.get(T))&&Te(S,T),P=(o.ownerDocument||o).createElement("link"),tr(P);var $=P;return $._p=new Promise(function(Q,fe){$.onload=Q,$.onerror=fe}),Rr(P,"link",S),c.state.loading|=4,Be(P,y.precedence,o),c.instance=P;case"script":return P=ee(y.src),(T=o.querySelector(ce(P)))?(c.instance=T,tr(T),T):(S=y,(T=$i.get(P))&&(S=p({},y),We(S,T)),o=o.ownerDocument||o,T=o.createElement("script"),tr(T),Rr(T,"link",S),o.head.appendChild(T),c.instance=T);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(S=c.instance,c.state.loading|=4,Be(S,y.precedence,o));return c.instance}function Be(o,c,y){for(var S=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=S.length?S[S.length-1]:null,P=T,$=0;$<S.length;$++){var Q=S[$];if(Q.dataset.precedence===c)P=Q;else if(P!==T)break}P?P.parentNode.insertBefore(o,P.nextSibling):(c=y.nodeType===9?y.head:y,c.insertBefore(o,c.firstChild))}function Te(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function We(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var He=null;function ot(o,c,y){if(He===null){var S=new Map,T=He=new Map;T.set(y,S)}else T=He,S=T.get(y),S||(S=new Map,T.set(y,S));if(S.has(o))return S;for(S.set(o,null),y=y.getElementsByTagName(o),T=0;T<y.length;T++){var P=y[T];if(!(P[Ji]||P[ln]||o==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var $=P.getAttribute(c)||"";$=o+$;var Q=S.get($);Q?Q.push(P):S.set($,[P])}}return S}function At(o,c,y){o=o.ownerDocument||o,o.head.insertBefore(y,c==="title"?o.querySelector("head > title"):null)}function cn(o,c,y){if(y===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Dn(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var en=null;function Tr(){}function fn(o,c,y){if(en===null)throw Error(r(475));var S=en;if(c.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var T=_(y.href),P=o.querySelector(L(T));if(P){o=P._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(S.count++,S=Gn.bind(S),o.then(S,S)),c.state.loading|=4,c.instance=P,tr(P);return}P=o.ownerDocument||o,y=U(y),(T=$i.get(T))&&Te(y,T),P=P.createElement("link"),tr(P);var $=P;$._p=new Promise(function(Q,fe){$.onload=Q,$.onerror=fe}),Rr(P,"link",y),c.instance=P}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(S.count++,c=Gn.bind(S),o.addEventListener("load",c),o.addEventListener("error",c))}}function or(){if(en===null)throw Error(r(475));var o=en;return o.stylesheets&&o.count===0&&Ci(o,o.stylesheets),0<o.count?function(c){var y=setTimeout(function(){if(o.stylesheets&&Ci(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(y)}}:null}function Gn(){if(this.count--,this.count===0){if(this.stylesheets)Ci(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Bn=null;function Ci(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Bn=new Map,c.forEach(nb,o),Bn=null,Gn.call(o))}function nb(o,c){if(!(c.state.loading&4)){var y=Bn.get(o);if(y)var S=y.get(null);else{y=new Map,Bn.set(o,y);for(var T=o.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<T.length;P++){var $=T[P];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(y.set($.dataset.precedence,$),S=$)}S&&y.set(null,S)}T=c.instance,$=T.getAttribute("data-precedence"),P=y.get($)||S,P===S&&y.set(null,T),y.set($,T),this.count++,S=Gn.bind(this),T.addEventListener("load",S),T.addEventListener("error",S),P?P.parentNode.insertBefore(T,P.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(T,o.firstChild)),c.state.loading|=4}}var bc={$$typeof:I,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Mp(o,c,y,S,T,P,$,Q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=S,this.onUncaughtError=T,this.onCaughtError=P,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function _R(o,c,y,S,T,P,$,Q,fe,Oe,ze,$e){return o=new Mp(o,c,y,$,Q,fe,Oe,$e),c=1,P===!0&&(c|=24),P=Mr(3,null,null,c),o.current=P,P.stateNode=o,c=mm(),c.refCount++,o.pooledCache=c,c.refCount++,P.memoizedState={element:S,isDehydrated:y,cache:c},bm(P),o}function IR(o){return o?(o=ju,o):ju}function OR(o,c,y,S,T,P){T=IR(T),S.context===null?S.context=T:S.pendingContext=T,S=ei(c),S.payload={element:y},P=P===void 0?null:P,P!==null&&(S.callback=P),y=Xs(o,S,c),y!==null&&(Je(y,o,c),Xu(y,o,c))}function DR(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var y=o.retryLane;o.retryLane=y!==0&&y<c?y:c}}function r1(o,c){DR(o,c),(o=o.alternate)&&DR(o,c)}function PR(o){if(o.tag===13){var c=Bu(o,67108864);c!==null&&Je(c,o,67108864),r1(o,67108864)}}var rb=!0;function pB(o,c,y,S){var T=ie.T;ie.T=null;var P=we.p;try{we.p=2,i1(o,c,y,S)}finally{we.p=P,ie.T=T}}function gB(o,c,y,S){var T=ie.T;ie.T=null;var P=we.p;try{we.p=8,i1(o,c,y,S)}finally{we.p=P,ie.T=T}}function i1(o,c,y,S){if(rb){var T=o1(S);if(T===null)Tp(o,c,S,ib,y),LR(o,S);else if(vB(T,o,c,y,S))S.stopPropagation();else if(LR(o,S),c&4&&-1<mB.indexOf(o)){for(;T!==null;){var P=Yo(T);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var $=nt(P.pendingLanes);if($!==0){var Q=P;for(Q.pendingLanes|=2,Q.entangledLanes|=2;$;){var fe=1<<31-at($);Q.entanglements[1]|=fe,$&=~fe}Ai(P),(dn&6)===0&&(gp=je()+500,ma(0))}}break;case 13:Q=Bu(P,2),Q!==null&&Je(Q,P,2),ca(),r1(P,2)}if(P=o1(S),P===null&&Tp(o,c,S,ib,y),P===T)break;T=P}T!==null&&S.stopPropagation()}else Tp(o,c,S,null,y)}}function o1(o){return o=gf(o),s1(o)}var ib=null;function s1(o){if(ib=null,o=ks(o),o!==null){var c=a(o);if(c===null)o=null;else{var y=c.tag;if(y===13){if(o=l(c),o!==null)return o;o=null}else if(y===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return ib=o,null}function MR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case me:return 2;case De:return 8;case Ze:case ht:return 32;case pt:return 268435456;default:return 32}default:return 32}}var a1=!1,Sc=null,Ec=null,Ac=null,x0=new Map,b0=new Map,Cc=[],mB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LR(o,c){switch(o){case"focusin":case"focusout":Sc=null;break;case"dragenter":case"dragleave":Ec=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":x0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":b0.delete(c.pointerId)}}function S0(o,c,y,S,T,P){return o===null||o.nativeEvent!==P?(o={blockedOn:c,domEventName:y,eventSystemFlags:S,nativeEvent:P,targetContainers:[T]},c!==null&&(c=Yo(c),c!==null&&PR(c)),o):(o.eventSystemFlags|=S,c=o.targetContainers,T!==null&&c.indexOf(T)===-1&&c.push(T),o)}function vB(o,c,y,S,T){switch(c){case"focusin":return Sc=S0(Sc,o,c,y,S,T),!0;case"dragenter":return Ec=S0(Ec,o,c,y,S,T),!0;case"mouseover":return Ac=S0(Ac,o,c,y,S,T),!0;case"pointerover":var P=T.pointerId;return x0.set(P,S0(x0.get(P)||null,o,c,y,S,T)),!0;case"gotpointercapture":return P=T.pointerId,b0.set(P,S0(b0.get(P)||null,o,c,y,S,T)),!0}return!1}function FR(o){var c=ks(o.target);if(c!==null){var y=a(c);if(y!==null){if(c=y.tag,c===13){if(c=l(y),c!==null){o.blockedOn=c,Wt(o.priority,function(){if(y.tag===13){var S=fr();S=Zt(S);var T=Bu(y,S);T!==null&&Je(T,y,S),r1(y,S)}});return}}else if(c===3&&y.stateNode.current.memoizedState.isDehydrated){o.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ob(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var y=o1(o.nativeEvent);if(y===null){y=o.nativeEvent;var S=new y.constructor(y.type,y);pf=S,y.target.dispatchEvent(S),pf=null}else return c=Yo(y),c!==null&&PR(c),o.blockedOn=y,!1;c.shift()}return!0}function kR(o,c,y){ob(o)&&y.delete(c)}function yB(){a1=!1,Sc!==null&&ob(Sc)&&(Sc=null),Ec!==null&&ob(Ec)&&(Ec=null),Ac!==null&&ob(Ac)&&(Ac=null),x0.forEach(kR),b0.forEach(kR)}function sb(o,c){o.blockedOn===c&&(o.blockedOn=null,a1||(a1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yB)))}var ab=null;function BR(o){ab!==o&&(ab=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ab===o&&(ab=null);for(var c=0;c<o.length;c+=3){var y=o[c],S=o[c+1],T=o[c+2];if(typeof S!="function"){if(s1(S||y)===null)continue;break}var P=Yo(y);P!==null&&(o.splice(c,3),c-=3,ii(P,{pending:!0,data:T,method:y.method,action:S},S,T))}}))}function E0(o){function c(fe){return sb(fe,o)}Sc!==null&&sb(Sc,o),Ec!==null&&sb(Ec,o),Ac!==null&&sb(Ac,o),x0.forEach(c),b0.forEach(c);for(var y=0;y<Cc.length;y++){var S=Cc[y];S.blockedOn===o&&(S.blockedOn=null)}for(;0<Cc.length&&(y=Cc[0],y.blockedOn===null);)FR(y),y.blockedOn===null&&Cc.shift();if(y=(o.ownerDocument||o).$$reactFormReplay,y!=null)for(S=0;S<y.length;S+=3){var T=y[S],P=y[S+1],$=T[Mt]||null;if(typeof P=="function")$||BR(y);else if($){var Q=null;if(P&&P.hasAttribute("formAction")){if(T=P,$=P[Mt]||null)Q=$.formAction;else if(s1(T)!==null)continue}else Q=$.action;typeof Q=="function"?y[S+1]=Q:(y.splice(S,3),S-=3),BR(y)}}}function l1(o){this._internalRoot=o}lb.prototype.render=l1.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var y=c.current,S=fr();OR(y,S,o,c,null,null)},lb.prototype.unmount=l1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;OR(o.current,2,null,o,null,null),ca(),c[En]=null}};function lb(o){this._internalRoot=o}lb.prototype.unstable_scheduleHydration=function(o){if(o){var c=gr();o={blockedOn:null,target:o,priority:c};for(var y=0;y<Cc.length&&c!==0&&c<Cc[y].priority;y++);Cc.splice(y,0,o),y===0&&FR(o)}};var jR=t.version;if(jR!=="19.1.0")throw Error(r(527,jR,"19.1.0"));we.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?g(o):null,o=o===null?null:o.stateNode,o};var xB={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ub=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ub.isDisabled&&ub.supportsFiber)try{qe=ub.inject(xB),Ye=ub}catch{}}return C0.createRoot=function(o,c){if(!s(o))throw Error(r(299));var y=!1,S="",T=Gm,P=sl,$=Co,Q=null;return c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onUncaughtError!==void 0&&(T=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Q=c.unstable_transitionCallbacks)),c=_R(o,1,!1,null,null,y,S,T,P,$,Q,null),o[En]=c.current,Rp(o),new l1(c)},C0.hydrateRoot=function(o,c,y){if(!s(o))throw Error(r(299));var S=!1,T="",P=Gm,$=sl,Q=Co,fe=null,Oe=null;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(T=y.identifierPrefix),y.onUncaughtError!==void 0&&(P=y.onUncaughtError),y.onCaughtError!==void 0&&($=y.onCaughtError),y.onRecoverableError!==void 0&&(Q=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(fe=y.unstable_transitionCallbacks),y.formState!==void 0&&(Oe=y.formState)),c=_R(o,1,!0,c,y??null,S,T,P,$,Q,fe,Oe),c.context=IR(null),y=c.current,S=fr(),S=Zt(S),T=ei(S),T.callback=null,Xs(y,T,S),y=S,c.current.lanes=y,sn(c,y),Ai(c),o[En]=c.current,Rp(o),new lb(c)},C0.version="19.1.0",C0}var XR;function IB(){if(XR)return f1.exports;XR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),f1.exports=_B(),f1.exports}var OB=IB(),M=xS();const Ke=t3(M),i3=AB({__proto__:null,default:Ke},[M]);var w0={},ZR;function DB(){if(ZR)return w0;ZR=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.parse=l,w0.serialize=g;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,b){const A=new a,C=x.length;if(C<2)return A;const w=(b==null?void 0:b.decode)||p;let R=0;do{const N=x.indexOf("=",R);if(N===-1)break;const I=x.indexOf(";",R),D=I===-1?C:I;if(N>D){R=x.lastIndexOf(";",N-1)+1;continue}const F=f(x,R,N),k=d(x,N,F),V=x.slice(F,k);if(A[V]===void 0){let B=f(x,N+1,D),H=d(x,D,B);const te=w(x.slice(B,H));A[V]=te}R=D+1}while(R<C);return A}function f(x,b,A){do{const C=x.charCodeAt(b);if(C!==32&&C!==9)return b}while(++b<A);return A}function d(x,b,A){for(;b>A;){const C=x.charCodeAt(--b);if(C!==32&&C!==9)return b+1}return A}function g(x,b,A){const C=(A==null?void 0:A.encode)||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const w=C(b);if(!t.test(w))throw new TypeError(`argument val is invalid: ${b}`);let R=x+"="+w;if(!A)return R;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);R+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);R+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);R+="; Path="+A.path}if(A.expires){if(!m(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);R+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(R+="; HttpOnly"),A.secure&&(R+="; Secure"),A.partitioned&&(R+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return R}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function m(x){return s.call(x)==="[object Date]"}return w0}DB();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JR="popstate";function PB(e={}){function t(r,s){let{pathname:a,search:l,hash:f}=r.location;return MC("",{pathname:a,search:l,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:mv(s)}return LB(t,n,null,e)}function Xn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _s(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MB(){return Math.random().toString(36).substring(2,10)}function QR(e,t){return{usr:e.state,key:e.key,idx:t}}function MC(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?gg(t):t,state:n,key:t&&t.key||r||MB()}}function mv({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function LB(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,f="POP",d=null,g=p();g==null&&(g=0,l.replaceState({...l.state,idx:g},""));function p(){return(l.state||{idx:null}).idx}function m(){f="POP";let w=p(),R=w==null?null:w-g;g=w,d&&d({action:f,location:C.location,delta:R})}function x(w,R){f="PUSH";let N=MC(C.location,w,R);g=p()+1;let I=QR(N,g),D=C.createHref(N);try{l.pushState(I,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(D)}a&&d&&d({action:f,location:C.location,delta:1})}function b(w,R){f="REPLACE";let N=MC(C.location,w,R);g=p();let I=QR(N,g),D=C.createHref(N);l.replaceState(I,"",D),a&&d&&d({action:f,location:C.location,delta:0})}function A(w){let R=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof w=="string"?w:mv(w);return N=N.replace(/ $/,"%20"),Xn(R,`No window.location.(origin|href) available to create URL for href: ${N}`),new URL(N,R)}let C={get action(){return f},get location(){return e(s,l)},listen(w){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(JR,m),d=w,()=>{s.removeEventListener(JR,m),d=null}},createHref(w){return t(s,w)},createURL:A,encodeLocation(w){let R=A(w);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:x,replace:b,go(w){return l.go(w)}};return C}function o3(e,t,n="/"){return FB(e,t,n,!1)}function FB(e,t,n,r){let s=typeof t=="string"?gg(t):t,a=Ru(s.pathname||"/",n);if(a==null)return null;let l=s3(e);kB(l);let f=null;for(let d=0;f==null&&d<l.length;++d){let g=qB(a);f=YB(l[d],g,r)}return f}function s3(e,t=[],n=[],r=""){let s=(a,l,f)=>{let d={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Xn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let g=Cu([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(Xn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),s3(a.children,t,p,g)),!(a.path==null&&!a.index)&&t.push({path:g,score:$B(g,a.index),routesMeta:p})};return e.forEach((a,l)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,l);else for(let d of a3(a.path))s(a,l,d)}),t}function a3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=a3(r.join("/")),f=[];return f.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&f.push(...l),f.map(d=>e.startsWith("/")&&d===""?"/":d)}function kB(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:HB(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var BB=/^:[\w-]+$/,jB=3,zB=2,VB=1,UB=10,GB=-2,eT=e=>e==="*";function $B(e,t){let n=e.split("/"),r=n.length;return n.some(eT)&&(r+=GB),t&&(r+=zB),n.filter(s=>!eT(s)).reduce((s,a)=>s+(BB.test(a)?jB:a===""?VB:UB),r)}function HB(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function YB(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",l=[];for(let f=0;f<r.length;++f){let d=r[f],g=f===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=Zb({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},p),x=d.route;if(!m&&g&&n&&!r[r.length-1].route.index&&(m=Zb({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Cu([a,m.pathname]),pathnameBase:JB(Cu([a,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(a=Cu([a,m.pathnameBase]))}return l}function Zb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=WB(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((g,{paramName:p,isOptional:m},x)=>{if(p==="*"){let A=f[x]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const b=f[x];return m&&!b?g[p]=void 0:g[p]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:l,pattern:e}}function WB(e,t=!1,n=!0){_s(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function qB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ru(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function KB(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?gg(e):e;return{pathname:n?n.startsWith("/")?n:XB(n,t):t,search:QB(r),hash:ej(s)}}function XB(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function m1(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZB(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jw(e){let t=ZB(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function zw(e,t,n,r=!1){let s;typeof e=="string"?s=gg(e):(s={...e},Xn(!s.pathname||!s.pathname.includes("?"),m1("?","pathname","search",s)),Xn(!s.pathname||!s.pathname.includes("#"),m1("#","pathname","hash",s)),Xn(!s.search||!s.search.includes("#"),m1("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,f;if(l==null)f=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}f=m>=0?t[m]:"/"}let d=KB(s,f),g=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||p)&&(d.pathname+="/"),d}var Cu=e=>e.join("/").replace(/\/\/+/g,"/"),JB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ej=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var l3=["POST","PUT","PATCH","DELETE"];new Set(l3);var nj=["GET",...l3];new Set(nj);var mg=M.createContext(null);mg.displayName="DataRouter";var bS=M.createContext(null);bS.displayName="DataRouterState";var u3=M.createContext({isTransitioning:!1});u3.displayName="ViewTransition";var rj=M.createContext(new Map);rj.displayName="Fetchers";var ij=M.createContext(null);ij.displayName="Await";var Ps=M.createContext(null);Ps.displayName="Navigation";var Iv=M.createContext(null);Iv.displayName="Location";var $o=M.createContext({outlet:null,matches:[],isDataRoute:!1});$o.displayName="Route";var Vw=M.createContext(null);Vw.displayName="RouteError";function oj(e,{relative:t}={}){Xn(vg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Ps),{hash:s,pathname:a,search:l}=Ov(e,{relative:t}),f=a;return n!=="/"&&(f=a==="/"?n:Cu([n,a])),r.createHref({pathname:f,search:l,hash:s})}function vg(){return M.useContext(Iv)!=null}function La(){return Xn(vg(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Iv).location}var c3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f3(e){M.useContext(Ps).static||M.useLayoutEffect(e)}function Uw(){let{isDataRoute:e}=M.useContext($o);return e?bj():sj()}function sj(){Xn(vg(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(mg),{basename:t,navigator:n}=M.useContext(Ps),{matches:r}=M.useContext($o),{pathname:s}=La(),a=JSON.stringify(jw(r)),l=M.useRef(!1);return f3(()=>{l.current=!0}),M.useCallback((d,g={})=>{if(_s(l.current,c3),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=zw(d,JSON.parse(a),s,g.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Cu([t,p.pathname])),(g.replace?n.replace:n.push)(p,g.state,g)},[t,n,a,s,e])}var aj=M.createContext(null);function lj(e){let t=M.useContext($o).outlet;return t&&M.createElement(aj.Provider,{value:e},t)}function d3(){let{matches:e}=M.useContext($o),t=e[e.length-1];return t?t.params:{}}function Ov(e,{relative:t}={}){let{matches:n}=M.useContext($o),{pathname:r}=La(),s=JSON.stringify(jw(n));return M.useMemo(()=>zw(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function uj(e,t){return h3(e,t)}function h3(e,t,n,r){var N;Xn(vg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=M.useContext(Ps),{matches:l}=M.useContext($o),f=l[l.length-1],d=f?f.params:{},g=f?f.pathname:"/",p=f?f.pathnameBase:"/",m=f&&f.route;{let I=m&&m.path||"";p3(g,!m||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let x=La(),b;if(t){let I=typeof t=="string"?gg(t):t;Xn(p==="/"||((N=I.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${I.pathname}" was given in the \`location\` prop.`),b=I}else b=x;let A=b.pathname||"/",C=A;if(p!=="/"){let I=p.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let w=!a&&n&&n.matches&&n.matches.length>0?n.matches:o3(e,{pathname:C});_s(m||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),_s(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=pj(w&&w.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:Cu([p,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:Cu([p,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),l,n,r);return t&&R?M.createElement(Iv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function cj(){let e=xj(),t=tj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:s},n):null,l)}var fj=M.createElement(cj,null),dj=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?M.createElement($o.Provider,{value:this.props.routeContext},M.createElement(Vw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hj({routeContext:e,match:t,children:n}){let r=M.useContext(mg);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement($o.Provider,{value:e},n)}function pj(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);Xn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,f=-1;if(n)for(let d=0;d<s.length;d++){let g=s[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=d),g.route.id){let{loaderData:p,errors:m}=n,x=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){l=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((d,g,p)=>{let m,x=!1,b=null,A=null;n&&(m=a&&g.route.id?a[g.route.id]:void 0,b=g.route.errorElement||fj,l&&(f<0&&p===0?(p3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):f===p&&(x=!0,A=g.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,p+1)),w=()=>{let R;return m?R=b:x?R=A:g.route.Component?R=M.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=d,M.createElement(hj,{match:g,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?M.createElement(dj,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}function Gw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gj(e){let t=M.useContext(mg);return Xn(t,Gw(e)),t}function mj(e){let t=M.useContext(bS);return Xn(t,Gw(e)),t}function vj(e){let t=M.useContext($o);return Xn(t,Gw(e)),t}function $w(e){let t=vj(e),n=t.matches[t.matches.length-1];return Xn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function yj(){return $w("useRouteId")}function xj(){var r;let e=M.useContext(Vw),t=mj("useRouteError"),n=$w("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function bj(){let{router:e}=gj("useNavigate"),t=$w("useNavigate"),n=M.useRef(!1);return f3(()=>{n.current=!0}),M.useCallback(async(s,a={})=>{_s(n.current,c3),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var tT={};function p3(e,t,n){!t&&!tT[e]&&(tT[e]=!0,_s(!1,n))}M.memo(Sj);function Sj({routes:e,future:t,state:n}){return h3(e,void 0,n,t)}function g3({to:e,replace:t,state:n,relative:r}){Xn(vg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=M.useContext(Ps);_s(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=M.useContext($o),{pathname:l}=La(),f=Uw(),d=zw(e,jw(a),l,r==="path"),g=JSON.stringify(d);return M.useEffect(()=>{f(JSON.parse(g),{replace:t,state:n,relative:r})},[f,g,r,t,n]),null}function Hw(e){return lj(e.context)}function ba(e){Xn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ej({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){Xn(!vg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),f=M.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=gg(n));let{pathname:d="/",search:g="",hash:p="",state:m=null,key:x="default"}=n,b=M.useMemo(()=>{let A=Ru(d,l);return A==null?null:{location:{pathname:A,search:g,hash:p,state:m,key:x},navigationType:r}},[l,d,g,p,m,x,r]);return _s(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(Ps.Provider,{value:f},M.createElement(Iv.Provider,{children:t,value:b}))}function Aj({children:e,location:t}){return uj(LC(e),t)}function LC(e,t=[]){let n=[];return M.Children.forEach(e,(r,s)=>{if(!M.isValidElement(r))return;let a=[...t,s];if(r.type===M.Fragment){n.push.apply(n,LC(r.props.children,a));return}Xn(r.type===ba,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=LC(r.props.children,a)),n.push(l)}),n}var Lb="get",Fb="application/x-www-form-urlencoded";function SS(e){return e!=null&&typeof e.tagName=="string"}function Cj(e){return SS(e)&&e.tagName.toLowerCase()==="button"}function wj(e){return SS(e)&&e.tagName.toLowerCase()==="form"}function Rj(e){return SS(e)&&e.tagName.toLowerCase()==="input"}function Tj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Nj(e,t){return e.button===0&&(!t||t==="_self")&&!Tj(e)}var fb=null;function _j(){if(fb===null)try{new FormData(document.createElement("form"),0),fb=!1}catch{fb=!0}return fb}var Ij=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v1(e){return e!=null&&!Ij.has(e)?(_s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fb}"`),null):e}function Oj(e,t){let n,r,s,a,l;if(wj(e)){let f=e.getAttribute("action");r=f?Ru(f,t):null,n=e.getAttribute("method")||Lb,s=v1(e.getAttribute("enctype"))||Fb,a=new FormData(e)}else if(Cj(e)||Rj(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||f.getAttribute("action");if(r=d?Ru(d,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||Lb,s=v1(e.getAttribute("formenctype"))||v1(f.getAttribute("enctype"))||Fb,a=new FormData(f,e),!_j()){let{name:g,type:p,value:m}=e;if(p==="image"){let x=g?`${g}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else g&&a.append(g,m)}}else{if(SS(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lb,r=null,s=Fb,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function Yw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Dj(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Mj(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await Dj(a,n);return l.links?l.links():[]}return[]}));return Bj(r.flat(1).filter(Pj).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function nT(e,t,n,r,s,a){let l=(d,g)=>n[g]?d.route.id!==n[g].route.id:!0,f=(d,g)=>{var p;return n[g].pathname!==d.pathname||((p=n[g].route.path)==null?void 0:p.endsWith("*"))&&n[g].params["*"]!==d.params["*"]};return a==="assets"?t.filter((d,g)=>l(d,g)||f(d,g)):a==="data"?t.filter((d,g)=>{var m;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,g)||f(d,g))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Lj(e,t,{includeHydrateFallback:n}={}){return Fj(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Fj(e){return[...new Set(e)]}function kj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Bj(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(kj(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function jj(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ru(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function m3(){let e=M.useContext(mg);return Yw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function zj(){let e=M.useContext(bS);return Yw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ww=M.createContext(void 0);Ww.displayName="FrameworkContext";function v3(){let e=M.useContext(Ww);return Yw(e,"You must render this element inside a <HydratedRouter> element"),e}function Vj(e,t){let n=M.useContext(Ww),[r,s]=M.useState(!1),[a,l]=M.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:g,onMouseLeave:p,onTouchStart:m}=t,x=M.useRef(null);M.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let C=R=>{R.forEach(N=>{l(N.isIntersecting)})},w=new IntersectionObserver(C,{threshold:.5});return x.current&&w.observe(x.current),()=>{w.disconnect()}}},[e]),M.useEffect(()=>{if(r){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[r]);let b=()=>{s(!0)},A=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,x,{}]:[a,x,{onFocus:R0(f,b),onBlur:R0(d,A),onMouseEnter:R0(g,b),onMouseLeave:R0(p,A),onTouchStart:R0(m,b)}]:[!1,x,{}]}function R0(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Uj({page:e,...t}){let{router:n}=m3(),r=M.useMemo(()=>o3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?M.createElement($j,{page:e,matches:r,...t}):null}function Gj(e){let{manifest:t,routeModules:n}=v3(),[r,s]=M.useState([]);return M.useEffect(()=>{let a=!1;return Mj(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),r}function $j({page:e,matches:t,...n}){let r=La(),{manifest:s,routeModules:a}=v3(),{basename:l}=m3(),{loaderData:f,matches:d}=zj(),g=M.useMemo(()=>nT(e,t,d,s,r,"data"),[e,t,d,s,r]),p=M.useMemo(()=>nT(e,t,d,s,r,"assets"),[e,t,d,s,r]),m=M.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let A=new Set,C=!1;if(t.forEach(R=>{var I;let N=s.routes[R.route.id];!N||!N.hasLoader||(!g.some(D=>D.route.id===R.route.id)&&R.route.id in f&&((I=a[R.route.id])!=null&&I.shouldRevalidate)||N.hasClientLoader?C=!0:A.add(R.route.id))}),A.size===0)return[];let w=jj(e,l);return C&&A.size>0&&w.searchParams.set("_routes",t.filter(R=>A.has(R.route.id)).map(R=>R.route.id).join(",")),[w.pathname+w.search]},[l,f,r,s,g,t,e,a]),x=M.useMemo(()=>Lj(p,s),[p,s]),b=Gj(p);return M.createElement(M.Fragment,null,m.map(A=>M.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),x.map(A=>M.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),b.map(({key:A,link:C})=>M.createElement("link",{key:A,...C})))}function Hj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var y3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y3&&(window.__reactRouterVersion="7.5.0")}catch{}function Yj({basename:e,children:t,window:n}){let r=M.useRef();r.current==null&&(r.current=PB({window:n,v5Compat:!0}));let s=r.current,[a,l]=M.useState({action:s.action,location:s.location}),f=M.useCallback(d=>{M.startTransition(()=>l(d))},[l]);return M.useLayoutEffect(()=>s.listen(f),[s,f]),M.createElement(Ej,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var x3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yg=M.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:f,target:d,to:g,preventScrollReset:p,viewTransition:m,...x},b){let{basename:A}=M.useContext(Ps),C=typeof g=="string"&&x3.test(g),w,R=!1;if(typeof g=="string"&&C&&(w=g,y3))try{let H=new URL(window.location.href),te=g.startsWith("//")?new URL(H.protocol+g):new URL(g),re=Ru(te.pathname,A);te.origin===H.origin&&re!=null?g=re+te.search+te.hash:R=!0}catch{_s(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=oj(g,{relative:s}),[I,D,F]=Vj(r,x),k=Xj(g,{replace:l,state:f,target:d,preventScrollReset:p,relative:s,viewTransition:m});function V(H){t&&t(H),H.defaultPrevented||k(H)}let B=M.createElement("a",{...x,...F,href:w||N,onClick:R||a?t:V,ref:Hj(b,D),target:d,"data-discover":!C&&n==="render"?"true":void 0});return I&&!C?M.createElement(M.Fragment,null,B,M.createElement(Uj,{page:N})):B});yg.displayName="Link";var Wj=M.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:f,children:d,...g},p){let m=Ov(l,{relative:g.relative}),x=La(),b=M.useContext(bS),{navigator:A,basename:C}=M.useContext(Ps),w=b!=null&&tz(m)&&f===!0,R=A.encodeLocation?A.encodeLocation(m).pathname:m.pathname,N=x.pathname,I=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(N=N.toLowerCase(),I=I?I.toLowerCase():null,R=R.toLowerCase()),I&&C&&(I=Ru(I,C)||I);const D=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let F=N===R||!s&&N.startsWith(R)&&N.charAt(D)==="/",k=I!=null&&(I===R||!s&&I.startsWith(R)&&I.charAt(R.length)==="/"),V={isActive:F,isPending:k,isTransitioning:w},B=F?t:void 0,H;typeof r=="function"?H=r(V):H=[r,F?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let te=typeof a=="function"?a(V):a;return M.createElement(yg,{...g,"aria-current":B,className:H,ref:p,style:te,to:l,viewTransition:f},typeof d=="function"?d(V):d)});Wj.displayName="NavLink";var qj=M.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:l=Lb,action:f,onSubmit:d,relative:g,preventScrollReset:p,viewTransition:m,...x},b)=>{let A=Qj(),C=ez(f,{relative:g}),w=l.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&x3.test(f),N=I=>{if(d&&d(I),I.defaultPrevented)return;I.preventDefault();let D=I.nativeEvent.submitter,F=(D==null?void 0:D.getAttribute("formmethod"))||l;A(D||I.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:s,state:a,relative:g,preventScrollReset:p,viewTransition:m})};return M.createElement("form",{ref:b,method:w,action:C,onSubmit:r?d:N,...x,"data-discover":!R&&e==="render"?"true":void 0})});qj.displayName="Form";function Kj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b3(e){let t=M.useContext(mg);return Xn(t,Kj(e)),t}function Xj(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let f=Uw(),d=La(),g=Ov(e,{relative:a});return M.useCallback(p=>{if(Nj(p,t)){p.preventDefault();let m=n!==void 0?n:mv(d)===mv(g);f(e,{replace:m,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,f,g,n,r,t,e,s,a,l])}var Zj=0,Jj=()=>`__${String(++Zj)}__`;function Qj(){let{router:e}=b3("useSubmit"),{basename:t}=M.useContext(Ps),n=yj();return M.useCallback(async(r,s={})=>{let{action:a,method:l,encType:f,formData:d,body:g}=Oj(r,t);if(s.navigate===!1){let p=s.fetcherKey||Jj();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||l,formEncType:s.encType||f,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||l,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function ez(e,{relative:t}={}){let{basename:n}=M.useContext(Ps),r=M.useContext($o);Xn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Ov(e||".",{relative:t})},l=La();if(e==null){a.search=l.search;let f=new URLSearchParams(a.search),d=f.getAll("index");if(d.some(p=>p==="")){f.delete("index"),d.filter(m=>m).forEach(m=>f.append("index",m));let p=f.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Cu([n,a.pathname])),mv(a)}function tz(e,t={}){let n=M.useContext(u3);Xn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=b3("useViewTransitionState"),s=Ov(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Ru(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ru(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zb(s.pathname,l)!=null||Zb(s.pathname,a)!=null}new TextEncoder;var Na=r3();const S3=t3(Na);var xg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ah=typeof window>"u"||"Deno"in globalThis;function Vo(){}function nz(e,t){return typeof e=="function"?e(t):e}function FC(e){return typeof e=="number"&&e>=0&&e!==1/0}function E3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $p(e,t){return typeof e=="function"?e(t):e}function Ts(e,t){return typeof e=="function"?e(t):e}function rT(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:l,stale:f}=e;if(l){if(r){if(t.queryHash!==qw(l,t.options))return!1}else if(!vv(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||s&&s!==t.state.fetchStatus||a&&!a(t))}function iT(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(lh(t.options.mutationKey)!==lh(a))return!1}else if(!vv(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function qw(e,t){return((t==null?void 0:t.queryKeyHashFn)||lh)(e)}function lh(e){return JSON.stringify(e,(t,n)=>kC(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function vv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>vv(e[n],t[n])):!1}function A3(e,t){if(e===t)return e;const n=oT(e)&&oT(t);if(n||kC(e)&&kC(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),l=a.length,f=n?[]:{};let d=0;for(let g=0;g<l;g++){const p=n?g:a[g];(!n&&r.includes(p)||n)&&e[p]===void 0&&t[p]===void 0?(f[p]=void 0,d++):(f[p]=A3(e[p],t[p]),f[p]===e[p]&&e[p]!==void 0&&d++)}return s===l&&d===s?e:f}return t}function Jb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function oT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kC(e){if(!sT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!sT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function sT(e){return Object.prototype.toString.call(e)==="[object Object]"}function rz(e){return new Promise(t=>{setTimeout(t,e)})}function BC(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?A3(e,t):t}function iz(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function oz(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Kw=Symbol();function C3(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Kw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Jd,Pc,Xp,$D,sz=($D=class extends xg{constructor(){super();Et(this,Jd);Et(this,Pc);Et(this,Xp);st(this,Xp,t=>{if(!ah&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){pe(this,Pc)||this.setEventListener(pe(this,Xp))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Pc))==null||t.call(this),st(this,Pc,void 0))}setEventListener(t){var n;st(this,Xp,t),(n=pe(this,Pc))==null||n.call(this),st(this,Pc,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){pe(this,Jd)!==t&&(st(this,Jd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof pe(this,Jd)=="boolean"?pe(this,Jd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Jd=new WeakMap,Pc=new WeakMap,Xp=new WeakMap,$D),Xw=new sz,Zp,Mc,Jp,HD,az=(HD=class extends xg{constructor(){super();Et(this,Zp,!0);Et(this,Mc);Et(this,Jp);st(this,Jp,t=>{if(!ah&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){pe(this,Mc)||this.setEventListener(pe(this,Jp))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Mc))==null||t.call(this),st(this,Mc,void 0))}setEventListener(t){var n;st(this,Jp,t),(n=pe(this,Mc))==null||n.call(this),st(this,Mc,t(this.setOnline.bind(this)))}setOnline(t){pe(this,Zp)!==t&&(st(this,Zp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return pe(this,Zp)}},Zp=new WeakMap,Mc=new WeakMap,Jp=new WeakMap,HD),Qb=new az;function jC(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function lz(e){return Math.min(1e3*2**e,3e4)}function w3(e){return(e??"online")==="online"?Qb.isOnline():!0}var R3=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function y1(e){return e instanceof R3}function T3(e){let t=!1,n=0,r=!1,s;const a=jC(),l=C=>{var w;r||(x(new R3(C)),(w=e.abort)==null||w.call(e))},f=()=>{t=!0},d=()=>{t=!1},g=()=>Xw.isFocused()&&(e.networkMode==="always"||Qb.isOnline())&&e.canRun(),p=()=>w3(e.networkMode)&&e.canRun(),m=C=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,C),s==null||s(),a.resolve(C))},x=C=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,C),s==null||s(),a.reject(C))},b=()=>new Promise(C=>{var w;s=R=>{(r||g())&&C(R)},(w=e.onPause)==null||w.call(e)}).then(()=>{var C;s=void 0,r||(C=e.onContinue)==null||C.call(e)}),A=()=>{if(r)return;let C;const w=n===0?e.initialPromise:void 0;try{C=w??e.fn()}catch(R){C=Promise.reject(R)}Promise.resolve(C).then(m).catch(R=>{var k;if(r)return;const N=e.retry??(ah?0:3),I=e.retryDelay??lz,D=typeof I=="function"?I(n,R):I,F=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,R);if(t||!F){x(R);return}n++,(k=e.onFail)==null||k.call(e,n,R),rz(D).then(()=>g()?void 0:b()).then(()=>{t?x(R):A()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:f,continueRetry:d,canStart:p,start:()=>(p()?A():b().then(A),a)}}var uz=e=>setTimeout(e,0);function cz(){let e=[],t=0,n=f=>{f()},r=f=>{f()},s=uz;const a=f=>{t?e.push(f):s(()=>{n(f)})},l=()=>{const f=e;e=[],f.length&&s(()=>{r(()=>{f.forEach(d=>{n(d)})})})};return{batch:f=>{let d;t++;try{d=f()}finally{t--,t||l()}return d},batchCalls:f=>(...d)=>{a(()=>{f(...d)})},schedule:a,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:f=>{s=f}}}var Or=cz(),Qd,YD,N3=(YD=class{constructor(){Et(this,Qd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),FC(this.gcTime)&&st(this,Qd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ah?1/0:5*60*1e3))}clearGcTimeout(){pe(this,Qd)&&(clearTimeout(pe(this,Qd)),st(this,Qd,void 0))}},Qd=new WeakMap,YD),Qp,eg,zo,eh,gi,Rv,th,ws,bu,WD,fz=(WD=class extends N3{constructor(t){super();Et(this,ws);Et(this,Qp);Et(this,eg);Et(this,zo);Et(this,eh);Et(this,gi);Et(this,Rv);Et(this,th);st(this,th,!1),st(this,Rv,t.defaultOptions),this.setOptions(t.options),this.observers=[],st(this,eh,t.client),st(this,zo,pe(this,eh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,st(this,Qp,dz(this.options)),this.state=t.state??pe(this,Qp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=pe(this,gi))==null?void 0:t.promise}setOptions(t){this.options={...pe(this,Rv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,zo).remove(this)}setData(t,n){const r=BC(this.state.data,t,this.options);return Ht(this,ws,bu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ht(this,ws,bu).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=pe(this,gi))==null?void 0:r.promise;return(s=pe(this,gi))==null||s.cancel(t),n?n.then(Vo).catch(Vo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,Qp))}isActive(){return this.observers.some(t=>Ts(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!E3(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=pe(this,gi))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=pe(this,gi))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),pe(this,zo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(pe(this,gi)&&(pe(this,th)?pe(this,gi).cancel({revert:!0}):pe(this,gi).cancelRetry()),this.scheduleGc()),pe(this,zo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,ws,bu).call(this,{type:"invalidate"})}fetch(t,n){var d,g,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(pe(this,gi))return pe(this,gi).continueRetry(),pe(this,gi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(st(this,th,!0),r.signal)})},a=()=>{const m=C3(this.options,n),x={client:pe(this,eh),queryKey:this.queryKey,meta:this.meta};return s(x),st(this,th,!1),this.options.persister?this.options.persister(m,x,this):m(x)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:pe(this,eh),state:this.state,fetchFn:a};s(l),(d=this.options.behavior)==null||d.onFetch(l,this),st(this,eg,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=l.fetchOptions)==null?void 0:g.meta))&&Ht(this,ws,bu).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const f=m=>{var x,b,A,C;y1(m)&&m.silent||Ht(this,ws,bu).call(this,{type:"error",error:m}),y1(m)||((b=(x=pe(this,zo).config).onError)==null||b.call(x,m,this),(C=(A=pe(this,zo).config).onSettled)==null||C.call(A,this.state.data,m,this)),this.scheduleGc()};return st(this,gi,T3({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var x,b,A,C;if(m===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){f(w);return}(b=(x=pe(this,zo).config).onSuccess)==null||b.call(x,m,this),(C=(A=pe(this,zo).config).onSettled)==null||C.call(A,m,this.state.error,this),this.scheduleGc()},onError:f,onFail:(m,x)=>{Ht(this,ws,bu).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{Ht(this,ws,bu).call(this,{type:"pause"})},onContinue:()=>{Ht(this,ws,bu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),pe(this,gi).start()}},Qp=new WeakMap,eg=new WeakMap,zo=new WeakMap,eh=new WeakMap,gi=new WeakMap,Rv=new WeakMap,th=new WeakMap,ws=new WeakSet,bu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._3(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return y1(s)&&s.revert&&pe(this,eg)?{...pe(this,eg),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Or.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),pe(this,zo).notify({query:this,type:"updated",action:t})})},WD);function _3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:w3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dz(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Sa,qD,hz=(qD=class extends xg{constructor(t={}){super();Et(this,Sa);this.config=t,st(this,Sa,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??qw(s,n);let l=this.get(a);return l||(l=new fz({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){pe(this,Sa).has(t.queryHash)||(pe(this,Sa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=pe(this,Sa).get(t.queryHash);n&&(t.destroy(),n===t&&pe(this,Sa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Or.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return pe(this,Sa).get(t)}getAll(){return[...pe(this,Sa).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>rT(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>rT(t,r)):n}notify(t){Or.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Or.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Or.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Sa=new WeakMap,qD),Ea,wi,nh,Aa,Tc,KD,pz=(KD=class extends N3{constructor(t){super();Et(this,Aa);Et(this,Ea);Et(this,wi);Et(this,nh);this.mutationId=t.mutationId,st(this,wi,t.mutationCache),st(this,Ea,[]),this.state=t.state||I3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){pe(this,Ea).includes(t)||(pe(this,Ea).push(t),this.clearGcTimeout(),pe(this,wi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){st(this,Ea,pe(this,Ea).filter(n=>n!==t)),this.scheduleGc(),pe(this,wi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){pe(this,Ea).length||(this.state.status==="pending"?this.scheduleGc():pe(this,wi).remove(this))}continue(){var t;return((t=pe(this,nh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,f,d,g,p,m,x,b,A,C,w,R,N,I,D,F,k,V,B;const n=()=>{Ht(this,Aa,Tc).call(this,{type:"continue"})};st(this,nh,T3({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(H,te)=>{Ht(this,Aa,Tc).call(this,{type:"failed",failureCount:H,error:te})},onPause:()=>{Ht(this,Aa,Tc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,wi).canRun(this)}));const r=this.state.status==="pending",s=!pe(this,nh).canStart();try{if(r)n();else{Ht(this,Aa,Tc).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(a=pe(this,wi).config).onMutate)==null?void 0:l.call(a,t,this));const te=await((d=(f=this.options).onMutate)==null?void 0:d.call(f,t));te!==this.state.context&&Ht(this,Aa,Tc).call(this,{type:"pending",context:te,variables:t,isPaused:s})}const H=await pe(this,nh).start();return await((p=(g=pe(this,wi).config).onSuccess)==null?void 0:p.call(g,H,t,this.state.context,this)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,H,t,this.state.context)),await((A=(b=pe(this,wi).config).onSettled)==null?void 0:A.call(b,H,null,this.state.variables,this.state.context,this)),await((w=(C=this.options).onSettled)==null?void 0:w.call(C,H,null,t,this.state.context)),Ht(this,Aa,Tc).call(this,{type:"success",data:H}),H}catch(H){try{throw await((N=(R=pe(this,wi).config).onError)==null?void 0:N.call(R,H,t,this.state.context,this)),await((D=(I=this.options).onError)==null?void 0:D.call(I,H,t,this.state.context)),await((k=(F=pe(this,wi).config).onSettled)==null?void 0:k.call(F,void 0,H,this.state.variables,this.state.context,this)),await((B=(V=this.options).onSettled)==null?void 0:B.call(V,void 0,H,t,this.state.context)),H}finally{Ht(this,Aa,Tc).call(this,{type:"error",error:H})}}finally{pe(this,wi).runNext(this)}}},Ea=new WeakMap,wi=new WeakMap,nh=new WeakMap,Aa=new WeakSet,Tc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Or.batch(()=>{pe(this,Ea).forEach(r=>{r.onMutationUpdate(t)}),pe(this,wi).notify({mutation:this,type:"updated",action:t})})},KD);function I3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Eu,Rs,Tv,XD,gz=(XD=class extends xg{constructor(t={}){super();Et(this,Eu);Et(this,Rs);Et(this,Tv);this.config=t,st(this,Eu,new Set),st(this,Rs,new Map),st(this,Tv,0)}build(t,n,r){const s=new pz({mutationCache:this,mutationId:++cb(this,Tv)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){pe(this,Eu).add(t);const n=db(t);if(typeof n=="string"){const r=pe(this,Rs).get(n);r?r.push(t):pe(this,Rs).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(pe(this,Eu).delete(t)){const n=db(t);if(typeof n=="string"){const r=pe(this,Rs).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&pe(this,Rs).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=db(t);if(typeof n=="string"){const r=pe(this,Rs).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=db(t);if(typeof n=="string"){const s=(r=pe(this,Rs).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Or.batch(()=>{pe(this,Eu).forEach(t=>{this.notify({type:"removed",mutation:t})}),pe(this,Eu).clear(),pe(this,Rs).clear()})}getAll(){return Array.from(pe(this,Eu))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>iT(n,r))}findAll(t={}){return this.getAll().filter(n=>iT(t,n))}notify(t){Or.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Or.batch(()=>Promise.all(t.map(n=>n.continue().catch(Vo))))}},Eu=new WeakMap,Rs=new WeakMap,Tv=new WeakMap,XD);function db(e){var t;return(t=e.options.scope)==null?void 0:t.id}function aT(e){return{onFetch:(t,n)=>{var p,m,x,b,A;const r=t.options,s=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,a=((b=t.state.data)==null?void 0:b.pages)||[],l=((A=t.state.data)==null?void 0:A.pageParams)||[];let f={pages:[],pageParams:[]},d=0;const g=async()=>{let C=!1;const w=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},R=C3(t.options,t.fetchOptions),N=async(I,D,F)=>{if(C)return Promise.reject();if(D==null&&I.pages.length)return Promise.resolve(I);const k={client:t.client,queryKey:t.queryKey,pageParam:D,direction:F?"backward":"forward",meta:t.options.meta};w(k);const V=await R(k),{maxPages:B}=t.options,H=F?oz:iz;return{pages:H(I.pages,V,B),pageParams:H(I.pageParams,D,B)}};if(s&&a.length){const I=s==="backward",D=I?mz:lT,F={pages:a,pageParams:l},k=D(r,F);f=await N(F,k,I)}else{const I=e??a.length;do{const D=d===0?l[0]??r.initialPageParam:lT(r,f);if(d>0&&D==null)break;f=await N(f,D),d++}while(d<I)}return f};t.options.persister?t.fetchFn=()=>{var C,w;return(w=(C=t.options).persister)==null?void 0:w.call(C,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=g}}}function lT(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function mz(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var sr,Lc,Fc,tg,ng,kc,rg,ig,ZD,vz=(ZD=class{constructor(e={}){Et(this,sr);Et(this,Lc);Et(this,Fc);Et(this,tg);Et(this,ng);Et(this,kc);Et(this,rg);Et(this,ig);st(this,sr,e.queryCache||new hz),st(this,Lc,e.mutationCache||new gz),st(this,Fc,e.defaultOptions||{}),st(this,tg,new Map),st(this,ng,new Map),st(this,kc,0)}mount(){cb(this,kc)._++,pe(this,kc)===1&&(st(this,rg,Xw.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,sr).onFocus())})),st(this,ig,Qb.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,sr).onOnline())})))}unmount(){var e,t;cb(this,kc)._--,pe(this,kc)===0&&((e=pe(this,rg))==null||e.call(this),st(this,rg,void 0),(t=pe(this,ig))==null||t.call(this),st(this,ig,void 0))}isFetching(e){return pe(this,sr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return pe(this,Lc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=pe(this,sr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=pe(this,sr).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime($p(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return pe(this,sr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=pe(this,sr).get(r.queryHash),a=s==null?void 0:s.state.data,l=nz(t,a);if(l!==void 0)return pe(this,sr).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Or.batch(()=>pe(this,sr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=pe(this,sr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=pe(this,sr);Or.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=pe(this,sr);return Or.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Or.batch(()=>pe(this,sr).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Vo).catch(Vo)}invalidateQueries(e,t={}){return Or.batch(()=>(pe(this,sr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Or.batch(()=>pe(this,sr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Vo)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Vo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=pe(this,sr).build(this,t);return n.isStaleByTime($p(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vo).catch(Vo)}fetchInfiniteQuery(e){return e.behavior=aT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vo).catch(Vo)}ensureInfiniteQueryData(e){return e.behavior=aT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qb.isOnline()?pe(this,Lc).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,sr)}getMutationCache(){return pe(this,Lc)}getDefaultOptions(){return pe(this,Fc)}setDefaultOptions(e){st(this,Fc,e)}setQueryDefaults(e,t){pe(this,tg).set(lh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...pe(this,tg).values()],n={};return t.forEach(r=>{vv(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){pe(this,ng).set(lh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...pe(this,ng).values()],n={};return t.forEach(r=>{vv(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...pe(this,Fc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Kw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...pe(this,Fc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){pe(this,sr).clear(),pe(this,Lc).clear()}},sr=new WeakMap,Lc=new WeakMap,Fc=new WeakMap,tg=new WeakMap,ng=new WeakMap,kc=new WeakMap,rg=new WeakMap,ig=new WeakMap,ZD),Hi,tn,Nv,Ri,rh,og,Bc,jc,_v,sg,ag,ih,oh,zc,lg,In,ev,zC,VC,UC,GC,$C,HC,YC,O3,JD,yz=(JD=class extends xg{constructor(t,n){super();Et(this,In);Et(this,Hi);Et(this,tn);Et(this,Nv);Et(this,Ri);Et(this,rh);Et(this,og);Et(this,Bc);Et(this,jc);Et(this,_v);Et(this,sg);Et(this,ag);Et(this,ih);Et(this,oh);Et(this,zc);Et(this,lg,new Set);this.options=n,st(this,Hi,t),st(this,jc,null),st(this,Bc,jC()),this.options.experimental_prefetchInRender||pe(this,Bc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pe(this,tn).addObserver(this),uT(pe(this,tn),this.options)?Ht(this,In,ev).call(this):this.updateResult(),Ht(this,In,GC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return WC(pe(this,tn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return WC(pe(this,tn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ht(this,In,$C).call(this),Ht(this,In,HC).call(this),pe(this,tn).removeObserver(this)}setOptions(t){const n=this.options,r=pe(this,tn);if(this.options=pe(this,Hi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ts(this.options.enabled,pe(this,tn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ht(this,In,YC).call(this),pe(this,tn).setOptions(this.options),n._defaulted&&!Jb(this.options,n)&&pe(this,Hi).getQueryCache().notify({type:"observerOptionsUpdated",query:pe(this,tn),observer:this});const s=this.hasListeners();s&&cT(pe(this,tn),r,this.options,n)&&Ht(this,In,ev).call(this),this.updateResult(),s&&(pe(this,tn)!==r||Ts(this.options.enabled,pe(this,tn))!==Ts(n.enabled,pe(this,tn))||$p(this.options.staleTime,pe(this,tn))!==$p(n.staleTime,pe(this,tn)))&&Ht(this,In,zC).call(this);const a=Ht(this,In,VC).call(this);s&&(pe(this,tn)!==r||Ts(this.options.enabled,pe(this,tn))!==Ts(n.enabled,pe(this,tn))||a!==pe(this,zc))&&Ht(this,In,UC).call(this,a)}getOptimisticResult(t){const n=pe(this,Hi).getQueryCache().build(pe(this,Hi),t),r=this.createResult(n,t);return bz(this,r)&&(st(this,Ri,r),st(this,og,this.options),st(this,rh,pe(this,tn).state)),r}getCurrentResult(){return pe(this,Ri)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){pe(this,lg).add(t)}getCurrentQuery(){return pe(this,tn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=pe(this,Hi).defaultQueryOptions(t),r=pe(this,Hi).getQueryCache().build(pe(this,Hi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ht(this,In,ev).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),pe(this,Ri)))}createResult(t,n){var H;const r=pe(this,tn),s=this.options,a=pe(this,Ri),l=pe(this,rh),f=pe(this,og),g=t!==r?t.state:pe(this,Nv),{state:p}=t;let m={...p},x=!1,b;if(n._optimisticResults){const te=this.hasListeners(),re=!te&&uT(t,n),se=te&&cT(t,r,n,s);(re||se)&&(m={...m,..._3(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:A,errorUpdatedAt:C,status:w}=m;b=m.data;let R=!1;if(n.placeholderData!==void 0&&b===void 0&&w==="pending"){let te;a!=null&&a.isPlaceholderData&&n.placeholderData===(f==null?void 0:f.placeholderData)?(te=a.data,R=!0):te=typeof n.placeholderData=="function"?n.placeholderData((H=pe(this,ag))==null?void 0:H.state.data,pe(this,ag)):n.placeholderData,te!==void 0&&(w="success",b=BC(a==null?void 0:a.data,te,n),x=!0)}if(n.select&&b!==void 0&&!R)if(a&&b===(l==null?void 0:l.data)&&n.select===pe(this,_v))b=pe(this,sg);else try{st(this,_v,n.select),b=n.select(b),b=BC(a==null?void 0:a.data,b,n),st(this,sg,b),st(this,jc,null)}catch(te){st(this,jc,te)}pe(this,jc)&&(A=pe(this,jc),b=pe(this,sg),C=Date.now(),w="error");const N=m.fetchStatus==="fetching",I=w==="pending",D=w==="error",F=I&&N,k=b!==void 0,B={status:w,fetchStatus:m.fetchStatus,isPending:I,isSuccess:w==="success",isError:D,isInitialLoading:F,isLoading:F,data:b,dataUpdatedAt:m.dataUpdatedAt,error:A,errorUpdatedAt:C,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>g.dataUpdateCount||m.errorUpdateCount>g.errorUpdateCount,isFetching:N,isRefetching:N&&!I,isLoadingError:D&&!k,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:D&&k,isStale:Zw(t,n),refetch:this.refetch,promise:pe(this,Bc)};if(this.options.experimental_prefetchInRender){const te=Ee=>{B.status==="error"?Ee.reject(B.error):B.data!==void 0&&Ee.resolve(B.data)},re=()=>{const Ee=st(this,Bc,B.promise=jC());te(Ee)},se=pe(this,Bc);switch(se.status){case"pending":t.queryHash===r.queryHash&&te(se);break;case"fulfilled":(B.status==="error"||B.data!==se.value)&&re();break;case"rejected":(B.status!=="error"||B.error!==se.reason)&&re();break}}return B}updateResult(){const t=pe(this,Ri),n=this.createResult(pe(this,tn),this.options);if(st(this,rh,pe(this,tn).state),st(this,og,this.options),pe(this,rh).data!==void 0&&st(this,ag,pe(this,tn)),Jb(n,t))return;st(this,Ri,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!pe(this,lg).size)return!0;const l=new Set(a??pe(this,lg));return this.options.throwOnError&&l.add("error"),Object.keys(pe(this,Ri)).some(f=>{const d=f;return pe(this,Ri)[d]!==t[d]&&l.has(d)})};Ht(this,In,O3).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ht(this,In,GC).call(this)}},Hi=new WeakMap,tn=new WeakMap,Nv=new WeakMap,Ri=new WeakMap,rh=new WeakMap,og=new WeakMap,Bc=new WeakMap,jc=new WeakMap,_v=new WeakMap,sg=new WeakMap,ag=new WeakMap,ih=new WeakMap,oh=new WeakMap,zc=new WeakMap,lg=new WeakMap,In=new WeakSet,ev=function(t){Ht(this,In,YC).call(this);let n=pe(this,tn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Vo)),n},zC=function(){Ht(this,In,$C).call(this);const t=$p(this.options.staleTime,pe(this,tn));if(ah||pe(this,Ri).isStale||!FC(t))return;const r=E3(pe(this,Ri).dataUpdatedAt,t)+1;st(this,ih,setTimeout(()=>{pe(this,Ri).isStale||this.updateResult()},r))},VC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pe(this,tn)):this.options.refetchInterval)??!1},UC=function(t){Ht(this,In,HC).call(this),st(this,zc,t),!(ah||Ts(this.options.enabled,pe(this,tn))===!1||!FC(pe(this,zc))||pe(this,zc)===0)&&st(this,oh,setInterval(()=>{(this.options.refetchIntervalInBackground||Xw.isFocused())&&Ht(this,In,ev).call(this)},pe(this,zc)))},GC=function(){Ht(this,In,zC).call(this),Ht(this,In,UC).call(this,Ht(this,In,VC).call(this))},$C=function(){pe(this,ih)&&(clearTimeout(pe(this,ih)),st(this,ih,void 0))},HC=function(){pe(this,oh)&&(clearInterval(pe(this,oh)),st(this,oh,void 0))},YC=function(){const t=pe(this,Hi).getQueryCache().build(pe(this,Hi),this.options);if(t===pe(this,tn))return;const n=pe(this,tn);st(this,tn,t),st(this,Nv,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},O3=function(t){Or.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(pe(this,Ri))}),pe(this,Hi).getQueryCache().notify({query:pe(this,tn),type:"observerResultsUpdated"})})},JD);function xz(e,t){return Ts(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uT(e,t){return xz(e,t)||e.state.data!==void 0&&WC(e,t,t.refetchOnMount)}function WC(e,t,n){if(Ts(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Zw(e,t)}return!1}function cT(e,t,n,r){return(e!==t||Ts(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Zw(e,n)}function Zw(e,t){return Ts(t.enabled,e)!==!1&&e.isStaleByTime($p(t.staleTime,e))}function bz(e,t){return!Jb(e.getCurrentResult(),t)}var Vc,Uc,Yi,Au,wu,kb,qC,QD,Sz=(QD=class extends xg{constructor(n,r){super();Et(this,wu);Et(this,Vc);Et(this,Uc);Et(this,Yi);Et(this,Au);st(this,Vc,n),this.setOptions(r),this.bindMethods(),Ht(this,wu,kb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=pe(this,Vc).defaultMutationOptions(n),Jb(this.options,r)||pe(this,Vc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:pe(this,Yi),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&lh(r.mutationKey)!==lh(this.options.mutationKey)?this.reset():((s=pe(this,Yi))==null?void 0:s.state.status)==="pending"&&pe(this,Yi).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=pe(this,Yi))==null||n.removeObserver(this)}onMutationUpdate(n){Ht(this,wu,kb).call(this),Ht(this,wu,qC).call(this,n)}getCurrentResult(){return pe(this,Uc)}reset(){var n;(n=pe(this,Yi))==null||n.removeObserver(this),st(this,Yi,void 0),Ht(this,wu,kb).call(this),Ht(this,wu,qC).call(this)}mutate(n,r){var s;return st(this,Au,r),(s=pe(this,Yi))==null||s.removeObserver(this),st(this,Yi,pe(this,Vc).getMutationCache().build(pe(this,Vc),this.options)),pe(this,Yi).addObserver(this),pe(this,Yi).execute(n)}},Vc=new WeakMap,Uc=new WeakMap,Yi=new WeakMap,Au=new WeakMap,wu=new WeakSet,kb=function(){var r;const n=((r=pe(this,Yi))==null?void 0:r.state)??I3();st(this,Uc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},qC=function(n){Or.batch(()=>{var r,s,a,l,f,d,g,p;if(pe(this,Au)&&this.hasListeners()){const m=pe(this,Uc).variables,x=pe(this,Uc).context;(n==null?void 0:n.type)==="success"?((s=(r=pe(this,Au)).onSuccess)==null||s.call(r,n.data,m,x),(l=(a=pe(this,Au)).onSettled)==null||l.call(a,n.data,null,m,x)):(n==null?void 0:n.type)==="error"&&((d=(f=pe(this,Au)).onError)==null||d.call(f,n.error,m,x),(p=(g=pe(this,Au)).onSettled)==null||p.call(g,void 0,n.error,m,x))}this.listeners.forEach(m=>{m(pe(this,Uc))})})},QD),D3=M.createContext(void 0),Dv=e=>{const t=M.useContext(D3);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ez=({client:e,children:t})=>(M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),O.jsx(D3.Provider,{value:e,children:t})),P3=M.createContext(!1),Az=()=>M.useContext(P3);P3.Provider;function Cz(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wz=M.createContext(Cz()),Rz=()=>M.useContext(wz);function M3(e,t){return typeof e=="function"?e(...t):!!e}function KC(){}var Tz=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Nz=e=>{M.useEffect(()=>{e.clearReset()},[e])},_z=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||M3(n,[e.error,r])),Iz=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Oz=(e,t)=>e.isLoading&&e.isFetching&&!t,Dz=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,fT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Pz(e,t,n){var m,x,b,A,C;const r=Dv(),s=Az(),a=Rz(),l=r.defaultQueryOptions(e);(x=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,l),l._optimisticResults=s?"isRestoring":"optimistic",Iz(l),Tz(l,a),Nz(a);const f=!r.getQueryCache().get(l.queryHash),[d]=M.useState(()=>new t(r,l)),g=d.getOptimisticResult(l),p=!s&&e.subscribed!==!1;if(M.useSyncExternalStore(M.useCallback(w=>{const R=p?d.subscribe(Or.batchCalls(w)):KC;return d.updateResult(),R},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),M.useEffect(()=>{d.setOptions(l)},[l,d]),Dz(l,g))throw fT(l,d,a);if(_z({result:g,errorResetBoundary:a,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw g.error;if((A=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||A.call(b,l,g),l.experimental_prefetchInRender&&!ah&&Oz(g,s)){const w=f?fT(l,d,a):(C=r.getQueryCache().get(l.queryHash))==null?void 0:C.promise;w==null||w.catch(KC).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?g:d.trackResult(g)}function Fa(e,t){return Pz(e,yz)}function Bb(e,t){const n=Dv(),[r]=M.useState(()=>new Sz(n,e));M.useEffect(()=>{r.setOptions(e)},[r,e]);const s=M.useSyncExternalStore(M.useCallback(l=>r.subscribe(Or.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=M.useCallback((l,f)=>{r.mutate(l,f).catch(KC)},[r]);if(s.error&&M3(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}function Mz(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Lz=e=>{switch(e){case"success":return Bz;case"info":return zz;case"warning":return jz;case"error":return Vz;default:return null}},Fz=Array(12).fill(0),kz=({visible:e,className:t})=>Ke.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ke.createElement("div",{className:"sonner-spinner"},Fz.map((n,r)=>Ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Bz=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jz=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zz=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Vz=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Uz=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Gz=()=>{const[e,t]=Ke.useState(document.hidden);return Ke.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let XC=1;class $z{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:XC++,l=this.toasts.find(d=>d.id===a),f=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...t,id:a,title:r}),{...d,...t,id:a,dismissible:f,title:r}):d):this.addToast({title:r,...s,dismissible:f,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,l;const f=s.then(async g=>{if(l=["resolve",g],Ke.isValidElement(g))a=!1,this.create({id:r,type:"default",message:g});else if(Yz(g)&&!g.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,A=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...A})}else if(g instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(g):n.error,x=typeof n.description=="function"?await n.description(g):n.description,A=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...A})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(g):n.success,x=typeof n.description=="function"?await n.description(g):n.description,A=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:x,...A})}}).catch(async g=>{if(l=["reject",g],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(g):n.error,m=typeof n.description=="function"?await n.description(g):n.description,b=typeof p=="object"&&!Ke.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...b})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((g,p)=>f.then(()=>l[0]==="reject"?p(l[1]):g(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||XC++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Wi=new $z,Hz=(e,t)=>{const n=(t==null?void 0:t.id)||XC++;return Wi.addToast({title:e,...t,id:n}),n},Yz=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Wz=Hz,qz=()=>Wi.toasts,Kz=()=>Wi.getActiveToasts(),zn=Object.assign(Wz,{success:Wi.success,info:Wi.info,warning:Wi.warning,error:Wi.error,custom:Wi.custom,message:Wi.message,promise:Wi.promise,dismiss:Wi.dismiss,loading:Wi.loading},{getHistory:qz,getToasts:Kz});Mz("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function hb(e){return e.label!==void 0}const Xz=3,Zz="24px",Jz="16px",dT=4e3,Qz=356,e5=14,t5=45,n5=200;function xa(...e){return e.filter(Boolean).join(" ")}function r5(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const i5=e=>{var t,n,r,s,a,l,f,d,g;const{invert:p,toast:m,unstyled:x,interacting:b,setHeights:A,visibleToasts:C,heights:w,index:R,toasts:N,expanded:I,removeToast:D,defaultRichColors:F,closeButton:k,style:V,cancelButtonStyle:B,actionButtonStyle:H,className:te="",descriptionClassName:re="",duration:se,position:Ee,gap:ke,expandByDefault:Me,classNames:ie,icons:we,closeButtonAriaLabel:de="Close toast"}=e,[ue,K]=Ke.useState(null),[ne,he]=Ke.useState(null),[j,z]=Ke.useState(!1),[G,Y]=Ke.useState(!1),[J,X]=Ke.useState(!1),[Z,oe]=Ke.useState(!1),[ye,xe]=Ke.useState(!1),[ae,le]=Ke.useState(0),[Ae,Ie]=Ke.useState(0),je=Ke.useRef(m.duration||se||dT),Ve=Ke.useRef(null),me=Ke.useRef(null),De=R===0,Ze=R+1<=C,ht=m.type,pt=m.dismissible!==!1,ge=m.className||"",Ne=m.descriptionClassName||"",qe=Ke.useMemo(()=>w.findIndex(rt=>rt.toastId===m.id)||0,[w,m.id]),Ye=Ke.useMemo(()=>{var rt;return(rt=m.closeButton)!=null?rt:k},[m.closeButton,k]),tt=Ke.useMemo(()=>m.duration||se||dT,[m.duration,se]),at=Ke.useRef(0),yt=Ke.useRef(0),Rt=Ke.useRef(0),It=Ke.useRef(null),[on,Fe]=Ee.split("-"),nt=Ke.useMemo(()=>w.reduce((rt,an,Zt)=>Zt>=qe?rt:rt+an.height,0),[w,qe]),gt=Gz(),St=m.invert||p,Dt=ht==="loading";yt.current=Ke.useMemo(()=>qe*ke+nt,[qe,nt]),Ke.useEffect(()=>{je.current=tt},[tt]),Ke.useEffect(()=>{z(!0)},[]),Ke.useEffect(()=>{const rt=me.current;if(rt){const an=rt.getBoundingClientRect().height;return Ie(an),A(Zt=>[{toastId:m.id,height:an,position:m.position},...Zt]),()=>A(Zt=>Zt.filter(nn=>nn.toastId!==m.id))}},[A,m.id]),Ke.useLayoutEffect(()=>{if(!j)return;const rt=me.current,an=rt.style.height;rt.style.height="auto";const Zt=rt.getBoundingClientRect().height;rt.style.height=an,Ie(Zt),A(nn=>nn.find(Wt=>Wt.toastId===m.id)?nn.map(Wt=>Wt.toastId===m.id?{...Wt,height:Zt}:Wt):[{toastId:m.id,height:Zt,position:m.position},...nn])},[j,m.title,m.description,A,m.id]);const mn=Ke.useCallback(()=>{Y(!0),le(yt.current),A(rt=>rt.filter(an=>an.toastId!==m.id)),setTimeout(()=>{D(m)},n5)},[m,D,A,yt]);Ke.useEffect(()=>{if(m.promise&&ht==="loading"||m.duration===1/0||m.type==="loading")return;let rt;return I||b||gt?(()=>{if(Rt.current<at.current){const nn=new Date().getTime()-at.current;je.current=je.current-nn}Rt.current=new Date().getTime()})():(()=>{je.current!==1/0&&(at.current=new Date().getTime(),rt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),mn()},je.current))})(),()=>clearTimeout(rt)},[I,b,m,ht,gt,mn]),Ke.useEffect(()=>{m.delete&&mn()},[mn,m.delete]);function Fn(){var rt;if(we!=null&&we.loading){var an;return Ke.createElement("div",{className:xa(ie==null?void 0:ie.loader,m==null||(an=m.classNames)==null?void 0:an.loader,"sonner-loader"),"data-visible":ht==="loading"},we.loading)}return Ke.createElement(kz,{className:xa(ie==null?void 0:ie.loader,m==null||(rt=m.classNames)==null?void 0:rt.loader),visible:ht==="loading"})}const Hn=m.icon||(we==null?void 0:we[ht])||Lz(ht);var sn,Zn;return Ke.createElement("li",{tabIndex:0,ref:me,className:xa(te,ge,ie==null?void 0:ie.toast,m==null||(t=m.classNames)==null?void 0:t.toast,ie==null?void 0:ie.default,ie==null?void 0:ie[ht],m==null||(n=m.classNames)==null?void 0:n[ht]),"data-sonner-toast":"","data-rich-colors":(sn=m.richColors)!=null?sn:F,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":j,"data-promise":!!m.promise,"data-swiped":ye,"data-removed":G,"data-visible":Ze,"data-y-position":on,"data-x-position":Fe,"data-index":R,"data-front":De,"data-swiping":J,"data-dismissible":pt,"data-type":ht,"data-invert":St,"data-swipe-out":Z,"data-swipe-direction":ne,"data-expanded":!!(I||Me&&j),style:{"--index":R,"--toasts-before":R,"--z-index":N.length-R,"--offset":`${G?ae:yt.current}px`,"--initial-height":Me?"auto":`${Ae}px`,...V,...m.style},onDragEnd:()=>{X(!1),K(null),It.current=null},onPointerDown:rt=>{Dt||!pt||(Ve.current=new Date,le(yt.current),rt.target.setPointerCapture(rt.pointerId),rt.target.tagName!=="BUTTON"&&(X(!0),It.current={x:rt.clientX,y:rt.clientY}))},onPointerUp:()=>{var rt,an,Zt;if(Z||!pt)return;It.current=null;const nn=Number(((rt=me.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gr=Number(((an=me.current)==null?void 0:an.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wt=new Date().getTime()-((Zt=Ve.current)==null?void 0:Zt.getTime()),Bt=ue==="x"?nn:gr,ln=Math.abs(Bt)/Wt;if(Math.abs(Bt)>=t5||ln>.11){le(yt.current),m.onDismiss==null||m.onDismiss.call(m,m),he(ue==="x"?nn>0?"right":"left":gr>0?"down":"up"),mn(),oe(!0);return}else{var Mt,En;(Mt=me.current)==null||Mt.style.setProperty("--swipe-amount-x","0px"),(En=me.current)==null||En.style.setProperty("--swipe-amount-y","0px")}xe(!1),X(!1),K(null)},onPointerMove:rt=>{var an,Zt,nn;if(!It.current||!pt||((an=window.getSelection())==null?void 0:an.toString().length)>0)return;const Wt=rt.clientY-It.current.y,Bt=rt.clientX-It.current.x;var ln;const Mt=(ln=e.swipeDirections)!=null?ln:r5(Ee);!ue&&(Math.abs(Bt)>1||Math.abs(Wt)>1)&&K(Math.abs(Bt)>Math.abs(Wt)?"x":"y");let En={x:0,y:0};const Oi=xr=>1/(1.5+Math.abs(xr)/20);if(ue==="y"){if(Mt.includes("top")||Mt.includes("bottom"))if(Mt.includes("top")&&Wt<0||Mt.includes("bottom")&&Wt>0)En.y=Wt;else{const xr=Wt*Oi(Wt);En.y=Math.abs(xr)<Math.abs(Wt)?xr:Wt}}else if(ue==="x"&&(Mt.includes("left")||Mt.includes("right")))if(Mt.includes("left")&&Bt<0||Mt.includes("right")&&Bt>0)En.x=Bt;else{const xr=Bt*Oi(Bt);En.x=Math.abs(xr)<Math.abs(Bt)?xr:Bt}(Math.abs(En.x)>0||Math.abs(En.y)>0)&&xe(!0),(Zt=me.current)==null||Zt.style.setProperty("--swipe-amount-x",`${En.x}px`),(nn=me.current)==null||nn.style.setProperty("--swipe-amount-y",`${En.y}px`)}},Ye&&!m.jsx&&ht!=="loading"?Ke.createElement("button",{"aria-label":de,"data-disabled":Dt,"data-close-button":!0,onClick:Dt||!pt?()=>{}:()=>{mn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:xa(ie==null?void 0:ie.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Zn=we==null?void 0:we.close)!=null?Zn:Uz):null,(ht||m.icon||m.promise)&&m.icon!==null&&((we==null?void 0:we[ht])!==null||m.icon)?Ke.createElement("div",{"data-icon":"",className:xa(ie==null?void 0:ie.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Fn():null,m.type!=="loading"?Hn:null):null,Ke.createElement("div",{"data-content":"",className:xa(ie==null?void 0:ie.content,m==null||(a=m.classNames)==null?void 0:a.content)},Ke.createElement("div",{"data-title":"",className:xa(ie==null?void 0:ie.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Ke.createElement("div",{"data-description":"",className:xa(re,Ne,ie==null?void 0:ie.description,m==null||(f=m.classNames)==null?void 0:f.description)},typeof m.description=="function"?m.description():m.description):null),Ke.isValidElement(m.cancel)?m.cancel:m.cancel&&hb(m.cancel)?Ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||B,onClick:rt=>{hb(m.cancel)&&pt&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,rt),mn())},className:xa(ie==null?void 0:ie.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,Ke.isValidElement(m.action)?m.action:m.action&&hb(m.action)?Ke.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||H,onClick:rt=>{hb(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,rt),!rt.defaultPrevented&&mn())},className:xa(ie==null?void 0:ie.actionButton,m==null||(g=m.classNames)==null?void 0:g.actionButton)},m.action.label):null)};function hT(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function o5(e,t){const n={};return[e,t].forEach((r,s)=>{const a=s===1,l=a?"--mobile-offset":"--offset",f=a?Jz:Zz;function d(g){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof g=="number"?`${g}px`:g})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(g=>{r[g]===void 0?n[`${l}-${g}`]=f:n[`${l}-${g}`]=typeof r[g]=="number"?`${r[g]}px`:r[g]}):d(f)}),n}const s5=Ke.forwardRef(function(t,n){const{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:f,className:d,offset:g,mobileOffset:p,theme:m="light",richColors:x,duration:b,style:A,visibleToasts:C=Xz,toastOptions:w,dir:R=hT(),gap:N=e5,icons:I,containerAriaLabel:D="Notifications"}=t,[F,k]=Ke.useState([]),V=Ke.useMemo(()=>Array.from(new Set([s].concat(F.filter(ne=>ne.position).map(ne=>ne.position)))),[F,s]),[B,H]=Ke.useState([]),[te,re]=Ke.useState(!1),[se,Ee]=Ke.useState(!1),[ke,Me]=Ke.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=Ke.useRef(null),we=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),de=Ke.useRef(null),ue=Ke.useRef(!1),K=Ke.useCallback(ne=>{k(he=>{var j;return(j=he.find(z=>z.id===ne.id))!=null&&j.delete||Wi.dismiss(ne.id),he.filter(({id:z})=>z!==ne.id)})},[]);return Ke.useEffect(()=>Wi.subscribe(ne=>{if(ne.dismiss){requestAnimationFrame(()=>{k(he=>he.map(j=>j.id===ne.id?{...j,delete:!0}:j))});return}setTimeout(()=>{S3.flushSync(()=>{k(he=>{const j=he.findIndex(z=>z.id===ne.id);return j!==-1?[...he.slice(0,j),{...he[j],...ne},...he.slice(j+1)]:[ne,...he]})})})}),[F]),Ke.useEffect(()=>{if(m!=="system"){Me(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Me("dark"):Me("light")),typeof window>"u")return;const ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:he})=>{Me(he?"dark":"light")})}catch{ne.addListener(({matches:j})=>{try{Me(j?"dark":"light")}catch(z){console.error(z)}})}},[m]),Ke.useEffect(()=>{F.length<=1&&re(!1)},[F]),Ke.useEffect(()=>{const ne=he=>{var j;if(a.every(Y=>he[Y]||he.code===Y)){var G;re(!0),(G=ie.current)==null||G.focus()}he.code==="Escape"&&(document.activeElement===ie.current||(j=ie.current)!=null&&j.contains(document.activeElement))&&re(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[a]),Ke.useEffect(()=>{if(ie.current)return()=>{de.current&&(de.current.focus({preventScroll:!0}),de.current=null,ue.current=!1)}},[ie.current]),Ke.createElement("section",{ref:n,"aria-label":`${D} ${we}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((ne,he)=>{var j;const[z,G]=ne.split("-");return F.length?Ke.createElement("ol",{key:ne,dir:R==="auto"?hT():R,tabIndex:-1,ref:ie,className:d,"data-sonner-toaster":!0,"data-sonner-theme":ke,"data-y-position":z,"data-lifted":te&&F.length>1&&!l,"data-x-position":G,style:{"--front-toast-height":`${((j=B[0])==null?void 0:j.height)||0}px`,"--width":`${Qz}px`,"--gap":`${N}px`,...A,...o5(g,p)},onBlur:Y=>{ue.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(ue.current=!1,de.current&&(de.current.focus({preventScroll:!0}),de.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,de.current=Y.relatedTarget)},onMouseEnter:()=>re(!0),onMouseMove:()=>re(!0),onMouseLeave:()=>{se||re(!1)},onDragEnd:()=>re(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||Ee(!0)},onPointerUp:()=>Ee(!1)},F.filter(Y=>!Y.position&&he===0||Y.position===ne).map((Y,J)=>{var X,Z;return Ke.createElement(i5,{key:Y.id,icons:I,index:J,toast:Y,defaultRichColors:x,duration:(X=w==null?void 0:w.duration)!=null?X:b,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:r,visibleToasts:C,closeButton:(Z=w==null?void 0:w.closeButton)!=null?Z:f,interacting:se,position:ne,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:K,toasts:F.filter(oe=>oe.position==Y.position),heights:B.filter(oe=>oe.position==Y.position),setHeights:H,expandByDefault:l,gap:N,expanded:te,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),pT=e=>{const t=l5(e);return t.charAt(0).toUpperCase()+t.slice(1)},L3=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),u5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...f},d)=>M.createElement("svg",{ref:d,...c5,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:L3("lucide",s),...!a&&!u5(f)&&{"aria-hidden":"true"},...f},[...l.map(([g,p])=>M.createElement(g,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=(e,t)=>{const n=M.forwardRef(({className:r,...s},a)=>M.createElement(f5,{ref:a,iconNode:t,className:L3(`lucide-${a5(pT(e))}`,`lucide-${e}`,r),...s}));return n.displayName=pT(e),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],h5=Ki("check",d5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],F3=Ki("chevron-down",p5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],m5=Ki("chevron-up",g5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],y5=Ki("circle-check",v5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],b5=Ki("circle-x",x5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],k3=Ki("ellipsis",S5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 22v-6",key:"qhmiwi"}]],B3=Ki("grid-2x2-plus",E5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],j3=Ki("loader-circle",A5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],w5=Ki("panel-left",C5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],z3=Ki("pencil",R5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],V3=Ki("plus",T5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],_5=Ki("plug",N5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],U3=Ki("trash-2",I5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],G3=Ki("x",O5);function $3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=$3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function H3(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=$3(e))&&(r&&(r+=" "),r+=t);return r}const Jw="-",D5=e=>{const t=M5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const f=l.split(Jw);return f[0]===""&&f.length!==1&&f.shift(),Y3(f,t)||P5(l)},getConflictingClassGroupIds:(l,f)=>{const d=n[l]||[];return f&&r[l]?[...d,...r[l]]:d}}},Y3=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Y3(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Jw);return(l=t.validators.find(({validator:f})=>f(a)))==null?void 0:l.classGroupId},gT=/^\[(.+)\]$/,P5=e=>{if(gT.test(e)){const t=gT.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},M5=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)ZC(n[s],r,s,t);return r},ZC=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:mT(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(L5(s)){ZC(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,l])=>{ZC(l,mT(t,a),n,r)})})},mT=(e,t)=>{let n=e;return t.split(Jw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},L5=e=>e.isThemeGetter,F5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,l)=>{n.set(a,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){n.has(a)?n.set(a,l):s(a,l)}}},JC="!",QC=":",k5=QC.length,B5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const a=[];let l=0,f=0,d=0,g;for(let A=0;A<s.length;A++){let C=s[A];if(l===0&&f===0){if(C===QC){a.push(s.slice(d,A)),d=A+k5;continue}if(C==="/"){g=A;continue}}C==="["?l++:C==="]"?l--:C==="("?f++:C===")"&&f--}const p=a.length===0?s:s.substring(d),m=j5(p),x=m!==p,b=g&&g>d?g-d:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:b}};if(t){const s=t+QC,a=r;r=l=>l.startsWith(s)?a(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},j5=e=>e.endsWith(JC)?e.substring(0,e.length-1):e.startsWith(JC)?e.substring(1):e,z5=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(l=>{l[0]==="["||t[l]?(s.push(...a.sort(),l),a=[]):a.push(l)}),s.push(...a.sort()),s}},V5=e=>({cache:F5(e.cacheSize),parseClassName:B5(e),sortModifiers:z5(e),...D5(e)}),U5=/\s+/,G5=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=t,l=[],f=e.trim().split(U5);let d="";for(let g=f.length-1;g>=0;g-=1){const p=f[g],{isExternal:m,modifiers:x,hasImportantModifier:b,baseClassName:A,maybePostfixModifierPosition:C}=n(p);if(m){d=p+(d.length>0?" "+d:d);continue}let w=!!C,R=r(w?A.substring(0,C):A);if(!R){if(!w){d=p+(d.length>0?" "+d:d);continue}if(R=r(A),!R){d=p+(d.length>0?" "+d:d);continue}w=!1}const N=a(x).join(":"),I=b?N+JC:N,D=I+R;if(l.includes(D))continue;l.push(D);const F=s(R,w);for(let k=0;k<F.length;++k){const V=F[k];l.push(I+V)}d=p+(d.length>0?" "+d:d)}return d};function $5(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=W3(t))&&(r&&(r+=" "),r+=n);return r}const W3=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=W3(e[r]))&&(n&&(n+=" "),n+=t);return n};function H5(e,...t){let n,r,s,a=l;function l(d){const g=t.reduce((p,m)=>m(p),e());return n=V5(g),r=n.cache.get,s=n.cache.set,a=f,f(d)}function f(d){const g=r(d);if(g)return g;const p=G5(d,n);return s(d,p),p}return function(){return a($5.apply(null,arguments))}}const Nr=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},q3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,K3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Y5=/^\d+\/\d+$/,W5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,q5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,K5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,X5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Z5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lp=e=>Y5.test(e),Kt=e=>!!e&&!Number.isNaN(Number(e)),Rc=e=>!!e&&Number.isInteger(Number(e)),x1=e=>e.endsWith("%")&&Kt(e.slice(0,-1)),vl=e=>W5.test(e),J5=()=>!0,Q5=e=>q5.test(e)&&!K5.test(e),X3=()=>!1,eV=e=>X5.test(e),tV=e=>Z5.test(e),nV=e=>!ut(e)&&!ct(e),rV=e=>bg(e,Q3,X3),ut=e=>q3.test(e),Yf=e=>bg(e,eP,Q5),b1=e=>bg(e,lV,Kt),vT=e=>bg(e,Z3,X3),iV=e=>bg(e,J3,tV),pb=e=>bg(e,tP,eV),ct=e=>K3.test(e),T0=e=>Sg(e,eP),oV=e=>Sg(e,uV),yT=e=>Sg(e,Z3),sV=e=>Sg(e,Q3),aV=e=>Sg(e,J3),gb=e=>Sg(e,tP,!0),bg=(e,t,n)=>{const r=q3.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Sg=(e,t,n=!1)=>{const r=K3.exec(e);return r?r[1]?t(r[1]):n:!1},Z3=e=>e==="position"||e==="percentage",J3=e=>e==="image"||e==="url",Q3=e=>e==="length"||e==="size"||e==="bg-size",eP=e=>e==="length",lV=e=>e==="number",uV=e=>e==="family-name",tP=e=>e==="shadow",cV=()=>{const e=Nr("color"),t=Nr("font"),n=Nr("text"),r=Nr("font-weight"),s=Nr("tracking"),a=Nr("leading"),l=Nr("breakpoint"),f=Nr("container"),d=Nr("spacing"),g=Nr("radius"),p=Nr("shadow"),m=Nr("inset-shadow"),x=Nr("text-shadow"),b=Nr("drop-shadow"),A=Nr("blur"),C=Nr("perspective"),w=Nr("aspect"),R=Nr("ease"),N=Nr("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...D(),ct,ut],k=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],B=()=>[ct,ut,d],H=()=>[Lp,"full","auto",...B()],te=()=>[Rc,"none","subgrid",ct,ut],re=()=>["auto",{span:["full",Rc,ct,ut]},Rc,ct,ut],se=()=>[Rc,"auto",ct,ut],Ee=()=>["auto","min","max","fr",ct,ut],ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Me=()=>["start","end","center","stretch","center-safe","end-safe"],ie=()=>["auto",...B()],we=()=>[Lp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],de=()=>[e,ct,ut],ue=()=>[...D(),yT,vT,{position:[ct,ut]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",sV,rV,{size:[ct,ut]}],he=()=>[x1,T0,Yf],j=()=>["","none","full",g,ct,ut],z=()=>["",Kt,T0,Yf],G=()=>["solid","dashed","dotted","double"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[Kt,x1,yT,vT],X=()=>["","none",A,ct,ut],Z=()=>["none",Kt,ct,ut],oe=()=>["none",Kt,ct,ut],ye=()=>[Kt,ct,ut],xe=()=>[Lp,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vl],breakpoint:[vl],color:[J5],container:[vl],"drop-shadow":[vl],ease:["in","out","in-out"],font:[nV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vl],shadow:[vl],spacing:["px",Kt],text:[vl],"text-shadow":[vl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Lp,ut,ct,w]}],container:["container"],columns:[{columns:[Kt,ut,ct,f]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[Rc,"auto",ct,ut]}],basis:[{basis:[Lp,"full","auto",f,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Kt,Lp,"auto","initial","none",ut]}],grow:[{grow:["",Kt,ct,ut]}],shrink:[{shrink:["",Kt,ct,ut]}],order:[{order:[Rc,"first","last","none",ct,ut]}],"grid-cols":[{"grid-cols":te()}],"col-start-end":[{col:re()}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":te()}],"row-start-end":[{row:re()}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ee()}],"auto-rows":[{"auto-rows":Ee()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...ke(),"normal"]}],"justify-items":[{"justify-items":[...Me(),"normal"]}],"justify-self":[{"justify-self":["auto",...Me()]}],"align-content":[{content:["normal",...ke()]}],"align-items":[{items:[...Me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Me(),{baseline:["","last"]}]}],"place-content":[{"place-content":ke()}],"place-items":[{"place-items":[...Me(),"baseline"]}],"place-self":[{"place-self":["auto",...Me()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:ie()}],mx:[{mx:ie()}],my:[{my:ie()}],ms:[{ms:ie()}],me:[{me:ie()}],mt:[{mt:ie()}],mr:[{mr:ie()}],mb:[{mb:ie()}],ml:[{ml:ie()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:we()}],w:[{w:[f,"screen",...we()]}],"min-w":[{"min-w":[f,"screen","none",...we()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[l]},...we()]}],h:[{h:["screen",...we()]}],"min-h":[{"min-h":["screen","none",...we()]}],"max-h":[{"max-h":["screen",...we()]}],"font-size":[{text:["base",n,T0,Yf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ct,b1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",x1,ut]}],"font-family":[{font:[oV,ut,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ct,ut]}],"line-clamp":[{"line-clamp":[Kt,"none",ct,b1]}],leading:[{leading:[a,...B()]}],"list-image":[{"list-image":["none",ct,ut]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ct,ut]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:de()}],"text-color":[{text:de()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Kt,"from-font","auto",ct,Yf]}],"text-decoration-color":[{decoration:de()}],"underline-offset":[{"underline-offset":[Kt,"auto",ct,ut]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct,ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct,ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Rc,ct,ut],radial:["",ct,ut],conic:[Rc,ct,ut]},aV,iV]}],"bg-color":[{bg:de()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:de()}],"gradient-via":[{via:de()}],"gradient-to":[{to:de()}],rounded:[{rounded:j()}],"rounded-s":[{"rounded-s":j()}],"rounded-e":[{"rounded-e":j()}],"rounded-t":[{"rounded-t":j()}],"rounded-r":[{"rounded-r":j()}],"rounded-b":[{"rounded-b":j()}],"rounded-l":[{"rounded-l":j()}],"rounded-ss":[{"rounded-ss":j()}],"rounded-se":[{"rounded-se":j()}],"rounded-ee":[{"rounded-ee":j()}],"rounded-es":[{"rounded-es":j()}],"rounded-tl":[{"rounded-tl":j()}],"rounded-tr":[{"rounded-tr":j()}],"rounded-br":[{"rounded-br":j()}],"rounded-bl":[{"rounded-bl":j()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:de()}],"border-color-x":[{"border-x":de()}],"border-color-y":[{"border-y":de()}],"border-color-s":[{"border-s":de()}],"border-color-e":[{"border-e":de()}],"border-color-t":[{"border-t":de()}],"border-color-r":[{"border-r":de()}],"border-color-b":[{"border-b":de()}],"border-color-l":[{"border-l":de()}],"divide-color":[{divide:de()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Kt,ct,ut]}],"outline-w":[{outline:["",Kt,T0,Yf]}],"outline-color":[{outline:de()}],shadow:[{shadow:["","none",p,gb,pb]}],"shadow-color":[{shadow:de()}],"inset-shadow":[{"inset-shadow":["none",m,gb,pb]}],"inset-shadow-color":[{"inset-shadow":de()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:de()}],"ring-offset-w":[{"ring-offset":[Kt,Yf]}],"ring-offset-color":[{"ring-offset":de()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":de()}],"text-shadow":[{"text-shadow":["none",x,gb,pb]}],"text-shadow-color":[{"text-shadow":de()}],opacity:[{opacity:[Kt,ct,ut]}],"mix-blend":[{"mix-blend":[...Y(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Y()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Kt]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":de()}],"mask-image-linear-to-color":[{"mask-linear-to":de()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":de()}],"mask-image-t-to-color":[{"mask-t-to":de()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":de()}],"mask-image-r-to-color":[{"mask-r-to":de()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":de()}],"mask-image-b-to-color":[{"mask-b-to":de()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":de()}],"mask-image-l-to-color":[{"mask-l-to":de()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":de()}],"mask-image-x-to-color":[{"mask-x-to":de()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":de()}],"mask-image-y-to-color":[{"mask-y-to":de()}],"mask-image-radial":[{"mask-radial":[ct,ut]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":de()}],"mask-image-radial-to-color":[{"mask-radial-to":de()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Kt]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":de()}],"mask-image-conic-to-color":[{"mask-conic-to":de()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ct,ut]}],filter:[{filter:["","none",ct,ut]}],blur:[{blur:X()}],brightness:[{brightness:[Kt,ct,ut]}],contrast:[{contrast:[Kt,ct,ut]}],"drop-shadow":[{"drop-shadow":["","none",b,gb,pb]}],"drop-shadow-color":[{"drop-shadow":de()}],grayscale:[{grayscale:["",Kt,ct,ut]}],"hue-rotate":[{"hue-rotate":[Kt,ct,ut]}],invert:[{invert:["",Kt,ct,ut]}],saturate:[{saturate:[Kt,ct,ut]}],sepia:[{sepia:["",Kt,ct,ut]}],"backdrop-filter":[{"backdrop-filter":["","none",ct,ut]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[Kt,ct,ut]}],"backdrop-contrast":[{"backdrop-contrast":[Kt,ct,ut]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Kt,ct,ut]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Kt,ct,ut]}],"backdrop-invert":[{"backdrop-invert":["",Kt,ct,ut]}],"backdrop-opacity":[{"backdrop-opacity":[Kt,ct,ut]}],"backdrop-saturate":[{"backdrop-saturate":[Kt,ct,ut]}],"backdrop-sepia":[{"backdrop-sepia":["",Kt,ct,ut]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ct,ut]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Kt,"initial",ct,ut]}],ease:[{ease:["linear","initial",R,ct,ut]}],delay:[{delay:[Kt,ct,ut]}],animate:[{animate:["none",N,ct,ut]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,ct,ut]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[ct,ut,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:de()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:de()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct,ut]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct,ut]}],fill:[{fill:["none",...de()]}],"stroke-w":[{stroke:[Kt,T0,Yf,b1]}],stroke:[{stroke:["none",...de()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fV=H5(cV);function bt(...e){return fV(H3(e))}function xT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ES(...e){return t=>{let n=!1;const r=e.map(s=>{const a=xT(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():xT(e[s],null)}}}}function bn(...e){return M.useCallback(ES(...e),e)}function Yc(e){const t=dV(e),n=M.forwardRef((r,s)=>{const{children:a,...l}=r,f=M.Children.toArray(a),d=f.find(pV);if(d){const g=d.props.children,p=f.map(m=>m===d?M.Children.count(g)>1?M.Children.only(null):M.isValidElement(g)?g.props.children:null:m);return O.jsx(t,{...l,ref:s,children:M.isValidElement(g)?M.cloneElement(g,void 0,p):null})}return O.jsx(t,{...l,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var Qw=Yc("Slot");function dV(e){const t=M.forwardRef((n,r)=>{const{children:s,...a}=n;if(M.isValidElement(s)){const l=mV(s),f=gV(a,s.props);return s.type!==M.Fragment&&(f.ref=r?ES(r,l):l),M.cloneElement(s,f)}return M.Children.count(s)>1?M.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nP=Symbol("radix.slottable");function hV(e){const t=({children:n})=>O.jsx(O.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=nP,t}function pV(e){return M.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nP}function gV(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...f)=>{a(...f),s(...f)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function mV(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const bT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ST=H3,AS=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ST(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,l=Object.keys(s).map(g=>{const p=n==null?void 0:n[g],m=a==null?void 0:a[g];if(p===null)return null;const x=bT(p)||bT(m);return s[g][x]}),f=n&&Object.entries(n).reduce((g,p)=>{let[m,x]=p;return x===void 0||(g[m]=x),g},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((g,p)=>{let{class:m,className:x,...b}=p;return Object.entries(b).every(A=>{let[C,w]=A;return Array.isArray(w)?w.includes({...a,...f}[C]):{...a,...f}[C]===w})?[...g,m,x]:g},[]);return ST(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},vV=AS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function er({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?Qw:"button";return O.jsx(a,{"data-slot":"button",className:bt("cursor-pointer",vV({variant:t,size:n,className:e})),...s})}function yV({className:e,...t}){return O.jsxs("form",{className:bt("flex flex-col gap-6",e),...t,children:[O.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[O.jsx("h1",{className:"text-2xl font-bold",children:"Login to Wafflebase"}),O.jsx("p",{className:"text-balance text-sm text-muted-foreground",children:"Wafflebase with your GitHub account."})]}),O.jsx("div",{className:"grid gap-6",children:O.jsx(er,{variant:"outline",className:"w-full",asChild:!0,children:O.jsxs(yg,{to:"https://wafflebase-api.yorkie.dev/auth/github",rel:"noopener noreferrer",children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:O.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12",fill:"currentColor"})}),"Login with GitHub"]})})})]})}function xV(){return O.jsx("div",{className:"grid min-h-svh",children:O.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[O.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:O.jsxs("a",{href:"#",className:"flex items-center gap-2 font-medium",children:[O.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-md bg-primary text-primary-foreground",children:O.jsx(B3,{className:"!size-5"})}),"Wafflebase"]})}),O.jsx("div",{className:"flex flex-1 items-center justify-center",children:O.jsx("div",{className:"w-full max-w-xs",children:O.jsx(yV,{})})})]})})}async function rP(){if(!(await fetch("https://wafflebase-api.yorkie.dev/auth/logout",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to log out");zn.success("Logged out successfully"),window.location.href="/login"}async function hh(){const e=await _i("https://wafflebase-api.yorkie.dev/auth/me",{method:"GET",credentials:"include"});if(!e.ok)throw new Error("Failed to fetch user");return e.json()}async function _i(e,t){const n=await fetch(e,{...t,credentials:"include"});if(n.status===401)throw await rP(),new Error("Unauthorized");return n}async function bV(e){const t=await _i("https://wafflebase-api.yorkie.dev/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create document");return t.json()}async function SV(){const e=await _i("https://wafflebase-api.yorkie.dev/documents");if(!e.ok)throw new Error("Failed to fetch documents");return await e.json()}async function EV(e){const t=await _i(`https://wafflebase-api.yorkie.dev/documents/${e}`);if(!t.ok)throw new Error("Failed to fetch document");const n=await t.json();if(!n)throw new Error("Document not found");return n}async function iP(e,t){const n=await _i(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})});if(!n.ok)throw new Error("Failed to rename document");return n.json()}async function AV(e){if((await _i(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"DELETE"})).ok)zn.success("Document deleted successfully");else throw zn.error("Failed to delete document"),new Error("Failed to delete document")}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Gc(e,t){return typeof e=="function"?e(t):e}function mo(e,t){return n=>{t.setState(r=>({...r,[e]:Gc(n,r[e])}))}}function CS(e){return e instanceof Function}function CV(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function wV(e,t){const n=[],r=s=>{s.forEach(a=>{n.push(a);const l=t(a);l!=null&&l.length&&r(l)})};return r(e),n}function Nt(e,t,n){let r=[],s;return a=>{let l;n.key&&n.debug&&(l=Date.now());const f=e(a);if(!(f.length!==r.length||f.some((p,m)=>r[m]!==p)))return s;r=f;let g;if(n.key&&n.debug&&(g=Date.now()),s=t(...f),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-l)*100)/100,m=Math.round((Date.now()-g)*100)/100,x=m/16,b=(A,C)=>{for(A=String(A);A.length<C;)A=" "+A;return A};console.info(`%c ${b(m,5)} /${b(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function _t(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function RV(e,t,n,r){const s=()=>{var l;return(l=a.getValue())!=null?l:e.options.renderFallbackValue},a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:Nt(()=>[e,n,t,a],(l,f,d,g)=>({table:l,column:f,row:d,cell:g,getValue:g.getValue,renderValue:g.renderValue}),_t(e.options,"debugCells"))};return e._features.forEach(l=>{l.createCell==null||l.createCell(a,n,t,e)},{}),a}function TV(e,t,n,r){var s,a;const f={...e._getDefaultColumnDef(),...t},d=f.accessorKey;let g=(s=(a=f.id)!=null?a:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?s:typeof f.header=="string"?f.header:void 0,p;if(f.accessorFn?p=f.accessorFn:d&&(d.includes(".")?p=x=>{let b=x;for(const C of d.split(".")){var A;b=(A=b)==null?void 0:A[C]}return b}:p=x=>x[f.accessorKey]),!g)throw new Error;let m={id:`${String(g)}`,accessorFn:p,parent:r,depth:n,columnDef:f,columns:[],getFlatColumns:Nt(()=>[!0],()=>{var x;return[m,...(x=m.columns)==null?void 0:x.flatMap(b=>b.getFlatColumns())]},_t(e.options,"debugColumns")),getLeafColumns:Nt(()=>[e._getOrderColumnsFn()],x=>{var b;if((b=m.columns)!=null&&b.length){let A=m.columns.flatMap(C=>C.getLeafColumns());return x(A)}return[m]},_t(e.options,"debugColumns"))};for(const x of e._features)x.createColumn==null||x.createColumn(m,e);return m}const ci="debugHeaders";function ET(e,t,n){var r;let a={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],f=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(f),l.push(d)};return f(a),l},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(a,e)}),a}const NV={createTable:e=>{e.getHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var a,l;const f=(a=r==null?void 0:r.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?a:[],d=(l=s==null?void 0:s.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?l:[],g=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(s!=null&&s.includes(m.id)));return mb(t,[...f,...g,...d],e)},_t(e.options,ci)),e.getCenterHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(s!=null&&s.includes(a.id))),mb(t,n,e,"center")),_t(e.options,ci)),e.getLeftHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const a=(s=r==null?void 0:r.map(l=>n.find(f=>f.id===l)).filter(Boolean))!=null?s:[];return mb(t,a,e,"left")},_t(e.options,ci)),e.getRightHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const a=(s=r==null?void 0:r.map(l=>n.find(f=>f.id===l)).filter(Boolean))!=null?s:[];return mb(t,a,e,"right")},_t(e.options,ci)),e.getFooterGroups=Nt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),_t(e.options,ci)),e.getLeftFooterGroups=Nt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),_t(e.options,ci)),e.getCenterFooterGroups=Nt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),_t(e.options,ci)),e.getRightFooterGroups=Nt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),_t(e.options,ci)),e.getFlatHeaders=Nt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,ci)),e.getLeftFlatHeaders=Nt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,ci)),e.getCenterFlatHeaders=Nt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,ci)),e.getRightFlatHeaders=Nt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,ci)),e.getCenterLeafHeaders=Nt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,ci)),e.getLeftLeafHeaders=Nt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,ci)),e.getRightLeafHeaders=Nt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,ci)),e.getLeafHeaders=Nt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,a,l,f,d,g;return[...(s=(a=t[0])==null?void 0:a.headers)!=null?s:[],...(l=(f=n[0])==null?void 0:f.headers)!=null?l:[],...(d=(g=r[0])==null?void 0:g.headers)!=null?d:[]].map(p=>p.getLeafHeaders()).flat()},_t(e.options,ci))}};function mb(e,t,n,r){var s,a;let l=0;const f=function(x,b){b===void 0&&(b=1),l=Math.max(l,b),x.filter(A=>A.getIsVisible()).forEach(A=>{var C;(C=A.columns)!=null&&C.length&&f(A.columns,b+1)},0)};f(e);let d=[];const g=(x,b)=>{const A={depth:b,id:[r,`${b}`].filter(Boolean).join("_"),headers:[]},C=[];x.forEach(w=>{const R=[...C].reverse()[0],N=w.column.depth===A.depth;let I,D=!1;if(N&&w.column.parent?I=w.column.parent:(I=w.column,D=!0),R&&(R==null?void 0:R.column)===I)R.subHeaders.push(w);else{const F=ET(n,I,{id:[r,b,I.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${C.filter(k=>k.column===I).length}`:void 0,depth:b,index:C.length});F.subHeaders.push(w),C.push(F)}A.headers.push(w),w.headerGroup=A}),d.push(A),b>0&&g(C,b-1)},p=t.map((x,b)=>ET(n,x,{depth:l,index:b}));g(p,l-1),d.reverse();const m=x=>x.filter(A=>A.column.getIsVisible()).map(A=>{let C=0,w=0,R=[0];A.subHeaders&&A.subHeaders.length?(R=[],m(A.subHeaders).forEach(I=>{let{colSpan:D,rowSpan:F}=I;C+=D,R.push(F)})):C=1;const N=Math.min(...R);return w=w+N,A.colSpan=C,A.rowSpan=w,{colSpan:C,rowSpan:w}});return m((s=(a=d[0])==null?void 0:a.headers)!=null?s:[]),d}const e2=(e,t,n,r,s,a,l)=>{let f={id:t,index:r,original:n,depth:s,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(f._valuesCache.hasOwnProperty(d))return f._valuesCache[d];const g=e.getColumn(d);if(g!=null&&g.accessorFn)return f._valuesCache[d]=g.accessorFn(f.original,r),f._valuesCache[d]},getUniqueValues:d=>{if(f._uniqueValuesCache.hasOwnProperty(d))return f._uniqueValuesCache[d];const g=e.getColumn(d);if(g!=null&&g.accessorFn)return g.columnDef.getUniqueValues?(f._uniqueValuesCache[d]=g.columnDef.getUniqueValues(f.original,r),f._uniqueValuesCache[d]):(f._uniqueValuesCache[d]=[f.getValue(d)],f._uniqueValuesCache[d])},renderValue:d=>{var g;return(g=f.getValue(d))!=null?g:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>wV(f.subRows,d=>d.subRows),getParentRow:()=>f.parentId?e.getRow(f.parentId,!0):void 0,getParentRows:()=>{let d=[],g=f;for(;;){const p=g.getParentRow();if(!p)break;d.push(p),g=p}return d.reverse()},getAllCells:Nt(()=>[e.getAllLeafColumns()],d=>d.map(g=>RV(e,f,g,g.id)),_t(e.options,"debugRows")),_getAllCellsByColumnId:Nt(()=>[f.getAllCells()],d=>d.reduce((g,p)=>(g[p.column.id]=p,g),{}),_t(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const g=e._features[d];g==null||g.createRow==null||g.createRow(f,e)}return f},_V={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},oP=(e,t,n)=>{var r,s;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(a))};oP.autoRemove=e=>Ns(e);const sP=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};sP.autoRemove=e=>Ns(e);const aP=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};aP.autoRemove=e=>Ns(e);const lP=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};lP.autoRemove=e=>Ns(e);const uP=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});uP.autoRemove=e=>Ns(e)||!(e!=null&&e.length);const cP=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});cP.autoRemove=e=>Ns(e)||!(e!=null&&e.length);const fP=(e,t,n)=>e.getValue(t)===n;fP.autoRemove=e=>Ns(e);const dP=(e,t,n)=>e.getValue(t)==n;dP.autoRemove=e=>Ns(e);const t2=(e,t,n)=>{let[r,s]=n;const a=e.getValue(t);return a>=r&&a<=s};t2.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,a=t===null||Number.isNaN(r)?-1/0:r,l=n===null||Number.isNaN(s)?1/0:s;if(a>l){const f=a;a=l,l=f}return[a,l]};t2.autoRemove=e=>Ns(e)||Ns(e[0])&&Ns(e[1]);const Su={includesString:oP,includesStringSensitive:sP,equalsString:aP,arrIncludes:lP,arrIncludesAll:uP,arrIncludesSome:cP,equals:fP,weakEquals:dP,inNumberRange:t2};function Ns(e){return e==null||e===""}const IV={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:mo("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Su.includesString:typeof r=="number"?Su.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Su.equals:Array.isArray(r)?Su.arrIncludes:Su.weakEquals},e.getFilterFn=()=>{var n,r;return CS(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Su[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),a=r==null?void 0:r.find(p=>p.id===e.id),l=Gc(n,a?a.value:void 0);if(AT(s,l,e)){var f;return(f=r==null?void 0:r.filter(p=>p.id!==e.id))!=null?f:[]}const d={id:e.id,value:l};if(a){var g;return(g=r==null?void 0:r.map(p=>p.id===e.id?d:p))!=null?g:[]}return r!=null&&r.length?[...r,d]:[d]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var a;return(a=Gc(t,s))==null?void 0:a.filter(l=>{const f=n.find(d=>d.id===l.id);if(f){const d=f.getFilterFn();if(AT(d,l.value,f))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function AT(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const OV=(e,t,n)=>n.reduce((r,s)=>{const a=s.getValue(e);return r+(typeof a=="number"?a:0)},0),DV=(e,t,n)=>{let r;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},PV=(e,t,n)=>{let r;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},MV=(e,t,n)=>{let r,s;return n.forEach(a=>{const l=a.getValue(e);l!=null&&(r===void 0?l>=l&&(r=s=l):(r>l&&(r=l),s<l&&(s=l)))}),[r,s]},LV=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let a=s.getValue(e);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},FV=(e,t)=>{if(!t.length)return;const n=t.map(a=>a.getValue(e));if(!CV(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((a,l)=>a-l);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},kV=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),BV=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,jV=(e,t)=>t.length,S1={sum:OV,min:DV,max:PV,extent:MV,mean:LV,median:FV,unique:kV,uniqueCount:BV,count:jV},zV={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:mo("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return S1.sum;if(Object.prototype.toString.call(r)==="[object Date]")return S1.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return CS(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:S1[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function VV(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(a=>!t.includes(a.id));return n==="remove"?r:[...t.map(a=>e.find(l=>l.id===a)).filter(Boolean),...r]}const UV={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:mo("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Nt(n=>[cv(t,n)],n=>n.findIndex(r=>r.id===e.id),_t(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=cv(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=cv(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Nt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let a=[];if(!(t!=null&&t.length))a=s;else{const l=[...t],f=[...s];for(;f.length&&l.length;){const d=l.shift(),g=f.findIndex(p=>p.id===d);g>-1&&a.push(f.splice(g,1)[0])}a=[...a,...f]}return VV(a,n,r)},_t(e.options,"debugTable"))}},E1=()=>({left:[],right:[]}),GV={getInitialState:e=>({columnPinning:E1(),...e}),getDefaultOptions:e=>({onColumnPinningChange:mo("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var a,l;if(n==="right"){var f,d;return{left:((f=s==null?void 0:s.left)!=null?f:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((d=s==null?void 0:s.right)!=null?d:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var g,p;return{left:[...((g=s==null?void 0:s.left)!=null?g:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((p=s==null?void 0:s.right)!=null?p:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(m=>!(r!=null&&r.includes(m))),right:((l=s==null?void 0:s.right)!=null?l:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,a,l;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((a=(l=t.options.enableColumnPinning)!=null?l:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(f=>f.id),{left:r,right:s}=t.getState().columnPinning,a=n.some(f=>r==null?void 0:r.includes(f)),l=n.some(f=>s==null?void 0:s.includes(f));return a?"left":l?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const a=[...r??[],...s??[]];return n.filter(l=>!a.includes(l.column.id))},_t(t.options,"debugRows")),e.getLeftVisibleCells=Nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(l=>l.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),_t(t.options,"debugRows")),e.getRightVisibleCells=Nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(l=>l.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),_t(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?E1():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:E1())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,a;return!!((s=r.left)!=null&&s.length||(a=r.right)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),_t(e.options,"debugColumns")),e.getRightLeafColumns=Nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),_t(e.options,"debugColumns")),e.getCenterLeafColumns=Nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(a=>!s.includes(a.id))},_t(e.options,"debugColumns"))}},vb={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},A1=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),$V={getDefaultColumnDef:()=>vb,getInitialState:e=>({columnSizing:{},columnSizingInfo:A1(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:mo("columnSizing",e),onColumnSizingInfoChange:mo("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const a=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:vb.minSize,(r=a??e.columnDef.size)!=null?r:vb.size),(s=e.columnDef.maxSize)!=null?s:vb.maxSize)},e.getStart=Nt(n=>[n,cv(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,a)=>s+a.getSize(),0),_t(t.options,"debugColumns")),e.getAfter=Nt(n=>[n,cv(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,a)=>s+a.getSize(),0),_t(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var a;n+=(a=s.column.getSize())!=null?a:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return a=>{if(!r||!s||(a.persist==null||a.persist(),C1(a)&&a.touches&&a.touches.length>1))return;const l=e.getSize(),f=e?e.getLeafHeaders().map(R=>[R.column.id,R.column.getSize()]):[[r.id,r.getSize()]],d=C1(a)?Math.round(a.touches[0].clientX):a.clientX,g={},p=(R,N)=>{typeof N=="number"&&(t.setColumnSizingInfo(I=>{var D,F;const k=t.options.columnResizeDirection==="rtl"?-1:1,V=(N-((D=I==null?void 0:I.startOffset)!=null?D:0))*k,B=Math.max(V/((F=I==null?void 0:I.startSize)!=null?F:0),-.999999);return I.columnSizingStart.forEach(H=>{let[te,re]=H;g[te]=Math.round(Math.max(re+re*B,0)*100)/100}),{...I,deltaOffset:V,deltaPercentage:B}}),(t.options.columnResizeMode==="onChange"||R==="end")&&t.setColumnSizing(I=>({...I,...g})))},m=R=>p("move",R),x=R=>{p("end",R),t.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=n||typeof document<"u"?document:null,A={moveHandler:R=>m(R.clientX),upHandler:R=>{b==null||b.removeEventListener("mousemove",A.moveHandler),b==null||b.removeEventListener("mouseup",A.upHandler),x(R.clientX)}},C={moveHandler:R=>(R.cancelable&&(R.preventDefault(),R.stopPropagation()),m(R.touches[0].clientX),!1),upHandler:R=>{var N;b==null||b.removeEventListener("touchmove",C.moveHandler),b==null||b.removeEventListener("touchend",C.upHandler),R.cancelable&&(R.preventDefault(),R.stopPropagation()),x((N=R.touches[0])==null?void 0:N.clientX)}},w=HV()?{passive:!1}:!1;C1(a)?(b==null||b.addEventListener("touchmove",C.moveHandler,w),b==null||b.addEventListener("touchend",C.upHandler,w)):(b==null||b.addEventListener("mousemove",A.moveHandler,w),b==null||b.addEventListener("mouseup",A.upHandler,w)),t.setColumnSizingInfo(R=>({...R,startOffset:d,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:f,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?A1():(n=e.initialState.columnSizingInfo)!=null?n:A1())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let yb=null;function HV(){if(typeof yb=="boolean")return yb;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return yb=e,yb}function C1(e){return e.type==="touchstart"}const YV={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:mo("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(a=>a.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Nt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),_t(t.options,"debugRows")),e.getVisibleCells=Nt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],_t(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Nt(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),_t(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,a)=>({...s,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function cv(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const WV={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},qV={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:mo("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,a;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Su.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return CS(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Su[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},KV={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:mo("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,a;e.setExpanded(r?{}:(s=(a=e.initialState)==null?void 0:a.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const l=a.split(".");r=Math.max(r,l.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const a=r===!0?!0:!!(r!=null&&r[e.id]);let l={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(f=>{l[f]=!0}):l=r,n=(s=n)!=null?s:!a,!a&&n)return{...l,[e.id]:!0};if(a&&!n){const{[e.id]:f,...d}=l;return d}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},ew=0,tw=10,w1=()=>({pageIndex:ew,pageSize:tw}),XV={getInitialState:e=>({...e,pagination:{...w1(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:mo("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=a=>Gc(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?w1():(s=e.initialState.pagination)!=null?s:w1())},e.setPageIndex=r=>{e.setPagination(s=>{let a=Gc(r,s.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,l)),{...s,pageIndex:a}})},e.resetPageIndex=r=>{var s,a;e.setPageIndex(r?ew:(s=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?s:ew)},e.resetPageSize=r=>{var s,a;e.setPageSize(r?tw:(s=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?s:tw)},e.setPageSize=r=>{e.setPagination(s=>{const a=Math.max(1,Gc(r,s.pageSize)),l=s.pageSize*s.pageIndex,f=Math.floor(l/a);return{...s,pageIndex:f,pageSize:a}})},e.setPageCount=r=>e.setPagination(s=>{var a;let l=Gc(r,(a=e.options.pageCount)!=null?a:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...s,pageCount:l}}),e.getPageOptions=Nt(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((a,l)=>l)),s},_t(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},R1=()=>({top:[],bottom:[]}),ZV={getInitialState:e=>({rowPinning:R1(),...e}),getDefaultOptions:e=>({onRowPinningChange:mo("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const a=r?e.getLeafRows().map(d=>{let{id:g}=d;return g}):[],l=s?e.getParentRows().map(d=>{let{id:g}=d;return g}):[],f=new Set([...l,e.id,...a]);t.setRowPinning(d=>{var g,p;if(n==="bottom"){var m,x;return{top:((m=d==null?void 0:d.top)!=null?m:[]).filter(C=>!(f!=null&&f.has(C))),bottom:[...((x=d==null?void 0:d.bottom)!=null?x:[]).filter(C=>!(f!=null&&f.has(C))),...Array.from(f)]}}if(n==="top"){var b,A;return{top:[...((b=d==null?void 0:d.top)!=null?b:[]).filter(C=>!(f!=null&&f.has(C))),...Array.from(f)],bottom:((A=d==null?void 0:d.bottom)!=null?A:[]).filter(C=>!(f!=null&&f.has(C)))}}return{top:((g=d==null?void 0:d.top)!=null?g:[]).filter(C=>!(f!=null&&f.has(C))),bottom:((p=d==null?void 0:d.bottom)!=null?p:[]).filter(C=>!(f!=null&&f.has(C)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,a=n.some(f=>r==null?void 0:r.includes(f)),l=n.some(f=>s==null?void 0:s.includes(f));return a?"top":l?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const a=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(l=>{let{id:f}=l;return f});return(r=a==null?void 0:a.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?R1():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:R1())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,a;return!!((s=r.top)!=null&&s.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(l=>{const f=e.getRow(l,!0);return f.getIsAllParentsExpanded()?f:null}):(n??[]).map(l=>t.find(f=>f.id===l))).filter(Boolean).map(l=>({...l,position:r}))},e.getTopRows=Nt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),_t(e.options,"debugRows")),e.getBottomRows=Nt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),_t(e.options,"debugRows")),e.getCenterRows=Nt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(a=>!s.has(a.id))},_t(e.options,"debugRows"))}},JV={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:mo("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):s.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(a=>{nw(s,a.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Nt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?T1(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getFilteredSelectedRowModel=Nt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?T1(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getGroupedSelectedRowModel=Nt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?T1(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(a=>{var l;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return a;const f={...a};return nw(f,e.id,n,(l=r==null?void 0:r.selectChildren)!=null?l:!0,t),f})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return n2(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return rw(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return rw(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},nw=(e,t,n,r,s)=>{var a;const l=s.getRow(t,!0);n?(l.getCanMultiSelect()||Object.keys(e).forEach(f=>delete e[f]),l.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(a=l.subRows)!=null&&a.length&&l.getCanSelectSubRows()&&l.subRows.forEach(f=>nw(e,f.id,n,r,s))};function T1(e,t){const n=e.getState().rowSelection,r=[],s={},a=function(l,f){return l.map(d=>{var g;const p=n2(d,n);if(p&&(r.push(d),s[d.id]=d),(g=d.subRows)!=null&&g.length&&(d={...d,subRows:a(d.subRows)}),p)return d}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:s}}function n2(e,t){var n;return(n=t[e.id])!=null?n:!1}function rw(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,a=!1;return e.subRows.forEach(l=>{if(!(a&&!s)&&(l.getCanSelect()&&(n2(l,t)?a=!0:s=!1),l.subRows&&l.subRows.length)){const f=rw(l,t);f==="all"?a=!0:(f==="some"&&(a=!0),s=!1)}}),s?"all":a?"some":!1}const iw=/([0-9]+)/gm,QV=(e,t,n)=>hP(Wc(e.getValue(n)).toLowerCase(),Wc(t.getValue(n)).toLowerCase()),eU=(e,t,n)=>hP(Wc(e.getValue(n)),Wc(t.getValue(n))),tU=(e,t,n)=>r2(Wc(e.getValue(n)).toLowerCase(),Wc(t.getValue(n)).toLowerCase()),nU=(e,t,n)=>r2(Wc(e.getValue(n)),Wc(t.getValue(n))),rU=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},iU=(e,t,n)=>r2(e.getValue(n),t.getValue(n));function r2(e,t){return e===t?0:e>t?1:-1}function Wc(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function hP(e,t){const n=e.split(iw).filter(Boolean),r=t.split(iw).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),a=r.shift(),l=parseInt(s,10),f=parseInt(a,10),d=[l,f].sort();if(isNaN(d[0])){if(s>a)return 1;if(a>s)return-1;continue}if(isNaN(d[1]))return isNaN(l)?-1:1;if(l>f)return 1;if(f>l)return-1}return n.length-r.length}const N0={alphanumeric:QV,alphanumericCaseSensitive:eU,text:tU,textCaseSensitive:nU,datetime:rU,basic:iU},oU={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:mo("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const a=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return N0.datetime;if(typeof a=="string"&&(r=!0,a.split(iw).length>1))return N0.alphanumeric}return r?N0.text:N0.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return CS(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:N0[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),a=typeof n<"u"&&n!==null;t.setSorting(l=>{const f=l==null?void 0:l.find(b=>b.id===e.id),d=l==null?void 0:l.findIndex(b=>b.id===e.id);let g=[],p,m=a?n:s==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&r?f?p="toggle":p="add":l!=null&&l.length&&d!==l.length-1?p="replace":f?p="toggle":p="replace",p==="toggle"&&(a||s||(p="remove")),p==="add"){var x;g=[...l,{id:e.id,desc:m}],g.splice(0,g.length-((x=t.options.maxMultiSortColCount)!=null?x:Number.MAX_SAFE_INTEGER))}else p==="toggle"?g=l.map(b=>b.id===e.id?{...b,desc:m}:b):p==="remove"?g=l.filter(b=>b.id!==e.id):g=[{id:e.id,desc:m}];return g})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const a=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==a&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:l==="desc"?"asc":"desc":a},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},sU=[NV,YV,UV,GV,_V,IV,WV,qV,oU,zV,KV,XV,ZV,JV,$V];function aU(e){var t,n;const r=[...sU,...(t=e._features)!=null?t:[]];let s={_features:r};const a=s._features.reduce((x,b)=>Object.assign(x,b.getDefaultOptions==null?void 0:b.getDefaultOptions(s)),{}),l=x=>s.options.mergeOptions?s.options.mergeOptions(a,x):{...a,...x};let d={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(x=>{var b;d=(b=x.getInitialState==null?void 0:x.getInitialState(d))!=null?b:d});const g=[];let p=!1;const m={_features:r,options:{...a,...e},initialState:d,_queue:x=>{g.push(x),p||(p=!0,Promise.resolve().then(()=>{for(;g.length;)g.shift()();p=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{s.setState(s.initialState)},setOptions:x=>{const b=Gc(x,s.options);s.options=l(b)},getState:()=>s.options.state,setState:x=>{s.options.onStateChange==null||s.options.onStateChange(x)},_getRowId:(x,b,A)=>{var C;return(C=s.options.getRowId==null?void 0:s.options.getRowId(x,b,A))!=null?C:`${A?[A.id,b].join("."):b}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(x,b)=>{let A=(b?s.getPrePaginationRowModel():s.getRowModel()).rowsById[x];if(!A&&(A=s.getCoreRowModel().rowsById[x],!A))throw new Error;return A},_getDefaultColumnDef:Nt(()=>[s.options.defaultColumn],x=>{var b;return x=(b=x)!=null?b:{},{header:A=>{const C=A.header.column.columnDef;return C.accessorKey?C.accessorKey:C.accessorFn?C.id:null},cell:A=>{var C,w;return(C=(w=A.renderValue())==null||w.toString==null?void 0:w.toString())!=null?C:null},...s._features.reduce((A,C)=>Object.assign(A,C.getDefaultColumnDef==null?void 0:C.getDefaultColumnDef()),{}),...x}},_t(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:Nt(()=>[s._getColumnDefs()],x=>{const b=function(A,C,w){return w===void 0&&(w=0),A.map(R=>{const N=TV(s,R,w,C),I=R;return N.columns=I.columns?b(I.columns,N,w+1):[],N})};return b(x)},_t(e,"debugColumns")),getAllFlatColumns:Nt(()=>[s.getAllColumns()],x=>x.flatMap(b=>b.getFlatColumns()),_t(e,"debugColumns")),_getAllFlatColumnsById:Nt(()=>[s.getAllFlatColumns()],x=>x.reduce((b,A)=>(b[A.id]=A,b),{}),_t(e,"debugColumns")),getAllLeafColumns:Nt(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(x,b)=>{let A=x.flatMap(C=>C.getLeafColumns());return b(A)},_t(e,"debugColumns")),getColumn:x=>s._getAllFlatColumnsById()[x]};Object.assign(s,m);for(let x=0;x<s._features.length;x++){const b=s._features[x];b==null||b.createTable==null||b.createTable(s)}return s}function pP(){return e=>Nt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,a,l){a===void 0&&(a=0);const f=[];for(let g=0;g<s.length;g++){const p=e2(e,e._getRowId(s[g],g,l),s[g],g,a,void 0,l==null?void 0:l.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,f.push(p),e.options.getSubRows){var d;p.originalSubRows=e.options.getSubRows(s[g],g),(d=p.originalSubRows)!=null&&d.length&&(p.subRows=r(p.originalSubRows,a+1,p))}}return f};return n.rows=r(t),n},_t(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function lU(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function uU(e,t,n){return n.options.filterFromLeafRows?cU(e,t,n):fU(e,t,n)}function cU(e,t,n){var r;const s=[],a={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,f=function(d,g){g===void 0&&(g=0);const p=[];for(let x=0;x<d.length;x++){var m;let b=d[x];const A=e2(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(A.columnFilters=b.columnFilters,(m=b.subRows)!=null&&m.length&&g<l){if(A.subRows=f(b.subRows,g+1),b=A,t(b)&&!A.subRows.length){p.push(b),a[b.id]=b,s.push(b);continue}if(t(b)||A.subRows.length){p.push(b),a[b.id]=b,s.push(b);continue}}else b=A,t(b)&&(p.push(b),a[b.id]=b,s.push(b))}return p};return{rows:f(e),flatRows:s,rowsById:a}}function fU(e,t,n){var r;const s=[],a={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,f=function(d,g){g===void 0&&(g=0);const p=[];for(let x=0;x<d.length;x++){let b=d[x];if(t(b)){var m;if((m=b.subRows)!=null&&m.length&&g<l){const C=e2(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);C.subRows=f(b.subRows,g+1),b=C}p.push(b),s.push(b),a[b.id]=b}}return p};return{rows:f(e),flatRows:s,rowsById:a}}function gP(){return e=>Nt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let x=0;x<t.flatRows.length;x++)t.flatRows[x].columnFilters={},t.flatRows[x].columnFiltersMeta={};return t}const s=[],a=[];(n??[]).forEach(x=>{var b;const A=e.getColumn(x.id);if(!A)return;const C=A.getFilterFn();C&&s.push({id:x.id,filterFn:C,resolvedValue:(b=C.resolveFilterValue==null?void 0:C.resolveFilterValue(x.value))!=null?b:x.value})});const l=(n??[]).map(x=>x.id),f=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(x=>x.getCanGlobalFilter());r&&f&&d.length&&(l.push("__global__"),d.forEach(x=>{var b;a.push({id:x.id,filterFn:f,resolvedValue:(b=f.resolveFilterValue==null?void 0:f.resolveFilterValue(r))!=null?b:r})}));let g,p;for(let x=0;x<t.flatRows.length;x++){const b=t.flatRows[x];if(b.columnFilters={},s.length)for(let A=0;A<s.length;A++){g=s[A];const C=g.id;b.columnFilters[C]=g.filterFn(b,C,g.resolvedValue,w=>{b.columnFiltersMeta[C]=w})}if(a.length){for(let A=0;A<a.length;A++){p=a[A];const C=p.id;if(p.filterFn(b,C,p.resolvedValue,w=>{b.columnFiltersMeta[C]=w})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const m=x=>{for(let b=0;b<l.length;b++)if(x.columnFilters[l[b]]===!1)return!1;return!0};return uU(t.rows,m,e)},_t(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function mP(e){return t=>Nt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:a}=n;let{rows:l,flatRows:f,rowsById:d}=r;const g=s*a,p=g+s;l=l.slice(g,p);let m;t.options.paginateExpandedRows?m={rows:l,flatRows:f,rowsById:d}:m=lU({rows:l,flatRows:f,rowsById:d}),m.flatRows=[];const x=b=>{m.flatRows.push(b),b.subRows.length&&b.subRows.forEach(x)};return m.rows.forEach(x),m},_t(t.options,"debugTable"))}function vP(){return e=>Nt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],a=r.filter(d=>{var g;return(g=e.getColumn(d.id))==null?void 0:g.getCanSort()}),l={};a.forEach(d=>{const g=e.getColumn(d.id);g&&(l[d.id]={sortUndefined:g.columnDef.sortUndefined,invertSorting:g.columnDef.invertSorting,sortingFn:g.getSortingFn()})});const f=d=>{const g=d.map(p=>({...p}));return g.sort((p,m)=>{for(let b=0;b<a.length;b+=1){var x;const A=a[b],C=l[A.id],w=C.sortUndefined,R=(x=A==null?void 0:A.desc)!=null?x:!1;let N=0;if(w){const I=p.getValue(A.id),D=m.getValue(A.id),F=I===void 0,k=D===void 0;if(F||k){if(w==="first")return F?-1:1;if(w==="last")return F?1:-1;N=F&&k?0:F?w:-w}}if(N===0&&(N=C.sortingFn(p,m,A.id)),N!==0)return R&&(N*=-1),C.invertSorting&&(N*=-1),N}return p.index-m.index}),g.forEach(p=>{var m;s.push(p),(m=p.subRows)!=null&&m.length&&(p.subRows=f(p.subRows))}),g};return{rows:f(n.rows),flatRows:s,rowsById:n.rowsById}},_t(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function eS(e,t){return e?dU(e)?M.createElement(e,t):e:null}function dU(e){return hU(e)||typeof e=="function"||pU(e)}function hU(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function pU(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function yP(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=M.useState(()=>({current:aU(t)})),[r,s]=M.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:l=>{s(l),e.onStateChange==null||e.onStateChange(l)}})),n.current}const xb=43200,CT=1440,wT=Symbol.for("constructDateFrom");function i2(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&wT in e?e[wT](t):e instanceof Date?new e.constructor(t):new Date(t)}function qc(e,t){return i2(e,e)}let gU={};function mU(){return gU}function RT(e){const t=qc(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function o2(e,...t){const n=i2.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function jb(e,t){const n=+qc(e)-+qc(t);return n<0?-1:n>0?1:n}function vU(e){return i2(e,Date.now())}function yU(e,t,n){const[r,s]=o2(n==null?void 0:n.in,e,t),a=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return a*12+l}function xU(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function bU(e,t){return+qc(e)-+qc(t)}function SU(e,t){const n=qc(e);return n.setHours(23,59,59,999),n}function EU(e,t){const n=qc(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function AU(e,t){const n=qc(e);return+SU(n)==+EU(n)}function CU(e,t,n){const[r,s,a]=o2(n==null?void 0:n.in,e,e,t),l=jb(s,a),f=Math.abs(yU(s,a));if(f<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*f);let d=jb(s,a)===-l;AU(r)&&f===1&&jb(r,a)===1&&(d=!1);const g=l*(f-+d);return g===0?0:g}function wU(e,t,n){const r=bU(e,t)/1e3;return xU(n==null?void 0:n.roundingMethod)(r)}const RU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TU=(e,t,n)=>{let r;const s=RU[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function N1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const NU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_U={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},IU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OU={date:N1({formats:NU,defaultWidth:"full"}),time:N1({formats:_U,defaultWidth:"full"}),dateTime:N1({formats:IU,defaultWidth:"full"})},DU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PU=(e,t,n,r)=>DU[e];function _0(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,f=n!=null&&n.width?String(n.width):l;s=e.formattingValues[f]||e.formattingValues[l]}else{const l=e.defaultWidth,f=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[f]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const MU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zU=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},VU={ordinalNumber:zU,era:_0({values:MU,defaultWidth:"wide"}),quarter:_0({values:LU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_0({values:FU,defaultWidth:"wide"}),day:_0({values:kU,defaultWidth:"wide"}),dayPeriod:_0({values:BU,defaultWidth:"wide",formattingValues:jU,defaultFormattingWidth:"wide"})};function I0(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const l=a[0],f=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(f)?GU(f,m=>m.test(l)):UU(f,m=>m.test(l));let g;g=e.valueCallback?e.valueCallback(d):d,g=n.valueCallback?n.valueCallback(g):g;const p=t.slice(l.length);return{value:g,rest:p}}}function UU(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function GU(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function $U(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const f=t.slice(s.length);return{value:l,rest:f}}}const HU=/^(\d+)(th|st|nd|rd)?/i,YU=/\d+/i,WU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qU={any:[/^b/i,/^(a|c)/i]},KU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XU={any:[/1/i,/2/i,/3/i,/4/i]},ZU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},e4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},t4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},n4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r4={ordinalNumber:$U({matchPattern:HU,parsePattern:YU,valueCallback:e=>parseInt(e,10)}),era:I0({matchPatterns:WU,defaultMatchWidth:"wide",parsePatterns:qU,defaultParseWidth:"any"}),quarter:I0({matchPatterns:KU,defaultMatchWidth:"wide",parsePatterns:XU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:I0({matchPatterns:ZU,defaultMatchWidth:"wide",parsePatterns:JU,defaultParseWidth:"any"}),day:I0({matchPatterns:QU,defaultMatchWidth:"wide",parsePatterns:e4,defaultParseWidth:"any"}),dayPeriod:I0({matchPatterns:t4,defaultMatchWidth:"any",parsePatterns:n4,defaultParseWidth:"any"})},i4={code:"en-US",formatDistance:TU,formatLong:OU,formatRelative:PU,localize:VU,match:r4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function o4(e,t,n){const r=mU(),s=(n==null?void 0:n.locale)??r.locale??i4,a=2520,l=jb(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const f=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[d,g]=o2(n==null?void 0:n.in,...l>0?[t,e]:[e,t]),p=wU(g,d),m=(RT(g)-RT(d))/1e3,x=Math.round((p-m)/60);let b;if(x<2)return n!=null&&n.includeSeconds?p<5?s.formatDistance("lessThanXSeconds",5,f):p<10?s.formatDistance("lessThanXSeconds",10,f):p<20?s.formatDistance("lessThanXSeconds",20,f):p<40?s.formatDistance("halfAMinute",0,f):p<60?s.formatDistance("lessThanXMinutes",1,f):s.formatDistance("xMinutes",1,f):x===0?s.formatDistance("lessThanXMinutes",1,f):s.formatDistance("xMinutes",x,f);if(x<45)return s.formatDistance("xMinutes",x,f);if(x<90)return s.formatDistance("aboutXHours",1,f);if(x<CT){const A=Math.round(x/60);return s.formatDistance("aboutXHours",A,f)}else{if(x<a)return s.formatDistance("xDays",1,f);if(x<xb){const A=Math.round(x/CT);return s.formatDistance("xDays",A,f)}else if(x<xb*2)return b=Math.round(x/xb),s.formatDistance("aboutXMonths",b,f)}if(b=CU(g,d),b<12){const A=Math.round(x/xb);return s.formatDistance("xMonths",A,f)}else{const A=b%12,C=Math.trunc(b/12);return A<3?s.formatDistance("aboutXYears",C,f):A<9?s.formatDistance("overXYears",C,f):s.formatDistance("almostXYears",C+1,f)}}function xP(e,t){return o4(e,vU(e),t)}function ft(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function s4(e,t){const n=M.createContext(t),r=a=>{const{children:l,...f}=a,d=M.useMemo(()=>f,Object.values(f));return O.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function s(a){const l=M.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function ka(e,t=[]){let n=[];function r(a,l){const f=M.createContext(l),d=n.length;n=[...n,l];const g=m=>{var R;const{scope:x,children:b,...A}=m,C=((R=x==null?void 0:x[e])==null?void 0:R[d])||f,w=M.useMemo(()=>A,Object.values(A));return O.jsx(C.Provider,{value:w,children:b})};g.displayName=a+"Provider";function p(m,x){var C;const b=((C=x==null?void 0:x[e])==null?void 0:C[d])||f,A=M.useContext(b);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[g,p]}const s=()=>{const a=n.map(l=>M.createContext(l));return function(f){const d=(f==null?void 0:f[e])||a;return M.useMemo(()=>({[`__scope${e}`]:{...f,[e]:d}}),[f,d])}};return s.scopeName=e,[r,a4(s,...t)]}function a4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((f,{useScope:d,scopeName:g})=>{const m=d(a)[`__scope${g}`];return{...f,...m}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Dr=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},l4=i3[" useId ".trim().toString()]||(()=>{}),u4=0;function _a(e){const[t,n]=M.useState(l4());return Dr(()=>{n(r=>r??String(u4++))},[e]),e||(t?`radix-${t}`:"")}function vo(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e}),M.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function uh({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=c4({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:r,f=vo(n),d=M.useCallback(g=>{if(a){const m=typeof g=="function"?g(e):g;m!==e&&f(m)}else s(g)},[a,e,s,f]);return[l,d]}function c4({defaultProp:e,onChange:t}){const n=M.useState(e),[r]=n,s=M.useRef(r),a=vo(t);return M.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var f4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yt=f4.reduce((e,t)=>{const n=Yc(`Primitive.${t}`),r=M.forwardRef((s,a)=>{const{asChild:l,...f}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(d,{...f,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function bP(e,t){e&&Na.flushSync(()=>e.dispatchEvent(t))}function d4(e,t=globalThis==null?void 0:globalThis.document){const n=vo(e);M.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var h4="DismissableLayer",ow="dismissableLayer.update",p4="dismissableLayer.pointerDownOutside",g4="dismissableLayer.focusOutside",TT,SP=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pv=M.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:f,...d}=e,g=M.useContext(SP),[p,m]=M.useState(null),x=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=M.useState({}),A=bn(t,V=>m(V)),C=Array.from(g.layers),[w]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),R=C.indexOf(w),N=p?C.indexOf(p):-1,I=g.layersWithOutsidePointerEventsDisabled.size>0,D=N>=R,F=y4(V=>{const B=V.target,H=[...g.branches].some(te=>te.contains(B));!D||H||(s==null||s(V),l==null||l(V),V.defaultPrevented||f==null||f())},x),k=x4(V=>{const B=V.target;[...g.branches].some(te=>te.contains(B))||(a==null||a(V),l==null||l(V),V.defaultPrevented||f==null||f())},x);return d4(V=>{N===g.layers.size-1&&(r==null||r(V),!V.defaultPrevented&&f&&(V.preventDefault(),f()))},x),M.useEffect(()=>{if(p)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(TT=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(p)),g.layers.add(p),NT(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=TT)}},[p,x,n,g]),M.useEffect(()=>()=>{p&&(g.layers.delete(p),g.layersWithOutsidePointerEventsDisabled.delete(p),NT())},[p,g]),M.useEffect(()=>{const V=()=>b({});return document.addEventListener(ow,V),()=>document.removeEventListener(ow,V)},[]),O.jsx(Yt.div,{...d,ref:A,style:{pointerEvents:I?D?"auto":"none":void 0,...e.style},onFocusCapture:ft(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ft(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ft(e.onPointerDownCapture,F.onPointerDownCapture)})});Pv.displayName=h4;var m4="DismissableLayerBranch",v4=M.forwardRef((e,t)=>{const n=M.useContext(SP),r=M.useRef(null),s=bn(t,r);return M.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),O.jsx(Yt.div,{...e,ref:s})});v4.displayName=m4;function y4(e,t=globalThis==null?void 0:globalThis.document){const n=vo(e),r=M.useRef(!1),s=M.useRef(()=>{});return M.useEffect(()=>{const a=f=>{if(f.target&&!r.current){let d=function(){EP(p4,n,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function x4(e,t=globalThis==null?void 0:globalThis.document){const n=vo(e),r=M.useRef(!1);return M.useEffect(()=>{const s=a=>{a.target&&!r.current&&EP(g4,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function NT(){const e=new CustomEvent(ow);document.dispatchEvent(e)}function EP(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?bP(s,a):s.dispatchEvent(a)}var _1="focusScope.autoFocusOnMount",I1="focusScope.autoFocusOnUnmount",_T={bubbles:!1,cancelable:!0},b4="FocusScope",wS=M.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=e,[f,d]=M.useState(null),g=vo(s),p=vo(a),m=M.useRef(null),x=bn(t,C=>d(C)),b=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(r){let C=function(I){if(b.paused||!f)return;const D=I.target;f.contains(D)?m.current=D:Nc(m.current,{select:!0})},w=function(I){if(b.paused||!f)return;const D=I.relatedTarget;D!==null&&(f.contains(D)||Nc(m.current,{select:!0}))},R=function(I){if(document.activeElement===document.body)for(const F of I)F.removedNodes.length>0&&Nc(f)};document.addEventListener("focusin",C),document.addEventListener("focusout",w);const N=new MutationObserver(R);return f&&N.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",w),N.disconnect()}}},[r,f,b.paused]),M.useEffect(()=>{if(f){OT.add(b);const C=document.activeElement;if(!f.contains(C)){const R=new CustomEvent(_1,_T);f.addEventListener(_1,g),f.dispatchEvent(R),R.defaultPrevented||(S4(R4(AP(f)),{select:!0}),document.activeElement===C&&Nc(f))}return()=>{f.removeEventListener(_1,g),setTimeout(()=>{const R=new CustomEvent(I1,_T);f.addEventListener(I1,p),f.dispatchEvent(R),R.defaultPrevented||Nc(C??document.body,{select:!0}),f.removeEventListener(I1,p),OT.remove(b)},0)}}},[f,g,p,b]);const A=M.useCallback(C=>{if(!n&&!r||b.paused)return;const w=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,R=document.activeElement;if(w&&R){const N=C.currentTarget,[I,D]=E4(N);I&&D?!C.shiftKey&&R===D?(C.preventDefault(),n&&Nc(I,{select:!0})):C.shiftKey&&R===I&&(C.preventDefault(),n&&Nc(D,{select:!0})):R===N&&C.preventDefault()}},[n,r,b.paused]);return O.jsx(Yt.div,{tabIndex:-1,...l,ref:x,onKeyDown:A})});wS.displayName=b4;function S4(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Nc(r,{select:t}),document.activeElement!==n)return}function E4(e){const t=AP(e),n=IT(t,e),r=IT(t.reverse(),e);return[n,r]}function AP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function IT(e,t){for(const n of e)if(!A4(n,{upTo:t}))return n}function A4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function C4(e){return e instanceof HTMLInputElement&&"select"in e}function Nc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&C4(e)&&t&&e.select()}}var OT=w4();function w4(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=DT(e,t),e.unshift(t)},remove(t){var n;e=DT(e,t),(n=e[0])==null||n.resume()}}}function DT(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function R4(e){return e.filter(t=>t.tagName!=="A")}var T4="Portal",Mv=M.forwardRef((e,t)=>{var f;const{container:n,...r}=e,[s,a]=M.useState(!1);Dr(()=>a(!0),[]);const l=n||s&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return l?S3.createPortal(O.jsx(Yt.div,{...r,ref:t}),l):null});Mv.displayName=T4;function N4(e,t){return M.useReducer((n,r)=>t[n][r]??n,e)}var Ba=e=>{const{present:t,children:n}=e,r=_4(t),s=typeof n=="function"?n({present:r.isPresent}):M.Children.only(n),a=bn(r.ref,I4(s));return typeof n=="function"||r.isPresent?M.cloneElement(s,{ref:a}):null};Ba.displayName="Presence";function _4(e){const[t,n]=M.useState(),r=M.useRef({}),s=M.useRef(e),a=M.useRef("none"),l=e?"mounted":"unmounted",[f,d]=N4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const g=bb(r.current);a.current=f==="mounted"?g:"none"},[f]),Dr(()=>{const g=r.current,p=s.current;if(p!==e){const x=a.current,b=bb(g);e?d("MOUNT"):b==="none"||(g==null?void 0:g.display)==="none"?d("UNMOUNT"):d(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Dr(()=>{if(t){let g;const p=t.ownerDocument.defaultView??window,m=b=>{const C=bb(r.current).includes(b.animationName);if(b.target===t&&C&&(d("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},x=b=>{b.target===t&&(a.current=bb(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:M.useCallback(g=>{g&&(r.current=getComputedStyle(g)),n(g)},[])}}function bb(e){return(e==null?void 0:e.animationName)||"none"}function I4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var O1=0;function s2(){M.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??PT()),document.body.insertAdjacentElement("beforeend",e[1]??PT()),O1++,()=>{O1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),O1--}},[])}function PT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ca=function(){return Ca=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ca.apply(this,arguments)};function CP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function O4(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var zb="right-scroll-bar-position",Vb="width-before-scroll-bar",D4="with-scroll-bars-hidden",P4="--removed-body-scroll-bar-size";function D1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function M4(e,t){var n=M.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var L4=typeof window<"u"?M.useLayoutEffect:M.useEffect,MT=new WeakMap;function F4(e,t){var n=M4(null,function(r){return e.forEach(function(s){return D1(s,r)})});return L4(function(){var r=MT.get(n);if(r){var s=new Set(r),a=new Set(e),l=n.current;s.forEach(function(f){a.has(f)||D1(f,null)}),a.forEach(function(f){s.has(f)||D1(f,l)})}MT.set(n,e)},[e]),n}function k4(e){return e}function B4(e,t){t===void 0&&(t=k4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var l=t(a,r);return n.push(l),function(){n=n.filter(function(f){return f!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(f){return a(f)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var f=n;n=[],f.forEach(a),l=n}var d=function(){var p=l;l=[],p.forEach(a)},g=function(){return Promise.resolve().then(d)};g(),n={push:function(p){l.push(p),g()},filter:function(p){return l=l.filter(p),n}}}};return s}function j4(e){e===void 0&&(e={});var t=B4(null);return t.options=Ca({async:!0,ssr:!1},e),t}var wP=function(e){var t=e.sideCar,n=CP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return M.createElement(r,Ca({},n))};wP.isSideCarExport=!0;function z4(e,t){return e.useMedium(t),wP}var RP=j4(),P1=function(){},RS=M.forwardRef(function(e,t){var n=M.useRef(null),r=M.useState({onScrollCapture:P1,onWheelCapture:P1,onTouchMoveCapture:P1}),s=r[0],a=r[1],l=e.forwardProps,f=e.children,d=e.className,g=e.removeScrollBar,p=e.enabled,m=e.shards,x=e.sideCar,b=e.noIsolation,A=e.inert,C=e.allowPinchZoom,w=e.as,R=w===void 0?"div":w,N=e.gapMode,I=CP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=x,F=F4([n,t]),k=Ca(Ca({},I),s);return M.createElement(M.Fragment,null,p&&M.createElement(D,{sideCar:RP,removeScrollBar:g,shards:m,noIsolation:b,inert:A,setCallbacks:a,allowPinchZoom:!!C,lockRef:n,gapMode:N}),l?M.cloneElement(M.Children.only(f),Ca(Ca({},k),{ref:F})):M.createElement(R,Ca({},k,{className:d,ref:F}),f))});RS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RS.classNames={fullWidth:Vb,zeroRight:zb};var V4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=V4();return t&&e.setAttribute("nonce",t),e}function G4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var H4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=U4())&&(G4(t,n),$4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Y4=function(){var e=H4();return function(t,n){M.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},TP=function(){var e=Y4(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},W4={left:0,top:0,right:0,gap:0},M1=function(e){return parseInt(e||"",10)||0},q4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[M1(n),M1(r),M1(s)]},K4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return W4;var t=q4(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},X4=TP(),Hp="data-scroll-locked",Z4=function(e,t,n,r){var s=e.left,a=e.top,l=e.right,f=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(D4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(f,"px ").concat(r,`;
  }
  body[`).concat(Hp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zb,` {
    right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(Vb,` {
    margin-right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(zb," .").concat(zb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vb," .").concat(Vb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hp,`] {
    `).concat(P4,": ").concat(f,`px;
  }
`)},LT=function(){var e=parseInt(document.body.getAttribute(Hp)||"0",10);return isFinite(e)?e:0},J4=function(){M.useEffect(function(){return document.body.setAttribute(Hp,(LT()+1).toString()),function(){var e=LT()-1;e<=0?document.body.removeAttribute(Hp):document.body.setAttribute(Hp,e.toString())}},[])},Q4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;J4();var a=M.useMemo(function(){return K4(s)},[s]);return M.createElement(X4,{styles:Z4(a,!t,s,n?"":"!important")})},sw=!1;if(typeof window<"u")try{var Sb=Object.defineProperty({},"passive",{get:function(){return sw=!0,!0}});window.addEventListener("test",Sb,Sb),window.removeEventListener("test",Sb,Sb)}catch{sw=!1}var Fp=sw?{passive:!1}:!1,e9=function(e){return e.tagName==="TEXTAREA"},NP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!e9(e)&&n[t]==="visible")},t9=function(e){return NP(e,"overflowY")},n9=function(e){return NP(e,"overflowX")},FT=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=_P(e,r);if(s){var a=IP(e,r),l=a[1],f=a[2];if(l>f)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},r9=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},i9=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},_P=function(e,t){return e==="v"?t9(t):n9(t)},IP=function(e,t){return e==="v"?r9(t):i9(t)},o9=function(e,t){return e==="h"&&t==="rtl"?-1:1},s9=function(e,t,n,r,s){var a=o9(e,window.getComputedStyle(t).direction),l=a*r,f=n.target,d=t.contains(f),g=!1,p=l>0,m=0,x=0;do{var b=IP(e,f),A=b[0],C=b[1],w=b[2],R=C-w-a*A;(A||R)&&_P(e,f)&&(m+=R,x+=A),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!d&&f!==document.body||d&&(t.contains(f)||t===f));return(p&&Math.abs(m)<1||!p&&Math.abs(x)<1)&&(g=!0),g},Eb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},kT=function(e){return[e.deltaX,e.deltaY]},BT=function(e){return e&&"current"in e?e.current:e},a9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},l9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},u9=0,kp=[];function c9(e){var t=M.useRef([]),n=M.useRef([0,0]),r=M.useRef(),s=M.useState(u9++)[0],a=M.useState(TP)[0],l=M.useRef(e);M.useEffect(function(){l.current=e},[e]),M.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var C=O4([e.lockRef.current],(e.shards||[]).map(BT),!0).filter(Boolean);return C.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var f=M.useCallback(function(C,w){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var R=Eb(C),N=n.current,I="deltaX"in C?C.deltaX:N[0]-R[0],D="deltaY"in C?C.deltaY:N[1]-R[1],F,k=C.target,V=Math.abs(I)>Math.abs(D)?"h":"v";if("touches"in C&&V==="h"&&k.type==="range")return!1;var B=FT(V,k);if(!B)return!0;if(B?F=V:(F=V==="v"?"h":"v",B=FT(V,k)),!B)return!1;if(!r.current&&"changedTouches"in C&&(I||D)&&(r.current=F),!F)return!0;var H=r.current||F;return s9(H,w,C,H==="h"?I:D)},[]),d=M.useCallback(function(C){var w=C;if(!(!kp.length||kp[kp.length-1]!==a)){var R="deltaY"in w?kT(w):Eb(w),N=t.current.filter(function(F){return F.name===w.type&&(F.target===w.target||w.target===F.shadowParent)&&a9(F.delta,R)})[0];if(N&&N.should){w.cancelable&&w.preventDefault();return}if(!N){var I=(l.current.shards||[]).map(BT).filter(Boolean).filter(function(F){return F.contains(w.target)}),D=I.length>0?f(w,I[0]):!l.current.noIsolation;D&&w.cancelable&&w.preventDefault()}}},[]),g=M.useCallback(function(C,w,R,N){var I={name:C,delta:w,target:R,should:N,shadowParent:f9(R)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(D){return D!==I})},1)},[]),p=M.useCallback(function(C){n.current=Eb(C),r.current=void 0},[]),m=M.useCallback(function(C){g(C.type,kT(C),C.target,f(C,e.lockRef.current))},[]),x=M.useCallback(function(C){g(C.type,Eb(C),C.target,f(C,e.lockRef.current))},[]);M.useEffect(function(){return kp.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",d,Fp),document.addEventListener("touchmove",d,Fp),document.addEventListener("touchstart",p,Fp),function(){kp=kp.filter(function(C){return C!==a}),document.removeEventListener("wheel",d,Fp),document.removeEventListener("touchmove",d,Fp),document.removeEventListener("touchstart",p,Fp)}},[]);var b=e.removeScrollBar,A=e.inert;return M.createElement(M.Fragment,null,A?M.createElement(a,{styles:l9(s)}):null,b?M.createElement(Q4,{gapMode:e.gapMode}):null)}function f9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const d9=z4(RP,c9);var TS=M.forwardRef(function(e,t){return M.createElement(RS,Ca({},e,{ref:t,sideCar:d9}))});TS.classNames=RS.classNames;var h9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bp=new WeakMap,Ab=new WeakMap,Cb={},L1=0,OP=function(e){return e&&(e.host||OP(e.parentNode))},p9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=OP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},g9=function(e,t,n,r){var s=p9(t,Array.isArray(e)?e:[e]);Cb[n]||(Cb[n]=new WeakMap);var a=Cb[n],l=[],f=new Set,d=new Set(s),g=function(m){!m||f.has(m)||(f.add(m),g(m.parentNode))};s.forEach(g);var p=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(x){if(f.has(x))p(x);else try{var b=x.getAttribute(r),A=b!==null&&b!=="false",C=(Bp.get(x)||0)+1,w=(a.get(x)||0)+1;Bp.set(x,C),a.set(x,w),l.push(x),C===1&&A&&Ab.set(x,!0),w===1&&x.setAttribute(n,"true"),A||x.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",x,R)}})};return p(t),f.clear(),L1++,function(){l.forEach(function(m){var x=Bp.get(m)-1,b=a.get(m)-1;Bp.set(m,x),a.set(m,b),x||(Ab.has(m)||m.removeAttribute(r),Ab.delete(m)),b||m.removeAttribute(n)}),L1--,L1||(Bp=new WeakMap,Bp=new WeakMap,Ab=new WeakMap,Cb={})}},a2=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=h9(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),g9(r,s,n,"aria-hidden")):function(){return null}},l2="Dialog",[DP,XX]=ka(l2),[m9,Ms]=DP(l2),PP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:l=!0}=e,f=M.useRef(null),d=M.useRef(null),[g=!1,p]=uh({prop:r,defaultProp:s,onChange:a});return O.jsx(m9,{scope:t,triggerRef:f,contentRef:d,contentId:_a(),titleId:_a(),descriptionId:_a(),open:g,onOpenChange:p,onOpenToggle:M.useCallback(()=>p(m=>!m),[p]),modal:l,children:n})};PP.displayName=l2;var MP="DialogTrigger",LP=M.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ms(MP,n),a=bn(t,s.triggerRef);return O.jsx(Yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":f2(s.open),...r,ref:a,onClick:ft(e.onClick,s.onOpenToggle)})});LP.displayName=MP;var u2="DialogPortal",[v9,FP]=DP(u2,{forceMount:void 0}),kP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Ms(u2,t);return O.jsx(v9,{scope:t,forceMount:n,children:M.Children.map(r,l=>O.jsx(Ba,{present:n||a.open,children:O.jsx(Mv,{asChild:!0,container:s,children:l})}))})};kP.displayName=u2;var tS="DialogOverlay",BP=M.forwardRef((e,t)=>{const n=FP(tS,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ms(tS,e.__scopeDialog);return a.modal?O.jsx(Ba,{present:r||a.open,children:O.jsx(x9,{...s,ref:t})}):null});BP.displayName=tS;var y9=Yc("DialogOverlay.RemoveScroll"),x9=M.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ms(tS,n);return O.jsx(TS,{as:y9,allowPinchZoom:!0,shards:[s.contentRef],children:O.jsx(Yt.div,{"data-state":f2(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ch="DialogContent",jP=M.forwardRef((e,t)=>{const n=FP(ch,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ms(ch,e.__scopeDialog);return O.jsx(Ba,{present:r||a.open,children:a.modal?O.jsx(b9,{...s,ref:t}):O.jsx(S9,{...s,ref:t})})});jP.displayName=ch;var b9=M.forwardRef((e,t)=>{const n=Ms(ch,e.__scopeDialog),r=M.useRef(null),s=bn(t,n.contentRef,r);return M.useEffect(()=>{const a=r.current;if(a)return a2(a)},[]),O.jsx(zP,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ft(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,f=l.button===0&&l.ctrlKey===!0;(l.button===2||f)&&a.preventDefault()}),onFocusOutside:ft(e.onFocusOutside,a=>a.preventDefault())})}),S9=M.forwardRef((e,t)=>{const n=Ms(ch,e.__scopeDialog),r=M.useRef(!1),s=M.useRef(!1);return O.jsx(zP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,f;(l=e.onCloseAutoFocus)==null||l.call(e,a),a.defaultPrevented||(r.current||(f=n.triggerRef.current)==null||f.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var d,g;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((g=n.triggerRef.current)==null?void 0:g.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),zP=M.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}=e,f=Ms(ch,n),d=M.useRef(null),g=bn(t,d);return s2(),O.jsxs(O.Fragment,{children:[O.jsx(wS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:O.jsx(Pv,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":f2(f.open),...l,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),O.jsxs(O.Fragment,{children:[O.jsx(E9,{titleId:f.titleId}),O.jsx(C9,{contentRef:d,descriptionId:f.descriptionId})]})]})}),c2="DialogTitle",VP=M.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ms(c2,n);return O.jsx(Yt.h2,{id:s.titleId,...r,ref:t})});VP.displayName=c2;var UP="DialogDescription",GP=M.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ms(UP,n);return O.jsx(Yt.p,{id:s.descriptionId,...r,ref:t})});GP.displayName=UP;var $P="DialogClose",HP=M.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ms($P,n);return O.jsx(Yt.button,{type:"button",...r,ref:t,onClick:ft(e.onClick,()=>s.onOpenChange(!1))})});HP.displayName=$P;function f2(e){return e?"open":"closed"}var YP="DialogTitleWarning",[ZX,WP]=s4(YP,{contentName:ch,titleName:c2,docsSlug:"dialog"}),E9=({titleId:e})=>{const t=WP(YP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return M.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},A9="DialogDescriptionWarning",C9=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WP(A9).contentName}}.`;return M.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},qP=PP,w9=LP,KP=kP,XP=BP,ZP=jP,JP=VP,QP=GP,eM=HP;function Lv({...e}){return O.jsx(qP,{"data-slot":"dialog",...e})}function R9({...e}){return O.jsx(w9,{"data-slot":"dialog-trigger",...e})}function T9({...e}){return O.jsx(KP,{"data-slot":"dialog-portal",...e})}function N9({className:e,...t}){return O.jsx(XP,{"data-slot":"dialog-overlay",className:bt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Fv({className:e,children:t,...n}){return O.jsxs(T9,{children:[O.jsx(N9,{}),O.jsxs(ZP,{"data-slot":"dialog-content",className:bt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,O.jsxs(eM,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:size-4",children:[O.jsx(G3,{}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function kv({className:e,...t}){return O.jsx("div",{"data-slot":"dialog-header",className:bt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function _9({className:e,...t}){return O.jsx("div",{"data-slot":"dialog-footer",className:bt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Bv({className:e,...t}){return O.jsx(JP,{"data-slot":"dialog-title",className:bt("text-lg font-semibold leading-none",e),...t})}function jv({className:e,...t}){return O.jsx(QP,{"data-slot":"dialog-description",className:bt("text-muted-foreground text-sm",e),...t})}function d2(e){const t=e+"CollectionProvider",[n,r]=ka(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:w,children:R}=C,N=Ke.useRef(null),I=Ke.useRef(new Map).current;return O.jsx(s,{scope:w,itemMap:I,collectionRef:N,children:R})};l.displayName=t;const f=e+"CollectionSlot",d=Yc(f),g=Ke.forwardRef((C,w)=>{const{scope:R,children:N}=C,I=a(f,R),D=bn(w,I.collectionRef);return O.jsx(d,{ref:D,children:N})});g.displayName=f;const p=e+"CollectionItemSlot",m="data-radix-collection-item",x=Yc(p),b=Ke.forwardRef((C,w)=>{const{scope:R,children:N,...I}=C,D=Ke.useRef(null),F=bn(w,D),k=a(p,R);return Ke.useEffect(()=>(k.itemMap.set(D,{ref:D,...I}),()=>void k.itemMap.delete(D))),O.jsx(x,{[m]:"",ref:F,children:N})});b.displayName=p;function A(C){const w=a(e+"CollectionConsumer",C);return Ke.useCallback(()=>{const N=w.collectionRef.current;if(!N)return[];const I=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((k,V)=>I.indexOf(k.ref.current)-I.indexOf(V.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:g,ItemSlot:b},A,r]}var I9=M.createContext(void 0);function h2(e){const t=M.useContext(I9);return e||t||"ltr"}const O9=["top","right","bottom","left"],Kc=Math.min,po=Math.max,nS=Math.round,wb=Math.floor,Ia=e=>({x:e,y:e}),D9={left:"right",right:"left",bottom:"top",top:"bottom"},P9={start:"end",end:"start"};function aw(e,t,n){return po(e,Kc(t,n))}function Tu(e,t){return typeof e=="function"?e(t):e}function Nu(e){return e.split("-")[0]}function Eg(e){return e.split("-")[1]}function p2(e){return e==="x"?"y":"x"}function g2(e){return e==="y"?"height":"width"}function Xc(e){return["top","bottom"].includes(Nu(e))?"y":"x"}function m2(e){return p2(Xc(e))}function M9(e,t,n){n===void 0&&(n=!1);const r=Eg(e),s=m2(e),a=g2(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=rS(l)),[l,rS(l)]}function L9(e){const t=rS(e);return[lw(e),t,lw(t)]}function lw(e){return e.replace(/start|end/g,t=>P9[t])}function F9(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:l;default:return[]}}function k9(e,t,n,r){const s=Eg(e);let a=F9(Nu(e),n==="start",r);return s&&(a=a.map(l=>l+"-"+s),t&&(a=a.concat(a.map(lw)))),a}function rS(e){return e.replace(/left|right|bottom|top/g,t=>D9[t])}function B9(e){return{top:0,right:0,bottom:0,left:0,...e}}function tM(e){return typeof e!="number"?B9(e):{top:e,right:e,bottom:e,left:e}}function iS(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function jT(e,t,n){let{reference:r,floating:s}=e;const a=Xc(t),l=m2(t),f=g2(l),d=Nu(t),g=a==="y",p=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,x=r[f]/2-s[f]/2;let b;switch(d){case"top":b={x:p,y:r.y-s.height};break;case"bottom":b={x:p,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-s.width,y:m};break;default:b={x:r.x,y:r.y}}switch(Eg(t)){case"start":b[l]-=x*(n&&g?-1:1);break;case"end":b[l]+=x*(n&&g?-1:1);break}return b}const j9=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,f=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let g=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:m}=jT(g,r,d),x=r,b={},A=0;for(let C=0;C<f.length;C++){const{name:w,fn:R}=f[C],{x:N,y:I,data:D,reset:F}=await R({x:p,y:m,initialPlacement:r,placement:x,strategy:s,middlewareData:b,rects:g,platform:l,elements:{reference:e,floating:t}});p=N??p,m=I??m,b={...b,[w]:{...b[w],...D}},F&&A<=50&&(A++,typeof F=="object"&&(F.placement&&(x=F.placement),F.rects&&(g=F.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):F.rects),{x:p,y:m}=jT(g,x,d)),C=-1)}return{x:p,y:m,placement:x,strategy:s,middlewareData:b}};async function yv(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:l,elements:f,strategy:d}=e,{boundary:g="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:x=!1,padding:b=0}=Tu(t,e),A=tM(b),w=f[x?m==="floating"?"reference":"floating":m],R=iS(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(f.floating)),boundary:g,rootBoundary:p,strategy:d})),N=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f.floating)),D=await(a.isElement==null?void 0:a.isElement(I))?await(a.getScale==null?void 0:a.getScale(I))||{x:1,y:1}:{x:1,y:1},F=iS(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:N,offsetParent:I,strategy:d}):N);return{top:(R.top-F.top+A.top)/D.y,bottom:(F.bottom-R.bottom+A.bottom)/D.y,left:(R.left-F.left+A.left)/D.x,right:(F.right-R.right+A.right)/D.x}}const z9=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:l,elements:f,middlewareData:d}=t,{element:g,padding:p=0}=Tu(e,t)||{};if(g==null)return{};const m=tM(p),x={x:n,y:r},b=m2(s),A=g2(b),C=await l.getDimensions(g),w=b==="y",R=w?"top":"left",N=w?"bottom":"right",I=w?"clientHeight":"clientWidth",D=a.reference[A]+a.reference[b]-x[b]-a.floating[A],F=x[b]-a.reference[b],k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(g));let V=k?k[I]:0;(!V||!await(l.isElement==null?void 0:l.isElement(k)))&&(V=f.floating[I]||a.floating[A]);const B=D/2-F/2,H=V/2-C[A]/2-1,te=Kc(m[R],H),re=Kc(m[N],H),se=te,Ee=V-C[A]-re,ke=V/2-C[A]/2+B,Me=aw(se,ke,Ee),ie=!d.arrow&&Eg(s)!=null&&ke!==Me&&a.reference[A]/2-(ke<se?te:re)-C[A]/2<0,we=ie?ke<se?ke-se:ke-Ee:0;return{[b]:x[b]+we,data:{[b]:Me,centerOffset:ke-Me-we,...ie&&{alignmentOffset:we}},reset:ie}}}),V9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:f,platform:d,elements:g}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:C=!0,...w}=Tu(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const R=Nu(s),N=Xc(f),I=Nu(f)===f,D=await(d.isRTL==null?void 0:d.isRTL(g.floating)),F=x||(I||!C?[rS(f)]:L9(f)),k=A!=="none";!x&&k&&F.push(...k9(f,C,A,D));const V=[f,...F],B=await yv(t,w),H=[];let te=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&H.push(B[R]),m){const ke=M9(s,l,D);H.push(B[ke[0]],B[ke[1]])}if(te=[...te,{placement:s,overflows:H}],!H.every(ke=>ke<=0)){var re,se;const ke=(((re=a.flip)==null?void 0:re.index)||0)+1,Me=V[ke];if(Me)return{data:{index:ke,overflows:te},reset:{placement:Me}};let ie=(se=te.filter(we=>we.overflows[0]<=0).sort((we,de)=>we.overflows[1]-de.overflows[1])[0])==null?void 0:se.placement;if(!ie)switch(b){case"bestFit":{var Ee;const we=(Ee=te.filter(de=>{if(k){const ue=Xc(de.placement);return ue===N||ue==="y"}return!0}).map(de=>[de.placement,de.overflows.filter(ue=>ue>0).reduce((ue,K)=>ue+K,0)]).sort((de,ue)=>de[1]-ue[1])[0])==null?void 0:Ee[0];we&&(ie=we);break}case"initialPlacement":ie=f;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};function zT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function VT(e){return O9.some(t=>e[t]>=0)}const U9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Tu(e,t);switch(r){case"referenceHidden":{const a=await yv(t,{...s,elementContext:"reference"}),l=zT(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:VT(l)}}}case"escaped":{const a=await yv(t,{...s,altBoundary:!0}),l=zT(a,n.floating);return{data:{escapedOffsets:l,escaped:VT(l)}}}default:return{}}}}};async function G9(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Nu(n),f=Eg(n),d=Xc(n)==="y",g=["left","top"].includes(l)?-1:1,p=a&&d?-1:1,m=Tu(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:A}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return f&&typeof A=="number"&&(b=f==="end"?A*-1:A),d?{x:b*p,y:x*g}:{x:x*g,y:b*p}}const $9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:l,middlewareData:f}=t,d=await G9(t,e);return l===((n=f.offset)==null?void 0:n.placement)&&(r=f.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:a+d.y,data:{...d,placement:l}}}}},H9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:f={fn:w=>{let{x:R,y:N}=w;return{x:R,y:N}}},...d}=Tu(e,t),g={x:n,y:r},p=await yv(t,d),m=Xc(Nu(s)),x=p2(m);let b=g[x],A=g[m];if(a){const w=x==="y"?"top":"left",R=x==="y"?"bottom":"right",N=b+p[w],I=b-p[R];b=aw(N,b,I)}if(l){const w=m==="y"?"top":"left",R=m==="y"?"bottom":"right",N=A+p[w],I=A-p[R];A=aw(N,A,I)}const C=f.fn({...t,[x]:b,[m]:A});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[x]:a,[m]:l}}}}}},Y9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:l}=t,{offset:f=0,mainAxis:d=!0,crossAxis:g=!0}=Tu(e,t),p={x:n,y:r},m=Xc(s),x=p2(m);let b=p[x],A=p[m];const C=Tu(f,t),w=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const I=x==="y"?"height":"width",D=a.reference[x]-a.floating[I]+w.mainAxis,F=a.reference[x]+a.reference[I]-w.mainAxis;b<D?b=D:b>F&&(b=F)}if(g){var R,N;const I=x==="y"?"width":"height",D=["top","left"].includes(Nu(s)),F=a.reference[m]-a.floating[I]+(D&&((R=l.offset)==null?void 0:R[m])||0)+(D?0:w.crossAxis),k=a.reference[m]+a.reference[I]+(D?0:((N=l.offset)==null?void 0:N[m])||0)-(D?w.crossAxis:0);A<F?A=F:A>k&&(A=k)}return{[x]:b,[m]:A}}}},W9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:l,elements:f}=t,{apply:d=()=>{},...g}=Tu(e,t),p=await yv(t,g),m=Nu(s),x=Eg(s),b=Xc(s)==="y",{width:A,height:C}=a.floating;let w,R;m==="top"||m==="bottom"?(w=m,R=x===(await(l.isRTL==null?void 0:l.isRTL(f.floating))?"start":"end")?"left":"right"):(R=m,w=x==="end"?"top":"bottom");const N=C-p.top-p.bottom,I=A-p.left-p.right,D=Kc(C-p[w],N),F=Kc(A-p[R],I),k=!t.middlewareData.shift;let V=D,B=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(B=I),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(V=N),k&&!x){const te=po(p.left,0),re=po(p.right,0),se=po(p.top,0),Ee=po(p.bottom,0);b?B=A-2*(te!==0||re!==0?te+re:po(p.left,p.right)):V=C-2*(se!==0||Ee!==0?se+Ee:po(p.top,p.bottom))}await d({...t,availableWidth:B,availableHeight:V});const H=await l.getDimensions(f.floating);return A!==H.width||C!==H.height?{reset:{rects:!0}}:{}}}};function NS(){return typeof window<"u"}function Ag(e){return nM(e)?(e.nodeName||"").toLowerCase():"#document"}function go(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ja(e){var t;return(t=(nM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nM(e){return NS()?e instanceof Node||e instanceof go(e).Node:!1}function Is(e){return NS()?e instanceof Element||e instanceof go(e).Element:!1}function Da(e){return NS()?e instanceof HTMLElement||e instanceof go(e).HTMLElement:!1}function UT(e){return!NS()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof go(e).ShadowRoot}function zv(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Os(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function q9(e){return["table","td","th"].includes(Ag(e))}function _S(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function v2(e){const t=y2(),n=Is(e)?Os(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function K9(e){let t=Zc(e);for(;Da(t)&&!ug(t);){if(v2(t))return t;if(_S(t))return null;t=Zc(t)}return null}function y2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ug(e){return["html","body","#document"].includes(Ag(e))}function Os(e){return go(e).getComputedStyle(e)}function IS(e){return Is(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zc(e){if(Ag(e)==="html")return e;const t=e.assignedSlot||e.parentNode||UT(e)&&e.host||ja(e);return UT(t)?t.host:t}function rM(e){const t=Zc(e);return ug(t)?e.ownerDocument?e.ownerDocument.body:e.body:Da(t)&&zv(t)?t:rM(t)}function xv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=rM(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),l=go(s);if(a){const f=uw(l);return t.concat(l,l.visualViewport||[],zv(s)?s:[],f&&n?xv(f):[])}return t.concat(s,xv(s,[],n))}function uw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function iM(e){const t=Os(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Da(e),a=s?e.offsetWidth:n,l=s?e.offsetHeight:r,f=nS(n)!==a||nS(r)!==l;return f&&(n=a,r=l),{width:n,height:r,$:f}}function x2(e){return Is(e)?e:e.contextElement}function Yp(e){const t=x2(e);if(!Da(t))return Ia(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=iM(t);let l=(a?nS(n.width):n.width)/r,f=(a?nS(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!f||!Number.isFinite(f))&&(f=1),{x:l,y:f}}const X9=Ia(0);function oM(e){const t=go(e);return!y2()||!t.visualViewport?X9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Z9(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==go(e)?!1:t}function fh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=x2(e);let l=Ia(1);t&&(r?Is(r)&&(l=Yp(r)):l=Yp(e));const f=Z9(a,n,r)?oM(a):Ia(0);let d=(s.left+f.x)/l.x,g=(s.top+f.y)/l.y,p=s.width/l.x,m=s.height/l.y;if(a){const x=go(a),b=r&&Is(r)?go(r):r;let A=x,C=uw(A);for(;C&&r&&b!==A;){const w=Yp(C),R=C.getBoundingClientRect(),N=Os(C),I=R.left+(C.clientLeft+parseFloat(N.paddingLeft))*w.x,D=R.top+(C.clientTop+parseFloat(N.paddingTop))*w.y;d*=w.x,g*=w.y,p*=w.x,m*=w.y,d+=I,g+=D,A=go(C),C=uw(A)}}return iS({width:p,height:m,x:d,y:g})}function b2(e,t){const n=IS(e).scrollLeft;return t?t.left+n:fh(ja(e)).left+n}function sM(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:b2(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function J9(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",l=ja(r),f=t?_S(t.floating):!1;if(r===l||f&&a)return n;let d={scrollLeft:0,scrollTop:0},g=Ia(1);const p=Ia(0),m=Da(r);if((m||!m&&!a)&&((Ag(r)!=="body"||zv(l))&&(d=IS(r)),Da(r))){const b=fh(r);g=Yp(r),p.x=b.x+r.clientLeft,p.y=b.y+r.clientTop}const x=l&&!m&&!a?sM(l,d,!0):Ia(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-d.scrollLeft*g.x+p.x+x.x,y:n.y*g.y-d.scrollTop*g.y+p.y+x.y}}function Q9(e){return Array.from(e.getClientRects())}function e6(e){const t=ja(e),n=IS(e),r=e.ownerDocument.body,s=po(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=po(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+b2(e);const f=-n.scrollTop;return Os(r).direction==="rtl"&&(l+=po(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:l,y:f}}function t6(e,t){const n=go(e),r=ja(e),s=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,f=0,d=0;if(s){a=s.width,l=s.height;const g=y2();(!g||g&&t==="fixed")&&(f=s.offsetLeft,d=s.offsetTop)}return{width:a,height:l,x:f,y:d}}function n6(e,t){const n=fh(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Da(e)?Yp(e):Ia(1),l=e.clientWidth*a.x,f=e.clientHeight*a.y,d=s*a.x,g=r*a.y;return{width:l,height:f,x:d,y:g}}function GT(e,t,n){let r;if(t==="viewport")r=t6(e,n);else if(t==="document")r=e6(ja(e));else if(Is(t))r=n6(t,n);else{const s=oM(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return iS(r)}function aM(e,t){const n=Zc(e);return n===t||!Is(n)||ug(n)?!1:Os(n).position==="fixed"||aM(n,t)}function r6(e,t){const n=t.get(e);if(n)return n;let r=xv(e,[],!1).filter(f=>Is(f)&&Ag(f)!=="body"),s=null;const a=Os(e).position==="fixed";let l=a?Zc(e):e;for(;Is(l)&&!ug(l);){const f=Os(l),d=v2(l);!d&&f.position==="fixed"&&(s=null),(a?!d&&!s:!d&&f.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||zv(l)&&!d&&aM(e,l))?r=r.filter(p=>p!==l):s=f,l=Zc(l)}return t.set(e,r),r}function i6(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const l=[...n==="clippingAncestors"?_S(t)?[]:r6(t,this._c):[].concat(n),r],f=l[0],d=l.reduce((g,p)=>{const m=GT(t,p,s);return g.top=po(m.top,g.top),g.right=Kc(m.right,g.right),g.bottom=Kc(m.bottom,g.bottom),g.left=po(m.left,g.left),g},GT(t,f,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function o6(e){const{width:t,height:n}=iM(e);return{width:t,height:n}}function s6(e,t,n){const r=Da(t),s=ja(t),a=n==="fixed",l=fh(e,!0,a,t);let f={scrollLeft:0,scrollTop:0};const d=Ia(0);if(r||!r&&!a)if((Ag(t)!=="body"||zv(s))&&(f=IS(t)),r){const x=fh(t,!0,a,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else s&&(d.x=b2(s));const g=s&&!r&&!a?sM(s,f):Ia(0),p=l.left+f.scrollLeft-d.x-g.x,m=l.top+f.scrollTop-d.y-g.y;return{x:p,y:m,width:l.width,height:l.height}}function F1(e){return Os(e).position==="static"}function $T(e,t){if(!Da(e)||Os(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ja(e)===n&&(n=n.ownerDocument.body),n}function lM(e,t){const n=go(e);if(_S(e))return n;if(!Da(e)){let s=Zc(e);for(;s&&!ug(s);){if(Is(s)&&!F1(s))return s;s=Zc(s)}return n}let r=$T(e,t);for(;r&&q9(r)&&F1(r);)r=$T(r,t);return r&&ug(r)&&F1(r)&&!v2(r)?n:r||K9(e)||n}const a6=async function(e){const t=this.getOffsetParent||lM,n=this.getDimensions,r=await n(e.floating);return{reference:s6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function l6(e){return Os(e).direction==="rtl"}const u6={convertOffsetParentRelativeRectToViewportRelativeRect:J9,getDocumentElement:ja,getClippingRect:i6,getOffsetParent:lM,getElementRects:a6,getClientRects:Q9,getDimensions:o6,getScale:Yp,isElement:Is,isRTL:l6};function uM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function c6(e,t){let n=null,r;const s=ja(e);function a(){var f;clearTimeout(r),(f=n)==null||f.disconnect(),n=null}function l(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),a();const g=e.getBoundingClientRect(),{left:p,top:m,width:x,height:b}=g;if(f||t(),!x||!b)return;const A=wb(m),C=wb(s.clientWidth-(p+x)),w=wb(s.clientHeight-(m+b)),R=wb(p),I={rootMargin:-A+"px "+-C+"px "+-w+"px "+-R+"px",threshold:po(0,Kc(1,d))||1};let D=!0;function F(k){const V=k[0].intersectionRatio;if(V!==d){if(!D)return l();V?l(!1,V):r=setTimeout(()=>{l(!1,1e-7)},1e3)}V===1&&!uM(g,e.getBoundingClientRect())&&l(),D=!1}try{n=new IntersectionObserver(F,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(F,I)}n.observe(e)}return l(!0),a}function f6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,g=x2(e),p=s||a?[...g?xv(g):[],...xv(t)]:[];p.forEach(R=>{s&&R.addEventListener("scroll",n,{passive:!0}),a&&R.addEventListener("resize",n)});const m=g&&f?c6(g,n):null;let x=-1,b=null;l&&(b=new ResizeObserver(R=>{let[N]=R;N&&N.target===g&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var I;(I=b)==null||I.observe(t)})),n()}),g&&!d&&b.observe(g),b.observe(t));let A,C=d?fh(e):null;d&&w();function w(){const R=fh(e);C&&!uM(C,R)&&n(),C=R,A=requestAnimationFrame(w)}return n(),()=>{var R;p.forEach(N=>{s&&N.removeEventListener("scroll",n),a&&N.removeEventListener("resize",n)}),m==null||m(),(R=b)==null||R.disconnect(),b=null,d&&cancelAnimationFrame(A)}}const d6=$9,h6=H9,p6=V9,g6=W9,m6=U9,HT=z9,v6=Y9,y6=(e,t,n)=>{const r=new Map,s={platform:u6,...n},a={...s.platform,_c:r};return j9(e,t,{...s,platform:a})};var Ub=typeof document<"u"?M.useLayoutEffect:M.useEffect;function oS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!oS(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!oS(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function cM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function YT(e,t){const n=cM(e);return Math.round(t*n)/n}function k1(e){const t=M.useRef(e);return Ub(()=>{t.current=e}),t}function x6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:l}={},transform:f=!0,whileElementsMounted:d,open:g}=e,[p,m]=M.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=M.useState(r);oS(x,r)||b(r);const[A,C]=M.useState(null),[w,R]=M.useState(null),N=M.useCallback(de=>{de!==k.current&&(k.current=de,C(de))},[]),I=M.useCallback(de=>{de!==V.current&&(V.current=de,R(de))},[]),D=a||A,F=l||w,k=M.useRef(null),V=M.useRef(null),B=M.useRef(p),H=d!=null,te=k1(d),re=k1(s),se=k1(g),Ee=M.useCallback(()=>{if(!k.current||!V.current)return;const de={placement:t,strategy:n,middleware:x};re.current&&(de.platform=re.current),y6(k.current,V.current,de).then(ue=>{const K={...ue,isPositioned:se.current!==!1};ke.current&&!oS(B.current,K)&&(B.current=K,Na.flushSync(()=>{m(K)}))})},[x,t,n,re,se]);Ub(()=>{g===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,m(de=>({...de,isPositioned:!1})))},[g]);const ke=M.useRef(!1);Ub(()=>(ke.current=!0,()=>{ke.current=!1}),[]),Ub(()=>{if(D&&(k.current=D),F&&(V.current=F),D&&F){if(te.current)return te.current(D,F,Ee);Ee()}},[D,F,Ee,te,H]);const Me=M.useMemo(()=>({reference:k,floating:V,setReference:N,setFloating:I}),[N,I]),ie=M.useMemo(()=>({reference:D,floating:F}),[D,F]),we=M.useMemo(()=>{const de={position:n,left:0,top:0};if(!ie.floating)return de;const ue=YT(ie.floating,p.x),K=YT(ie.floating,p.y);return f?{...de,transform:"translate("+ue+"px, "+K+"px)",...cM(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ue,top:K}},[n,f,ie.floating,p.x,p.y]);return M.useMemo(()=>({...p,update:Ee,refs:Me,elements:ie,floatingStyles:we}),[p,Ee,Me,ie,we])}const b6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?HT({element:r.current,padding:s}).fn(n):{}:r?HT({element:r,padding:s}).fn(n):{}}}},S6=(e,t)=>({...d6(e),options:[e,t]}),E6=(e,t)=>({...h6(e),options:[e,t]}),A6=(e,t)=>({...v6(e),options:[e,t]}),C6=(e,t)=>({...p6(e),options:[e,t]}),w6=(e,t)=>({...g6(e),options:[e,t]}),R6=(e,t)=>({...m6(e),options:[e,t]}),T6=(e,t)=>({...b6(e),options:[e,t]});var N6="Arrow",fM=M.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return O.jsx(Yt.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:O.jsx("polygon",{points:"0,0 30,0 15,10"})})});fM.displayName=N6;var _6=fM;function dM(e){const[t,n]=M.useState(void 0);return Dr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,f;if("borderBoxSize"in a){const d=a.borderBoxSize,g=Array.isArray(d)?d[0]:d;l=g.inlineSize,f=g.blockSize}else l=e.offsetWidth,f=e.offsetHeight;n({width:l,height:f})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var S2="Popper",[hM,Cg]=ka(S2),[I6,pM]=hM(S2),gM=e=>{const{__scopePopper:t,children:n}=e,[r,s]=M.useState(null);return O.jsx(I6,{scope:t,anchor:r,onAnchorChange:s,children:n})};gM.displayName=S2;var mM="PopperAnchor",vM=M.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=pM(mM,n),l=M.useRef(null),f=bn(t,l);return M.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:O.jsx(Yt.div,{...s,ref:f})});vM.displayName=mM;var E2="PopperContent",[O6,D6]=hM(E2),yM=M.forwardRef((e,t)=>{var J,X,Z,oe,ye,xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:f=0,avoidCollisions:d=!0,collisionBoundary:g=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:A,...C}=e,w=pM(E2,n),[R,N]=M.useState(null),I=bn(t,ae=>N(ae)),[D,F]=M.useState(null),k=dM(D),V=(k==null?void 0:k.width)??0,B=(k==null?void 0:k.height)??0,H=r+(a!=="center"?"-"+a:""),te=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},re=Array.isArray(g)?g:[g],se=re.length>0,Ee={padding:te,boundary:re.filter(M6),altBoundary:se},{refs:ke,floatingStyles:Me,placement:ie,isPositioned:we,middlewareData:de}=x6({strategy:"fixed",placement:H,whileElementsMounted:(...ae)=>f6(...ae,{animationFrame:b==="always"}),elements:{reference:w.anchor},middleware:[S6({mainAxis:s+B,alignmentAxis:l}),d&&E6({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?A6():void 0,...Ee}),d&&C6({...Ee}),w6({...Ee,apply:({elements:ae,rects:le,availableWidth:Ae,availableHeight:Ie})=>{const{width:je,height:Ve}=le.reference,me=ae.floating.style;me.setProperty("--radix-popper-available-width",`${Ae}px`),me.setProperty("--radix-popper-available-height",`${Ie}px`),me.setProperty("--radix-popper-anchor-width",`${je}px`),me.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),D&&T6({element:D,padding:f}),L6({arrowWidth:V,arrowHeight:B}),x&&R6({strategy:"referenceHidden",...Ee})]}),[ue,K]=SM(ie),ne=vo(A);Dr(()=>{we&&(ne==null||ne())},[we,ne]);const he=(J=de.arrow)==null?void 0:J.x,j=(X=de.arrow)==null?void 0:X.y,z=((Z=de.arrow)==null?void 0:Z.centerOffset)!==0,[G,Y]=M.useState();return Dr(()=>{R&&Y(window.getComputedStyle(R).zIndex)},[R]),O.jsx("div",{ref:ke.setFloating,"data-radix-popper-content-wrapper":"",style:{...Me,transform:we?Me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(oe=de.transformOrigin)==null?void 0:oe.x,(ye=de.transformOrigin)==null?void 0:ye.y].join(" "),...((xe=de.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:O.jsx(O6,{scope:n,placedSide:ue,onArrowChange:F,arrowX:he,arrowY:j,shouldHideArrow:z,children:O.jsx(Yt.div,{"data-side":ue,"data-align":K,...C,ref:I,style:{...C.style,animation:we?void 0:"none"}})})})});yM.displayName=E2;var xM="PopperArrow",P6={top:"bottom",right:"left",bottom:"top",left:"right"},bM=M.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=D6(xM,r),l=P6[a.placedSide];return O.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:O.jsx(_6,{...s,ref:n,style:{...s.style,display:"block"}})})});bM.displayName=xM;function M6(e){return e!==null}var L6=e=>({name:"transformOrigin",options:e,fn(t){var w,R,N;const{placement:n,rects:r,middlewareData:s}=t,l=((w=s.arrow)==null?void 0:w.centerOffset)!==0,f=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[g,p]=SM(n),m={start:"0%",center:"50%",end:"100%"}[p],x=(((R=s.arrow)==null?void 0:R.x)??0)+f/2,b=(((N=s.arrow)==null?void 0:N.y)??0)+d/2;let A="",C="";return g==="bottom"?(A=l?m:`${x}px`,C=`${-d}px`):g==="top"?(A=l?m:`${x}px`,C=`${r.floating.height+d}px`):g==="right"?(A=`${-d}px`,C=l?m:`${b}px`):g==="left"&&(A=`${r.floating.width+d}px`,C=l?m:`${b}px`),{data:{x:A,y:C}}}});function SM(e){const[t,n="center"]=e.split("-");return[t,n]}var A2=gM,C2=vM,w2=yM,R2=bM,B1="rovingFocusGroup.onEntryFocus",F6={bubbles:!1,cancelable:!0},OS="RovingFocusGroup",[cw,EM,k6]=d2(OS),[B6,AM]=ka(OS,[k6]),[j6,z6]=B6(OS),CM=M.forwardRef((e,t)=>O.jsx(cw.Provider,{scope:e.__scopeRovingFocusGroup,children:O.jsx(cw.Slot,{scope:e.__scopeRovingFocusGroup,children:O.jsx(V6,{...e,ref:t})})}));CM.displayName=OS;var V6=M.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:d,onEntryFocus:g,preventScrollOnEntryFocus:p=!1,...m}=e,x=M.useRef(null),b=bn(t,x),A=h2(a),[C=null,w]=uh({prop:l,defaultProp:f,onChange:d}),[R,N]=M.useState(!1),I=vo(g),D=EM(n),F=M.useRef(!1),[k,V]=M.useState(0);return M.useEffect(()=>{const B=x.current;if(B)return B.addEventListener(B1,I),()=>B.removeEventListener(B1,I)},[I]),O.jsx(j6,{scope:n,orientation:r,dir:A,loop:s,currentTabStopId:C,onItemFocus:M.useCallback(B=>w(B),[w]),onItemShiftTab:M.useCallback(()=>N(!0),[]),onFocusableItemAdd:M.useCallback(()=>V(B=>B+1),[]),onFocusableItemRemove:M.useCallback(()=>V(B=>B-1),[]),children:O.jsx(Yt.div,{tabIndex:R||k===0?-1:0,"data-orientation":r,...m,ref:b,style:{outline:"none",...e.style},onMouseDown:ft(e.onMouseDown,()=>{F.current=!0}),onFocus:ft(e.onFocus,B=>{const H=!F.current;if(B.target===B.currentTarget&&H&&!R){const te=new CustomEvent(B1,F6);if(B.currentTarget.dispatchEvent(te),!te.defaultPrevented){const re=D().filter(ie=>ie.focusable),se=re.find(ie=>ie.active),Ee=re.find(ie=>ie.id===C),Me=[se,Ee,...re].filter(Boolean).map(ie=>ie.ref.current);TM(Me,p)}}F.current=!1}),onBlur:ft(e.onBlur,()=>N(!1))})})}),wM="RovingFocusGroupItem",RM=M.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...l}=e,f=_a(),d=a||f,g=z6(wM,n),p=g.currentTabStopId===d,m=EM(n),{onFocusableItemAdd:x,onFocusableItemRemove:b}=g;return M.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),O.jsx(cw.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:O.jsx(Yt.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...l,ref:t,onMouseDown:ft(e.onMouseDown,A=>{r?g.onItemFocus(d):A.preventDefault()}),onFocus:ft(e.onFocus,()=>g.onItemFocus(d)),onKeyDown:ft(e.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){g.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const C=$6(A,g.orientation,g.dir);if(C!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let R=m().filter(N=>N.focusable).map(N=>N.ref.current);if(C==="last")R.reverse();else if(C==="prev"||C==="next"){C==="prev"&&R.reverse();const N=R.indexOf(A.currentTarget);R=g.loop?H6(R,N+1):R.slice(N+1)}setTimeout(()=>TM(R))}})})})});RM.displayName=wM;var U6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $6(e,t,n){const r=G6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return U6[r]}function TM(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function H6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Y6=CM,W6=RM,fw=["Enter"," "],q6=["ArrowDown","PageUp","Home"],NM=["ArrowUp","PageDown","End"],K6=[...q6,...NM],X6={ltr:[...fw,"ArrowRight"],rtl:[...fw,"ArrowLeft"]},Z6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vv="Menu",[bv,J6,Q6]=d2(Vv),[ph,_M]=ka(Vv,[Q6,Cg,AM]),DS=Cg(),IM=AM(),[eG,gh]=ph(Vv),[tG,Uv]=ph(Vv),OM=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:l=!0}=e,f=DS(t),[d,g]=M.useState(null),p=M.useRef(!1),m=vo(a),x=h2(s);return M.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),O.jsx(A2,{...f,children:O.jsx(eG,{scope:t,open:n,onOpenChange:m,content:d,onContentChange:g,children:O.jsx(tG,{scope:t,onClose:M.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:x,modal:l,children:r})})})};OM.displayName=Vv;var nG="MenuAnchor",T2=M.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=DS(n);return O.jsx(C2,{...s,...r,ref:t})});T2.displayName=nG;var N2="MenuPortal",[rG,DM]=ph(N2,{forceMount:void 0}),PM=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=gh(N2,t);return O.jsx(rG,{scope:t,forceMount:n,children:O.jsx(Ba,{present:n||a.open,children:O.jsx(Mv,{asChild:!0,container:s,children:r})})})};PM.displayName=N2;var Go="MenuContent",[iG,_2]=ph(Go),MM=M.forwardRef((e,t)=>{const n=DM(Go,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=gh(Go,e.__scopeMenu),l=Uv(Go,e.__scopeMenu);return O.jsx(bv.Provider,{scope:e.__scopeMenu,children:O.jsx(Ba,{present:r||a.open,children:O.jsx(bv.Slot,{scope:e.__scopeMenu,children:l.modal?O.jsx(oG,{...s,ref:t}):O.jsx(sG,{...s,ref:t})})})})}),oG=M.forwardRef((e,t)=>{const n=gh(Go,e.__scopeMenu),r=M.useRef(null),s=bn(t,r);return M.useEffect(()=>{const a=r.current;if(a)return a2(a)},[]),O.jsx(I2,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ft(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),sG=M.forwardRef((e,t)=>{const n=gh(Go,e.__scopeMenu);return O.jsx(I2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),aG=Yc("MenuContent.ScrollLock"),I2=M.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:f,onEntryFocus:d,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,disableOutsideScroll:A,...C}=e,w=gh(Go,n),R=Uv(Go,n),N=DS(n),I=IM(n),D=J6(n),[F,k]=M.useState(null),V=M.useRef(null),B=bn(t,V,w.onContentChange),H=M.useRef(0),te=M.useRef(""),re=M.useRef(0),se=M.useRef(null),Ee=M.useRef("right"),ke=M.useRef(0),Me=A?TS:M.Fragment,ie=A?{as:aG,allowPinchZoom:!0}:void 0,we=ue=>{var J,X;const K=te.current+ue,ne=D().filter(Z=>!Z.disabled),he=document.activeElement,j=(J=ne.find(Z=>Z.ref.current===he))==null?void 0:J.textValue,z=ne.map(Z=>Z.textValue),G=xG(z,K,j),Y=(X=ne.find(Z=>Z.textValue===G))==null?void 0:X.ref.current;(function Z(oe){te.current=oe,window.clearTimeout(H.current),oe!==""&&(H.current=window.setTimeout(()=>Z(""),1e3))})(K),Y&&setTimeout(()=>Y.focus())};M.useEffect(()=>()=>window.clearTimeout(H.current),[]),s2();const de=M.useCallback(ue=>{var ne,he;return Ee.current===((ne=se.current)==null?void 0:ne.side)&&SG(ue,(he=se.current)==null?void 0:he.area)},[]);return O.jsx(iG,{scope:n,searchRef:te,onItemEnter:M.useCallback(ue=>{de(ue)&&ue.preventDefault()},[de]),onItemLeave:M.useCallback(ue=>{var K;de(ue)||((K=V.current)==null||K.focus(),k(null))},[de]),onTriggerLeave:M.useCallback(ue=>{de(ue)&&ue.preventDefault()},[de]),pointerGraceTimerRef:re,onPointerGraceIntentChange:M.useCallback(ue=>{se.current=ue},[]),children:O.jsx(Me,{...ie,children:O.jsx(wS,{asChild:!0,trapped:s,onMountAutoFocus:ft(a,ue=>{var K;ue.preventDefault(),(K=V.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:O.jsx(Pv,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,children:O.jsx(Y6,{asChild:!0,...I,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:F,onCurrentTabStopIdChange:k,onEntryFocus:ft(d,ue=>{R.isUsingKeyboardRef.current||ue.preventDefault()}),preventScrollOnEntryFocus:!0,children:O.jsx(w2,{role:"menu","aria-orientation":"vertical","data-state":XM(w.open),"data-radix-menu-content":"",dir:R.dir,...N,...C,ref:B,style:{outline:"none",...C.style},onKeyDown:ft(C.onKeyDown,ue=>{const ne=ue.target.closest("[data-radix-menu-content]")===ue.currentTarget,he=ue.ctrlKey||ue.altKey||ue.metaKey,j=ue.key.length===1;ne&&(ue.key==="Tab"&&ue.preventDefault(),!he&&j&&we(ue.key));const z=V.current;if(ue.target!==z||!K6.includes(ue.key))return;ue.preventDefault();const Y=D().filter(J=>!J.disabled).map(J=>J.ref.current);NM.includes(ue.key)&&Y.reverse(),vG(Y)}),onBlur:ft(e.onBlur,ue=>{ue.currentTarget.contains(ue.target)||(window.clearTimeout(H.current),te.current="")}),onPointerMove:ft(e.onPointerMove,Sv(ue=>{const K=ue.target,ne=ke.current!==ue.clientX;if(ue.currentTarget.contains(K)&&ne){const he=ue.clientX>ke.current?"right":"left";Ee.current=he,ke.current=ue.clientX}}))})})})})})})});MM.displayName=Go;var lG="MenuGroup",O2=M.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Yt.div,{role:"group",...r,ref:t})});O2.displayName=lG;var uG="MenuLabel",LM=M.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Yt.div,{...r,ref:t})});LM.displayName=uG;var sS="MenuItem",WT="menu.itemSelect",PS=M.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=M.useRef(null),l=Uv(sS,e.__scopeMenu),f=_2(sS,e.__scopeMenu),d=bn(t,a),g=M.useRef(!1),p=()=>{const m=a.current;if(!n&&m){const x=new CustomEvent(WT,{bubbles:!0,cancelable:!0});m.addEventListener(WT,b=>r==null?void 0:r(b),{once:!0}),bP(m,x),x.defaultPrevented?g.current=!1:l.onClose()}};return O.jsx(FM,{...s,ref:d,disabled:n,onClick:ft(e.onClick,p),onPointerDown:m=>{var x;(x=e.onPointerDown)==null||x.call(e,m),g.current=!0},onPointerUp:ft(e.onPointerUp,m=>{var x;g.current||(x=m.currentTarget)==null||x.click()}),onKeyDown:ft(e.onKeyDown,m=>{const x=f.searchRef.current!=="";n||x&&m.key===" "||fw.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});PS.displayName=sS;var FM=M.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,l=_2(sS,n),f=IM(n),d=M.useRef(null),g=bn(t,d),[p,m]=M.useState(!1),[x,b]=M.useState("");return M.useEffect(()=>{const A=d.current;A&&b((A.textContent??"").trim())},[a.children]),O.jsx(bv.ItemSlot,{scope:n,disabled:r,textValue:s??x,children:O.jsx(W6,{asChild:!0,...f,focusable:!r,children:O.jsx(Yt.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:g,onPointerMove:ft(e.onPointerMove,Sv(A=>{r?l.onItemLeave(A):(l.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ft(e.onPointerLeave,Sv(A=>l.onItemLeave(A))),onFocus:ft(e.onFocus,()=>m(!0)),onBlur:ft(e.onBlur,()=>m(!1))})})})}),cG="MenuCheckboxItem",kM=M.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return O.jsx(UM,{scope:e.__scopeMenu,checked:n,children:O.jsx(PS,{role:"menuitemcheckbox","aria-checked":aS(n)?"mixed":n,...s,ref:t,"data-state":P2(n),onSelect:ft(s.onSelect,()=>r==null?void 0:r(aS(n)?!0:!n),{checkForDefaultPrevented:!1})})})});kM.displayName=cG;var BM="MenuRadioGroup",[fG,dG]=ph(BM,{value:void 0,onValueChange:()=>{}}),jM=M.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=vo(r);return O.jsx(fG,{scope:e.__scopeMenu,value:n,onValueChange:a,children:O.jsx(O2,{...s,ref:t})})});jM.displayName=BM;var zM="MenuRadioItem",VM=M.forwardRef((e,t)=>{const{value:n,...r}=e,s=dG(zM,e.__scopeMenu),a=n===s.value;return O.jsx(UM,{scope:e.__scopeMenu,checked:a,children:O.jsx(PS,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":P2(a),onSelect:ft(r.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,n)},{checkForDefaultPrevented:!1})})})});VM.displayName=zM;var D2="MenuItemIndicator",[UM,hG]=ph(D2,{checked:!1}),GM=M.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=hG(D2,n);return O.jsx(Ba,{present:r||aS(a.checked)||a.checked===!0,children:O.jsx(Yt.span,{...s,ref:t,"data-state":P2(a.checked)})})});GM.displayName=D2;var pG="MenuSeparator",$M=M.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Yt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});$M.displayName=pG;var gG="MenuArrow",HM=M.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=DS(n);return O.jsx(R2,{...s,...r,ref:t})});HM.displayName=gG;var mG="MenuSub",[JX,YM]=ph(mG),tv="MenuSubTrigger",WM=M.forwardRef((e,t)=>{const n=gh(tv,e.__scopeMenu),r=Uv(tv,e.__scopeMenu),s=YM(tv,e.__scopeMenu),a=_2(tv,e.__scopeMenu),l=M.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:d}=a,g={__scopeMenu:e.__scopeMenu},p=M.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return M.useEffect(()=>p,[p]),M.useEffect(()=>{const m=f.current;return()=>{window.clearTimeout(m),d(null)}},[f,d]),O.jsx(T2,{asChild:!0,...g,children:O.jsx(FM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":XM(n.open),...e,ref:ES(t,s.onTriggerChange),onClick:m=>{var x;(x=e.onClick)==null||x.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ft(e.onPointerMove,Sv(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:ft(e.onPointerLeave,Sv(m=>{var b,A;p();const x=(b=n.content)==null?void 0:b.getBoundingClientRect();if(x){const C=(A=n.content)==null?void 0:A.dataset.side,w=C==="right",R=w?-5:5,N=x[w?"left":"right"],I=x[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+R,y:m.clientY},{x:N,y:x.top},{x:I,y:x.top},{x:I,y:x.bottom},{x:N,y:x.bottom}],side:C}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ft(e.onKeyDown,m=>{var b;const x=a.searchRef.current!=="";e.disabled||x&&m.key===" "||X6[r.dir].includes(m.key)&&(n.onOpenChange(!0),(b=n.content)==null||b.focus(),m.preventDefault())})})})});WM.displayName=tv;var qM="MenuSubContent",KM=M.forwardRef((e,t)=>{const n=DM(Go,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=gh(Go,e.__scopeMenu),l=Uv(Go,e.__scopeMenu),f=YM(qM,e.__scopeMenu),d=M.useRef(null),g=bn(t,d);return O.jsx(bv.Provider,{scope:e.__scopeMenu,children:O.jsx(Ba,{present:r||a.open,children:O.jsx(bv.Slot,{scope:e.__scopeMenu,children:O.jsx(I2,{id:f.contentId,"aria-labelledby":f.triggerId,...s,ref:g,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var m;l.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:ft(e.onFocusOutside,p=>{p.target!==f.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ft(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:ft(e.onKeyDown,p=>{var b;const m=p.currentTarget.contains(p.target),x=Z6[l.dir].includes(p.key);m&&x&&(a.onOpenChange(!1),(b=f.trigger)==null||b.focus(),p.preventDefault())})})})})})});KM.displayName=qM;function XM(e){return e?"open":"closed"}function aS(e){return e==="indeterminate"}function P2(e){return aS(e)?"indeterminate":e?"checked":"unchecked"}function vG(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function yG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function xG(e,t,n){const s=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let l=yG(e,Math.max(a,0));s.length===1&&(l=l.filter(g=>g!==n));const d=l.find(g=>g.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function bG(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const f=t[a].x,d=t[a].y,g=t[l].x,p=t[l].y;d>r!=p>r&&n<(g-f)*(r-d)/(p-d)+f&&(s=!s)}return s}function SG(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return bG(n,t)}function Sv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var EG=OM,AG=T2,CG=PM,wG=MM,RG=O2,TG=LM,NG=PS,_G=kM,IG=jM,OG=VM,DG=GM,PG=$M,MG=HM,LG=WM,FG=KM,M2="DropdownMenu",[kG,QX]=ka(M2,[_M]),Ii=_M(),[BG,ZM]=kG(M2),JM=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:l,modal:f=!0}=e,d=Ii(t),g=M.useRef(null),[p=!1,m]=uh({prop:s,defaultProp:a,onChange:l});return O.jsx(BG,{scope:t,triggerId:_a(),triggerRef:g,contentId:_a(),open:p,onOpenChange:m,onOpenToggle:M.useCallback(()=>m(x=>!x),[m]),modal:f,children:O.jsx(EG,{...d,open:p,onOpenChange:m,dir:r,modal:f,children:n})})};JM.displayName=M2;var QM="DropdownMenuTrigger",eL=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=ZM(QM,n),l=Ii(n);return O.jsx(AG,{asChild:!0,...l,children:O.jsx(Yt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ES(t,a.triggerRef),onPointerDown:ft(e.onPointerDown,f=>{!r&&f.button===0&&f.ctrlKey===!1&&(a.onOpenToggle(),a.open||f.preventDefault())}),onKeyDown:ft(e.onKeyDown,f=>{r||(["Enter"," "].includes(f.key)&&a.onOpenToggle(),f.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});eL.displayName=QM;var jG="DropdownMenuPortal",tL=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Ii(t);return O.jsx(CG,{...r,...n})};tL.displayName=jG;var nL="DropdownMenuContent",rL=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ZM(nL,n),a=Ii(n),l=M.useRef(!1);return O.jsx(wG,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:ft(e.onCloseAutoFocus,f=>{var d;l.current||(d=s.triggerRef.current)==null||d.focus(),l.current=!1,f.preventDefault()}),onInteractOutside:ft(e.onInteractOutside,f=>{const d=f.detail.originalEvent,g=d.button===0&&d.ctrlKey===!0,p=d.button===2||g;(!s.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rL.displayName=nL;var zG="DropdownMenuGroup",VG=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(RG,{...s,...r,ref:t})});VG.displayName=zG;var UG="DropdownMenuLabel",iL=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(TG,{...s,...r,ref:t})});iL.displayName=UG;var GG="DropdownMenuItem",oL=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(NG,{...s,...r,ref:t})});oL.displayName=GG;var $G="DropdownMenuCheckboxItem",HG=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(_G,{...s,...r,ref:t})});HG.displayName=$G;var YG="DropdownMenuRadioGroup",WG=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(IG,{...s,...r,ref:t})});WG.displayName=YG;var qG="DropdownMenuRadioItem",KG=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(OG,{...s,...r,ref:t})});KG.displayName=qG;var XG="DropdownMenuItemIndicator",ZG=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(DG,{...s,...r,ref:t})});ZG.displayName=XG;var JG="DropdownMenuSeparator",sL=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(PG,{...s,...r,ref:t})});sL.displayName=JG;var QG="DropdownMenuArrow",e$=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(MG,{...s,...r,ref:t})});e$.displayName=QG;var t$="DropdownMenuSubTrigger",n$=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(LG,{...s,...r,ref:t})});n$.displayName=t$;var r$="DropdownMenuSubContent",i$=M.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(FG,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});i$.displayName=r$;var o$=JM,s$=eL,a$=tL,l$=rL,u$=iL,c$=oL,f$=sL;function wa({...e}){return O.jsx(o$,{"data-slot":"dropdown-menu",...e})}function Ra({...e}){return O.jsx(s$,{"data-slot":"dropdown-menu-trigger",...e})}function Ta({className:e,sideOffset:t=4,...n}){return O.jsx(a$,{children:O.jsx(l$,{"data-slot":"dropdown-menu-content",sideOffset:t,className:bt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function yr({className:e,inset:t,variant:n="default",...r}){return O.jsx(c$,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:bt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function d$({className:e,inset:t,...n}){return O.jsx(u$,{"data-slot":"dropdown-menu-label","data-inset":t,className:bt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function L2({className:e,...t}){return O.jsx(f$,{"data-slot":"dropdown-menu-separator",className:bt("bg-border -mx-1 my-1 h-px",e),...t})}function Ti({className:e,type:t,...n}){return O.jsx("input",{type:t,"data-slot":"input",className:bt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var h$="Label",aL=M.forwardRef((e,t)=>O.jsx(Yt.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aL.displayName=h$;var p$=aL;function _r({className:e,...t}){return O.jsx(p$,{"data-slot":"label",className:bt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function lL({className:e,...t}){return O.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:O.jsx("table",{"data-slot":"table",className:bt("w-full caption-bottom text-sm",e),...t})})}function uL({className:e,...t}){return O.jsx("thead",{"data-slot":"table-header",className:bt("[&_tr]:border-b",e),...t})}function cL({className:e,...t}){return O.jsx("tbody",{"data-slot":"table-body",className:bt("[&_tr:last-child]:border-0",e),...t})}function Wp({className:e,...t}){return O.jsx("tr",{"data-slot":"table-row",className:bt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function fL({className:e,...t}){return O.jsx("th",{"data-slot":"table-head",className:bt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function lS({className:e,...t}){return O.jsx("td",{"data-slot":"table-cell",className:bt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function g$({data:e}){var N,I;const t=Dv(),n=Uw(),r=[{accessorKey:"id",header:"ID",enableHiding:!0},{accessorKey:"title",header:"Title",cell:({row:D})=>O.jsx("div",{className:"capitalize",children:D.getValue("title")})},{accessorKey:"createdAt",header:()=>O.jsx("div",{className:"text-right",children:"Created At"}),cell:({row:D})=>{const F=D.getValue("createdAt"),k=xP(new Date(F),{includeSeconds:!0,addSuffix:!0});return O.jsx("div",{className:"text-right font-medium",children:k})}},{id:"actions",enableHiding:!1,cell:({row:D})=>O.jsxs(wa,{children:[O.jsx(Ra,{asChild:!0,children:O.jsxs(er,{variant:"ghost",className:"h-8 w-8 p-0",children:[O.jsx("span",{className:"sr-only",children:"Open menu"}),O.jsx(k3,{})]})}),O.jsxs(Ta,{align:"end",children:[O.jsxs(yr,{onClick:F=>{F.stopPropagation(),a({id:String(D.getValue("id")),title:D.getValue("title")})},children:[O.jsx(z3,{className:"mr-2 h-4 w-4"}),"Rename"]}),O.jsxs(yr,{className:"text-red-500 focus:text-red-500",onClick:F=>{F.stopPropagation(),f.mutate(String(D.getValue("id")))},children:[O.jsx(U3,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}],[s,a]=M.useState(null),l=Bb({mutationFn:async D=>await bV(D),onSuccess:D=>n(`/${D.id}`)}),f=Bb({mutationFn:async D=>await AV(D),onSuccess:()=>t.invalidateQueries({queryKey:["documents"]})}),d=Bb({mutationFn:async({id:D,title:F})=>await iP(D,F),onSuccess:()=>{t.invalidateQueries({queryKey:["documents"]}),a(null)}}),[g,p]=M.useState([]),[m,x]=M.useState([]),[b,A]=M.useState({id:!1}),[C,w]=M.useState({}),R=yP({data:e,columns:r,onSortingChange:p,onColumnFiltersChange:x,getCoreRowModel:pP(),getPaginationRowModel:mP(),getSortedRowModel:vP(),getFilteredRowModel:gP(),onColumnVisibilityChange:A,onRowSelectionChange:w,state:{sorting:g,columnFilters:m,columnVisibility:b,rowSelection:C}});return O.jsxs("div",{className:"w-full",children:[O.jsxs("div",{className:"flex items-center justify-between py-4",children:[O.jsx(Ti,{placeholder:"Filter by title...",value:((N=R.getColumn("title"))==null?void 0:N.getFilterValue())??"",onChange:D=>{var F;return(F=R.getColumn("title"))==null?void 0:F.setFilterValue(D.target.value)},className:"max-w-sm"}),O.jsxs(er,{onClick:()=>{l.mutate({title:"New Document"})},className:"flex items-center gap-2",children:[O.jsx(V3,{className:"w-4 h-4"}),"New Document"]})]}),O.jsx("div",{className:"rounded-md border",children:O.jsxs(lL,{children:[O.jsx(uL,{children:R.getHeaderGroups().map(D=>O.jsx(Wp,{children:D.headers.map(F=>O.jsx(fL,{children:F.isPlaceholder?null:eS(F.column.columnDef.header,F.getContext())},F.id))},D.id))}),O.jsx(cL,{children:(I=R.getRowModel().rows)!=null&&I.length?R.getRowModel().rows.map(D=>O.jsx(Wp,{"data-state":D.getIsSelected()&&"selected",className:"cursor-pointer hover:bg-muted",onClick:F=>{F.target.closest("input, button")||n(`/${D.getValue("id")}`)},children:D.getVisibleCells().map(F=>O.jsx(lS,{children:eS(F.column.columnDef.cell,F.getContext())},F.id))},D.id)):O.jsx(Wp,{children:O.jsx(lS,{colSpan:r.length,className:"h-24 text-center",children:"No results."})})})]})}),O.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[O.jsx("div",{className:"flex-1"}),O.jsxs("div",{className:"space-x-2",children:[O.jsx(er,{variant:"outline",size:"sm",onClick:()=>R.previousPage(),disabled:!R.getCanPreviousPage(),children:"Previous"}),O.jsx(er,{variant:"outline",size:"sm",onClick:()=>R.nextPage(),disabled:!R.getCanNextPage(),children:"Next"})]})]}),O.jsx(Lv,{open:s!==null,onOpenChange:D=>{D||a(null)},children:O.jsx(Fv,{className:"sm:max-w-md",children:O.jsxs("form",{onSubmit:D=>{if(D.preventDefault(),!s)return;const k=new FormData(D.target).get("title");k.trim()&&d.mutate({id:s.id,title:k.trim()})},children:[O.jsxs(kv,{children:[O.jsx(Bv,{children:"Rename Document"}),O.jsx(jv,{children:"Enter a new name for this document."})]}),O.jsx("div",{className:"grid gap-4 py-2",children:O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"rename-title",children:"Title"}),O.jsx(Ti,{id:"rename-title",name:"title",defaultValue:(s==null?void 0:s.title)??"",autoFocus:!0},s==null?void 0:s.id)]})}),O.jsxs(_9,{children:[O.jsx(er,{type:"button",variant:"outline",onClick:()=>a(null),children:"Cancel"}),O.jsx(er,{type:"submit",disabled:d.isPending,children:"Rename"})]})]})})})]})}function m$(){const{data:e=[],isLoading:t,isError:n}=Fa({queryKey:["documents"],queryFn:SV});return t?O.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:O.jsx("p",{className:"text-gray-500 text-lg",children:"Loading documents..."})}):n?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[O.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load documents."}),O.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):O.jsx("div",{className:"p-4",children:O.jsx(g$,{data:e})})}var nv={exports:{}},v$=nv.exports,qT;function y$(){return qT||(qT=1,function(e,t){var n={};(function(r,s){s(t,n3(),xS())})(v$,function(r,s,a){var l;(function(h){h[h.Canceled=1]="Canceled",h[h.Unknown=2]="Unknown",h[h.InvalidArgument=3]="InvalidArgument",h[h.DeadlineExceeded=4]="DeadlineExceeded",h[h.NotFound=5]="NotFound",h[h.AlreadyExists=6]="AlreadyExists",h[h.PermissionDenied=7]="PermissionDenied",h[h.ResourceExhausted=8]="ResourceExhausted",h[h.FailedPrecondition=9]="FailedPrecondition",h[h.Aborted=10]="Aborted",h[h.OutOfRange=11]="OutOfRange",h[h.Unimplemented=12]="Unimplemented",h[h.Internal=13]="Internal",h[h.Unavailable=14]="Unavailable",h[h.DataLoss=15]="DataLoss",h[h.Unauthenticated=16]="Unauthenticated"})(l||(l={}));function f(h,i){return h!==null&&typeof h=="object"&&"$typeName"in h&&typeof h.$typeName=="string"?i===void 0?!0:i.typeName===h.$typeName:!1}var d;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(d||(d={}));function g(){let h=0,i=0;for(let v=0;v<28;v+=7){let E=this.buf[this.pos++];if(h|=(E&127)<<v,(E&128)==0)return this.assertBounds(),[h,i]}let u=this.buf[this.pos++];if(h|=(u&15)<<28,i=(u&112)>>4,(u&128)==0)return this.assertBounds(),[h,i];for(let v=3;v<=31;v+=7){let E=this.buf[this.pos++];if(i|=(E&127)<<v,(E&128)==0)return this.assertBounds(),[h,i]}throw new Error("invalid varint")}function p(h,i,u){for(let _=0;_<28;_=_+7){const L=h>>>_,U=!(!(L>>>7)&&i==0),W=(U?L|128:L)&255;if(u.push(W),!U)return}const v=h>>>28&15|(i&7)<<4,E=i>>3!=0;if(u.push((E?v|128:v)&255),!!E){for(let _=3;_<31;_=_+7){const L=i>>>_,U=!!(L>>>7),W=(U?L|128:L)&255;if(u.push(W),!U)return}u.push(i>>>31&1)}}const m=4294967296;function x(h){const i=h[0]==="-";i&&(h=h.slice(1));const u=1e6;let v=0,E=0;function _(L,U){const W=Number(h.slice(L,U));E*=u,v=v*u+W,v>=m&&(E=E+(v/m|0),v=v%m)}return _(-24,-18),_(-18,-12),_(-12,-6),_(-6),i?R(v,E):w(v,E)}function b(h,i){let u=w(h,i);const v=u.hi&2147483648;v&&(u=R(u.lo,u.hi));const E=A(u.lo,u.hi);return v?"-"+E:E}function A(h,i){if({lo:h,hi:i}=C(h,i),i<=2097151)return String(m*i+h);const u=h&16777215,v=(h>>>24|i<<8)&16777215,E=i>>16&65535;let _=u+v*6777216+E*6710656,L=v+E*8147497,U=E*2;const W=1e7;return _>=W&&(L+=Math.floor(_/W),_%=W),L>=W&&(U+=Math.floor(L/W),L%=W),U.toString()+N(L)+N(_)}function C(h,i){return{lo:h>>>0,hi:i>>>0}}function w(h,i){return{lo:h|0,hi:i|0}}function R(h,i){return i=~i,h?h=~h+1:i+=1,w(h,i)}const N=h=>{const i=String(h);return"0000000".slice(i.length)+i};function I(h,i){if(h>=0){for(;h>127;)i.push(h&127|128),h=h>>>7;i.push(h)}else{for(let u=0;u<9;u++)i.push(h&127|128),h=h>>7;i.push(1)}}function D(){let h=this.buf[this.pos++],i=h&127;if((h&128)==0)return this.assertBounds(),i;if(h=this.buf[this.pos++],i|=(h&127)<<7,(h&128)==0)return this.assertBounds(),i;if(h=this.buf[this.pos++],i|=(h&127)<<14,(h&128)==0)return this.assertBounds(),i;if(h=this.buf[this.pos++],i|=(h&127)<<21,(h&128)==0)return this.assertBounds(),i;h=this.buf[this.pos++],i|=(h&15)<<28;for(let u=5;(h&128)!==0&&u<10;u++)h=this.buf[this.pos++];if((h&128)!=0)throw new Error("invalid varint");return this.assertBounds(),i>>>0}const F=k();function k(){const h=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof h.getBigInt64=="function"&&typeof h.getBigUint64=="function"&&typeof h.setBigInt64=="function"&&typeof h.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof n!="object"||n.BUF_BIGINT_DISABLE!=="1")){const u=BigInt("-9223372036854775808"),v=BigInt("9223372036854775807"),E=BigInt("0"),_=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(L){const U=typeof L=="bigint"?L:BigInt(L);if(U>v||U<u)throw new Error(`invalid int64: ${L}`);return U},uParse(L){const U=typeof L=="bigint"?L:BigInt(L);if(U>_||U<E)throw new Error(`invalid uint64: ${L}`);return U},enc(L){return h.setBigInt64(0,this.parse(L),!0),{lo:h.getInt32(0,!0),hi:h.getInt32(4,!0)}},uEnc(L){return h.setBigInt64(0,this.uParse(L),!0),{lo:h.getInt32(0,!0),hi:h.getInt32(4,!0)}},dec(L,U){return h.setInt32(0,L,!0),h.setInt32(4,U,!0),h.getBigInt64(0,!0)},uDec(L,U){return h.setInt32(0,L,!0),h.setInt32(4,U,!0),h.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(u){return typeof u!="string"&&(u=u.toString()),V(u),u},uParse(u){return typeof u!="string"&&(u=u.toString()),B(u),u},enc(u){return typeof u!="string"&&(u=u.toString()),V(u),x(u)},uEnc(u){return typeof u!="string"&&(u=u.toString()),B(u),x(u)},dec(u,v){return b(u,v)},uDec(u,v){return A(u,v)}}}function V(h){if(!/^-?[0-9]+$/.test(h))throw new Error("invalid int64: "+h)}function B(h){if(!/^[0-9]+$/.test(h))throw new Error("invalid uint64: "+h)}function H(h,i){switch(h){case d.STRING:return"";case d.BOOL:return!1;case d.DOUBLE:case d.FLOAT:return 0;case d.INT64:case d.UINT64:case d.SFIXED64:case d.FIXED64:case d.SINT64:return i?"0":F.zero;case d.BYTES:return new Uint8Array(0);default:return 0}}function te(h,i){switch(h){case d.BOOL:return i===!1;case d.STRING:return i==="";case d.BYTES:return i instanceof Uint8Array&&!i.byteLength;default:return i==0}}const re=2,se=Symbol.for("reflect unsafe local");function Ee(h,i){const u=h[i.localName].case;return u===void 0?u:i.fields.find(v=>v.localName===u)}function ke(h,i){const u=i.localName;if(i.oneof)return h[i.oneof.localName].case===u;if(i.presence!=re)return h[u]!==void 0&&Object.prototype.hasOwnProperty.call(h,u);switch(i.fieldKind){case"list":return h[u].length>0;case"map":return Object.keys(h[u]).length>0;case"scalar":return!te(i.scalar,h[u]);case"enum":return h[u]!==i.enum.values[0].number}throw new Error("message field with implicit presence")}function Me(h,i){return Object.prototype.hasOwnProperty.call(h,i)&&h[i]!==void 0}function ie(h,i){if(i.oneof){const u=h[i.oneof.localName];return u.case===i.localName?u.value:void 0}return h[i.localName]}function we(h,i,u){i.oneof?h[i.oneof.localName]={case:i.localName,value:u}:h[i.localName]=u}function de(h,i){const u=i.localName;if(i.oneof){const v=i.oneof.localName;h[v].case===u&&(h[v]={case:void 0})}else if(i.presence!=re)delete h[u];else switch(i.fieldKind){case"map":h[u]={};break;case"list":h[u]=[];break;case"enum":h[u]=i.enum.values[0].number;break;case"scalar":h[u]=H(i.scalar,i.longAsString);break}}function ue(h){return h!==null&&typeof h=="object"&&!Array.isArray(h)}function K(h,i){var u,v,E,_;if(ue(h)&&se in h&&"add"in h&&"field"in h&&typeof h.field=="function"){if(i!==void 0){const L=i,U=h.field();return L.listKind==U.listKind&&L.scalar===U.scalar&&((u=L.message)===null||u===void 0?void 0:u.typeName)===((v=U.message)===null||v===void 0?void 0:v.typeName)&&((E=L.enum)===null||E===void 0?void 0:E.typeName)===((_=U.enum)===null||_===void 0?void 0:_.typeName)}return!0}return!1}function ne(h,i){var u,v,E,_;if(ue(h)&&se in h&&"has"in h&&"field"in h&&typeof h.field=="function"){if(i!==void 0){const L=i,U=h.field();return L.mapKey===U.mapKey&&L.mapKind==U.mapKind&&L.scalar===U.scalar&&((u=L.message)===null||u===void 0?void 0:u.typeName)===((v=U.message)===null||v===void 0?void 0:v.typeName)&&((E=L.enum)===null||E===void 0?void 0:E.typeName)===((_=U.enum)===null||_===void 0?void 0:_.typeName)}return!0}return!1}function he(h,i){return ue(h)&&se in h&&"desc"in h&&ue(h.desc)&&h.desc.kind==="message"&&(i===void 0||h.desc.typeName==i.typeName)}function j(h){return G(h.$typeName)}function z(h){const i=h.fields[0];return G(h.typeName)&&i!==void 0&&i.fieldKind=="scalar"&&i.name=="value"&&i.number==1}function G(h){return h.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(h.substring(16))}const Y=999,J=998,X=2;function Z(h,i){if(f(i,h))return i;const u=me(h);return i!==void 0&&oe(h,u,i),u}function oe(h,i,u){for(const v of h.members){let E=u[v.localName];if(E==null)continue;let _;if(v.kind=="oneof"){const L=Ee(u,v);if(!L)continue;_=L,E=ie(u,L)}else _=v;switch(_.fieldKind){case"message":E=le(_,E);break;case"scalar":E=ye(_,E);break;case"list":E=ae(_,E);break;case"map":E=xe(_,E);break}we(i,_,E)}return i}function ye(h,i){return h.scalar==d.BYTES?Ae(i):i}function xe(h,i){if(ue(i)){if(h.scalar==d.BYTES)return Ie(i,Ae);if(h.mapKind=="message")return Ie(i,u=>le(h,u))}return i}function ae(h,i){if(Array.isArray(i)){if(h.scalar==d.BYTES)return i.map(Ae);if(h.listKind=="message")return i.map(u=>le(h,u))}return i}function le(h,i){if(h.fieldKind=="message"&&!h.oneof&&z(h.message))return ye(h.message.fields[0],i);if(ue(i)){if(h.message.typeName=="google.protobuf.Struct"&&h.parent.typeName!=="google.protobuf.Value")return i;if(!f(i,h.message))return Z(h.message,i)}return i}function Ae(h){return Array.isArray(h)?new Uint8Array(h):h}function Ie(h,i){const u={};for(const v of Object.entries(h))u[v[0]]=i(v[1]);return u}const je=Symbol(),Ve=new WeakMap;function me(h){let i;if(De(h)){const u=Ve.get(h);let v,E;if(u)({prototype:v,members:E}=u);else{v={},E=new Set;for(const _ of h.members)_.kind!="oneof"&&(_.fieldKind!="scalar"&&_.fieldKind!="enum"||_.presence!=X&&(E.add(_),v[_.localName]=Ze(_)));Ve.set(h,{prototype:v,members:E})}i=Object.create(v),i.$typeName=h.typeName;for(const _ of h.members)E.has(_)||_.kind=="field"&&(_.fieldKind=="message"||(_.fieldKind=="scalar"||_.fieldKind=="enum")&&_.presence!=X)||(i[_.localName]=Ze(_))}else{i={$typeName:h.typeName};for(const u of h.members)(u.kind=="oneof"||u.presence==X)&&(i[u.localName]=Ze(u))}return i}function De(h){switch(h.file.edition){case Y:return!1;case J:return!0;default:return h.fields.some(i=>i.presence!=X&&i.fieldKind!="message"&&!i.oneof)}}function Ze(h){if(h.kind=="oneof")return{case:void 0};if(h.fieldKind=="list")return[];if(h.fieldKind=="map")return{};if(h.fieldKind=="message")return je;const i=h.getDefaultValue();return i!==void 0?h.fieldKind=="scalar"&&h.longAsString?i.toString():i:h.fieldKind=="scalar"?H(h.scalar,h.longAsString):h.enum.values[0].number}const ht=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class pt extends Error{constructor(i,u,v="FieldValueInvalidError"){super(u),this.name=v,this.field=()=>i}}function ge(h){return h instanceof Error&&ht.includes(h.name)&&"field"in h&&typeof h.field=="function"}const Ne=Symbol.for("@bufbuild/protobuf/text-encoding");function qe(){if(globalThis[Ne]==null){const h=new globalThis.TextEncoder,i=new globalThis.TextDecoder;globalThis[Ne]={encodeUtf8(u){return h.encode(u)},decodeUtf8(u){return i.decode(u)},checkUtf8(u){try{return encodeURIComponent(u),!0}catch{return!1}}}}return globalThis[Ne]}var Ye;(function(h){h[h.Varint=0]="Varint",h[h.Bit64=1]="Bit64",h[h.LengthDelimited=2]="LengthDelimited",h[h.StartGroup=3]="StartGroup",h[h.EndGroup=4]="EndGroup",h[h.Bit32=5]="Bit32"})(Ye||(Ye={}));const tt=34028234663852886e22,at=-34028234663852886e22,yt=4294967295,Rt=2147483647,It=-2147483648;class on{constructor(i=qe().encodeUtf8){this.encodeUtf8=i,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let i=0;for(let E=0;E<this.chunks.length;E++)i+=this.chunks[E].length;let u=new Uint8Array(i),v=0;for(let E=0;E<this.chunks.length;E++)u.set(this.chunks[E],v),v+=this.chunks[E].length;return this.chunks=[],u}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let i=this.finish(),u=this.stack.pop();if(!u)throw new Error("invalid state, fork stack empty");return this.chunks=u.chunks,this.buf=u.buf,this.uint32(i.byteLength),this.raw(i)}tag(i,u){return this.uint32((i<<3|u)>>>0)}raw(i){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(i),this}uint32(i){for(gt(i);i>127;)this.buf.push(i&127|128),i=i>>>7;return this.buf.push(i),this}int32(i){return nt(i),I(i,this.buf),this}bool(i){return this.buf.push(i?1:0),this}bytes(i){return this.uint32(i.byteLength),this.raw(i)}string(i){let u=this.encodeUtf8(i);return this.uint32(u.byteLength),this.raw(u)}float(i){St(i);let u=new Uint8Array(4);return new DataView(u.buffer).setFloat32(0,i,!0),this.raw(u)}double(i){let u=new Uint8Array(8);return new DataView(u.buffer).setFloat64(0,i,!0),this.raw(u)}fixed32(i){gt(i);let u=new Uint8Array(4);return new DataView(u.buffer).setUint32(0,i,!0),this.raw(u)}sfixed32(i){nt(i);let u=new Uint8Array(4);return new DataView(u.buffer).setInt32(0,i,!0),this.raw(u)}sint32(i){return nt(i),i=(i<<1^i>>31)>>>0,I(i,this.buf),this}sfixed64(i){let u=new Uint8Array(8),v=new DataView(u.buffer),E=F.enc(i);return v.setInt32(0,E.lo,!0),v.setInt32(4,E.hi,!0),this.raw(u)}fixed64(i){let u=new Uint8Array(8),v=new DataView(u.buffer),E=F.uEnc(i);return v.setInt32(0,E.lo,!0),v.setInt32(4,E.hi,!0),this.raw(u)}int64(i){let u=F.enc(i);return p(u.lo,u.hi,this.buf),this}sint64(i){const u=F.enc(i),v=u.hi>>31,E=u.lo<<1^v,_=(u.hi<<1|u.lo>>>31)^v;return p(E,_,this.buf),this}uint64(i){const u=F.uEnc(i);return p(u.lo,u.hi,this.buf),this}}class Fe{constructor(i,u=qe().decodeUtf8){this.decodeUtf8=u,this.varint64=g,this.uint32=D,this.buf=i,this.len=i.length,this.pos=0,this.view=new DataView(i.buffer,i.byteOffset,i.byteLength)}tag(){let i=this.uint32(),u=i>>>3,v=i&7;if(u<=0||v<0||v>5)throw new Error("illegal tag: field no "+u+" wire type "+v);return[u,v]}skip(i,u){let v=this.pos;switch(i){case Ye.Varint:for(;this.buf[this.pos++]&128;);break;case Ye.Bit64:this.pos+=4;case Ye.Bit32:this.pos+=4;break;case Ye.LengthDelimited:let E=this.uint32();this.pos+=E;break;case Ye.StartGroup:for(;;){const[_,L]=this.tag();if(L===Ye.EndGroup){if(u!==void 0&&_!==u)throw new Error("invalid end group tag");break}this.skip(L,_)}break;default:throw new Error("cant skip wire type "+i)}return this.assertBounds(),this.buf.subarray(v,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let i=this.uint32();return i>>>1^-(i&1)}int64(){return F.dec(...this.varint64())}uint64(){return F.uDec(...this.varint64())}sint64(){let[i,u]=this.varint64(),v=-(i&1);return i=(i>>>1|(u&1)<<31)^v,u=u>>>1^v,F.dec(i,u)}bool(){let[i,u]=this.varint64();return i!==0||u!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return F.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return F.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let i=this.uint32(),u=this.pos;return this.pos+=i,this.assertBounds(),this.buf.subarray(u,u+i)}string(){return this.decodeUtf8(this.bytes())}}function nt(h){if(typeof h=="string")h=Number(h);else if(typeof h!="number")throw new Error("invalid int32: "+typeof h);if(!Number.isInteger(h)||h>Rt||h<It)throw new Error("invalid int32: "+h)}function gt(h){if(typeof h=="string")h=Number(h);else if(typeof h!="number")throw new Error("invalid uint32: "+typeof h);if(!Number.isInteger(h)||h>yt||h<0)throw new Error("invalid uint32: "+h)}function St(h){if(typeof h=="string"){const i=h;if(h=Number(h),Number.isNaN(h)&&i!=="NaN")throw new Error("invalid float32: "+i)}else if(typeof h!="number")throw new Error("invalid float32: "+typeof h);if(Number.isFinite(h)&&(h>tt||h<at))throw new Error("invalid float32: "+h)}function Dt(h,i){const u=h.fieldKind=="list"?K(i,h):h.fieldKind=="map"?ne(i,h):Hn(h,i);if(u===!0)return;let v;switch(h.fieldKind){case"list":v=`expected ${Zt(h)}, got ${rt(i)}`;break;case"map":v=`expected ${nn(h)}, got ${rt(i)}`;break;default:v=Zn(h,i,u)}return new pt(h,v)}function mn(h,i,u){const v=Hn(h,u);if(v!==!0)return new pt(h,`list item #${i+1}: ${Zn(h,u,v)}`)}function Fn(h,i,u){const v=sn(i,h.mapKey);if(v!==!0)return new pt(h,`invalid map key: ${Zn({scalar:h.mapKey},i,v)}`);const E=Hn(h,u);if(E!==!0)return new pt(h,`map entry ${rt(i)}: ${Zn(h,u,E)}`)}function Hn(h,i){return h.scalar!==void 0?sn(i,h.scalar):h.enum!==void 0?h.enum.open?Number.isInteger(i):h.enum.values.some(u=>u.number===i):he(i,h.message)}function sn(h,i){switch(i){case d.DOUBLE:return typeof h=="number";case d.FLOAT:return typeof h!="number"?!1:Number.isNaN(h)||!Number.isFinite(h)?!0:h>tt||h<at?`${h.toFixed()} out of range`:!0;case d.INT32:case d.SFIXED32:case d.SINT32:return typeof h!="number"||!Number.isInteger(h)?!1:h>Rt||h<It?`${h.toFixed()} out of range`:!0;case d.FIXED32:case d.UINT32:return typeof h!="number"||!Number.isInteger(h)?!1:h>yt||h<0?`${h.toFixed()} out of range`:!0;case d.BOOL:return typeof h=="boolean";case d.STRING:return typeof h!="string"?!1:qe().checkUtf8(h)||"invalid UTF8";case d.BYTES:return h instanceof Uint8Array;case d.INT64:case d.SFIXED64:case d.SINT64:if(typeof h=="bigint"||typeof h=="number"||typeof h=="string"&&h.length>0)try{return F.parse(h),!0}catch{return`${h} out of range`}return!1;case d.FIXED64:case d.UINT64:if(typeof h=="bigint"||typeof h=="number"||typeof h=="string"&&h.length>0)try{return F.uParse(h),!0}catch{return`${h} out of range`}return!1}}function Zn(h,i,u){return u=typeof u=="string"?`: ${u}`:`, got ${rt(i)}`,h.scalar!==void 0?`expected ${gr(h.scalar)}`+u:h.enum!==void 0?`expected ${h.enum.toString()}`+u:`expected ${an(h.message)}`+u}function rt(h){switch(typeof h){case"object":return h===null?"null":h instanceof Uint8Array?`Uint8Array(${h.length})`:Array.isArray(h)?`Array(${h.length})`:K(h)?Zt(h.field()):ne(h)?nn(h.field()):he(h)?an(h.desc):f(h)?`message ${h.$typeName}`:"object";case"string":return h.length>30?"string":`"${h.split('"').join('\\"')}"`;case"boolean":return String(h);case"number":return String(h);case"bigint":return String(h)+"n";default:return typeof h}}function an(h){return`ReflectMessage (${h.typeName})`}function Zt(h){switch(h.listKind){case"message":return`ReflectList (${h.message.toString()})`;case"enum":return`ReflectList (${h.enum.toString()})`;case"scalar":return`ReflectList (${d[h.scalar]})`}}function nn(h){switch(h.mapKind){case"message":return`ReflectMap (${d[h.mapKey]}, ${h.message.toString()})`;case"enum":return`ReflectMap (${d[h.mapKey]}, ${h.enum.toString()})`;case"scalar":return`ReflectMap (${d[h.mapKey]}, ${d[h.scalar]})`}}function gr(h){switch(h){case d.STRING:return"string";case d.BOOL:return"boolean";case d.INT64:case d.SINT64:case d.SFIXED64:return"bigint (int64)";case d.UINT64:case d.FIXED64:return"bigint (uint64)";case d.BYTES:return"Uint8Array";case d.DOUBLE:return"number (float64)";case d.FLOAT:return"number (float32)";case d.FIXED32:case d.UINT32:return"number (uint32)";case d.INT32:case d.SFIXED32:case d.SINT32:return"number (int32)"}}function Wt(h,i,u=!0){return new ln(h,i,u)}const Bt=new WeakMap;class ln{get sortedFields(){const i=Bt.get(this.desc);if(i)return i;const u=this.desc.fields.concat().sort((v,E)=>v.number-E.number);return Bt.set(this.desc,u),u}constructor(i,u,v=!0){this.lists=new Map,this.maps=new Map,this.check=v,this.desc=i,this.message=this[se]=u??Z(i),this.fields=i.fields,this.oneofs=i.oneofs,this.members=i.members}findNumber(i){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(u=>[u.number,u]))),this._fieldsByNumber.get(i)}oneofCase(i){return Mt(this.message,i),Ee(this.message,i)}isSet(i){return Mt(this.message,i),ke(this.message,i)}clear(i){Mt(this.message,i),de(this.message,i)}get(i){Mt(this.message,i);const u=ie(this.message,i);switch(i.fieldKind){case"list":let v=this.lists.get(i);return(!v||v[se]!==u)&&this.lists.set(i,v=new En(i,u,this.check)),v;case"map":let E=this.maps.get(i);return(!E||E[se]!==u)&&this.maps.set(i,E=new Oi(i,u,this.check)),E;case"message":return mi(i,u,this.check);case"scalar":return u===void 0?H(i.scalar,!1):Bs(i,u);case"enum":return u??i.enum.values[0].number}}set(i,u){if(Mt(this.message,i),this.check){const E=Dt(i,u);if(E)throw E}let v;i.fieldKind=="message"?v=xr(i,u):ne(u)||K(u)?v=u[se]:v=tr(i,u),we(this.message,i,v)}getUnknown(){return this.message.$unknown}setUnknown(i){this.message.$unknown=i}}function Mt(h,i){if(i.parent.typeName!==h.$typeName)throw new pt(i,`cannot use ${i.toString()} with message ${h.$typeName}`,"ForeignFieldError")}class En{field(){return this._field}get size(){return this._arr.length}constructor(i,u,v){this._field=i,this._arr=this[se]=u,this.check=v}get(i){const u=this._arr[i];return u===void 0?void 0:Ji(this._field,u,this.check)}set(i,u){if(i<0||i>=this._arr.length)throw new pt(this._field,`list item #${i+1}: out of range`);if(this.check){const v=mn(this._field,i,u);if(v)throw v}this._arr[i]=Ho(this._field,u)}add(i){if(this.check){const u=mn(this._field,this._arr.length,i);if(u)throw u}this._arr.push(Ho(this._field,i))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const i of this._arr)yield Ji(this._field,i,this.check)}*entries(){for(let i=0;i<this._arr.length;i++)yield[i,Ji(this._field,this._arr[i],this.check)]}}class Oi{constructor(i,u,v=!0){this.obj=this[se]=u??{},this.check=v,this._field=i}field(){return this._field}set(i,u){if(this.check){const v=Fn(this._field,i,u);if(v)throw v}return this.obj[Yo(i)]=Fg(this._field,u),this}delete(i){const u=Yo(i),v=Object.prototype.hasOwnProperty.call(this.obj,u);return v&&delete this.obj[u],v}clear(){for(const i of Object.keys(this.obj))delete this.obj[i]}get(i){let u=this.obj[Yo(i)];return u!==void 0&&(u=ks(this._field,u,this.check)),u}has(i){return Object.prototype.hasOwnProperty.call(this.obj,Yo(i))}*keys(){for(const i of Object.keys(this.obj))yield Du(i,this._field.mapKey)}*entries(){for(const i of Object.entries(this.obj))yield[Du(i[0],this._field.mapKey),ks(this._field,i[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const i of Object.values(this.obj))yield ks(this._field,i,this.check)}forEach(i,u){for(const v of this.entries())i.call(u,v[1],v[0],this)}}function xr(h,i){return he(i)?j(i.message)&&!h.oneof&&h.fieldKind=="message"?i.message.value:i.desc.typeName=="google.protobuf.Struct"&&h.parent.typeName!="google.protobuf.Value"?Bg(i.message):i.message:i}function mi(h,i,u){return i!==void 0&&(z(h.message)&&!h.oneof&&h.fieldKind=="message"?i={$typeName:h.message.typeName,value:Bs(h.message.fields[0],i)}:h.message.typeName=="google.protobuf.Struct"&&h.parent.typeName!="google.protobuf.Value"&&ue(i)&&(i=kg(i))),new ln(h.message,i,u)}function Ho(h,i){return h.listKind=="message"?xr(h,i):tr(h,i)}function Ji(h,i,u){return h.listKind=="message"?mi(h,i,u):Bs(h,i)}function Fg(h,i){return h.mapKind=="message"?xr(h,i):tr(h,i)}function ks(h,i,u){return h.mapKind=="message"?mi(h,i,u):i}function Yo(h){return typeof h=="string"||typeof h=="number"?h:String(h)}function Du(h,i){switch(i){case d.STRING:return h;case d.INT32:case d.FIXED32:case d.UINT32:case d.SFIXED32:case d.SINT32:{const u=Number.parseInt(h);if(Number.isFinite(u))return u;break}case d.BOOL:switch(h){case"true":return!0;case"false":return!1}break;case d.UINT64:case d.FIXED64:try{return F.uParse(h)}catch{}break;default:try{return F.parse(h)}catch{}break}return h}function Bs(h,i){switch(h.scalar){case d.INT64:case d.SFIXED64:case d.SINT64:"longAsString"in h&&h.longAsString&&typeof i=="string"&&(i=F.parse(i));break;case d.FIXED64:case d.UINT64:"longAsString"in h&&h.longAsString&&typeof i=="string"&&(i=F.uParse(i));break}return i}function tr(h,i){switch(h.scalar){case d.INT64:case d.SFIXED64:case d.SINT64:"longAsString"in h&&h.longAsString?i=String(i):(typeof i=="string"||typeof i=="number")&&(i=F.parse(i));break;case d.FIXED64:case d.UINT64:"longAsString"in h&&h.longAsString?i=String(i):(typeof i=="string"||typeof i=="number")&&(i=F.uParse(i));break}return i}function kg(h){const i={$typeName:"google.protobuf.Struct",fields:{}};if(ue(h))for(const[u,v]of Object.entries(h))i.fields[u]=Ua(v);return i}function Bg(h){const i={};for(const[u,v]of Object.entries(h.fields))i[u]=js(v);return i}function js(h){switch(h.kind.case){case"structValue":return Bg(h.kind.value);case"listValue":return h.kind.value.values.map(js);case"nullValue":case void 0:return null;default:return h.kind.value}}function Ua(h){const i={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof h){case"number":i.kind={case:"numberValue",value:h};break;case"string":i.kind={case:"stringValue",value:h};break;case"boolean":i.kind={case:"boolValue",value:h};break;case"object":if(h===null)i.kind={case:"nullValue",value:0};else if(Array.isArray(h)){const u={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(h))for(const v of h)u.values.push(Ua(v));i.kind={case:"listValue",value:u}}else i.kind={case:"structValue",value:kg(h)};break}return i}function jg(h){const i=qo();let u=h.length*3/4;h[h.length-2]=="="?u-=2:h[h.length-1]=="="&&(u-=1);let v=new Uint8Array(u),E=0,_=0,L,U=0;for(let W=0;W<h.length;W++){if(L=i[h.charCodeAt(W)],L===void 0)switch(h[W]){case"=":_=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(_){case 0:U=L,_=1;break;case 1:v[E++]=U<<2|(L&48)>>4,U=L,_=2;break;case 2:v[E++]=(U&15)<<4|(L&60)>>2,U=L,_=3;break;case 3:v[E++]=(U&3)<<6|L,_=0;break}}if(_==1)throw Error("invalid base64 string");return v.subarray(0,E)}function oy(h,i="std"){const u=uf(i),v=i=="std";let E="",_=0,L,U=0;for(let W=0;W<h.length;W++)switch(L=h[W],_){case 0:E+=u[L>>2],U=(L&3)<<4,_=1;break;case 1:E+=u[U|L>>4],U=(L&15)<<2,_=2;break;case 2:E+=u[U|L>>6],E+=u[L&63],_=0;break}return _&&(E+=u[U],v&&(E+="=",_==1&&(E+="="))),E}let lf,sy,Wo;function uf(h){return lf||(lf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),sy=lf.slice(0,-2).concat("-","_")),h=="url"?sy:lf}function qo(){if(!Wo){Wo=[];const h=uf("std");for(let i=0;i<h.length;i++)Wo[h[i].charCodeAt(0)]=i;Wo[45]=h.indexOf("+"),Wo[95]=h.indexOf("/")}return Wo}function Ga(h){let i=!1;const u=[];for(let v=0;v<h.length;v++){let E=h.charAt(v);switch(E){case"_":i=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u.push(E),i=!1;break;default:i&&(i=!1,E=E.toUpperCase()),u.push(E);break}}return u.join("")}const ay=new Set(["constructor","toString","toJSON","valueOf"]);function yo(h){return ay.has(h)?h+"$":h}function cf(h){for(const i of h.field)Me(i,"jsonName")||(i.jsonName=Ga(i.name));h.nestedType.forEach(cf)}function zg(h,i){const u=h.values.find(v=>v.name===i);if(!u)throw new Error(`cannot parse ${h} default value: ${i}`);return u.number}function cE(h,i){switch(h){case d.STRING:return i;case d.BYTES:{const u=ly(i);if(u===!1)throw new Error(`cannot parse ${d[h]} default value: ${i}`);return u}case d.INT64:case d.SFIXED64:case d.SINT64:return F.parse(i);case d.UINT64:case d.FIXED64:return F.uParse(i);case d.DOUBLE:case d.FLOAT:switch(i){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(i)}case d.BOOL:return i==="true";case d.INT32:case d.UINT32:case d.SINT32:case d.FIXED32:case d.SFIXED32:return parseInt(i,10)}}function ly(h){const i=[],u={tail:h,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(v){if(this.tail.length>=v){const E=this.tail.substring(0,v);return this.tail=this.tail.substring(v),E}return!1}};for(;u.next();)switch(u.c){case"\\":if(u.next())switch(u.c){case"\\":i.push(u.c.charCodeAt(0));break;case"b":i.push(8);break;case"f":i.push(12);break;case"n":i.push(10);break;case"r":i.push(13);break;case"t":i.push(9);break;case"v":i.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const v=u.c,E=u.take(2);if(E===!1)return!1;const _=parseInt(v+E,8);if(Number.isNaN(_))return!1;i.push(_);break}case"x":{const v=u.c,E=u.take(2);if(E===!1)return!1;const _=parseInt(v+E,16);if(Number.isNaN(_))return!1;i.push(_);break}case"u":{const v=u.c,E=u.take(4);if(E===!1)return!1;const _=parseInt(v+E,16);if(Number.isNaN(_))return!1;const L=new Uint8Array(4);new DataView(L.buffer).setInt32(0,_,!0),i.push(L[0],L[1],L[2],L[3]);break}case"U":{const v=u.c,E=u.take(8);if(E===!1)return!1;const _=F.uEnc(v+E),L=new Uint8Array(8),U=new DataView(L.buffer);U.setInt32(0,_.lo,!0),U.setInt32(4,_.hi,!0),i.push(L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7]);break}}break;default:i.push(u.c.charCodeAt(0))}return new Uint8Array(i)}function*Xr(h){switch(h.kind){case"file":for(const i of h.messages)yield i,yield*Xr(i);yield*h.enums,yield*h.services,yield*h.extensions;break;case"message":for(const i of h.nestedMessages)yield i,yield*Xr(i);yield*h.nestedEnums,yield*h.nestedExtensions;break}}function Vg(...h){const i=fE();if(!h.length)return i;if("$typeName"in h[0]&&h[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const u of h[0].file)hf(u,i);return i}if("$typeName"in h[0]){let u=function(L){const U=[];for(const W of L.dependency){if(i.getFile(W)!=null||_.has(W))continue;const ee=E(W);if(!ee)throw new Error(`Unable to resolve ${W}, imported by ${L.name}`);"kind"in ee?i.addFile(ee,!1,!0):(_.add(ee.name),U.push(ee))}return U.concat(...U.map(u))};const v=h[0],E=h[1],_=new Set;for(const L of[v,...u(v)].reverse())hf(L,i)}else for(const u of h)for(const v of u.files)i.addFile(v);return i}function fE(){const h=new Map,i=new Map,u=new Map;return{kind:"registry",types:h,extendees:i,[Symbol.iterator](){return h.values()},get files(){return u.values()},addFile(v,E,_){if(u.set(v.proto.name,v),!E)for(const L of Xr(v))this.add(L);if(_)for(const L of v.dependencies)this.addFile(L,E,_)},add(v){if(v.kind=="extension"){let E=i.get(v.extendee.typeName);E||i.set(v.extendee.typeName,E=new Map),E.set(v.number,v)}h.set(v.typeName,v)},get(v){return h.get(v)},getFile(v){return u.get(v)},getMessage(v){const E=h.get(v);return(E==null?void 0:E.kind)=="message"?E:void 0},getEnum(v){const E=h.get(v);return(E==null?void 0:E.kind)=="enum"?E:void 0},getExtension(v){const E=h.get(v);return(E==null?void 0:E.kind)=="extension"?E:void 0},getExtensionFor(v,E){var _;return(_=i.get(v.typeName))===null||_===void 0?void 0:_.get(E)},getService(v){const E=h.get(v);return(E==null?void 0:E.kind)=="service"?E:void 0}}}const Eh=998,uy=999,Ah=9,ff=10,Pr=11,Ug=12,Gg=14,df=3,Pu=2,$g=1,cy=0,zs=1,fy=2,dy=3,hy=1,Hg=2,dE=1,py={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function hf(h,i){var u,v;const E={kind:"file",proto:h,deprecated:(v=(u=h.options)===null||u===void 0?void 0:u.deprecated)!==null&&v!==void 0?v:!1,edition:Ko(h),name:h.name.replace(/\.proto$/,""),dependencies:Wg(h,i),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${h.name}`}},_=new Map,L={get(U){return _.get(U)},add(U){var W;zr(((W=U.proto.options)===null||W===void 0?void 0:W.mapEntry)===!0),_.set(U.typeName,U)}};for(const U of h.enumType)$a(U,E,void 0,i);for(const U of h.messageType)Ha(U,E,void 0,i,L);for(const U of h.service)gy(U,E,i);pf(E,i);for(const U of _.values())gf(U,i,L);for(const U of E.messages)gf(U,i,L),pf(U,i);i.addFile(E,!0)}function pf(h,i){switch(h.kind){case"file":for(const u of h.proto.extension){const v=Ya(u,h,i);h.extensions.push(v),i.add(v)}break;case"message":for(const u of h.proto.extension){const v=Ya(u,h,i);h.nestedExtensions.push(v),i.add(v)}for(const u of h.nestedMessages)pf(u,i);break}}function gf(h,i,u){const v=h.proto.oneofDecl.map(_=>my(_,h)),E=new Set;for(const _ of h.proto.field){const L=vy(_,v),U=Ya(_,h,i,L,u);h.fields.push(U),h.field[U.localName]=U,L===void 0?h.members.push(U):(L.fields.push(U),E.has(L)||(E.add(L),h.members.push(L)))}for(const _ of v.filter(L=>E.has(L)))h.oneofs.push(_);for(const _ of h.nestedMessages)gf(_,i,u)}function $a(h,i,u,v){var E,_,L,U,W;const ee=mf(h.name,h.value),ce={kind:"enum",proto:h,deprecated:(_=(E=h.options)===null||E===void 0?void 0:E.deprecated)!==null&&_!==void 0?_:!1,file:i,parent:u,open:!0,name:h.name,typeName:Mu(h,u,i),value:{},values:[],sharedPrefix:ee,toString(){return`enum ${this.typeName}`}};ce.open=Zr(ce),v.add(ce);for(const Re of h.value){const Be=Re.name;ce.values.push(ce.value[Re.number]={kind:"enum_value",proto:Re,deprecated:(U=(L=Re.options)===null||L===void 0?void 0:L.deprecated)!==null&&U!==void 0?U:!1,parent:ce,name:Be,localName:yo(ee==null?Be:Be.substring(ee.length)),number:Re.number,toString(){return`enum value ${ce.typeName}.${Be}`}})}((W=u==null?void 0:u.nestedEnums)!==null&&W!==void 0?W:i.enums).push(ce)}function Ha(h,i,u,v,E){var _,L,U,W;const ee={kind:"message",proto:h,deprecated:(L=(_=h.options)===null||_===void 0?void 0:_.deprecated)!==null&&L!==void 0?L:!1,file:i,parent:u,name:h.name,typeName:Mu(h,u,i),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((U=h.options)===null||U===void 0?void 0:U.mapEntry)===!0?E.add(ee):(((W=u==null?void 0:u.nestedMessages)!==null&&W!==void 0?W:i.messages).push(ee),v.add(ee));for(const ce of h.enumType)$a(ce,i,ee,v);for(const ce of h.nestedType)Ha(ce,i,ee,v,E)}function gy(h,i,u){var v,E;const _={kind:"service",proto:h,deprecated:(E=(v=h.options)===null||v===void 0?void 0:v.deprecated)!==null&&E!==void 0?E:!1,file:i,name:h.name,typeName:Mu(h,void 0,i),methods:[],method:{},toString(){return`service ${this.typeName}`}};i.services.push(_),u.add(_);for(const L of h.method){const U=Yg(L,_,u);_.methods.push(U),_.method[U.localName]=U}}function Yg(h,i,u){var v,E,_,L;let U;h.clientStreaming&&h.serverStreaming?U="bidi_streaming":h.clientStreaming?U="client_streaming":h.serverStreaming?U="server_streaming":U="unary";const W=u.getMessage(Di(h.inputType)),ee=u.getMessage(Di(h.outputType));zr(W,`invalid MethodDescriptorProto: input_type ${h.inputType} not found`),zr(ee,`invalid MethodDescriptorProto: output_type ${h.inputType} not found`);const ce=h.name;return{kind:"rpc",proto:h,deprecated:(E=(v=h.options)===null||v===void 0?void 0:v.deprecated)!==null&&E!==void 0?E:!1,parent:i,name:ce,localName:yo(ce.length?yo(ce[0].toLowerCase()+ce.substring(1)):ce),methodKind:U,input:W,output:ee,idempotency:(L=(_=h.options)===null||_===void 0?void 0:_.idempotencyLevel)!==null&&L!==void 0?L:cy,toString(){return`rpc ${i.typeName}.${ce}`}}}function my(h,i){return{kind:"oneof",proto:h,deprecated:!1,parent:i,fields:[],name:h.name,localName:yo(Ga(h.name)),toString(){return`oneof ${i.typeName}.${this.name}`}}}function Ya(h,i,u,v,E){var _,L,U;const W=E===void 0,ee={kind:"field",proto:h,deprecated:(L=(_=h.options)===null||_===void 0?void 0:_.deprecated)!==null&&L!==void 0?L:!1,name:h.name,number:h.number,scalar:void 0,message:void 0,enum:void 0,presence:Ch(h,v,W,i),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(W){const Te=i.kind=="file"?i:i.file,We=i.kind=="file"?void 0:i,He=Mu(h,We,Te);ee.kind="extension",ee.file=Te,ee.parent=We,ee.oneof=void 0,ee.typeName=He,ee.jsonName=`[${He}]`,ee.toString=()=>`extension ${He}`;const ot=u.getMessage(Di(h.extendee));zr(ot,`invalid FieldDescriptorProto: extendee ${h.extendee} not found`),ee.extendee=ot}else{const Te=i;zr(Te.kind=="message"),ee.parent=Te,ee.oneof=v,ee.localName=v?Ga(h.name):yo(Ga(h.name)),ee.jsonName=h.jsonName,ee.toString=()=>`field ${Te.typeName}.${h.name}`}const ce=h.label,Re=h.type,Be=(U=h.options)===null||U===void 0?void 0:U.jstype;if(ce===df){const Te=Re==Pr?E==null?void 0:E.get(Di(h.typeName)):void 0;if(Te){ee.fieldKind="map";const{key:We,value:He}=yy(Te);return ee.mapKey=We.scalar,ee.mapKind=He.fieldKind,ee.message=He.message,ee.delimitedEncoding=!1,ee.enum=He.enum,ee.scalar=He.scalar,ee}switch(ee.fieldKind="list",Re){case Pr:case ff:ee.listKind="message",ee.message=u.getMessage(Di(h.typeName)),zr(ee.message),ee.delimitedEncoding=Us(h,i);break;case Gg:ee.listKind="enum",ee.enum=u.getEnum(Di(h.typeName)),zr(ee.enum);break;default:ee.listKind="scalar",ee.scalar=Re,ee.longAsString=Be==$g;break}return ee.packed=wh(h,i),ee}switch(Re){case Pr:case ff:ee.fieldKind="message",ee.message=u.getMessage(Di(h.typeName)),zr(ee.message,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),ee.delimitedEncoding=Us(h,i),ee.getDefaultValue=()=>{};break;case Gg:{const Te=u.getEnum(Di(h.typeName));zr(Te!==void 0,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),ee.fieldKind="enum",ee.enum=u.getEnum(Di(h.typeName)),ee.getDefaultValue=()=>Me(h,"defaultValue")?zg(Te,h.defaultValue):void 0;break}default:{ee.fieldKind="scalar",ee.scalar=Re,ee.longAsString=Be==$g,ee.getDefaultValue=()=>Me(h,"defaultValue")?cE(Re,h.defaultValue):void 0;break}}return ee}function Ko(h){switch(h.syntax){case"":case"proto2":return Eh;case"proto3":return uy;case"editions":if(h.edition in py)return h.edition;throw new Error(`${h.name}: unsupported edition`);default:throw new Error(`${h.name}: unsupported syntax "${h.syntax}"`)}}function Wg(h,i){return h.dependency.map(u=>{const v=i.getFile(u);if(!v)throw new Error(`Cannot find ${u}, imported by ${h.name}`);return v})}function mf(h,i){const u=Vs(h)+"_";for(const v of i){if(!v.name.toLowerCase().startsWith(u))return;const E=v.name.substring(u.length);if(E.length==0||/^\d/.test(E))return}return u}function Vs(h){return(h.substring(0,1)+h.substring(1).replace(/[A-Z]/g,i=>"_"+i)).toLowerCase()}function Mu(h,i,u){let v;return i?v=`${i.typeName}.${h.name}`:u.proto.package.length>0?v=`${u.proto.package}.${h.name}`:v=`${h.name}`,v}function Di(h){return h.startsWith(".")?h.substring(1):h}function vy(h,i){if(!Me(h,"oneofIndex")||h.proto3Optional)return;const u=i[h.oneofIndex];return zr(u,`invalid FieldDescriptorProto: oneof #${h.oneofIndex} for field #${h.number} not found`),u}function Ch(h,i,u,v){if(h.label==Pu)return dy;if(h.label==df)return fy;if(i||h.proto3Optional||u)return zs;const E=Xo("fieldPresence",{proto:h,parent:v});return E==fy&&(h.type==Pr||h.type==ff)?zs:E}function wh(h,i){if(h.label!=df)return!1;switch(h.type){case Ah:case Ug:case ff:case Pr:return!1}const u=h.options;return u&&Me(u,"packed")?u.packed:hy==Xo("repeatedFieldEncoding",{proto:h,parent:i})}function yy(h){const i=h.fields.find(v=>v.number===1),u=h.fields.find(v=>v.number===2);return zr(i&&i.fieldKind=="scalar"&&i.scalar!=d.BYTES&&i.scalar!=d.FLOAT&&i.scalar!=d.DOUBLE&&u&&u.fieldKind!="list"&&u.fieldKind!="map"),{key:i,value:u}}function Zr(h){var i;return dE==Xo("enumType",{proto:h.proto,parent:(i=h.parent)!==null&&i!==void 0?i:h.file})}function Us(h,i){return h.type==ff?!0:Hg==Xo("messageEncoding",{proto:h,parent:i})}function Xo(h,i){var u,v;const E=(u=i.proto.options)===null||u===void 0?void 0:u.features;if(E){const _=E[h];if(_!=0)return _}if("kind"in i){if(i.kind=="message")return Xo(h,(v=i.parent)!==null&&v!==void 0?v:i.file);const _=py[i.edition];if(!_)throw new Error(`feature default for edition ${i.edition} not found`);return _[h]}return Xo(h,i.parent)}function zr(h,i){if(!h)throw new Error(i)}function hE(h){const i=qg(h);return i.messageType.forEach(cf),Vg(i,()=>{}).getFile(i.name)}function qg(h){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},h),{messageType:h.messageType.map(Rh),enumType:h.enumType.map(Kg)}))}function Rh(h){var i,u,v,E,_,L,U,W;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:h.name,field:(u=(i=h.field)===null||i===void 0?void 0:i.map(vf))!==null&&u!==void 0?u:[],extension:[],nestedType:(E=(v=h.nestedType)===null||v===void 0?void 0:v.map(Rh))!==null&&E!==void 0?E:[],enumType:(L=(_=h.enumType)===null||_===void 0?void 0:_.map(Kg))!==null&&L!==void 0?L:[],extensionRange:(W=(U=h.extensionRange)===null||U===void 0?void 0:U.map(ce=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},ce)))!==null&&W!==void 0?W:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function vf(h){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},h),{options:h.options?Th(h.options):void 0}))}function Th(h){var i,u,v;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},h),{targets:(i=h.targets)!==null&&i!==void 0?i:[],editionDefaults:(v=(u=h.editionDefaults)===null||u===void 0?void 0:u.map(_=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},_)))!==null&&v!==void 0?v:[],uninterpretedOption:[]}))}function Kg(h){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:h.name,reservedName:[],reservedRange:[],value:h.value.map(u=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},u))})}function Pt(h,i,...u){return u.reduce((v,E)=>v.nestedMessages[E],h.messages[i])}const pE=Pt(hE({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),1);var Nh;(function(h){h[h.DECLARATION=0]="DECLARATION",h[h.UNVERIFIED=1]="UNVERIFIED"})(Nh||(Nh={}));var xy;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.GROUP=10]="GROUP",h[h.MESSAGE=11]="MESSAGE",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.ENUM=14]="ENUM",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(xy||(xy={}));var by;(function(h){h[h.OPTIONAL=1]="OPTIONAL",h[h.REPEATED=3]="REPEATED",h[h.REQUIRED=2]="REQUIRED"})(by||(by={}));var Sy;(function(h){h[h.SPEED=1]="SPEED",h[h.CODE_SIZE=2]="CODE_SIZE",h[h.LITE_RUNTIME=3]="LITE_RUNTIME"})(Sy||(Sy={}));var Ey;(function(h){h[h.STRING=0]="STRING",h[h.CORD=1]="CORD",h[h.STRING_PIECE=2]="STRING_PIECE"})(Ey||(Ey={}));var Ay;(function(h){h[h.JS_NORMAL=0]="JS_NORMAL",h[h.JS_STRING=1]="JS_STRING",h[h.JS_NUMBER=2]="JS_NUMBER"})(Ay||(Ay={}));var Xg;(function(h){h[h.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",h[h.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",h[h.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(Xg||(Xg={}));var Cy;(function(h){h[h.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",h[h.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",h[h.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",h[h.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",h[h.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",h[h.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",h[h.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",h[h.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",h[h.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",h[h.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(Cy||(Cy={}));var wy;(function(h){h[h.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",h[h.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",h[h.IDEMPOTENT=2]="IDEMPOTENT"})(wy||(wy={}));var Ry;(function(h){h[h.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",h[h.EXPORT_ALL=1]="EXPORT_ALL",h[h.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",h[h.LOCAL_ALL=3]="LOCAL_ALL",h[h.STRICT=4]="STRICT"})(Ry||(Ry={}));var Ty;(function(h){h[h.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",h[h.EXPLICIT=1]="EXPLICIT",h[h.IMPLICIT=2]="IMPLICIT",h[h.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(Ty||(Ty={}));var _h;(function(h){h[h.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",h[h.OPEN=1]="OPEN",h[h.CLOSED=2]="CLOSED"})(_h||(_h={}));var Ny;(function(h){h[h.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",h[h.PACKED=1]="PACKED",h[h.EXPANDED=2]="EXPANDED"})(Ny||(Ny={}));var _y;(function(h){h[h.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",h[h.VERIFY=2]="VERIFY",h[h.NONE=3]="NONE"})(_y||(_y={}));var Iy;(function(h){h[h.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",h[h.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",h[h.DELIMITED=2]="DELIMITED"})(Iy||(Iy={}));var Zg;(function(h){h[h.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",h[h.ALLOW=1]="ALLOW",h[h.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Zg||(Zg={}));var Oy;(function(h){h[h.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",h[h.STYLE2024=1]="STYLE2024",h[h.STYLE_LEGACY=2]="STYLE_LEGACY"})(Oy||(Oy={}));var Dy;(function(h){h[h.NONE=0]="NONE",h[h.SET=1]="SET",h[h.ALIAS=2]="ALIAS"})(Dy||(Dy={}));var Py;(function(h){h[h.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",h[h.EDITION_LEGACY=900]="EDITION_LEGACY",h[h.EDITION_PROTO2=998]="EDITION_PROTO2",h[h.EDITION_PROTO3=999]="EDITION_PROTO3",h[h.EDITION_2023=1e3]="EDITION_2023",h[h.EDITION_2024=1001]="EDITION_2024",h[h.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",h[h.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",h[h.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",h[h.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",h[h.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",h[h.EDITION_MAX=2147483647]="EDITION_MAX"})(Py||(Py={}));var My;(function(h){h[h.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",h[h.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",h[h.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(My||(My={}));const Ly={readUnknownFields:!0};function gE(h){return h?Object.assign(Object.assign({},Ly),h):Ly}function Pi(h,i,u){const v=Wt(h,void 0,!1);return Fy(v,new Fe(i),gE(u),!1,i.byteLength),v.message}function Fy(h,i,u,v,E){var _;const L=v?i.len:i.pos+E;let U,W;const ee=(_=h.getUnknown())!==null&&_!==void 0?_:[];for(;i.pos<L&&([U,W]=i.tag(),!(v&&W==Ye.EndGroup));){const ce=h.findNumber(U);if(!ce){const Re=i.skip(W,U);u.readUnknownFields&&ee.push({no:U,wireType:W,data:Re});continue}ky(h,i,ce,W,u)}if(v&&(W!=Ye.EndGroup||U!==E))throw new Error("invalid end group tag");ee.length>0&&h.setUnknown(ee)}function ky(h,i,u,v,E){var _;switch(u.fieldKind){case"scalar":h.set(u,Wa(i,u.scalar));break;case"enum":const L=Wa(i,d.INT32);if(u.enum.open)h.set(u,L);else if(u.enum.values.some(W=>W.number===L))h.set(u,L);else if(E.readUnknownFields){const W=[];I(L,W);const ee=(_=h.getUnknown())!==null&&_!==void 0?_:[];ee.push({no:u.number,wireType:v,data:new Uint8Array(W)}),h.setUnknown(ee)}break;case"message":h.set(u,Qg(i,E,u,h.get(u)));break;case"list":yf(i,v,h.get(u),E);break;case"map":Jg(i,h.get(u),E);break}}function Jg(h,i,u){const v=i.field();let E,_;const L=h.uint32(),U=h.pos+L;for(;h.pos<U;){const[W]=h.tag();switch(W){case 1:E=Wa(h,v.mapKey);break;case 2:switch(v.mapKind){case"scalar":_=Wa(h,v.scalar);break;case"enum":_=h.int32();break;case"message":_=Qg(h,u,v);break}break}}if(E===void 0&&(E=H(v.mapKey,!1)),_===void 0)switch(v.mapKind){case"scalar":_=H(v.scalar,!1);break;case"enum":_=v.enum.values[0].number;break;case"message":_=Wt(v.message,void 0,!1);break}i.set(E,_)}function yf(h,i,u,v){var E;const _=u.field();if(_.listKind==="message"){u.add(Qg(h,v,_));return}const L=(E=_.scalar)!==null&&E!==void 0?E:d.INT32;if(!(i==Ye.LengthDelimited&&L!=d.STRING&&L!=d.BYTES)){u.add(Wa(h,L));return}const W=h.uint32()+h.pos;for(;h.pos<W;)u.add(Wa(h,L))}function Qg(h,i,u,v){const E=u.delimitedEncoding,_=v??Wt(u.message,void 0,!1);return Fy(_,h,i,E,E?u.number:h.uint32()),_}function Wa(h,i){switch(i){case d.STRING:return h.string();case d.BOOL:return h.bool();case d.DOUBLE:return h.double();case d.FLOAT:return h.float();case d.INT32:return h.int32();case d.INT64:return h.int64();case d.UINT64:return h.uint64();case d.FIXED64:return h.fixed64();case d.BYTES:return h.bytes();case d.FIXED32:return h.fixed32();case d.SFIXED32:return h.sfixed32();case d.SFIXED64:return h.sfixed64();case d.SINT64:return h.sint64();case d.UINT32:return h.uint32();case d.SINT32:return h.sint32()}}function xo(h,i){var u;const v=Pi(pE,jg(h));return v.messageType.forEach(cf),v.dependency=(u=i==null?void 0:i.map(_=>_.proto.name))!==null&&u!==void 0?u:[],Vg(v,_=>i==null?void 0:i.find(L=>L.proto.name===_)).getFile(v.name)}const By=xo("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function jy(h){return new Date(zy(h))}function zy(h){return Number(h.seconds)*1e3+Math.round(h.nanos/1e6)}const Lu=xo("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),Vy=xo("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),mE=Pt(Vy,0),vE=3,em={writeUnknownFields:!0};function Uy(h){return h?Object.assign(Object.assign({},em),h):em}function Mi(h,i,u){return Gs(new on,Uy(u),Wt(h,i)).finish()}function Gs(h,i,u){var v;for(const E of u.sortedFields){if(!u.isSet(E)){if(E.presence==vE)throw new Error(`cannot encode ${E} to binary: required field not set`);continue}Gy(h,i,u,E)}if(i.writeUnknownFields)for(const{no:E,wireType:_,data:L}of(v=u.getUnknown())!==null&&v!==void 0?v:[])h.tag(E,_).raw(L);return h}function Gy(h,i,u,v){var E;switch(v.fieldKind){case"scalar":case"enum":qa(h,u.desc.typeName,v.name,(E=v.scalar)!==null&&E!==void 0?E:d.INT32,v.number,u.get(v));break;case"list":$y(h,i,v,u.get(v));break;case"message":tm(h,i,v,u.get(v));break;case"map":for(const[_,L]of u.get(v))nm(h,i,v,_,L);break}}function qa(h,i,u,v,E,_){Ih(h.tag(E,Hy(v)),i,u,v,_)}function tm(h,i,u,v){u.delimitedEncoding?Gs(h.tag(u.number,Ye.StartGroup),i,v).tag(u.number,Ye.EndGroup):Gs(h.tag(u.number,Ye.LengthDelimited).fork(),i,v).join()}function $y(h,i,u,v){var E;if(u.listKind=="message"){for(const L of v)tm(h,i,u,L);return}const _=(E=u.scalar)!==null&&E!==void 0?E:d.INT32;if(u.packed){if(!v.size)return;h.tag(u.number,Ye.LengthDelimited).fork();for(const L of v)Ih(h,u.parent.typeName,u.name,_,L);h.join();return}for(const L of v)qa(h,u.parent.typeName,u.name,_,u.number,L)}function nm(h,i,u,v,E){var _;switch(h.tag(u.number,Ye.LengthDelimited).fork(),qa(h,u.parent.typeName,u.name,u.mapKey,1,v),u.mapKind){case"scalar":case"enum":qa(h,u.parent.typeName,u.name,(_=u.scalar)!==null&&_!==void 0?_:d.INT32,2,E);break;case"message":Gs(h.tag(2,Ye.LengthDelimited).fork(),i,E).join();break}h.join()}function Ih(h,i,u,v,E){try{switch(v){case d.STRING:h.string(E);break;case d.BOOL:h.bool(E);break;case d.DOUBLE:h.double(E);break;case d.FLOAT:h.float(E);break;case d.INT32:h.int32(E);break;case d.INT64:h.int64(E);break;case d.UINT64:h.uint64(E);break;case d.FIXED64:h.fixed64(E);break;case d.BYTES:h.bytes(E);break;case d.FIXED32:h.fixed32(E);break;case d.SFIXED32:h.sfixed32(E);break;case d.SFIXED64:h.sfixed64(E);break;case d.SINT64:h.sint64(E);break;case d.UINT32:h.uint32(E);break;case d.SINT32:h.sint32(E);break}}catch(_){throw _ instanceof Error?new Error(`cannot encode field ${i}.${u} to binary: ${_.message}`):_}}function Hy(h){switch(h){case d.BYTES:case d.STRING:return Ye.LengthDelimited;case d.DOUBLE:case d.FIXED64:case d.SFIXED64:return Ye.Bit64;case d.FIXED32:case d.SFIXED32:case d.FLOAT:return Ye.Bit32;default:return Ye.Varint}}function Yy(h,i,u){let v=!1;return u||(u=Z(mE),v=!0),u.value=Mi(h,i),u.typeUrl=xE(i.$typeName),v?u:void 0}function Wy(h,i){if(h.typeUrl==="")return!1;const u=typeof i=="string"?i:i.typeName,v=qy(h.typeUrl);return u===v}function yE(h,i){if(h.typeUrl==="")return;const u=i.kind=="message"?i:i.getMessage(qy(h.typeUrl));if(!(!u||!Wy(h,u)))return Pi(u,h.value)}function xE(h){return`type.googleapis.com/${h}`}function qy(h){const i=h.lastIndexOf("/"),u=i>=0?h.substring(i+1):h;if(!u.length)throw new Error(`invalid type url: ${h}`);return u}const rm=xo("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),bE=Pt(rm,0),Jr=Pt(rm,1),xf=Pt(rm,2);var Oh;(function(h){h[h.NULL_VALUE=0]="NULL_VALUE"})(Oh||(Oh={}));const Ky=xo("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function Xy(h,i){Ka(i,h);const u=im(h.$unknown,i),[v,E,_]=Dh(i);for(const L of u)ky(v,new Fe(L.data),E,L.wireType,{readUnknownFields:!0});return _()}function Zy(h,i,u){var v;Ka(i,h);const E=((v=h.$unknown)!==null&&v!==void 0?v:[]).filter(ee=>ee.no!==i.number),[_,L]=Dh(i,u),U=new on;Gy(U,{writeUnknownFields:!0},_,L);const W=new Fe(U.finish());for(;W.pos<W.len;){const[ee,ce]=W.tag(),Re=W.skip(ce,ee);E.push({no:ee,wireType:ce,data:Re})}h.$unknown=E}function im(h,i){if(h===void 0)return[];if(i.fieldKind==="enum"||i.fieldKind==="scalar"){for(let u=h.length-1;u>=0;--u)if(h[u].no==i.number)return[h[u]];return[]}return h.filter(u=>u.no===i.number)}function Dh(h,i){const u=h.typeName,v=Object.assign(Object.assign({},h),{kind:"field",parent:h.extendee,localName:u}),E=Object.assign(Object.assign({},h.extendee),{fields:[v],members:[v],oneofs:[]}),_=Z(E,i!==void 0?{[u]:i}:void 0);return[Wt(E,_),v,()=>{const L=_[u];if(L===void 0){const U=h.message;return z(U)?H(U.fields[0].scalar,U.fields[0].longAsString):Z(U)}return L}]}function Ka(h,i){if(h.extendee.typeName!=i.$typeName)throw new Error(`extension ${h.typeName} can only be applied to message ${h.extendee.typeName}`)}const om=3,bf=2,Ph={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function Jy(h){return h?Object.assign(Object.assign({},Ph),h):Ph}function Xa(h,i,u){return Za(Wt(h,i),Jy(u))}function Fu(h,i,u){var v;const E=Xa(h,i,u);return JSON.stringify(E,null,(v=u==null?void 0:u.prettySpaces)!==null&&v!==void 0?v:0)}function Za(h,i){var u;const v=EE(h,i);if(v!==void 0)return v;const E={};for(const _ of h.sortedFields){if(!h.isSet(_)){if(_.presence==om)throw new Error(`cannot encode ${_} to JSON: required field not set`);if(!i.alwaysEmitImplicit||_.presence!==bf)continue}const L=sm(_,h.get(_),i);L!==void 0&&(E[SE(_,i)]=L)}if(i.registry){const _=new Set;for(const{no:L}of(u=h.getUnknown())!==null&&u!==void 0?u:[])if(!_.has(L)){_.add(L);const U=i.registry.getExtensionFor(h.desc,L);if(!U)continue;const W=Xy(h.message,U),[ee,ce]=Dh(U,W),Re=sm(ce,ee.get(ce),i);Re!==void 0&&(E[U.jsonName]=Re)}}return E}function sm(h,i,u){switch(h.fieldKind){case"scalar":return Sf(h,i);case"message":return Za(i,u);case"enum":return Mh(h.enum,i,u.enumAsInteger);case"list":return Qy(i,u);case"map":return Ja(i,u)}}function Ja(h,i){const u=h.field(),v={};switch(u.mapKind){case"scalar":for(const[E,_]of h)v[E]=Sf(u,_);break;case"message":for(const[E,_]of h)v[E]=Za(_,i);break;case"enum":for(const[E,_]of h)v[E]=Mh(u.enum,_,i.enumAsInteger);break}return i.alwaysEmitImplicit||h.size>0?v:void 0}function Qy(h,i){const u=h.field(),v=[];switch(u.listKind){case"scalar":for(const E of h)v.push(Sf(u,E));break;case"enum":for(const E of h)v.push(Mh(u.enum,E,i.enumAsInteger));break;case"message":for(const E of h)v.push(Za(E,i));break}return i.alwaysEmitImplicit||v.length>0?v:void 0}function Mh(h,i,u){var v;if(typeof i!="number")throw new Error(`cannot encode ${h} to JSON: expected number, got ${rt(i)}`);if(h.typeName=="google.protobuf.NullValue")return null;if(u)return i;const E=h.value[i];return(v=E==null?void 0:E.name)!==null&&v!==void 0?v:i}function Sf(h,i){var u,v,E,_,L,U;switch(h.scalar){case d.INT32:case d.SFIXED32:case d.SINT32:case d.FIXED32:case d.UINT32:if(typeof i!="number")throw new Error(`cannot encode ${h} to JSON: ${(u=Dt(h,i))===null||u===void 0?void 0:u.message}`);return i;case d.FLOAT:case d.DOUBLE:if(typeof i!="number")throw new Error(`cannot encode ${h} to JSON: ${(v=Dt(h,i))===null||v===void 0?void 0:v.message}`);return Number.isNaN(i)?"NaN":i===Number.POSITIVE_INFINITY?"Infinity":i===Number.NEGATIVE_INFINITY?"-Infinity":i;case d.STRING:if(typeof i!="string")throw new Error(`cannot encode ${h} to JSON: ${(E=Dt(h,i))===null||E===void 0?void 0:E.message}`);return i;case d.BOOL:if(typeof i!="boolean")throw new Error(`cannot encode ${h} to JSON: ${(_=Dt(h,i))===null||_===void 0?void 0:_.message}`);return i;case d.UINT64:case d.FIXED64:case d.INT64:case d.SFIXED64:case d.SINT64:if(typeof i!="bigint"&&typeof i!="string")throw new Error(`cannot encode ${h} to JSON: ${(L=Dt(h,i))===null||L===void 0?void 0:L.message}`);return i.toString();case d.BYTES:if(i instanceof Uint8Array)return oy(i);throw new Error(`cannot encode ${h} to JSON: ${(U=Dt(h,i))===null||U===void 0?void 0:U.message}`)}}function SE(h,i){return i.useProtoFieldName?h.name:h.jsonName}function EE(h,i){if(h.desc.typeName.startsWith("google.protobuf."))switch(h.desc.typeName){case"google.protobuf.Any":return AE(h.message,i);case"google.protobuf.Timestamp":return Li(h.message);case"google.protobuf.Duration":return ex(h.message);case"google.protobuf.FieldMask":return tx(h.message);case"google.protobuf.Struct":return Lh(h.message);case"google.protobuf.Value":return vi(h.message);case"google.protobuf.ListValue":return am(h.message);default:if(z(h.desc)){const u=h.desc.fields[0];return Sf(u,h.get(u))}return}}function AE(h,i){if(h.typeUrl==="")return{};const{registry:u}=i;let v,E;if(u&&(v=yE(h,u),v&&(E=u.getMessage(v.$typeName))),!E||!v)throw new Error(`cannot encode message ${h.$typeName} to JSON: "${h.typeUrl}" is not in the type registry`);let _=Za(Wt(E,v),i);return(E.typeName.startsWith("google.protobuf.")||_===null||Array.isArray(_)||typeof _!="object")&&(_={value:_}),_["@type"]=h.typeUrl,_}function ex(h){const i=Number(h.seconds),u=h.nanos;if(i>315576e6||i<-315576e6)throw new Error(`cannot encode message ${h.$typeName} to JSON: value out of range`);if(i>0&&u<0||i<0&&u>0)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos sign must match seconds sign`);let v=h.seconds.toString();if(u!==0){let E=Math.abs(u).toString();E="0".repeat(9-E.length)+E,E.substring(3)==="000000"?E=E.substring(0,3):E.substring(6)==="000"&&(E=E.substring(0,6)),v+="."+E,u<0&&i==0&&(v="-"+v)}return v+"s"}function tx(h){return h.paths.map(i=>{if(i.match(/_[0-9]?_/g)||i.match(/[A-Z]/g))throw new Error(`cannot encode message ${h.$typeName} to JSON: lowerCamelCase of path name "`+i+'" is irreversible');return Ga(i)}).join(",")}function Lh(h){const i={};for(const[u,v]of Object.entries(h.fields))i[u]=vi(v);return i}function vi(h){switch(h.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(h.kind.value))throw new Error(`${h.$typeName} cannot be NaN or Infinity`);return h.kind.value;case"boolValue":return h.kind.value;case"stringValue":return h.kind.value;case"structValue":return Lh(h.kind.value);case"listValue":return am(h.kind.value);default:throw new Error(`${h.$typeName} must have a value`)}}function am(h){return h.values.map(vi)}function Li(h){const i=Number(h.seconds)*1e3;if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${h.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(h.nanos<0)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos must not be negative`);if(h.nanos>999999999)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos must not be greater than 99999999`);let u="Z";if(h.nanos>0){const v=(h.nanos+1e9).toString().substring(1);v.substring(3)==="000000"?u="."+v.substring(0,3)+"Z":v.substring(6)==="000"?u="."+v.substring(0,6)+"Z":u="."+v+"Z"}return new Date(i).toISOString().replace(".000Z",u)}const yi={ignoreUnknownFields:!1};function ku(h){return h?Object.assign(Object.assign({},yi),h):yi}function lm(h,i,u){return Fh(h,um(i,h.typeName),u)}function Fh(h,i,u){const v=Wt(h);try{Zo(v,i,ku(u))}catch(E){throw ge(E)?new Error(`cannot decode ${E.field()} from JSON: ${E.message}`,{cause:E}):E}return v.message}function Zo(h,i,u){var v;if(cm(h,i,u))return;if(i==null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode ${h.desc} from JSON: ${rt(i)}`);const E=new Map,_=new Map;for(const L of h.desc.fields)_.set(L.name,L).set(L.jsonName,L);for(const[L,U]of Object.entries(i)){const W=_.get(L);if(W){if(W.oneof){if(U===null&&W.fieldKind=="scalar")continue;const ee=E.get(W.oneof);if(ee!==void 0)throw new pt(W.oneof,`oneof set multiple times by ${ee.name} and ${W.name}`);E.set(W.oneof,W)}kh(h,W,U,u)}else{let ee;if(L.startsWith("[")&&L.endsWith("]")&&(ee=(v=u.registry)===null||v===void 0?void 0:v.getExtension(L.substring(1,L.length-1)))&&ee.extendee.typeName===h.desc.typeName){const[ce,Re,Be]=Dh(ee);kh(ce,Re,U,u),Zy(h.message,ee,Be())}if(!ee&&!u.ignoreUnknownFields)throw new Error(`cannot decode ${h.desc} from JSON: key "${L}" is unknown`)}}}function kh(h,i,u,v){switch(i.fieldKind){case"scalar":CE(h,i,u);break;case"enum":ju(h,i,u,v);break;case"message":Bh(h,i,u,v);break;case"list":nx(h.get(i),u,v);break;case"map":Bu(h.get(i),u,v);break}}function Bu(h,i,u){if(i===null)return;const v=h.field();if(typeof i!="object"||Array.isArray(i))throw new pt(v,"expected object, got "+rt(i));for(const[E,_]of Object.entries(i)){if(_===null)throw new pt(v,"map value must not be null");let L;switch(v.mapKind){case"message":const W=Wt(v.message);Zo(W,_,u),L=W;break;case"enum":if(L=Ef(v.enum,_,u.ignoreUnknownFields,!0),L===Mr)return;break;case"scalar":L=Af(v,_,!0);break}const U=jh(v.mapKey,E);h.set(U,L)}}function nx(h,i,u){if(i===null)return;const v=h.field();if(!Array.isArray(i))throw new pt(v,"expected Array, got "+rt(i));for(const E of i){if(E===null)throw new pt(v,"list item must not be null");switch(v.listKind){case"message":const _=Wt(v.message);Zo(_,E,u),h.add(_);break;case"enum":const L=Ef(v.enum,E,u.ignoreUnknownFields,!0);L!==Mr&&h.add(L);break;case"scalar":h.add(Af(v,E,!0));break}}}function Bh(h,i,u,v){if(u===null&&i.message.typeName!="google.protobuf.Value"){h.clear(i);return}const E=h.isSet(i)?h.get(i):Wt(i.message);Zo(E,u,v),h.set(i,E)}function ju(h,i,u,v){const E=Ef(i.enum,u,v.ignoreUnknownFields,!1);E===Fi?h.clear(i):E!==Mr&&h.set(i,E)}function CE(h,i,u){const v=Af(i,u,!1);v===Fi?h.clear(i):h.set(i,v)}const Mr=Symbol();function Ef(h,i,u,v){if(i===null)return h.typeName=="google.protobuf.NullValue"?0:v?h.values[0].number:Fi;switch(typeof i){case"number":if(Number.isInteger(i))return i;break;case"string":const E=h.values.find(_=>_.name===i);if(E!==void 0)return E.number;if(u)return Mr;break}throw new Error(`cannot decode ${h} from JSON: ${rt(i)}`)}const Fi=Symbol();function Af(h,i,u){if(i===null)return u?H(h.scalar,!1):Fi;switch(h.scalar){case d.DOUBLE:case d.FLOAT:if(i==="NaN")return NaN;if(i==="Infinity")return Number.POSITIVE_INFINITY;if(i==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof i=="number"){if(Number.isNaN(i))throw new pt(h,"unexpected NaN number");if(!Number.isFinite(i))throw new pt(h,"unexpected infinite number");break}if(typeof i=="string"){if(i===""||i.trim().length!==i.length)break;const v=Number(i);if(!Number.isFinite(v))break;return v}break;case d.INT32:case d.FIXED32:case d.SFIXED32:case d.SINT32:case d.UINT32:return $s(i);case d.BYTES:if(typeof i=="string"){if(i==="")return new Uint8Array(0);try{return jg(i)}catch(v){const E=v instanceof Error?v.message:String(v);throw new pt(h,E)}}break}return i}function jh(h,i){switch(h){case d.BOOL:switch(i){case"true":return!0;case"false":return!1}return i;case d.INT32:case d.FIXED32:case d.UINT32:case d.SFIXED32:case d.SINT32:return $s(i);default:return i}}function $s(h){if(typeof h=="string"){if(h===""||h.trim().length!==h.length)return h;const i=Number(h);return Number.isNaN(i)?h:i}return h}function um(h,i){try{return JSON.parse(h)}catch(u){const v=u instanceof Error?u.message:String(u);throw new Error(`cannot decode message ${i} from JSON: ${v}`,{cause:u})}}function cm(h,i,u){if(!h.desc.typeName.startsWith("google.protobuf."))return!1;switch(h.desc.typeName){case"google.protobuf.Any":return zu(h.message,i,u),!0;case"google.protobuf.Timestamp":return Vu(h.message,i),!0;case"google.protobuf.Duration":return zh(h.message,i),!0;case"google.protobuf.FieldMask":return Vh(h.message,i),!0;case"google.protobuf.Struct":return xi(h.message,i),!0;case"google.protobuf.Value":return Qr(h.message,i),!0;case"google.protobuf.ListValue":return Hs(h.message,i),!0;default:if(z(h.desc)){const v=h.desc.fields[0];return i===null?h.clear(v):h.set(v,Af(v,i,!0)),!0}return!1}}function zu(h,i,u){var v;if(i===null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode message ${h.$typeName} from JSON: expected object but got ${rt(i)}`);if(Object.keys(i).length==0)return;const E=i["@type"];if(typeof E!="string"||E=="")throw new Error(`cannot decode message ${h.$typeName} from JSON: "@type" is empty`);const _=E.includes("/")?E.substring(E.lastIndexOf("/")+1):E;if(!_.length)throw new Error(`cannot decode message ${h.$typeName} from JSON: "@type" is invalid`);const L=(v=u.registry)===null||v===void 0?void 0:v.getMessage(_);if(!L)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${E} is not in the type registry`);const U=Wt(L);if(_.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(i,"value")){const W=i.value;Zo(U,W,u)}else{const W=Object.assign({},i);delete W["@type"],Zo(U,W,u)}Yy(U.desc,U.message,h)}function Vu(h,i){if(typeof i!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(i)}`);const u=i.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!u)throw new Error(`cannot decode message ${h.$typeName} from JSON: invalid RFC 3339 string`);const v=Date.parse(u[1]+"-"+u[2]+"-"+u[3]+"T"+u[4]+":"+u[5]+":"+u[6]+(u[8]?u[8]:"Z"));if(Number.isNaN(v))throw new Error(`cannot decode message ${h.$typeName} from JSON: invalid RFC 3339 string`);if(v<Date.parse("0001-01-01T00:00:00Z")||v>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${h.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);h.seconds=F.parse(v/1e3),h.nanos=0,u[7]&&(h.nanos=parseInt("1"+u[7]+"0".repeat(9-u[7].length))-1e9)}function zh(h,i){if(typeof i!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(i)}`);const u=i.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(u===null)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(i)}`);const v=Number(u[1]);if(v>315576e6||v<-315576e6)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(i)}`);if(h.seconds=F.parse(v),typeof u[2]!="string")return;const E=u[2]+"0".repeat(9-u[2].length);h.nanos=parseInt(E),(v<0||Object.is(v,-0))&&(h.nanos=-h.nanos)}function Vh(h,i){if(typeof i!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(i)}`);if(i==="")return;function u(v){if(v.includes("_"))throw new Error(`cannot decode message ${h.$typeName} from JSON: path names must be lowerCamelCase`);const E=v.replace(/[A-Z]/g,_=>"_"+_.toLowerCase());return E[0]==="_"?E.substring(1):E}h.paths=i.split(",").map(u)}function xi(h,i){if(typeof i!="object"||i==null||Array.isArray(i))throw new Error(`cannot decode message ${h.$typeName} from JSON ${rt(i)}`);for(const[u,v]of Object.entries(i)){const E=Z(Jr);Qr(E,v),h.fields[u]=E}}function Qr(h,i){switch(typeof i){case"number":h.kind={case:"numberValue",value:i};break;case"string":h.kind={case:"stringValue",value:i};break;case"boolean":h.kind={case:"boolValue",value:i};break;case"object":if(i===null)h.kind={case:"nullValue",value:Oh.NULL_VALUE};else if(Array.isArray(i)){const u=Z(xf);Hs(u,i),h.kind={case:"listValue",value:u}}else{const u=Z(bE);xi(u,i),h.kind={case:"structValue",value:u}}break;default:throw new Error(`cannot decode message ${h.$typeName} from JSON ${rt(i)}`)}return h}function Hs(h,i){if(!Array.isArray(i))throw new Error(`cannot decode message ${h.$typeName} from JSON ${rt(i)}`);for(const u of i){const v=Z(Jr);Qr(v,u),h.values.push(v)}}function bo(h){const i=l[h];return typeof i!="string"?h.toString():i[0].toLowerCase()+i.substring(1).replace(/[A-Z]/g,u=>"_"+u.toLowerCase())}class qt extends Error{constructor(i,u=l.Unknown,v,E,_){super(Qa(i,u)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=i,this.code=u,this.metadata=new Headers(v??{}),this.details=E??[],this.cause=_}static from(i,u=l.Unknown){return i instanceof qt?i:i instanceof Error?i.name=="AbortError"||i.name=="TimeoutError"?new qt(i.message,l.Canceled):new qt(i.message,u,void 0,void 0,i):new qt(String(i),u,void 0,void 0,i)}static[Symbol.hasInstance](i){return i instanceof Error?Object.getPrototypeOf(i)===qt.prototype?!0:i.name==="ConnectError"&&"code"in i&&typeof i.code=="number"&&"metadata"in i&&"details"in i&&Array.isArray(i.details)&&"rawMessage"in i&&typeof i.rawMessage=="string"&&"cause"in i:!1}findDetails(i){const u=i.kind==="message"?{getMessage:E=>E===i.typeName?i:void 0}:i,v=[];for(const E of this.details){if("desc"in E){u.getMessage(E.desc.typeName)&&v.push(Z(E.desc,E.value));continue}const _=u.getMessage(E.type);if(_)try{v.push(Pi(_,E.value))}catch{}}return v}}function Qa(h,i){return h.length?`[${bo(i)}] ${h}`:`[${bo(i)}]`}function rx(h,i,u){try{const v=jg(h);return i?Pi(i,v,u):v}catch(v){throw qt.from(v,l.DataLoss)}}function fm(h,i){const u={};for(const v of h.methods){const E=i(v);E!=null&&(u[v.localName]=E)}return u}const Uh=1;function Vr(h,i,u=!1){if(i>h){let v=`message size is larger than configured readMaxBytes ${h}`;throw u&&(v=`message size ${i} is larger than configured readMaxBytes ${h}`),new qt(v,l.ResourceExhausted)}}function Yn(h){return new un(h)}class un{constructor(i){this.readMaxBytes=i,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((i,u)=>i+u.byteLength,0)}decode(i){this.buf.push(i);const u=[];for(;;){let v=this.pop();if(!v)break;u.push(v)}return u}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const i=this.env;return this.env=void 0,i}}head(){if(!this.cons(this.header))return;const i=this.headerView.getUint8(0),u=this.headerView.getUint32(1);return Vr(this.readMaxBytes,u,!0),{flags:i,data:new Uint8Array(u)}}cons(i){const u=i.byteLength;if(this.byteLength<u)return!1;let v=0;for(;v<u;){const E=this.buf.shift();E.byteLength>u-v?(i.set(E.subarray(0,u-v),v),this.buf.unshift(E.subarray(u-v)),v+=u-v):(i.set(E,v),v+=E.byteLength)}return!0}}function Ys(h){let i;const u=Yn(4294967295);return new ReadableStream({start(){i=h.getReader()},async pull(v){let E=!1;for(;!E;){const _=await i.read();if(_.done)u.byteLength>0&&v.error(new qt("protocol error: incomplete envelope",l.InvalidArgument)),v.close();else for(const L of u.decode(_.value))v.enqueue(L),E=!0}}})}function Qi(h,i){const u=new Uint8Array(i.length+5);u.set(i,5);const v=new DataView(u.buffer,u.byteOffset,u.byteLength);return v.setUint8(0,h),v.setUint32(1,i.length),u}var dm=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=h[Symbol.asyncIterator],u;return i?i.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),u={},v("next"),v("throw"),v("return"),u[Symbol.asyncIterator]=function(){return this},u);function v(_){u[_]=h[_]&&function(L){return new Promise(function(U,W){L=h[_](L),E(U,W,L.done,L.value)})}}function E(_,L,U,W){Promise.resolve(W).then(function(ee){_({value:ee,done:U})},L)}},eo=function(h){return this instanceof eo?(this.v=h,this):new eo(h)},ix=function(h,i,u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=u.apply(h,i||[]),E,_=[];return E=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),U("next"),U("throw"),U("return",L),E[Symbol.asyncIterator]=function(){return this},E;function L(Te){return function(We){return Promise.resolve(We).then(Te,Re)}}function U(Te,We){v[Te]&&(E[Te]=function(He){return new Promise(function(ot,At){_.push([Te,He,ot,At])>1||W(Te,He)})},We&&(E[Te]=We(E[Te])))}function W(Te,We){try{ee(v[Te](We))}catch(He){Be(_[0][3],He)}}function ee(Te){Te.value instanceof eo?Promise.resolve(Te.value.v).then(ce,Re):Be(_[0][2],Te)}function ce(Te){W("next",Te)}function Re(Te){W("throw",Te)}function Be(Te,We){Te(We),_.shift(),_.length&&W(_[0][0],_[0][1])}},ox=function(h){var i,u;return i={},v("next"),v("throw",function(E){throw E}),v("return"),i[Symbol.iterator]=function(){return this},i;function v(E,_){i[E]=h[E]?function(L){return(u=!u)?{value:eo(h[E](L)),done:!1}:_?_(L):L}:_}};function Cf(h){return ix(this,arguments,function*(){yield eo(yield*ox(dm(h)))})}var Uu=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=h[Symbol.asyncIterator],u;return i?i.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),u={},v("next"),v("throw"),v("return"),u[Symbol.asyncIterator]=function(){return this},u);function v(_){u[_]=h[_]&&function(L){return new Promise(function(U,W){L=h[_](L),E(U,W,L.done,L.value)})}}function E(_,L,U,W){Promise.resolve(W).then(function(ee){_({value:ee,done:U})},L)}},el=function(h){return this instanceof el?(this.v=h,this):new el(h)},wf=function(h){var i,u;return i={},v("next"),v("throw",function(E){throw E}),v("return"),i[Symbol.iterator]=function(){return this},i;function v(E,_){i[E]=h[E]?function(L){return(u=!u)?{value:el(h[E](L)),done:!1}:_?_(L):L}:_}},hm=function(h,i,u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=u.apply(h,i||[]),E,_=[];return E=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),U("next"),U("throw"),U("return",L),E[Symbol.asyncIterator]=function(){return this},E;function L(Te){return function(We){return Promise.resolve(We).then(Te,Re)}}function U(Te,We){v[Te]&&(E[Te]=function(He){return new Promise(function(ot,At){_.push([Te,He,ot,At])>1||W(Te,He)})},We&&(E[Te]=We(E[Te])))}function W(Te,We){try{ee(v[Te](We))}catch(He){Be(_[0][3],He)}}function ee(Te){Te.value instanceof el?Promise.resolve(Te.value.v).then(ce,Re):Be(_[0][2],Te)}function ce(Te){W("next",Te)}function Re(Te){W("throw",Te)}function Be(Te,We){Te(We),_.shift(),_.length&&W(_[0][0],_[0][1])}};function tl(h,i){return fm(h,u=>{switch(u.methodKind){case"unary":return Jo(i,u);case"server_streaming":return Ws(i,u);case"client_streaming":return Qo(i,u);case"bidi_streaming":return pm(i,u);default:return null}})}function Jo(h,i){return async(u,v)=>{var E,_;const L=await h.unary(i,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,u,v==null?void 0:v.contextValues);return(E=v==null?void 0:v.onHeader)===null||E===void 0||E.call(v,L.header),(_=v==null?void 0:v.onTrailer)===null||_===void 0||_.call(v,L.trailer),L.message}}function Ws(h,i){return(u,v)=>Gh(h.stream(i,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,Cf([u]),v==null?void 0:v.contextValues),v)}function Qo(h,i){return async(u,v)=>{var E,_,L,U,W,ee;const ce=await h.stream(i,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,u,v==null?void 0:v.contextValues);(W=v==null?void 0:v.onHeader)===null||W===void 0||W.call(v,ce.header);let Re,Be=0;try{for(var Te=!0,We=Uu(ce.message),He;He=await We.next(),E=He.done,!E;Te=!0)U=He.value,Te=!1,Re=U,Be++}catch(ot){_={error:ot}}finally{try{!Te&&!E&&(L=We.return)&&await L.call(We)}finally{if(_)throw _.error}}if(!Re)throw new qt("protocol error: missing response message",l.Unimplemented);if(Be>1)throw new qt("protocol error: received extra messages for client streaming method",l.Unimplemented);return(ee=v==null?void 0:v.onTrailer)===null||ee===void 0||ee.call(v,ce.trailer),Re}}function pm(h,i){return(u,v)=>Gh(h.stream(i,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,u,v==null?void 0:v.contextValues),v)}function Gh(h,i){const u=function(){return hm(this,arguments,function*(){var v,E;const _=yield el(h);(v=i==null?void 0:i.onHeader)===null||v===void 0||v.call(i,_.header),yield el(yield*wf(Uu(_.message))),(E=i==null?void 0:i.onTrailer)===null||E===void 0||E.call(i,_.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>u.next()})}}function Rf(...h){const i=new AbortController,u=h.filter(E=>E!==void 0).concat(i.signal);for(const E of u){if(E.aborted){v.apply(E);break}E.addEventListener("abort",v)}function v(){i.signal.aborted||i.abort(qs(this));for(const E of u)E.removeEventListener("abort",v)}return i}function $h(h){const i=new AbortController,u=()=>{i.abort(new qt("the operation timed out",l.DeadlineExceeded))};let v;return h!==void 0&&(h<=0?u():v=setTimeout(u,h)),{signal:i.signal,cleanup:()=>clearTimeout(v)}}function qs(h){if(!h.aborted)return;if(h.reason!==void 0)return h.reason;const i=new Error("This operation was aborted");return i.name="AbortError",i}function br(){return{get(h){return h.id in this?this[h.id]:h.defaultValue},set(h,i){return this[h.id]=i,this},delete(h){return delete this[h.id],this}}}const Gu=128;function gm(h){const i=new Headers,u=new TextDecoder().decode(h).split(`\r
`);for(const v of u){if(v==="")continue;const E=v.indexOf(":");if(E>0){const _=v.substring(0,E).trim(),L=v.substring(E+1).trim();i.append(_,L)}}return i}const wE="Content-Type",RE="Grpc-Timeout",$u="Grpc-Status",nr="Grpc-Message",mm="Grpc-Status-Details-Bin",Tf="User-Agent",Hu="X-User-Agent",vm="X-Grpc-Web",Yu="application/grpc-web+proto",Wu="application/grpc-web+json";function TE(h,i,...u){if(u.length>0)throw new Error;return h.services[i]}const _E=Pt(xo("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[Vy]),0),sx="0";function Ks(h){var i;const u=h.get(mm);if(u!=null){const E=rx(u,_E);if(E.code==0)return;const _=new qt(E.message,E.code,h);return _.details=E.details.map(L=>({type:L.typeUrl.substring(L.typeUrl.lastIndexOf("/")+1),value:L.value})),_}const v=h.get($u);if(v!=null){if(v===sx)return;const E=parseInt(v,10);return E in l?new qt(decodeURIComponent((i=h.get(nr))!==null&&i!==void 0?i:""),E,h):new qt(`invalid grpc-status: ${v}`,l.Internal,h)}}function Hh(h,i){return h.toString().replace(/\/?$/,`/${i.parent.typeName}/${i.name}`)}function Nf(h,i){return Z(h,i)}function ax(h,i){function u(v){return v.done===!0?v:{done:v.done,value:Nf(h,v.value)}}return{[Symbol.asyncIterator](){const v=i[Symbol.asyncIterator](),E={next:()=>v.next().then(u)};return v.throw!==void 0&&(E.throw=_=>v.throw(_).then(u)),v.return!==void 0&&(E.return=_=>v.return(_).then(u)),E}}}function qu(h,i){if(!i)return h;for(const u of i.concat().reverse())h=u(h);return h}function lx(h){var i;const u=Object.assign({},h);return(i=u.ignoreUnknownFields)!==null&&i!==void 0||(u.ignoreUnknownFields=!0),u}function _f(h,i,u,v){const E=i?Yh(h.input,v):ym(h.input,u);return{parse:(i?Yh(h.output,v):ym(h.output,u)).parse,serialize:E.serialize}}function Yh(h,i){return{parse(u){try{return Pi(h,u,i)}catch(v){const E=v instanceof Error?v.message:String(v);throw new qt(`parse binary: ${E}`,l.Internal)}},serialize(u){try{return Mi(h,u,i)}catch(v){const E=v instanceof Error?v.message:String(v);throw new qt(`serialize binary: ${E}`,l.Internal)}}}}function ym(h,i){var u,v;const E=(u=i==null?void 0:i.textEncoder)!==null&&u!==void 0?u:new TextEncoder,_=(v=i==null?void 0:i.textDecoder)!==null&&v!==void 0?v:new TextDecoder,L=lx(i);return{parse(U){try{const W=_.decode(U);return lm(h,W,L)}catch(W){throw qt.from(W,l.InvalidArgument)}},serialize(U){try{const W=Fu(h,U,L);return E.encode(W)}catch(W){throw qt.from(W,l.Internal)}}}}function Wh(h){const i=qu(h.next,h.interceptors),[u,v,E]=Ku(h),_=Object.assign(Object.assign({},h.req),{message:Nf(h.req.method.input,h.req.message),signal:u});return i(_).then(L=>(E(),L),v)}function ux(h){const i=qu(h.next,h.interceptors),[u,v,E]=Ku(h),_=Object.assign(Object.assign({},h.req),{message:ax(h.req.method.input,h.req.message),signal:u});let L=!1;return u.addEventListener("abort",function(){var U,W;const ee=h.req.message[Symbol.asyncIterator]();L||(U=ee.throw)===null||U===void 0||U.call(ee,this.reason).catch(()=>{}),(W=ee.return)===null||W===void 0||W.call(ee).catch(()=>{})}),i(_).then(U=>Object.assign(Object.assign({},U),{message:{[Symbol.asyncIterator](){const W=U.message[Symbol.asyncIterator]();return{next(){return W.next().then(ee=>(ee.done==!0&&(L=!0,E()),ee),v)}}}}}),v)}function Ku(h){const{signal:i,cleanup:u}=$h(h.timeoutMs),v=Rf(h.signal,i);return[v.signal,function(_){const L=qt.from(i.aborted?qs(i):_);return v.abort(L),u(),Promise.reject(L)},function(){u(),v.abort()}]}function cx(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function xm(h,i){const u=Ks(h);if(u)throw i.forEach((v,E)=>{u.metadata.append(E,v)}),u;if(!i.has($u)&&!h.has($u))throw new qt("protocol error: missing status",l.Internal)}function es(h,i,u,v){var E,_;const L=new Headers(u??{});L.set(wE,h?Yu:Wu),L.set(vm,"1");const U=(_=(E=L.get(Tf))!==null&&E!==void 0?E:L.get(Hu))!==null&&_!==void 0?_:"connect-es/2.1.1";return L.set(Hu,U),i!==void 0&&L.set(RE,`${i}m`),L}function bm(h){switch(h){case 400:return l.Internal;case 401:return l.Unauthenticated;case 403:return l.PermissionDenied;case 404:return l.Unimplemented;case 429:return l.Unavailable;case 502:return l.Unavailable;case 503:return l.Unavailable;case 504:return l.Unavailable;default:return l.Unknown}}function qh(h,i){var u;if(h>=200&&h<300)return{foundStatus:i.has($u),headerError:Ks(i)};throw new qt(decodeURIComponent((u=i.get(nr))!==null&&u!==void 0?u:`HTTP ${h}`),bm(h),i)}var ei=function(h){return this instanceof ei?(this.v=h,this):new ei(h)},Xs=function(h,i,u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=u.apply(h,i||[]),E,_=[];return E=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),U("next"),U("throw"),U("return",L),E[Symbol.asyncIterator]=function(){return this},E;function L(Te){return function(We){return Promise.resolve(We).then(Te,Re)}}function U(Te,We){v[Te]&&(E[Te]=function(He){return new Promise(function(ot,At){_.push([Te,He,ot,At])>1||W(Te,He)})},We&&(E[Te]=We(E[Te])))}function W(Te,We){try{ee(v[Te](We))}catch(He){Be(_[0][3],He)}}function ee(Te){Te.value instanceof ei?Promise.resolve(Te.value.v).then(ce,Re):Be(_[0][2],Te)}function ce(Te){W("next",Te)}function Re(Te){W("throw",Te)}function Be(Te,We){Te(We),_.shift(),_.length&&W(_[0][0],_[0][1])}};const Xu={redirect:"error"};function Sm(h){var i;cx();const u=(i=h.useBinaryFormat)!==null&&i!==void 0?i:!0;return{async unary(v,E,_,L,U,W){const{serialize:ee,parse:ce}=_f(v,u,h.jsonOptions,h.binaryOptions);return _=_===void 0?h.defaultTimeoutMs:_<=0?void 0:_,await Wh({interceptors:h.interceptors,signal:E,timeoutMs:_,req:{stream:!1,service:v.parent,method:v,requestMethod:"POST",url:Hh(h.baseUrl,v),header:es(u,_,L),contextValues:W??br(),message:U},next:async Re=>{var Be;const We=await((Be=h.fetch)!==null&&Be!==void 0?Be:globalThis.fetch)(Re.url,Object.assign(Object.assign({},Xu),{method:Re.requestMethod,headers:Re.header,signal:Re.signal,body:Qi(0,ee(Re.message))})),{headerError:He}=qh(We.status,We.headers);if(!We.body)throw He!==void 0?He:"missing response body";const ot=Ys(We.body).getReader();let At,cn;for(;;){const Dn=await ot.read();if(Dn.done)break;const{flags:en,data:Tr}=Dn.value;if((en&Uh)===Uh)throw new qt("protocol error: received unsupported compressed output",l.Internal);if(en===Gu){if(At!==void 0)throw"extra trailer";At=gm(Tr);continue}if(cn!==void 0)throw new qt("extra message",l.Unimplemented);cn=ce(Tr)}if(At===void 0)throw He!==void 0?He:new qt("missing trailer",We.headers.has($u)?l.Unimplemented:l.Unknown);if(xm(At,We.headers),cn===void 0)throw new qt("missing message",At.has($u)?l.Unimplemented:l.Unknown);return{stream:!1,service:v.parent,method:v,header:We.headers,message:cn,trailer:At}}})},async stream(v,E,_,L,U,W){const{serialize:ee,parse:ce}=_f(v,u,h.jsonOptions,h.binaryOptions);function Re(Te,We,He,ot,At){return Xs(this,arguments,function*(){const Dn=Ys(Te).getReader();if(We){if(!(yield ei(Dn.read())).done)throw"extra data for trailers-only";return yield ei(void 0)}let en=!1;for(;;){const Tr=yield ei(Dn.read());if(Tr.done)break;const{flags:fn,data:or}=Tr.value;if((fn&Gu)===Gu){if(en)throw"extra trailer";en=!0;const Gn=gm(or);xm(Gn,ot),Gn.forEach((Bn,Ci)=>He.set(Ci,Bn));continue}if(en)throw"extra message";yield yield ei(ce(or))}if("throwIfAborted"in At&&At.throwIfAborted(),!en)throw"missing trailer"})}async function Be(Te){if(v.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const We=await Te[Symbol.asyncIterator]().next();if(We.done==!0)throw"missing request message";return Qi(0,ee(We.value))}return _=_===void 0?h.defaultTimeoutMs:_<=0?void 0:_,ux({interceptors:h.interceptors,signal:E,timeoutMs:_,req:{stream:!0,service:v.parent,method:v,requestMethod:"POST",url:Hh(h.baseUrl,v),header:es(u,_,L),contextValues:W??br(),message:U},next:async Te=>{var We;const ot=await((We=h.fetch)!==null&&We!==void 0?We:globalThis.fetch)(Te.url,Object.assign(Object.assign({},Xu),{method:Te.requestMethod,headers:Te.header,signal:Te.signal,body:await Be(Te.message)})),{foundStatus:At,headerError:cn}=qh(ot.status,ot.headers);if(cn!=null)throw cn;if(!ot.body)throw"missing response body";const Dn=new Headers;return Object.assign(Object.assign({},Te),{header:ot.headers,trailer:Dn,message:Re(ot.body,At,Dn,ot.headers,Te.signal)})}})}}}const Lt=xo("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIokBCgZNZW1iZXISCgoCaWQYASABKAkSEgoKcHJvamVjdF9pZBgCIAEoCRIPCgd1c2VyX2lkGAMgASgJEhAKCHVzZXJuYW1lGAQgASgJEgwKBHJvbGUYBSABKAkSLgoKaW52aXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAi6QYKB1Byb2plY3QSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRISCgpwdWJsaWNfa2V5GAMgASgJEhIKCnNlY3JldF9rZXkYBCABKAkSGAoQYXV0aF93ZWJob29rX3VybBgFIAEoCRIcChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgGIAMoCRIgChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYESABKAQSJgoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGBIgASgJEiYKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgTIAEoCRIkChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBQgASgJEhkKEWV2ZW50X3dlYmhvb2tfdXJsGAcgASgJEhwKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAggAygJEiEKGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYFSABKAQSJwofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgWIAEoCRInCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBcgASgJEiUKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBggASgJEiMKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgJIAEoCRIaChJzbmFwc2hvdF90aHJlc2hvbGQYGSABKAMSGQoRc25hcHNob3RfaW50ZXJ2YWwYGiABKAMSJAocbWF4X3N1YnNjcmliZXJzX3Blcl9kb2N1bWVudBgKIAEoBRIkChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAsgASgFEh0KFW1heF9zaXplX3Blcl9kb2N1bWVudBgPIAEoBRIYChByZW1vdmVfb25fZGV0YWNoGBAgASgIEh0KFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgbIAEoCBIXCg9hbGxvd2VkX29yaWdpbnMYDiADKAkSLgoKY3JlYXRlZF9hdBgMIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiLwoLTWV0cmljUG9pbnQSEQoJdGltZXN0YW1wGAEgASgDEg0KBXZhbHVlGAIgASgFIqMMChZVcGRhdGFibGVQcm9qZWN0RmllbGRzEioKBG5hbWUYASABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSNgoQYXV0aF93ZWJob29rX3VybBgCIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgDIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkF1dGhXZWJob29rTWV0aG9kcxI+ChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYDCABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRAoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGA0gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkQKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgOIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJCChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GA8gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEWV2ZW50X3dlYmhvb2tfdXJsGAQgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlElIKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAUgASgLMjQueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuRXZlbnRXZWJob29rRXZlbnRzEj8KGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYECABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRQofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgRIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJFCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBIgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkMKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBMgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEnNuYXBzaG90X3RocmVzaG9sZBgUIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEjYKEXNuYXBzaG90X2ludGVydmFsGBUgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDY0VmFsdWUSQQobY2xpZW50X2RlYWN0aXZhdGVfdGhyZXNob2xkGAYgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkEKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYByABKAsyGy5nb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZRJBChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAggASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSOgoVbWF4X3NpemVfcGVyX2RvY3VtZW50GAogASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSNAoQcmVtb3ZlX29uX2RldGFjaBgLIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSOQoVYXV0b19yZXZpc2lvbl9lbmFibGVkGBYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkJvb2xWYWx1ZRJJCg9hbGxvd2VkX29yaWdpbnMYCSABKAsyMC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BbGxvd2VkT3JpZ2lucxolChJBdXRoV2ViaG9va01ldGhvZHMSDwoHbWV0aG9kcxgBIAMoCRokChJFdmVudFdlYmhvb2tFdmVudHMSDgoGZXZlbnRzGAEgAygJGiEKDkFsbG93ZWRPcmlnaW5zEg8KB29yaWdpbnMYASADKAkipwMKD0RvY3VtZW50U3VtbWFyeRIKCgJpZBgBIAEoCRILCgNrZXkYAiABKAkSDAoEcm9vdBgDIAEoCRIYChBhdHRhY2hlZF9jbGllbnRzGAcgASgFEikKDWRvY3VtZW50X3NpemUYCCABKAsyEi55b3JraWUudjEuRG9jU2l6ZRISCgpzY2hlbWFfa2V5GAkgASgJEjwKCXByZXNlbmNlcxgKIAMoCzIpLnlvcmtpZS52MS5Eb2N1bWVudFN1bW1hcnkuUHJlc2VuY2VzRW50cnkSLgoKY3JlYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLwoLYWNjZXNzZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wGkUKDlByZXNlbmNlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZToCOAEi2gEKDlByZXNlbmNlQ2hhbmdlEjIKBHR5cGUYASABKA4yJC55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UuQ2hhbmdlVHlwZRIlCghwcmVzZW5jZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZSJtCgpDaGFuZ2VUeXBlEhsKF0NIQU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASEwoPQ0hBTkdFX1RZUEVfUFVUEAESFgoSQ0hBTkdFX1RZUEVfREVMRVRFEAISFQoRQ0hBTkdFX1RZUEVfQ0xFQVIQAyJkCghQcmVzZW5jZRIrCgRkYXRhGAEgAygLMh0ueW9ya2llLnYxLlByZXNlbmNlLkRhdGFFbnRyeRorCglEYXRhRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASI0Cg5DaGFubmVsU3VtbWFyeRILCgNrZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoBSI0CgpDaGVja3BvaW50EhIKCnNlcnZlcl9zZXEYASABKAMSEgoKY2xpZW50X3NlcRgCIAEoDSJhCgtUZXh0Tm9kZVBvcxIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFEhcKD3JlbGF0aXZlX29mZnNldBgDIAEoBSJCCgpUaW1lVGlja2V0Eg8KB2xhbXBvcnQYASABKAMSEQoJZGVsaW1pdGVyGAIgASgNEhAKCGFjdG9yX2lkGAMgASgMIi4KDERvY0V2ZW50Qm9keRINCgV0b3BpYxgBIAEoCRIPCgdwYXlsb2FkGAIgASgMImsKCERvY0V2ZW50EiUKBHR5cGUYASABKA4yFy55b3JraWUudjEuRG9jRXZlbnRUeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRIlCgRib2R5GAMgASgLMhcueW9ya2llLnYxLkRvY0V2ZW50Qm9keSLWAQoMQ2hhbm5lbEV2ZW50EioKBHR5cGUYASABKA4yHC55b3JraWUudjEuQ2hhbm5lbEV2ZW50LlR5cGUSEQoJcHVibGlzaGVyGAIgASgJEhUKDXNlc3Npb25fY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[By,Ky]),If=Pt(Lt,0),Of=Pt(Lt,1),fx=Pt(Lt,2),Kh=Pt(Lt,3),Zs=Pt(Lt,4),Zu=Pt(Lt,5),dx=Pt(Lt,5,0),Em=Pt(Lt,5,1),Am=Pt(Lt,5,2),Js=Pt(Lt,5,3),Vt=Pt(Lt,5,4),An=Pt(Lt,5,5),rr=Pt(Lt,5,6),Xh=Pt(Lt,5,7),Ju=Pt(Lt,5,8),nl=Pt(Lt,5,9),ts=Pt(Lt,6),Lr=Pt(Lt,7),Qu=Pt(Lt,7,0),IE=Pt(Lt,7,1),Jn=Pt(Lt,7,2),Cm=Pt(Lt,7,3),wm=Pt(Lt,7,4),hx=Pt(Lt,7,5),px=Pt(Lt,8),OE=Pt(Lt,9),Zh=Pt(Lt,10),Rm=Pt(Lt,11),Tm=Pt(Lt,12),ti=Pt(Lt,13),ir=Pt(Lt,14),Nm=Pt(Lt,15),Df=Pt(Lt,16),Pf=Pt(Lt,23);var rl=(h=>(h[h.UNSPECIFIED=0]="UNSPECIFIED",h[h.PUT=1]="PUT",h[h.DELETE=2]="DELETE",h[h.CLEAR=3]="CLEAR",h))(rl||{});const ns=Pt(Lt,24),Jh=Pt(Lt,26),_m=Pt(Lt,27),Im=Pt(Lt,28);var Om=(h=>(h[h.UNSPECIFIED=0]="UNSPECIFIED",h[h.PRESENCE=1]="PRESENCE",h[h.BROADCAST=2]="BROADCAST",h))(Om||{}),jt=(h=>(h[h.NULL=0]="NULL",h[h.BOOLEAN=1]="BOOLEAN",h[h.INTEGER=2]="INTEGER",h[h.LONG=3]="LONG",h[h.DOUBLE=4]="DOUBLE",h[h.STRING=5]="STRING",h[h.BYTES=6]="BYTES",h[h.DATE=7]="DATE",h[h.JSON_OBJECT=8]="JSON_OBJECT",h[h.JSON_ARRAY=9]="JSON_ARRAY",h[h.TEXT=10]="TEXT",h[h.INTEGER_CNT=11]="INTEGER_CNT",h[h.LONG_CNT=12]="LONG_CNT",h[h.TREE=13]="TREE",h))(jt||{}),Mf=(h=>(h[h.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",h[h.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",h[h.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",h[h.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",h))(Mf||{});const gx=TE(xo("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIkIKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiLgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEhUKDXNlc3Npb25fY291bnQYASABKAMiUwoVUmVmcmVzaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIi8KFlJlZnJlc2hDaGFubmVsUmVzcG9uc2USFQoNc2Vzc2lvbl9jb3VudBgBIAEoAyI9ChNXYXRjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCSKDAQoUV2F0Y2hDaGFubmVsUmVzcG9uc2USOQoLaW5pdGlhbGl6ZWQYASABKAsyIi55b3JraWUudjEuV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWRIABIoCgVldmVudBgCIAEoCzIXLnlvcmtpZS52MS5DaGFubmVsRXZlbnRIAEIGCgRib2R5Ij0KF1dhdGNoQ2hhbm5lbEluaXRpYWxpemVkEhUKDXNlc3Npb25fY291bnQYASABKAMSCwoDc2VxGAIgASgDIloKEEJyb2FkY2FzdFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEg0KBXRvcGljGAMgASgJEg8KB3BheWxvYWQYBCABKAwiEwoRQnJvYWRjYXN0UmVzcG9uc2UyhQsKDVlvcmtpZVNlcnZpY2USVwoOQWN0aXZhdGVDbGllbnQSIC55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0GiEueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJdChBEZWFjdGl2YXRlQ2xpZW50EiIueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXF1ZXN0GiMueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXNwb25zZSIAElcKDkF0dGFjaERvY3VtZW50EiAueW9ya2llLnYxLkF0dGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoORGV0YWNoRG9jdW1lbnQSIC55b3JraWUudjEuRGV0YWNoRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVzcG9uc2UiABJXCg5SZW1vdmVEb2N1bWVudBIgLnlvcmtpZS52MS5SZW1vdmVEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXNwb25zZSIAEloKD1B1c2hQdWxsQ2hhbmdlcxIhLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXF1ZXN0GiIueW9ya2llLnYxLlB1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlIgASVgoNV2F0Y2hEb2N1bWVudBIfLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVxdWVzdBogLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UiADABElcKDkNyZWF0ZVJldmlzaW9uEiAueW9ya2llLnYxLkNyZWF0ZVJldmlzaW9uUmVxdWVzdBohLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlc3BvbnNlIgASTgoLR2V0UmV2aXNpb24SHS55b3JraWUudjEuR2V0UmV2aXNpb25SZXF1ZXN0Gh4ueW9ya2llLnYxLkdldFJldmlzaW9uUmVzcG9uc2UiABJUCg1MaXN0UmV2aXNpb25zEh8ueW9ya2llLnYxLkxpc3RSZXZpc2lvbnNSZXF1ZXN0GiAueW9ya2llLnYxLkxpc3RSZXZpc2lvbnNSZXNwb25zZSIAEloKD1Jlc3RvcmVSZXZpc2lvbhIhLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXF1ZXN0GiIueW9ya2llLnYxLlJlc3RvcmVSZXZpc2lvblJlc3BvbnNlIgASVAoNQXR0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5BdHRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5BdHRhY2hDaGFubmVsUmVzcG9uc2UiABJUCg1EZXRhY2hDaGFubmVsEh8ueW9ya2llLnYxLkRldGFjaENoYW5uZWxSZXF1ZXN0GiAueW9ya2llLnYxLkRldGFjaENoYW5uZWxSZXNwb25zZSIAElcKDlJlZnJlc2hDaGFubmVsEiAueW9ya2llLnYxLlJlZnJlc2hDaGFubmVsUmVxdWVzdBohLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlc3BvbnNlIgASUwoMV2F0Y2hDaGFubmVsEh4ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlcXVlc3QaHy55b3JraWUudjEuV2F0Y2hDaGFubmVsUmVzcG9uc2UiADABEkgKCUJyb2FkY2FzdBIbLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXF1ZXN0GhwueW9ya2llLnYxLkJyb2FkY2FzdFJlc3BvbnNlIgBCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[Lt]),0),Dm=Pt(xo("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[Lu]),0);var ve=(h=>(h.Ok="ok",h.ErrClientNotActivated="ErrClientNotActivated",h.ErrClientNotFound="ErrClientNotFound",h.ErrUnimplemented="ErrUnimplemented",h.ErrInvalidType="ErrInvalidType",h.ErrDummy="ErrDummy",h.ErrNotAttached="ErrNotAttached",h.ErrNotDetached="ErrNotDetached",h.ErrDocumentRemoved="ErrDocumentRemoved",h.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",h.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",h.ErrInvalidObjectKey="ErrInvalidObjectKey",h.ErrInvalidArgument="ErrInvalidArgument",h.ErrNotInitialized="ErrNotInitialized",h.ErrNotReady="ErrNotReady",h.ErrRefused="ErrRefused",h.ErrContextNotProvided="ErrContextNotProvided",h.ErrPermissionDenied="ErrPermissionDenied",h.ErrUnauthenticated="ErrUnauthenticated",h.ErrTooManySubscribers="ErrTooManySubscribers",h.ErrTooManyAttachments="ErrTooManyAttachments",h))(ve||{});class Se extends Error{constructor(u,v){super(v);q(this,"name","YorkieError");q(this,"stack");this.code=u,this.message=v,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var to=(h=>(h.Put="put",h.Clear="clear",h))(to||{});const Qh="000000000000000000000000",no=24;class ni{constructor(i,u,v){q(this,"lamport");q(this,"delimiter");q(this,"actorID");this.lamport=i,this.delimiter=u,this.actorID=v}static of(i,u,v){return new ni(i,u,v)}static fromStruct(i){return ni.of(BigInt(i.lamport),i.delimiter,i.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(i){return new ni(this.lamport,this.delimiter,i)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(i){return this.compare(i)>0}equals(i){return this.compare(i)===0}compare(i){if(this.lamport>i.lamport)return 1;if(i.lamport>this.lamport)return-1;const u=this.actorID.localeCompare(i.actorID);return u!==0?u:this.delimiter>i.delimiter?1:i.delimiter>this.delimiter?-1:0}}const ep=0n,Pm=0,tp=9223372036854775807n,il=new ni(ep,Pm,Qh);function ro(h){return h.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(i){switch(i){case'"':case"\\":return"\\"+i;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return i}})}class Lf{constructor(i){q(this,"createdAt");q(this,"movedAt");q(this,"removedAt");this.createdAt=i}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(i){this.createdAt=i}setMovedAt(i){return!this.movedAt||i&&i.after(this.movedAt)?(this.movedAt=i,!0):!1}setRemovedAt(i){this.removedAt=i}remove(i){return i&&i.after(this.createdAt)&&(!this.removedAt||i.after(this.removedAt))?(this.removedAt=i,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let i=0;return this.getCreatedAt()&&(i+=no),this.getMovedAt()&&(i+=no),this.getRemovedAt()&&(i+=no),i}}class rs extends Lf{constructor(i){super(i)}}class is{constructor(i,u){q(this,"strKey");q(this,"value");this.strKey=i,this.value=u}static of(i,u){return new is(i,u)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(i){return this.value.remove(i)}}class os{constructor(){q(this,"nodeMapByKey");q(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new os}set(i,u,v){let E;const _=this.nodeMapByKey.get(i);_&&!_.isRemoved()&&_.remove(v)&&(E=_.getValue());const L=is.of(i,u);return this.nodeMapByCreatedAt.set(u.getCreatedAt().toIDString(),L),(!_||v.after(_.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(i,L),u.setMovedAt(v)),E}delete(i,u){if(!this.nodeMapByCreatedAt.has(i.toIDString()))throw new Se(ve.ErrInvalidArgument,`fail to find ${i.toIDString()}`);const v=this.nodeMapByCreatedAt.get(i.toIDString());return v.remove(u),v.getValue()}subPathOf(i){const u=this.nodeMapByCreatedAt.get(i.toIDString());if(u)return u.getStrKey()}purge(i){const u=this.nodeMapByCreatedAt.get(i.getCreatedAt().toIDString());if(!u)throw new Se(ve.ErrInvalidArgument,`fail to find ${i.getCreatedAt().toIDString()}`);const v=this.nodeMapByKey.get(u.getStrKey());u===v&&this.nodeMapByKey.delete(v.getStrKey()),this.nodeMapByCreatedAt.delete(u.getValue().getCreatedAt().toIDString())}deleteByKey(i,u){const v=this.nodeMapByKey.get(i);if(v&&v.remove(u))return v.getValue()}has(i){const u=this.nodeMapByKey.get(i);return u?!u.isRemoved():!1}getByID(i){return this.nodeMapByCreatedAt.get(i.toIDString())}get(i){const u=this.nodeMapByKey.get(i);if(!(!u||u.isRemoved()))return u}deepcopy(){const i=os.create();for(const[,u]of this.nodeMapByCreatedAt)i.nodeMapByCreatedAt.set(u.getValue().getCreatedAt().toIDString(),is.of(u.getStrKey(),u.getValue().deepcopy()));for(const[u,v]of this.nodeMapByKey)i.nodeMapByKey.set(u,i.nodeMapByCreatedAt.get(v.getValue().getCreatedAt().toIDString()));return i}*[Symbol.iterator](){for(const[,i]of this.nodeMapByCreatedAt)yield i}}class Sr extends rs{constructor(u,v){super(u);q(this,"memberNodes");this.memberNodes=v}static create(u,v){if(!v)return new Sr(u,os.create());const E=os.create();for(const[_,L]of Object.entries(v))E.set(_,L.deepcopy(),L.getCreatedAt());return new Sr(u,E)}subPathOf(u){return this.memberNodes.subPathOf(u)}purge(u){this.memberNodes.purge(u)}set(u,v,E){return this.memberNodes.set(u,v,E)}delete(u,v){return this.memberNodes.delete(u,v)}deleteByKey(u,v){return this.memberNodes.deleteByKey(u,v)}get(u){const v=this.memberNodes.get(u);return v==null?void 0:v.getValue()}getByID(u){const v=this.memberNodes.getByID(u);return v==null?void 0:v.getValue()}has(u){return this.memberNodes.has(u)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const u=[];for(const[v,E]of this)u.push(`"${ro(v)}":${E.toJSON()}`);return`{${u.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const u={};for(const[v,E]of this){const{createdAt:_,value:L,type:U}=E.toJSForTest();u[v]={key:v,createdAt:_,value:L,type:U}}return{createdAt:this.getCreatedAt().toTestString(),value:u,type:"YORKIE_OBJECT"}}getKeys(){const u=Array();for(const[v]of this)u.push(v);return u}toSortedJSON(){var E;const u=new Set;for(const[_]of this)u.add(_);const v=[];for(const _ of Array.from(u).sort()){const L=(E=this.memberNodes.get(_))==null?void 0:E.getValue();v.push(`"${ro(_)}":${L.toSortedJSON()}`)}return`{${v.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const u=Sr.create(this.getCreatedAt());return u.memberNodes=this.memberNodes.deepcopy(),u.setRemovedAt(this.getRemovedAt()),u.setMovedAt(this.getMovedAt()),u}getDescendants(u){for(const v of this.memberNodes){const E=v.getValue();if(u(E,this))return;E instanceof rs&&E.getDescendants(u)}}*[Symbol.iterator](){for(const u of this.memberNodes)u.isRemoved()||(yield[u.getStrKey(),u.getValue()])}}var On=(h=>(h.Local="local",h.Remote="remote",h.UndoRedo="undoredo",h))(On||{});class Ur{constructor(i,u){q(this,"parentCreatedAt");q(this,"executedAt");this.parentCreatedAt=i,this.executedAt=u}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new Se(ve.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(i){this.executedAt&&(this.executedAt=this.executedAt.setActor(i))}setExecutedAt(i){this.executedAt=i}}class Mm{constructor(i){q(this,"value");q(this,"left");q(this,"right");q(this,"parent");q(this,"weight");this.value=i,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(i){this.left=i}setRight(i){this.right=i}setParent(i){this.parent=i}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(i){this.weight+=i}initWeight(){this.weight=this.getLength()}}class ec{constructor(i){q(this,"root");this.root=i}get length(){return this.root?this.root.getWeight():0}findForText(i){if(!this.root||i<0)return[void 0,0];let u=this.root;for(;;)if(u.hasLeft()&&i<=u.getLeftWeight())u=u.getLeft();else if(u.hasRight()&&u.getLeftWeight()+u.getLength()<i)i-=u.getLeftWeight()+u.getLength(),u=u.getRight();else{i-=u.getLeftWeight();break}if(i>u.getLength())throw new Se(ve.ErrInvalidArgument,`out of index range: pos: ${i} > node.length: ${u.getLength()}`);return this.splayNode(u),[u,i]}findForArray(i){if(!this.root)return;if(i<0||i>=this.length)throw new Se(ve.ErrInvalidArgument,`out of index range: idx: ${i}, length: ${this.length}`);let u=this.root;for(;;)if(u.hasLeft()&&i<u.getLeftWeight())u=u.getLeft();else if(u.hasRight()&&u.getLeftWeight()+u.getLength()<=i)i-=u.getLeftWeight()+u.getLength(),u=u.getRight();else break;return this.splayNode(u),u}indexOf(i){return!i||i!==this.root&&!i.hasLinks()?-1:(this.splayNode(i),this.root.getLeftWeight())}getRoot(){return this.root}insert(i){return this.insertAfter(this.root,i)}insertAfter(i,u){return i?(this.splayNode(i),this.root=u,u.setRight(i.getRight()),i.hasRight()&&i.getRight().setParent(u),u.setLeft(i),i.setParent(u),i.setRight(),this.updateWeight(i),this.updateWeight(u),u):(this.root=u,u)}updateWeight(i){i.initWeight(),i.hasLeft()&&i.increaseWeight(i.getLeftWeight()),i.hasRight()&&i.increaseWeight(i.getRightWeight())}updateTreeWeight(i){for(;i;)this.updateWeight(i),i=i.getParent()}splayNode(i){if(i)for(;;)if(this.isLeftChild(i.getParent())&&this.isRightChild(i))this.rotateLeft(i),this.rotateRight(i);else if(this.isRightChild(i.getParent())&&this.isLeftChild(i))this.rotateRight(i),this.rotateLeft(i);else if(this.isLeftChild(i.getParent())&&this.isLeftChild(i))this.rotateRight(i.getParent()),this.rotateRight(i);else if(this.isRightChild(i.getParent())&&this.isRightChild(i))this.rotateLeft(i.getParent()),this.rotateLeft(i);else{this.isLeftChild(i)?this.rotateRight(i):this.isRightChild(i)&&this.rotateLeft(i),this.updateWeight(i);return}}delete(i){this.splayNode(i);const u=new ec(i.getLeft());u.root&&u.root.setParent();const v=new ec(i.getRight());if(v.root&&v.root.setParent(),u.root){const E=u.getRightmost();u.splayNode(E),u.root.setRight(v.root),v.root&&v.root.setParent(u.root),this.root=u.root}else this.root=v.root;i.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(i,u){if(!u){this.splayNode(i),this.cutOffRight(i);return}this.splayNode(i),this.splayNode(u),u.getLeft()!=i&&this.rotateRight(i),this.cutOffRight(i)}cutOffRight(i){const u=[];this.traversePostorder(i.getRight(),u);for(const v of u)v.initWeight();this.updateTreeWeight(i)}toTestString(){const i=[];return this.traverseInorder(this.root,i),i.map(u=>`[${u.getWeight()},${u.getLength()}]${u.getValue()||""}`).join("")}checkWeight(){const i=[];this.traverseInorder(this.root,i);for(const u of i)if(u.getWeight()!=u.getLength()+u.getLeftWeight()+u.getRightWeight())return!1;return!0}getRightmost(){let i=this.root;for(;i.hasRight();)i=i.getRight();return i}traverseInorder(i,u){i&&(this.traverseInorder(i.getLeft(),u),u.push(i),this.traverseInorder(i.getRight(),u))}traversePostorder(i,u){i&&(this.traversePostorder(i.getLeft(),u),this.traversePostorder(i.getRight(),u),u.push(i))}rotateLeft(i){const u=i.getParent();u.hasParent()?u===u.getParent().getLeft()?u.getParent().setLeft(i):u.getParent().setRight(i):this.root=i,i.setParent(u.getParent()),u.setRight(i.getLeft()),u.hasRight()&&u.getRight().setParent(u),i.setLeft(u),i.getLeft().setParent(i),this.updateWeight(u),this.updateWeight(i)}rotateRight(i){const u=i.getParent();u.hasParent()?u===u.getParent().getLeft()?u.getParent().setLeft(i):u.getParent().setRight(i):this.root=i,i.setParent(u.getParent()),u.setLeft(i.getRight()),u.hasLeft()&&u.getLeft().setParent(u),i.setRight(u),i.getRight().setParent(i),this.updateWeight(u),this.updateWeight(i)}isLeftChild(i){return i&&i.hasParent()?i.getParent().getLeft()===i:!1}isRightChild(i){return i&&i.hasParent()?i.getParent().getRight()===i:!1}}var bi=null;try{bi=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Gt(h,i,u){this.low=h|0,this.high=i|0,this.unsigned=!!u}Gt.prototype.__isLong__,Object.defineProperty(Gt.prototype,"__isLong__",{value:!0});function Er(h){return(h&&h.__isLong__)===!0}function Lm(h){var i=Math.clz32(h&-h);return h?31-i:i}Gt.isLong=Er;var np={},Fm={};function Qs(h,i){var u,v,E;return i?(h>>>=0,(E=0<=h&&h<256)&&(v=Fm[h],v)?v:(u=Jt(h,0,!0),E&&(Fm[h]=u),u)):(h|=0,(E=-128<=h&&h<128)&&(v=np[h],v)?v:(u=Jt(h,h<0?-1:0,!1),E&&(np[h]=u),u))}Gt.fromInt=Qs;function ri(h,i){if(isNaN(h))return i?So:io;if(i){if(h<0)return So;if(h>=jm)return Vm}else{if(h<=-9223372036854776e3)return Ar;if(h+1>=vx)return zm}return h<0?ri(-h,i).neg():Jt(h%ea|0,h/ea|0,i)}Gt.fromNumber=ri;function Jt(h,i,u){return new Gt(h,i,u)}Gt.fromBits=Jt;var Ff=Math.pow;function km(h,i,u){if(h.length===0)throw Error("empty string");if(typeof i=="number"?(u=i,i=!1):i=!!i,h==="NaN"||h==="Infinity"||h==="+Infinity"||h==="-Infinity")return i?So:io;if(u=u||10,u<2||36<u)throw RangeError("radix");var v;if((v=h.indexOf("-"))>0)throw Error("interior hyphen");if(v===0)return km(h.substring(1),i,u).neg();for(var E=ri(Ff(u,8)),_=io,L=0;L<h.length;L+=8){var U=Math.min(8,h.length-L),W=parseInt(h.substring(L,L+U),u);if(U<8){var ee=ri(Ff(u,U));_=_.mul(ee).add(ri(W))}else _=_.mul(E),_=_.add(ri(W))}return _.unsigned=i,_}Gt.fromString=km;function ii(h,i){return typeof h=="number"?ri(h,i):typeof h=="string"?km(h,i):Jt(h.low,h.high,typeof i=="boolean"?i:h.unsigned)}Gt.fromValue=ii;var Bm=65536,mx=1<<24,ea=Bm*Bm,jm=ea*ea,vx=jm/2,yx=Qs(mx),io=Qs(0);Gt.ZERO=io;var So=Qs(0,!0);Gt.UZERO=So;var Eo=Qs(1);Gt.ONE=Eo;var rp=Qs(1,!0);Gt.UONE=rp;var tc=Qs(-1);Gt.NEG_ONE=tc;var zm=Jt(-1,2147483647,!1);Gt.MAX_VALUE=zm;var Vm=Jt(-1,-1,!0);Gt.MAX_UNSIGNED_VALUE=Vm;var Ar=Jt(0,-2147483648,!1);Gt.MIN_VALUE=Ar;var Xe=Gt.prototype;Xe.toInt=function(){return this.unsigned?this.low>>>0:this.low},Xe.toNumber=function(){return this.unsigned?(this.high>>>0)*ea+(this.low>>>0):this.high*ea+(this.low>>>0)},Xe.toString=function(i){if(i=i||10,i<2||36<i)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ar)){var u=ri(i),v=this.div(u),E=v.mul(u).sub(this);return v.toString(i)+E.toInt().toString(i)}else return"-"+this.neg().toString(i);for(var _=ri(Ff(i,6),this.unsigned),L=this,U="";;){var W=L.div(_),ee=L.sub(W.mul(_)).toInt()>>>0,ce=ee.toString(i);if(L=W,L.isZero())return ce+U;for(;ce.length<6;)ce="0"+ce;U=""+ce+U}},Xe.getHighBits=function(){return this.high},Xe.getHighBitsUnsigned=function(){return this.high>>>0},Xe.getLowBits=function(){return this.low},Xe.getLowBitsUnsigned=function(){return this.low>>>0},Xe.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ar)?64:this.neg().getNumBitsAbs();for(var i=this.high!=0?this.high:this.low,u=31;u>0&&(i&1<<u)==0;u--);return this.high!=0?u+33:u+1},Xe.isSafeInteger=function(){var i=this.high>>21;return i?this.unsigned?!1:i===-1&&!(this.low===0&&this.high===-2097152):!0},Xe.isZero=function(){return this.high===0&&this.low===0},Xe.eqz=Xe.isZero,Xe.isNegative=function(){return!this.unsigned&&this.high<0},Xe.isPositive=function(){return this.unsigned||this.high>=0},Xe.isOdd=function(){return(this.low&1)===1},Xe.isEven=function(){return(this.low&1)===0},Xe.equals=function(i){return Er(i)||(i=ii(i)),this.unsigned!==i.unsigned&&this.high>>>31===1&&i.high>>>31===1?!1:this.high===i.high&&this.low===i.low},Xe.eq=Xe.equals,Xe.notEquals=function(i){return!this.eq(i)},Xe.neq=Xe.notEquals,Xe.ne=Xe.notEquals,Xe.lessThan=function(i){return this.comp(i)<0},Xe.lt=Xe.lessThan,Xe.lessThanOrEqual=function(i){return this.comp(i)<=0},Xe.lte=Xe.lessThanOrEqual,Xe.le=Xe.lessThanOrEqual,Xe.greaterThan=function(i){return this.comp(i)>0},Xe.gt=Xe.greaterThan,Xe.greaterThanOrEqual=function(i){return this.comp(i)>=0},Xe.gte=Xe.greaterThanOrEqual,Xe.ge=Xe.greaterThanOrEqual,Xe.compare=function(i){if(Er(i)||(i=ii(i)),this.eq(i))return 0;var u=this.isNegative(),v=i.isNegative();return u&&!v?-1:!u&&v?1:this.unsigned?i.high>>>0>this.high>>>0||i.high===this.high&&i.low>>>0>this.low>>>0?-1:1:this.sub(i).isNegative()?-1:1},Xe.comp=Xe.compare,Xe.negate=function(){return!this.unsigned&&this.eq(Ar)?Ar:this.not().add(Eo)},Xe.neg=Xe.negate,Xe.add=function(i){Er(i)||(i=ii(i));var u=this.high>>>16,v=this.high&65535,E=this.low>>>16,_=this.low&65535,L=i.high>>>16,U=i.high&65535,W=i.low>>>16,ee=i.low&65535,ce=0,Re=0,Be=0,Te=0;return Te+=_+ee,Be+=Te>>>16,Te&=65535,Be+=E+W,Re+=Be>>>16,Be&=65535,Re+=v+U,ce+=Re>>>16,Re&=65535,ce+=u+L,ce&=65535,Jt(Be<<16|Te,ce<<16|Re,this.unsigned)},Xe.subtract=function(i){return Er(i)||(i=ii(i)),this.add(i.neg())},Xe.sub=Xe.subtract,Xe.multiply=function(i){if(this.isZero())return this;if(Er(i)||(i=ii(i)),bi){var u=bi.mul(this.low,this.high,i.low,i.high);return Jt(u,bi.get_high(),this.unsigned)}if(i.isZero())return this.unsigned?So:io;if(this.eq(Ar))return i.isOdd()?Ar:io;if(i.eq(Ar))return this.isOdd()?Ar:io;if(this.isNegative())return i.isNegative()?this.neg().mul(i.neg()):this.neg().mul(i).neg();if(i.isNegative())return this.mul(i.neg()).neg();if(this.lt(yx)&&i.lt(yx))return ri(this.toNumber()*i.toNumber(),this.unsigned);var v=this.high>>>16,E=this.high&65535,_=this.low>>>16,L=this.low&65535,U=i.high>>>16,W=i.high&65535,ee=i.low>>>16,ce=i.low&65535,Re=0,Be=0,Te=0,We=0;return We+=L*ce,Te+=We>>>16,We&=65535,Te+=_*ce,Be+=Te>>>16,Te&=65535,Te+=L*ee,Be+=Te>>>16,Te&=65535,Be+=E*ce,Re+=Be>>>16,Be&=65535,Be+=_*ee,Re+=Be>>>16,Be&=65535,Be+=L*W,Re+=Be>>>16,Be&=65535,Re+=v*ce+E*ee+_*W+L*U,Re&=65535,Jt(Te<<16|We,Re<<16|Be,this.unsigned)},Xe.mul=Xe.multiply,Xe.divide=function(i){if(Er(i)||(i=ii(i)),i.isZero())throw Error("division by zero");if(bi){if(!this.unsigned&&this.high===-2147483648&&i.low===-1&&i.high===-1)return this;var u=(this.unsigned?bi.div_u:bi.div_s)(this.low,this.high,i.low,i.high);return Jt(u,bi.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?So:io;var v,E,_;if(this.unsigned){if(i.unsigned||(i=i.toUnsigned()),i.gt(this))return So;if(i.gt(this.shru(1)))return rp;_=So}else{if(this.eq(Ar)){if(i.eq(Eo)||i.eq(tc))return Ar;if(i.eq(Ar))return Eo;var L=this.shr(1);return v=L.div(i).shl(1),v.eq(io)?i.isNegative()?Eo:tc:(E=this.sub(i.mul(v)),_=v.add(E.div(i)),_)}else if(i.eq(Ar))return this.unsigned?So:io;if(this.isNegative())return i.isNegative()?this.neg().div(i.neg()):this.neg().div(i).neg();if(i.isNegative())return this.div(i.neg()).neg();_=io}for(E=this;E.gte(i);){v=Math.max(1,Math.floor(E.toNumber()/i.toNumber()));for(var U=Math.ceil(Math.log(v)/Math.LN2),W=U<=48?1:Ff(2,U-48),ee=ri(v),ce=ee.mul(i);ce.isNegative()||ce.gt(E);)v-=W,ee=ri(v,this.unsigned),ce=ee.mul(i);ee.isZero()&&(ee=Eo),_=_.add(ee),E=E.sub(ce)}return _},Xe.div=Xe.divide,Xe.modulo=function(i){if(Er(i)||(i=ii(i)),bi){var u=(this.unsigned?bi.rem_u:bi.rem_s)(this.low,this.high,i.low,i.high);return Jt(u,bi.get_high(),this.unsigned)}return this.sub(this.div(i).mul(i))},Xe.mod=Xe.modulo,Xe.rem=Xe.modulo,Xe.not=function(){return Jt(~this.low,~this.high,this.unsigned)},Xe.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Xe.clz=Xe.countLeadingZeros,Xe.countTrailingZeros=function(){return this.low?Lm(this.low):Lm(this.high)+32},Xe.ctz=Xe.countTrailingZeros,Xe.and=function(i){return Er(i)||(i=ii(i)),Jt(this.low&i.low,this.high&i.high,this.unsigned)},Xe.or=function(i){return Er(i)||(i=ii(i)),Jt(this.low|i.low,this.high|i.high,this.unsigned)},Xe.xor=function(i){return Er(i)||(i=ii(i)),Jt(this.low^i.low,this.high^i.high,this.unsigned)},Xe.shiftLeft=function(i){return Er(i)&&(i=i.toInt()),(i&=63)===0?this:i<32?Jt(this.low<<i,this.high<<i|this.low>>>32-i,this.unsigned):Jt(0,this.low<<i-32,this.unsigned)},Xe.shl=Xe.shiftLeft,Xe.shiftRight=function(i){return Er(i)&&(i=i.toInt()),(i&=63)===0?this:i<32?Jt(this.low>>>i|this.high<<32-i,this.high>>i,this.unsigned):Jt(this.high>>i-32,this.high>=0?0:-1,this.unsigned)},Xe.shr=Xe.shiftRight,Xe.shiftRightUnsigned=function(i){return Er(i)&&(i=i.toInt()),(i&=63)===0?this:i<32?Jt(this.low>>>i|this.high<<32-i,this.high>>>i,this.unsigned):i===32?Jt(this.high,0,this.unsigned):Jt(this.high>>>i-32,0,this.unsigned)},Xe.shru=Xe.shiftRightUnsigned,Xe.shr_u=Xe.shiftRightUnsigned,Xe.rotateLeft=function(i){var u;return Er(i)&&(i=i.toInt()),(i&=63)===0?this:i===32?Jt(this.high,this.low,this.unsigned):i<32?(u=32-i,Jt(this.low<<i|this.high>>>u,this.high<<i|this.low>>>u,this.unsigned)):(i-=32,u=32-i,Jt(this.high<<i|this.low>>>u,this.low<<i|this.high>>>u,this.unsigned))},Xe.rotl=Xe.rotateLeft,Xe.rotateRight=function(i){var u;return Er(i)&&(i=i.toInt()),(i&=63)===0?this:i===32?Jt(this.high,this.low,this.unsigned):i<32?(u=32-i,Jt(this.high<<u|this.low>>>i,this.low<<u|this.high>>>i,this.unsigned)):(i-=32,u=32-i,Jt(this.low<<u|this.high>>>i,this.high<<u|this.low>>>i,this.unsigned))},Xe.rotr=Xe.rotateRight,Xe.toSigned=function(){return this.unsigned?Jt(this.low,this.high,!1):this},Xe.toUnsigned=function(){return this.unsigned?this:Jt(this.low,this.high,!0)},Xe.toBytes=function(i){return i?this.toBytesLE():this.toBytesBE()},Xe.toBytesLE=function(){var i=this.high,u=this.low;return[u&255,u>>>8&255,u>>>16&255,u>>>24,i&255,i>>>8&255,i>>>16&255,i>>>24]},Xe.toBytesBE=function(){var i=this.high,u=this.low;return[i>>>24,i>>>16&255,i>>>8&255,i&255,u>>>24,u>>>16&255,u>>>8&255,u&255]},Gt.fromBytes=function(i,u,v){return v?Gt.fromBytesLE(i,u):Gt.fromBytesBE(i,u)},Gt.fromBytesLE=function(i,u){return new Gt(i[0]|i[1]<<8|i[2]<<16|i[3]<<24,i[4]|i[5]<<8|i[6]<<16|i[7]<<24,u)},Gt.fromBytesBE=function(i,u){return new Gt(i[4]<<24|i[5]<<16|i[6]<<8|i[7],i[0]<<24|i[1]<<16|i[2]<<8|i[3],u)},typeof BigInt=="function"&&(Gt.fromBigInt=function(i,u){var v=Number(BigInt.asIntN(32,i)),E=Number(BigInt.asIntN(32,i>>BigInt(32)));return Jt(v,E,u)},Gt.fromValue=function(i,u){return typeof i=="bigint"?Gt.fromBigInt(i,u):ii(i,u)},Xe.toBigInt=function(){var i=BigInt(this.low>>>0),u=BigInt(this.unsigned?this.high>>>0:this.high);return u<<BigInt(32)|i});var Cn=(h=>(h[h.Null=0]="Null",h[h.Boolean=1]="Boolean",h[h.Integer=2]="Integer",h[h.Long=3]="Long",h[h.Double=4]="Double",h[h.String=5]="String",h[h.Bytes=6]="Bytes",h[h.Date=7]="Date",h))(Cn||{});class Vn extends Lf{constructor(u,v){super(v);q(this,"valueType");q(this,"value");this.valueType=Vn.getPrimitiveType(u),this.value=u===void 0?null:u}static of(u,v){return new Vn(u,v)}static valueFromBytes(u,v){switch(u){case 0:return null;case 1:return!!v[0];case 2:return v[0]|v[1]<<8|v[2]<<16|v[3]<<24;case 4:{const E=new DataView(v.buffer);return v.forEach(function(_,L){E.setUint8(L,_)}),E.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(v);case 3:return Gt.fromBytesLE(Array.from(v));case 6:return v;case 7:return new Date(Gt.fromBytesLE(Array.from(v),!0).toNumber());default:throw new Se(ve.ErrUnimplemented,`unimplemented type: ${u}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new Se(ve.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${ro(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const u=Vn.of(this.value,this.getCreatedAt());return u.setMovedAt(this.getMovedAt()),u.setRemovedAt(this.getRemovedAt()),u}getType(){return this.valueType}static getPrimitiveType(u){switch(typeof u){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(u)?2:4;case"string":return 5;case"object":if(u===null)return 0;if(u instanceof Gt)return 3;if(u instanceof Uint8Array)return 6;if(u instanceof Date)return 7}}static isSupport(u){return Vn.getPrimitiveType(u)!==void 0}static isInteger(u){return u%1===0}isNumericType(){const u=this.valueType;return u===2||u===3||u===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const u=this.value;return new Uint8Array([u&255,u>>8&255,u>>16&255,u>>24&255])}case 4:{const u=this.value,v=new Uint8Array(8);return new DataView(v.buffer).setFloat64(0,u,!0),v}case 5:return new TextEncoder().encode(this.value);case 3:{const v=this.value.toBytesLE();return Uint8Array.from(v)}case 6:return this.value;case 7:{const u=this.value,v=Gt.fromNumber(u.getTime(),!0).toBytesLE();return Uint8Array.from(v)}default:throw new Se(ve.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class ss extends Mm{constructor(u){super(u);q(this,"prev");q(this,"next");q(this,"movedFrom");this.value=u}static createAfter(u,v){const E=new ss(v),_=u.next;return u.next=E,E.prev=u,E.next=_,_&&(_.prev=E),E}remove(u){return this.value.remove(u)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(u){this.movedFrom=u}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class as{constructor(){q(this,"dummyHead");q(this,"last");q(this,"nodeMapByIndex");q(this,"nodeMapByCreatedAt");const i=Vn.of(0,il);i.setRemovedAt(il),this.dummyHead=new ss(i),this.last=this.dummyHead,this.nodeMapByIndex=new ec,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new as}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(i,u){let v=this.nodeMapByCreatedAt.get(i.toIDString());if(!v)throw new Se(ve.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);for(;v.getValue().getMovedAt()&&v.getValue().getMovedAt().after(u)&&v.getMovedFrom();)v=v.getMovedFrom();for(;v.getNext()&&v.getNext().getPositionedAt().after(u);)v=v.getNext();return v}release(i){this.last===i&&(this.last=i.getPrev()),i.release(),this.nodeMapByIndex.delete(i),this.nodeMapByCreatedAt.delete(i.getValue().getCreatedAt().toIDString())}insertAfter(i,u,v=u.getCreatedAt()){const E=this.findNextBeforeExecutedAt(i,v),_=ss.createAfter(E,u);return E===this.last&&(this.last=_),this.nodeMapByIndex.insertAfter(E,_),this.nodeMapByCreatedAt.set(_.getCreatedAt().toIDString(),_),_}moveAfter(i,u,v){let E=this.nodeMapByCreatedAt.get(i.toIDString());if(!E)throw new Se(ve.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);let _=this.nodeMapByCreatedAt.get(u.toIDString());if(!_)throw new Se(ve.ErrInvalidArgument,`cant find the given node: ${u.toIDString()}`);if(E!==_&&v.after(_.getPositionedAt())){const L=_.getPrev();let U=_.getNext();for(this.release(_),_=this.insertAfter(E.getCreatedAt(),_.getValue(),v),_.getValue().setMovedAt(v),_.setMovedFrom(L);U&&U.getPositionedAt().after(v);)E=_,_=U,U=_.getNext(),this.release(_),_=this.insertAfter(E.getCreatedAt(),_.getValue(),v),_.getValue().setMovedAt(v),_.setMovedFrom(L)}}insert(i){this.insertAfter(this.last.getCreatedAt(),i)}getByID(i){return this.nodeMapByCreatedAt.get(i.toIDString())}subPathOf(i){const u=this.nodeMapByCreatedAt.get(i.toIDString());if(u)return String(this.nodeMapByIndex.indexOf(u))}purge(i){const u=this.nodeMapByCreatedAt.get(i.getCreatedAt().toIDString());if(!u)throw new Se(ve.ErrInvalidArgument,`fail to find the given createdAt: ${i.getCreatedAt().toIDString()}`);this.release(u)}getByIndex(i){return i>=this.length?void 0:this.nodeMapByIndex.findForArray(i)}getPrevCreatedAt(i){let u=this.nodeMapByCreatedAt.get(i.toIDString());do u=u.getPrev();while(this.dummyHead!==u&&u.isRemoved());return u.getValue().getCreatedAt()}delete(i,u){const v=this.nodeMapByCreatedAt.get(i.toIDString()),E=v.isRemoved();return v.remove(u)&&!E&&this.nodeMapByIndex.splayNode(v),v.getValue()}set(i,u,v){const E=this.nodeMapByCreatedAt.get(i.toIDString());if(!E)throw new Se(ve.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);return this.insertAfter(E.getCreatedAt(),u,v),this.delete(i,v)}deleteByIndex(i,u){const v=this.getByIndex(i);if(v)return v.remove(u)&&this.nodeMapByIndex.splayNode(v),v.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const i=[];for(const u of this){const v=`${u.getCreatedAt().toIDString()}:${u.getValue().toJSON()}`;u.isRemoved()?i.push(`{${v}}`):i.push(`[${v}]`)}return i.join("")}*[Symbol.iterator](){let i=this.dummyHead.getNext();for(;i;)yield i,i=i.getNext()}}class ar extends rs{constructor(u,v){super(u);q(this,"elements");this.elements=v}static create(u,v){if(!v)return new ar(u,as.create());const E=as.create();for(const _ of v)E.insertAfter(E.getLastCreatedAt(),_.deepcopy());return new ar(u,E)}subPathOf(u){return this.elements.subPathOf(u)}purge(u){this.elements.purge(u)}insertAfter(u,v,E){this.elements.insertAfter(u,v,E)}moveAfter(u,v,E){this.elements.moveAfter(u,v,E)}get(u){const v=this.elements.getByIndex(u);return v==null?void 0:v.getValue()}getByID(u){const v=this.elements.getByID(u);return v==null?void 0:v.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(u){return this.elements.getPrevCreatedAt(u)}delete(u,v){return this.elements.delete(u,v)}deleteByIndex(u,v){return this.elements.deleteByIndex(u,v)}set(u,v,E){return this.elements.set(u,v,E)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const u of this.elements)u.isRemoved()||(yield u.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(u){for(const v of this.elements){const E=v.getValue();if(u(E,this))return;E instanceof rs&&E.getDescendants(u)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const u=[];for(const v of this)u.push(v.toJSON());return`[${u.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const u={};for(let v=0;v<this.length;v++){const{createdAt:E,value:_,type:L}=this.get(v).toJSForTest();u[v]={key:String(v),createdAt:E,value:_,type:L}}return{createdAt:this.getCreatedAt().toTestString(),value:u,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const u=ar.create(this.getCreatedAt());for(const v of this.elements)u.elements.insertAfter(u.getLastCreatedAt(),v.getValue().deepcopy());return u.setRemovedAt(this.getRemovedAt()),u.setMovedAt(this.getMovedAt()),u}}class ki extends Ur{constructor(u,v,E,_){super(u,_);q(this,"prevCreatedAt");q(this,"value");this.prevCreatedAt=v,this.value=E}static create(u,v,E,_){return new ki(u,v,E,_)}execute(u){const v=u.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Se(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof ar))throw new Se(ve.ErrInvalidArgument,"fail to execute, only array can execute add");const E=v,_=this.value.deepcopy();return E.insertAfter(this.prevCreatedAt,_,this.getExecutedAt()),u.registerElement(_,E),{opInfos:[{type:"add",path:u.createPath(this.getParentCreatedAt()),index:Number(E.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Si.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(u){this.prevCreatedAt=u}}class Si extends Ur{constructor(u,v,E){super(u,E);q(this,"createdAt");this.createdAt=v}static create(u,v,E){return new Si(u,v,E)}execute(u,v){var ee;const E=u.findByCreatedAt(this.getParentCreatedAt());if(!E)throw new Se(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(E instanceof rs))throw new Se(ve.ErrInvalidArgument,`only object and array can execute remove: ${E}`);if(v===On.UndoRedo){let ce=E.getByID(this.createdAt);for(;ce;){if(ce.getRemovedAt())return;ce=(ee=u.findElementPairByCreatedAt(ce.getCreatedAt()))==null?void 0:ee.parent}}const _=E.subPathOf(this.createdAt),L=this.toReverseOperation(E),U=E.delete(this.createdAt,this.getExecutedAt());return u.registerRemovedElement(U),{opInfos:E instanceof ar?[{type:"remove",path:u.createPath(this.getParentCreatedAt()),index:Number(_)}]:[{type:"remove",path:u.createPath(this.getParentCreatedAt()),key:_}],reverseOp:L}}toReverseOperation(u){if(u instanceof ar){const v=u.getByID(this.createdAt);if(v!==void 0){const E=u.getPrevCreatedAt(this.createdAt);return ki.create(this.getParentCreatedAt(),E,v.deepcopy())}}if(u instanceof Sr){const v=u.subPathOf(this.createdAt);if(v!==void 0){const E=u.get(v);if(E!==void 0)return ta.create(v,E.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(u){this.createdAt=u}}class ta extends Ur{constructor(u,v,E,_){super(E,_);q(this,"key");q(this,"value");this.key=u,this.value=v}static create(u,v,E,_){return new ta(u,v,E,_)}execute(u,v){var ee;const E=u.findByCreatedAt(this.getParentCreatedAt());if(!E)throw new Se(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(E instanceof Sr))throw new Se(ve.ErrInvalidArgument,"fail to execute, only object can execute set");if(v===On.UndoRedo){let ce=E;for(;ce;){if(ce.getRemovedAt())return;ce=(ee=u.findElementPairByCreatedAt(ce.getCreatedAt()))==null?void 0:ee.parent}}const _=E.get(this.key),L=this.toReverseOperation(_),U=this.value.deepcopy(),W=E.set(this.key,U,this.getExecutedAt());return v===On.UndoRedo&&u.findByCreatedAt(U.getCreatedAt())&&u.deregisterElement(U),u.registerElement(U,E),W&&u.registerRemovedElement(W),{opInfos:[{type:"set",path:u.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:L}}toReverseOperation(u){let v=Si.create(this.getParentCreatedAt(),this.value.getCreatedAt());return u!==void 0&&!u.isRemoved()&&(v=ta.create(this.key,u.deepcopy(),this.getParentCreatedAt())),v}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Bi extends Ur{constructor(u,v,E,_){super(u,_);q(this,"prevCreatedAt");q(this,"createdAt");this.prevCreatedAt=v,this.createdAt=E}static create(u,v,E,_){return new Bi(u,v,E,_)}execute(u){const v=u.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Se(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof ar))throw new Se(ve.ErrInvalidArgument,"fail to execute, only array can execute move");const E=v,_=this.toReverseOperation(E),L=Number(E.subPathOf(this.createdAt));E.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const U=Number(E.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:u.createPath(this.getParentCreatedAt()),index:U,previousIndex:L}],reverseOp:_}}toReverseOperation(u){const v=u.getPrevCreatedAt(this.createdAt);return Bi.create(this.getParentCreatedAt(),v,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(u){this.prevCreatedAt=u}setCreatedAt(u){this.createdAt=u}}const nc=(h,i)=>h===i?0:h<i?-1:1;class xx{constructor(i,u,v){q(this,"key");q(this,"value");q(this,"left");q(this,"right");q(this,"isRed");this.key=i,this.value=u,this.isRed=v}}class ji{constructor(i){q(this,"stack");this.stack=[],this.traverseInorder(i)}traverseInorder(i){i&&(this.traverseInorder(i.left),this.stack.push({key:i.key,value:i.value}),this.traverseInorder(i.right))}}class oo{constructor(i){q(this,"root");q(this,"comparator");q(this,"counter");this.comparator=typeof i<"u"?i:nc,this.counter=0}put(i,u){return this.root=this.putInternal(i,u,this.root),this.root.isRed=!1,u}get(i){const u=this.getInternal(i,this.root);return u?u.value:void 0}remove(i){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,i),this.root&&(this.root.isRed=!1)}getIterator(){return new ji(this.root)}values(){const i=[];for(const u of this.getIterator().stack)i.push(u.value);return i}floorEntry(i){let u=this.root,v;for(;u;){const E=this.comparator(i,u.key);if(E===0)return u;E<0?u=u.left:(v=u,u=u.right)}return v}lastEntry(){if(!this.root)return this.root;let i=this.root;for(;i.right;)i=i.right;return i}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(i,u){for(;u;){const v=this.comparator(i,u.key);if(v===0)return u;v<0?u=u.left:v>0&&(u=u.right)}}putInternal(i,u,v){if(!v)return this.counter+=1,new xx(i,u,!0);const E=this.comparator(i,v.key);return E<0?v.left=this.putInternal(i,u,v.left):E>0?v.right=this.putInternal(i,u,v.right):v.value=u,this.isRed(v.right)&&!this.isRed(v.left)&&(v=this.rotateLeft(v)),this.isRed(v.left)&&this.isRed(v.left.left)&&(v=this.rotateRight(v)),this.isRed(v.left)&&this.isRed(v.right)&&this.flipColors(v),v}removeInternal(i,u){if(this.comparator(u,i.key)<0)!this.isRed(i.left)&&!this.isRed(i.left.left)&&(i=this.moveRedLeft(i)),i.left=this.removeInternal(i.left,u);else{if(this.isRed(i.left)&&(i=this.rotateRight(i)),this.comparator(u,i.key)===0&&!i.right){this.counter-=1;return}if(!this.isRed(i.right)&&!this.isRed(i.right.left)&&(i=this.moveRedRight(i)),this.comparator(u,i.key)===0){this.counter-=1;const v=this.min(i.right);i.value=v.value,i.key=v.key,i.right=this.removeMin(i.right)}else i.right=this.removeInternal(i.right,u)}return this.fixUp(i)}min(i){return i.left?this.min(i.left):i}removeMin(i){if(i.left)return!this.isRed(i.left)&&!this.isRed(i.left.left)&&(i=this.moveRedLeft(i)),i.left=this.removeMin(i.left),this.fixUp(i)}fixUp(i){return this.isRed(i.right)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}moveRedLeft(i){return this.flipColors(i),this.isRed(i.right.left)&&(i.right=this.rotateRight(i.right),i=this.rotateLeft(i),this.flipColors(i)),i}moveRedRight(i){return this.flipColors(i),this.isRed(i.left.left)&&(i=this.rotateRight(i),this.flipColors(i)),i}isRed(i){return i&&i.isRed}rotateLeft(i){const u=i.right;return i.right=u.left,u.left=i,u.isRed=u.left.isRed,u.left.isRed=!0,u}rotateRight(i){const u=i.left;return i.left=u.right,u.right=i,u.isRed=u.right.isRed,u.right.isRed=!0,u}flipColors(i){i.isRed=!i.isRed,i.left.isRed=!i.left.isRed,i.right.isRed=!i.right.isRed}}function na(h){return h?Um(h.live)+Um(h.gc):0}function Um(h){return h.data+h.meta}function kn(h,...i){for(const u of i)h.data+=u.data,h.meta+=u.meta}function Gr(h,i){h.data-=i.data,h.meta-=i.meta}class wn{constructor(i,u){q(this,"createdAt");q(this,"offset");this.createdAt=i,this.offset=u}static of(i,u){return new wn(i,u)}static fromStruct(i){return wn.of(ni.fromStruct(i.createdAt),i.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(i){return this.createdAt.compare(i.createdAt)===0&&this.offset===i.offset}hasSameCreatedAt(i){return this.createdAt.compare(i.createdAt)===0}split(i){return new wn(this.createdAt,this.offset+i)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const ip=wn.of(il,0);class lr{constructor(i,u){q(this,"id");q(this,"relativeOffset");this.id=i,this.relativeOffset=u}static of(i,u){return new lr(i,u)}static fromStruct(i){const u=wn.fromStruct(i.id);return lr.of(u,i.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return wn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(i){return this.id.equals(i.id)?this.relativeOffset===i.relativeOffset:!1}}class Ao extends Mm{constructor(u,v,E){super(v);q(this,"id");q(this,"removedAt");q(this,"prev");q(this,"next");q(this,"insPrev");q(this,"insNext");this.id=u,this.removedAt=E}static create(u,v){return new Ao(u,v)}static createComparator(){return(u,v)=>{const E=u.getCreatedAt().compare(v.getCreatedAt());return E!==0?E:u.getOffset()>v.getOffset()?1:u.getOffset()<v.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(u){this.prev=u,u&&(u.next=this)}setNext(u){this.next=u,u&&(u.prev=this)}setInsPrev(u){this.insPrev=u,u&&(u.insNext=this)}setInsNext(u){this.insNext=u,u&&(u.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(u){return new Ao(this.id.split(u),this.splitValue(u),this.removedAt)}canRemove(u,v,E){return v?!!(!this.removedAt||!E&&(u!=null&&u.after(this.removedAt))):!1}canStyle(u,v){return this.getCreatedAt().getLamport()<=v&&(!this.removedAt||u.after(this.removedAt))}setRemovedAt(u){this.removedAt=u}remove(u){if(!this.removedAt){this.removedAt=u;return}u.after(this.removedAt)&&(this.removedAt=u)}createPosRange(){return[lr.of(this.id,0),lr.of(this.id,this.getLength())]}getDataSize(){const u=this.value.getDataSize();return this.id&&(u.meta+=no),this.removedAt&&(u.meta+=no),u}deepcopy(){return new Ao(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(u){const v=this.value;return this.value=v.substring(0,u),v.substring(u,v.length)}toIDString(){return this.id.toIDString()}}class ol{constructor(){q(this,"head");q(this,"treeByIndex");q(this,"treeByID");this.head=Ao.create(ip),this.treeByIndex=new ec,this.treeByID=new oo(Ao.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new ol}edit(i,u,v,E){const _={data:0,meta:0},[L,U,W]=this.findNodeWithSplit(i[1],u),[ee,ce,Re]=this.findNodeWithSplit(i[0],u);kn(_,U,ce);const Be=this.findBetween(Re,W),[Te,We]=this.deleteNodes(Be,u,E),He=W?W.getID():L.getID();let ot=lr.of(He,0);if(v){const Dn=this.posToIndex(ee.createPosRange()[1],!0),en=this.insertAfter(ee,Ao.create(wn.of(u,0),v));kn(_,en.getDataSize()),Te.length&&Te[Te.length-1].from===Dn?Te[Te.length-1].value=v:Te.push({actor:u.getActorID(),from:Dn,to:Dn,value:v}),ot=lr.of(en.getID(),en.getContentLength())}const At=[],cn=[];for(const[,Dn]of We)At.push({parent:this,child:Dn}),cn.push(Dn.getValue());return[ot,At,_,Te,cn]}indexToPos(i){const[u,v]=this.treeByIndex.findForText(i),E=u;return lr.of(E.getID(),v)}findIndexesFromRange(i){const[u,v]=i;return[this.posToIndex(u,!1),this.posToIndex(v,!0)]}posToIndex(i,u){const v=i.getAbsoluteID(),E=u?this.findFloorNodePreferToLeft(v):this.findFloorNode(v);if(!E)throw new Se(ve.ErrInvalidArgument,`the node of the given id should be found: ${v.toTestString()}`);const _=this.treeByIndex.indexOf(E),L=E.isRemoved()?0:v.getOffset()-E.getID().getOffset();return _+L}findNode(i){return this.findFloorNode(i)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const i=[];for(const u of this)u.isRemoved()||i.push(u.getValue());return i.join("")}*[Symbol.iterator](){let i=this.head.getNext();for(;i;)yield i,i=i.getNext()}getHead(){return this.head}deepcopy(){const i=new ol;let u=this.head.getNext(),v=i.head,E;for(;u;){if(E=i.insertAfter(v,u.deepcopy()),u.hasInsPrev()){const _=i.findNode(u.getInsPrevID());E.setInsPrev(_)}v=E,u=u.getNext()}return i}normalizePos(i){const u=this.findFloorNode(i.getID());if(!u)throw new Se(ve.ErrInvalidArgument,`the node of the given id should be found: ${i.getID().toTestString()}`);let v=i.getRelativeOffset(),E=u,_=u.getPrev();for(;_;)v+=_.getLength(),E=_,_=_.getPrev();return lr.of(E.getID(),v)}refinePos(i){let u=this.findFloorNode(i.getID());if(!u)throw new Se(ve.ErrInvalidArgument,`the node of the given id should be found: ${i.getID().toTestString()}`);let v=i.getRelativeOffset(),E=u.getContentLength();for(;v>E;){v-=E;const _=u.getNext();if(!_)return lr.of(u.getID(),E);u=_,E=u.getLength()}return lr.of(u.getID(),v)}toTestString(){const i=[];let u=this.head;for(;u;)u.isRemoved()?i.push(`{${u.toTestString()}}`):i.push(`[${u.toTestString()}]`),u=u.getNext();return i.join("")}insertAfter(i,u){const v=i.getNext();return u.setPrev(i),v&&v.setPrev(u),this.treeByID.put(u.getID(),u),this.treeByIndex.insertAfter(i,u),u}findNodeWithSplit(i,u){const v=i.getAbsoluteID();let E=this.findFloorNodePreferToLeft(v);const _=v.getOffset()-E.getID().getOffset(),[,L]=this.splitNode(E,_);for(;E.hasNext()&&E.getNext().getCreatedAt().after(u);)E=E.getNext();return[E,L,E.getNext()]}findFloorNodePreferToLeft(i){let u=this.findFloorNode(i);if(!u)throw new Se(ve.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);if(i.getOffset()>0&&u.getID().getOffset()==i.getOffset()){if(!u.hasInsPrev())return u;u=u.getInsPrev()}return u}findFloorNode(i){const u=this.treeByID.floorEntry(i);if(u&&!(!u.key.equals(i)&&!u.key.hasSameCreatedAt(i)))return u.value}findBetween(i,u){const v=[];let E=i;for(;E&&E!==u;)v.push(E),E=E.getNext();return v}splitNode(i,u){const v={data:0,meta:0};if(u>i.getContentLength())throw new Se(ve.ErrInvalidArgument,"offset should be less than or equal to length");if(u===0)return[i,v];if(u===i.getContentLength())return[i.getNext(),v];const E=i.getDataSize(),_=i.split(u);this.treeByIndex.updateWeight(_),this.insertAfter(i,_);const L=i.getInsNext();return L&&L.setInsPrev(_),_.setInsPrev(i),kn(v,i.getDataSize(),_.getDataSize()),Gr(v,E),[_,v]}deleteNodes(i,u,v){if(!i.length)return[[],new Map];const E=v===void 0||v.size()===0,_=[],L=[],[U,W]=this.findEdgesOfCandidates(i);L.push(U);for(const Re of i){let Be=!1;if(E)Be=!0;else{const We=v==null?void 0:v.get(Re.getCreatedAt().getActorID());We&&We>=Re.getCreatedAt().getLamport()&&(Be=!0)}let Te=!1;if(Re.getRemovedAt()){const We=v==null?void 0:v.get(Re.getRemovedAt().getActorID());(E||We&&We>=Re.getRemovedAt().getLamport())&&(Te=!0)}Re.canRemove(u,Be,Te)?_.push(Re):L.push(Re)}L.push(W);const ee=this.makeChanges(L,u),ce=new Map;for(const Re of _)ce.set(Re.getID().toIDString(),Re),Re.remove(u);return this.deleteIndexNodes(L),[ee,ce]}findEdgesOfCandidates(i){return[i[0].getPrev(),i[i.length-1].getNext()]}makeChanges(i,u){const v=[];let E,_;for(let L=0;L<i.length-1;L++){const U=i[L],W=i[L+1];U.getNext()!=W&&([E]=this.findIndexesFromRange(U.getNext().createPosRange()),W?[,_]=this.findIndexesFromRange(W.getPrev().createPosRange()):_=this.treeByIndex.length,E<_&&v.push({actor:u.getActorID(),from:E,to:_}))}return v.reverse()}deleteIndexNodes(i){for(let u=0;u<i.length-1;u++){const v=i[u],E=i[u+1];v.getNext()!=E&&this.treeByIndex.deleteRange(v,E)}}purge(i){this.treeByIndex.delete(i),this.treeByID.remove(i.getID());const u=i.getPrev(),v=i.getNext(),E=i.getInsPrev(),_=i.getInsNext();u&&u.setNext(v),v&&v.setPrev(u),i.setPrev(void 0),i.setNext(void 0),E&&E.setInsNext(_),_&&_.setInsPrev(E),i.setInsPrev(void 0),i.setInsNext(void 0)}}class ls{constructor(i,u,v,E){q(this,"key");q(this,"value");q(this,"updatedAt");q(this,"_isRemoved");this.key=i,this.value=u,this.updatedAt=v,this._isRemoved=E}static of(i,u,v,E){return new ls(i,u,v,E)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:no}}}class $r{constructor(){q(this,"nodeMapByKey");q(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new $r}getNodeMapByKey(){return this.nodeMapByKey}set(i,u,v){const E=this.nodeMapByKey.get(i);if(E&&E.isRemoved()&&v.after(E.getUpdatedAt())&&(this.numberOfRemovedElement-=1),E===void 0||v.after(E.getUpdatedAt())){const _=ls.of(i,u,v,!1);return this.nodeMapByKey.set(i,_),E!==void 0&&E.isRemoved()?[E,_]:[void 0,_]}return E.isRemoved()?[E,void 0]:[void 0,void 0]}setInternal(i,u,v,E){const _=ls.of(i,u,v,E);this.nodeMapByKey.set(i,_),E&&this.numberOfRemovedElement++}remove(i,u){const v=this.nodeMapByKey.get(i),E=[];if(v===void 0||u.after(v.getUpdatedAt())){if(v===void 0){this.numberOfRemovedElement+=1;const U=ls.of(i,"",u,!0);return this.nodeMapByKey.set(i,U),E.push(U),E}const _=v.isRemoved();_||(this.numberOfRemovedElement+=1),_&&E.push(v);const L=ls.of(i,v.getValue(),u,!0);return this.nodeMapByKey.set(i,L),E.push(L),E}return E}has(i){if(this.nodeMapByKey.has(i)){const u=this.nodeMapByKey.get(i);return u!==void 0&&!u.isRemoved()}return!1}get(i){if(this.nodeMapByKey.has(i))return this.nodeMapByKey.get(i).getValue()}deepcopy(){const i=new $r;for(const[,u]of this.nodeMapByKey)i.setInternal(u.getKey(),u.getValue(),u.getUpdatedAt(),u.isRemoved());return i}toJSON(){if(!this.size())return"{}";const i=[];for(const[u,v]of this.nodeMapByKey)v.isRemoved()||i.push(`"${ro(u)}":"${ro(v.getValue())}"`);return`{${i.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const i={};for(const[u,v]of this.nodeMapByKey)v.isRemoved()||(i[u]=v.getValue());return i}*[Symbol.iterator](){for(const[,i]of this.nodeMapByKey)yield i}purge(i){const u=this.nodeMapByKey.get(i.getKey());u==null||u.toIDString()!=i.toIDString()||(this.nodeMapByKey.delete(i.getKey()),this.numberOfRemovedElement--)}}function oi(h){if(h instanceof Map){const i=Array.from(h);return new Map(JSON.parse(JSON.stringify(i)))}return JSON.parse(JSON.stringify(h))}const Gm=h=>h?Object.entries(h).length===0:!0,sl=h=>{const i={};for(const[u,v]of Object.entries(h))i[u]=JSON.stringify(v);return i},Co=h=>{const i={};for(const[u,v]of Object.entries(h))i[u]=JSON.parse(v);return i};class ra{constructor(i){q(this,"attributes");q(this,"content");this.attributes=$r.create(),this.content=i}static create(i){return new ra(i)}get length(){return this.content.length}substring(i,u){const v=new ra(this.content.substring(i,u));return v.attributes=this.attributes.deepcopy(),v}setAttr(i,u,v){return this.attributes.set(i,u,v)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const i={data:0,meta:0};i.data+=this.content.length*2;for(const u of this.attributes){const v=u.getDataSize();i.meta+=v.meta,i.data+=v.data}return i}toJSON(){const i=ro(this.content),u=this.attributes.toObject(),v=[];for(const[E,_]of Object.entries(u)){const L=JSON.parse(_),U=typeof L=="string"?`"${ro(E)}":"${ro(L)}"`:`"${ro(E)}":${String(L)}`;v.push(U)}return v.sort(),v.length===0?`{"val":"${i}"}`:`{"attrs":{${v.join(",")}},"val":"${i}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(i){this.attributes&&i instanceof ls&&this.attributes.purge(i)}getGCPairs(){const i=[];for(const u of this.attributes)u.getRemovedAt()&&i.push({parent:this,child:u});return i}}class Hr extends Lf{constructor(u,v){super(v);q(this,"rgaTreeSplit");this.rgaTreeSplit=u}static create(u,v){return new Hr(u,v)}edit(u,v,E,_,L){const U=v?ra.create(v):void 0;if(U&&_)for(const[We,He]of Object.entries(_))U.setAttr(We,He,E);const[W,ee,ce,Re,Be]=this.rgaTreeSplit.edit(u,E,U,L);return[Re.map(We=>({...We,value:We.value?{attributes:Co(We.value.getAttributes()),content:We.value.getContent()}:{attributes:void 0,content:""},type:"content"})),ee,ce,[W,W],Be]}setStyle(u,v,E,_){const L={data:0,meta:0},[,U,W]=this.rgaTreeSplit.findNodeWithSplit(u[1],E),[,ee,ce]=this.rgaTreeSplit.findNodeWithSplit(u[0],E);kn(L,U,ee);const Re=[],Be=this.rgaTreeSplit.findBetween(ce,W),Te=[];for(const He of Be){const ot=He.getCreatedAt().getActorID();let At=tp;_!=null&&(At=_.get(ot)?_.get(ot):0n),He.canStyle(E,At)&&Te.push(He)}const We=[];for(const He of Te){if(He.isRemoved())continue;const[ot,At]=this.rgaTreeSplit.findIndexesFromRange(He.createPosRange());Re.push({type:"style",actor:E.getActorID(),from:ot,to:At,value:{attributes:Co(v)}});for(const[cn,Dn]of Object.entries(v)){const[en]=He.getValue().setAttr(cn,Dn,E);en!==void 0&&We.push({parent:He.getValue(),child:en});const Tr=He.getValue().getAttrs().getNodeMapByKey().get(cn);Tr!==void 0&&kn(L,Tr.getDataSize())}}return[We,L,Re]}indexRangeToPosRange(u,v){const E=this.rgaTreeSplit.indexToPos(u);return u===v?[E,E]:[E,this.rgaTreeSplit.indexToPos(v)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(u){return this.rgaTreeSplit.refinePos(u)}normalizePos(u){return this.rgaTreeSplit.normalizePos(u)}getDataSize(){const u={data:0,meta:0};for(const v of this.rgaTreeSplit){if(v.isRemoved())continue;const E=v.getDataSize();u.data+=E.data,u.meta+=E.meta}return{data:u.data,meta:u.meta+this.getMetaUsage()}}toJSON(){const u=[];for(const v of this.rgaTreeSplit)v.isRemoved()||u.push(v.getValue().toJSON());return`[${u.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const u=[];for(const v of this.rgaTreeSplit)if(!v.isRemoved()){const E=v.getValue();u.push({attributes:Co(E.getAttributes()),content:E.getContent()})}return u}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const u=new Hr(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return u.setRemovedAt(this.getRemovedAt()),u.setMovedAt(this.getMovedAt()),u}findIndexesFromRange(u){return this.rgaTreeSplit.findIndexesFromRange(u)}posToIndex(u,v=!1){return this.rgaTreeSplit.posToIndex(u,v)}getGCPairs(){const u=[];for(const v of this.rgaTreeSplit){v.getRemovedAt()&&u.push({parent:this.rgaTreeSplit,child:v});for(const E of v.getValue().getGCPairs())u.push(E)}return u}}class wo extends Ur{constructor(u,v,E,_,L,U,W){super(u,U);q(this,"fromPos");q(this,"toPos");q(this,"content");q(this,"attributes");q(this,"isUndoOp");this.fromPos=v,this.toPos=E,this.content=_,this.attributes=L,this.isUndoOp=W}static create(u,v,E,_,L,U,W){return new wo(u,v,E,_,L,U,W)}execute(u,v,E){const _=u.findByCreatedAt(this.getParentCreatedAt());if(!_)throw new Se(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(_ instanceof Hr))throw new Se(ve.ErrInvalidArgument,"fail to execute, only Text can execute edit");const L=_;this.isUndoOp&&(this.fromPos=L.refinePos(this.fromPos),this.toPos=L.refinePos(this.toPos));const[U,W,ee,,ce]=L.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),E),Re=this.toReverseOperation(ce,L.normalizePos(this.fromPos));u.acc(ee);for(const Be of W)u.registerGCPair(Be);return{opInfos:U.map(({from:Be,to:Te,value:We})=>({type:"edit",from:Be,to:Te,value:We,path:u.createPath(this.getParentCreatedAt())})),reverseOp:Re}}toReverseOperation(u,v){var L;const E=u!=null&&u.length?u.map(U=>U.getContent()).join(""):"";let _;if(u.length===1){const U=u[0].getAttributes();U&&(_=Array.from(Object.entries(U)))}return wo.create(this.getParentCreatedAt(),v,lr.of(v.getID(),v.getRelativeOffset()+(((L=this.content)==null?void 0:L.length)??0)),E,_?new Map(_):new Map,void 0,!0)}normalizePos(u){const v=u.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Se(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof Hr))throw new Se(ve.ErrInvalidArgument,"only Text can normalize edit");const E=v,_=E.normalizePos(this.fromPos).getRelativeOffset(),L=E.normalizePos(this.toPos).getRelativeOffset();return[_,L]}reconcileOperation(u,v,E){if(!this.isUndoOp||u>v)return;const _=v-u,L=this.fromPos.getRelativeOffset(),U=this.toPos.getRelativeOffset(),W=(ee,ce)=>{this.fromPos=lr.of(this.fromPos.getID(),Math.max(0,ee)),this.toPos=lr.of(this.toPos.getID(),Math.max(0,ce))};if(v<=L){W(L-_+E,U-_+E);return}if(!(U<=u)){if(u<=L&&U<=v&&u!==v){W(u,u);return}if(L<=u&&v<=U&&L!==U){W(L,U-_+E);return}if(u<L&&L<v&&v<U){W(u,u+(U-v));return}if(L<u&&u<U&&U<v){W(L,u);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const u=this.getParentCreatedAt().toTestString(),v=this.fromPos.toTestString(),E=this.toPos.toTestString(),_=this.content;return`${u}.EDIT(${v},${E},${_})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class rc extends Ur{constructor(u,v,E,_,L){super(u,L);q(this,"fromPos");q(this,"toPos");q(this,"attributes");this.fromPos=v,this.toPos=E,this.attributes=_}static create(u,v,E,_,L){return new rc(u,v,E,_,L)}execute(u,v,E){const _=u.findByCreatedAt(this.getParentCreatedAt());if(!_)throw new Se(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(_ instanceof Hr))throw new Se(ve.ErrInvalidArgument,"fail to execute, only Text can execute edit");const L=_,[U,W,ee]=L.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),E);u.acc(W);for(const ce of U)u.registerGCPair(ce);return{opInfos:ee.map(({from:ce,to:Re,value:Be})=>({type:"style",from:ce,to:Re,value:Be,path:u.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const u=this.getParentCreatedAt().toTestString(),v=this.fromPos.toTestString(),E=this.toPos.toTestString(),_=this.attributes;return`${u}.STYL(${v},${E},${JSON.stringify(_)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const bx=2,ME="root",so="text";function Wn(h,i,u=!1){let v=0;const E=u?h.allChildren:h.children;for(let _=0;_<i;_++){const L=E[_];!L||!u&&L.isRemoved||(v+=L.paddedSize(u))}return v}class Cr{constructor(i,u=[]){q(this,"type");q(this,"parent");q(this,"_children");q(this,"visibleSize");q(this,"totalSize");if(this.type=i,this.visibleSize=0,this.totalSize=0,this._children=u,this.isText&&this._children.length>0)throw new Se(ve.ErrRefused,"Text node cannot have children")}updateAncestorsSize(i,u=!1){let v=this.parent;for(;v;){if(u)v.totalSize+=i;else if(v.visibleSize+=i,v.isRemoved)break;v=v.parent}}updateDescendantsSize(i=!1){let u=0;for(const v of this._children){const E=v.updateDescendantsSize(i);!i&&v.isRemoved||(u+=E)}return i?this.totalSize+=u:this.visibleSize+=u,this.paddedSize(i)}get isText(){return this.type===so}paddedSize(i=!1){let u=this.visibleSize;return i&&(u=this.totalSize),this.isText||(u+=bx),u}isAncestorOf(i){return Sx(this,i)}get nextSibling(){const i=this.parent.findOffset(this),u=this.parent.children[i+1];if(u)return u}get prevSibling(){const i=this.parent.findOffset(this),u=this.parent.children[i-1];if(u)return u}splitText(i,u){const v={data:0,meta:0};if(i===0||i===this.visibleSize)return[void 0,v];const E=this.value.slice(0,i),_=this.value.slice(i);if(!_.length)return[void 0,v];const L=this.getDataSize();this.value=E;const U=this.cloneText(i+u);return U.value=_,this.parent.insertAfterInternal(U,this),kn(v,this.getDataSize(),U.getDataSize()),Gr(v,L),[U,v]}get children(){return this._children.filter(i=>!i.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(i=>i.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(i=>i.value).join(""):""}append(...i){if(this.isText)throw new Se(ve.ErrRefused,"Text node cannot have children");this._children.push(...i);for(const u of i)u.parent=this,u.updateAncestorsSize(u.paddedSize()),u.updateAncestorsSize(u.paddedSize(!0),!0)}prepend(...i){if(this.isText)throw new Se(ve.ErrRefused,"Text node cannot have children");this._children.unshift(...i);for(const u of i)u.parent=this}insertBefore(i,u){if(this.isText)throw new Se(ve.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(u);if(v===-1)throw new Se(ve.ErrInvalidArgument,"child not found");this.insertAtInternal(i,v),i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}insertAfter(i,u){if(this.isText)throw new Se(ve.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(u);if(v===-1)throw new Se(ve.ErrInvalidArgument,"child not found");this.insertAtInternal(i,v+1),i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}insertAt(i,u){if(this.isText)throw new Se(ve.ErrRefused,"Text node cannot have children");this.insertAtInternal(i,u),i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}removeChild(i){if(this.isText)throw new Se(ve.ErrRefused,"Text node cannot have children");const u=this._children.indexOf(i);if(u===-1)throw new Se(ve.ErrInvalidArgument,"child not found");this._children.splice(u,1),i.updateAncestorsSize(-i.paddedSize(!0),!0),i.parent=void 0}splitElement(i,u){const v={data:0,meta:0},E=this.getDataSize(),_=this.cloneElement(u);this.parent.insertAfterInternal(_,this),_.updateAncestorsSize(_.paddedSize()),_.updateAncestorsSize(_.paddedSize(!0),!0);const L=this.children.slice(0,i),U=this.children.slice(i);this._children=L,_._children=U,this.visibleSize=this._children.reduce((W,ee)=>W+ee.paddedSize(),0),this.totalSize=this._children.reduce((W,ee)=>W+ee.paddedSize(!0),0),_.visibleSize=_._children.reduce((W,ee)=>W+ee.paddedSize(!0),0),_.totalSize=_._children.reduce((W,ee)=>W+ee.paddedSize(!0),0);for(const W of _._children)W.parent=_;return kn(v,this.getDataSize(),_.getDataSize()),Gr(v,E),[_,v]}insertAfterInternal(i,u){if(this.isText)throw new Se(ve.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(u);if(v===-1)throw new Se(ve.ErrInvalidArgument,"child not found");this.insertAtInternal(i,v+1)}insertAtInternal(i,u){if(this.isText)throw new Se(ve.ErrRefused,"Text node cannot have children");this._children.splice(u,0,i),i.parent=this}findOffset(i,u=!1){if(this.isText)throw new Se(ve.ErrRefused,"Text node cannot have children");if(u)return this._children.indexOf(i);if(i.isRemoved){const v=this._children.indexOf(i);return this.allChildren.splice(0,v).filter(_=>!_.isRemoved).length}return this.children.indexOf(i)}findBranchOffset(i){if(this.isText)throw new Se(ve.ErrRefused,"Text node cannot have children");let u=i;for(;u;){const v=this._children.indexOf(u);if(v!==-1)return v;u=u.parent}return-1}}function Sx(h,i){if(h===i)return!1;for(;i.parent;){if(i.parent===h)return!0;i=i.parent}return!1}var qn=(h=>(h.Start="Start",h.End="End",h.Text="Text",h))(qn||{});function $m(h,i,u,v,E=!1){if(i>u)throw new Se(ve.ErrInvalidArgument,`from is greater than to: ${i} > ${u}`);const _=E?h.totalSize:h.visibleSize;if(i>_)throw new Se(ve.ErrInvalidArgument,`from is out of range: ${i} > ${_}`);if(u>_)throw new Se(ve.ErrInvalidArgument,`to is out of range: ${u} > ${_}`);if(i===u)return;let L=0;const U=E?h._children:h.children;for(const W of U){if(i-W.paddedSize(E)<L&&L<u){const ee=W.isText?i-L:i-L-1,ce=W.isText?u-L:u-L-1,Re=E?W.totalSize:W.visibleSize,Be=!W.isText&&ee<0,Te=!W.isText&&ce>Re;(W.isText||Be)&&v([W,W.isText?"Text":"Start"],Te),$m(W,Math.max(0,ee),Math.min(ce,Re),v,E),Te&&v([W,"End"],Te)}L+=W.paddedSize(E)}}function Hm(h,i,u=0){for(const v of h.children)Hm(v,i,u+1);i(h,u)}function kf(h,i,u=0){for(const v of h._children)kf(v,i,u+1);i(h,u)}function ic(h,i,u=!0){if(i>h.visibleSize)throw new Se(ve.ErrInvalidArgument,`index is out of range: ${i} > ${h.visibleSize}`);if(h.isText)return{node:h,offset:i};let v=0,E=0;for(const _ of h.children){if(u&&_.isText&&_.visibleSize>=i-E)return ic(_,i-E,u);if(i===E)return{node:h,offset:v};if(!u&&_.paddedSize()===i-E)return{node:h,offset:v+1};if(_.paddedSize()>i-E)return ic(_,i-E-1,u);E+=_.paddedSize(),v+=1}return{node:h,offset:v}}function op(h){return h.isText||h.children.length===0?h:op(h.children[0])}function Ex(h,i){if(h.visibleSize<i)throw new Se(ve.ErrInvalidArgument,"unacceptable path");for(let u=0;u<h.children.length;u++){const v=h.children[u];if(v.visibleSize<i)i-=v.visibleSize;else{h=v;break}}return{node:h,offset:i}}class Ax{constructor(i){q(this,"root");this.root=i}tokensBetween(i,u,v,E=!1){$m(this.root,i,u,v,E)}traverse(i){Hm(this.root,i,0)}traverseAll(i){kf(this.root,i,0)}findTreePos(i,u=!0){return ic(this.root,i,u)}treePosToPath(i){const u=[];let v=i.node;if(v.isText){const E=v.parent.findOffset(v);if(E===-1)throw new Se(ve.ErrInvalidArgument,"invalid treePos");const _=Wn(v.parent,E);u.push(_+i.offset),v=v.parent}else if(v.hasTextChild()){const E=Wn(v,i.offset);u.push(E)}else u.push(i.offset);for(;v.parent;){const E=v.parent.findOffset(v);if(E===-1)throw new Se(ve.ErrInvalidArgument,"invalid treePos");u.push(E),v=v.parent}return u.reverse()}pathToIndex(i){const u=this.pathToTreePos(i);return this.indexOf(u)}pathToTreePos(i){if(!i.length)throw new Se(ve.ErrInvalidArgument,"unacceptable path");let u=this.root;for(let v=0;v<i.length-1;v++){const E=i[v];if(u=u.children[E],!u)throw new Se(ve.ErrInvalidArgument,"unacceptable path")}if(u.hasTextChild())return Ex(u,i[i.length-1]);if(u.children.length<i[i.length-1])throw new Se(ve.ErrInvalidArgument,"unacceptable path");return{node:u,offset:i[i.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(i){const{node:u,offset:v}=i;if(u.isText){if(u.visibleSize===v){const E=u.nextSibling;return E||u.parent}return u}return u.children.length===v?u:op(u.children[v])}indexOf(i,u=!1){let{node:v}=i;const{offset:E}=i;let _=0,L=1;if(v.isText){_+=E;const U=v.parent,W=U.findOffset(v,u);if(W===-1)throw new Se(ve.ErrInvalidArgument,"invalid pos");_+=Wn(U,W,u),v=v.parent}else _+=Wn(v,E,u);for(;v!=null&&v.parent;){const U=v.parent,W=U.findOffset(v,u);if(W===-1)throw new Se(ve.ErrInvalidArgument,"invalid pos");_+=Wn(U,W,u),L++,v=v.parent}return _+L-1}indexToPath(i){const u=this.findTreePos(i);return this.treePosToPath(u)}}class zi{constructor(i,u){q(this,"parentID");q(this,"leftSiblingID");this.parentID=i,this.leftSiblingID=u}static of(i,u){return new zi(i,u)}static fromTreePos(i){const{offset:u}=i;let{node:v}=i,E;return v.isText?(v.parent.children[0]===v&&u===0?E=v.parent:E=v,v=v.parent):u===0?E=v:E=v.children[u-1],zi.of(v.id,ur.of(E.getCreatedAt(),E.getOffset()+u))}getParentID(){return this.parentID}static fromStruct(i){return zi.of(ur.of(ni.fromStruct(i.parentID.createdAt),i.parentID.offset),ur.of(ni.fromStruct(i.leftSiblingID.createdAt),i.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(i){const u=this.getParentID(),v=this.getLeftSiblingID(),E=i.findFloorNode(u);let _=i.findFloorNode(v);if(!E||!_)throw new Se(ve.ErrRefused,`cannot find node of CRDTTreePos(${u.toTestString()}, ${v.toTestString()})`);return!v.equals(u)&&v.getOffset()>0&&v.getOffset()===_.id.getOffset()&&_.insPrevID&&(_=i.findFloorNode(_.insPrevID)),[E,_]}getLeftSiblingID(){return this.leftSiblingID}equals(i){return this.getParentID().getCreatedAt().equals(i.getParentID().getCreatedAt())&&this.getParentID().getOffset()===i.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(i.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===i.getLeftSiblingID().getOffset()}}class ur{constructor(i,u){q(this,"createdAt");q(this,"offset");this.createdAt=i,this.offset=u}static of(i,u){return new ur(i,u)}static fromStruct(i){return ur.of(ni.fromStruct(i.createdAt),i.offset)}static createComparator(){return(i,u)=>{const v=i.getCreatedAt().compare(u.getCreatedAt());return v!==0?v:i.getOffset()>u.getOffset()?1:i.getOffset()<u.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(i){return this.createdAt.compare(i.createdAt)===0&&this.offset===i.offset}getOffset(){return this.offset}setOffset(i){this.offset=i}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Yr extends Cr{constructor(u,v,E,_,L){super(v);q(this,"id");q(this,"removedAt");q(this,"attrs");q(this,"insPrevID");q(this,"insNextID");q(this,"_value","");this.id=u,this.removedAt=L,_&&(this.attrs=_),typeof E=="string"?this.value=E:Array.isArray(E)&&(this._children=E)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(u,v,E,_){return new Yr(u,v,E,_)}deepcopy(){var v;const u=new Yr(this.id,this.type);return u.removedAt=this.removedAt,u._value=this._value,u.visibleSize=this.visibleSize,u.totalSize=this.totalSize,u.attrs=(v=this.attrs)==null?void 0:v.deepcopy(),u._children=this._children.map(E=>{const _=E.deepcopy();return _.parent=u,_}),u.insPrevID=this.insPrevID,u.insNextID=this.insNextID,u}get value(){if(!this.isText)throw new Se(ve.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(u){if(!this.isText)throw new Se(ve.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=u,this.visibleSize=u.length,this.totalSize=u.length}get isRemoved(){return!!this.removedAt}remove(u){return this.removedAt?(u.after(this.removedAt)&&(this.removedAt=u),!1):(this.removedAt=u,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(u){return new Yr(ur.of(this.id.getCreatedAt(),u),this.type,void 0,void 0,this.removedAt)}cloneElement(u){return new Yr(ur.of(u(),0),this.type,void 0,void 0,this.removedAt)}split(u,v,E){const[_,L]=this.isText?this.splitText(v,this.id.getOffset()):this.splitElement(v,E);if(_){if(_.insPrevID=this.id,this.insNextID){const U=u.findFloorNode(this.insNextID);U.insPrevID=_.id,_.insNextID=this.insNextID}this.insNextID=_.id,u.registerNode(_)}return[_,L]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(u,v,E){return v?!!(!this.removedAt||!E&&(u!=null&&u.after(this.removedAt))):!1}canStyle(u,v){return this.isText?!1:this.getCreatedAt().getLamport()<=v&&(!this.removedAt||u.after(this.removedAt))}setAttrs(u,v){this.attrs||(this.attrs=new $r);const E=[];for(const[_,L]of Object.entries(u))E.push(this.attrs.set(_,L,v));return E}purge(u){this.attrs&&this.attrs.purge(u)}getDataSize(){const u={data:0,meta:0};if(this.isText&&(u.data+=this.visibleSize*2),this.id&&(u.meta+=no),this.removedAt&&(u.meta+=no),this.attrs)for(const v of this.attrs){if(v.getRemovedAt())continue;const E=v.getDataSize();u.meta+=E.meta,u.data+=E.data}return u}getGCPairs(){const u=[];if(!this.attrs)return u;for(const v of this.attrs)v.getRemovedAt()&&u.push({parent:this,child:v});return u}}function Bf(h){var u;if(h.isText){const v=h;return{type:v.type,value:v.value}}const i={type:h.type,children:h.children.map(Bf)};return h.attrs&&(i.attributes=Co((u=h.attrs)==null?void 0:u.toObject())),i}function sp(h){if(h.isText)return h.value;let i="";return h.attrs&&h.attrs.size()&&(i=" "+Array.from(h.attrs).filter(u=>!u.isRemoved()).sort((u,v)=>u.getKey().localeCompare(v.getKey())).map(u=>{const v=JSON.parse(u.getValue());return typeof v=="string"?`${u.getKey()}="${v}"`:`${u.getKey()}="${ro(u.getValue())}"`}).join(" ")),`<${h.type}${i}>${h.children.map(u=>sp(u)).join("")}</${h.type}>`}function ap(h){if(h.isText){const i=h;return{type:i.type,value:i.value,visibleSize:i.visibleSize,isRemoved:i.isRemoved}}return{type:h.type,children:h.children.map(ap),visibleSize:h.visibleSize,isRemoved:h.isRemoved}}class Fr extends Lf{constructor(u,v){super(v);q(this,"indexTree");q(this,"nodeMapByID");this.indexTree=new Ax(u),this.nodeMapByID=new oo(ur.createComparator()),this.indexTree.traverseAll(E=>{this.nodeMapByID.put(E.id,E)})}static create(u,v){return new Fr(u,v)}findFloorNode(u){const v=this.nodeMapByID.floorEntry(u);if(!(!v||!v.key.getCreatedAt().equals(u.getCreatedAt())))return v.value}registerNode(u){this.nodeMapByID.put(u.id,u)}findNodesAndSplitText(u,v){let E={data:0,meta:0};const[_,L]=u.toTreeNodePair(this);let U=L;const W=_===U,ee=U.parent&&!W?U.parent:_;if(U.isText){const[,ce]=U.split(this,u.getLeftSiblingID().getOffset()-U.id.getOffset());E=ce}if(v){const ce=ee.allChildren,Re=W?0:ce.indexOf(U)+1;for(let Be=Re;Be<ce.length;Be++){const Te=ce[Be];if(!Te.id.getCreatedAt().after(v))break;U=Te}}return[[ee,U],E]}style(u,v,E,_){const L={data:0,meta:0},[[U,W],ee]=this.findNodesAndSplitText(u[0],E),[[ce,Re],Be]=this.findNodesAndSplitText(u[1],E);kn(L,Be,ee);const Te=[],We=v?Co(v):{},He=[];return this.traverseInPosRange(U,W,ce,Re,([ot,At])=>{var en;const cn=ot.getCreatedAt().getActorID();let Dn=tp;if(_!=null&&(Dn=_.get(cn)?_.get(cn):0n),ot.canStyle(E,Dn)&&v){const Tr=ot.setAttrs(v,E),fn=Tr.reduce((Bn,[,Ci])=>(Ci&&(Bn[Ci.getKey()]=We[Ci.getKey()]),Bn),{}),or=ot.parent,Gn=ot.prevSibling||ot.parent;Object.keys(fn).length>0&&Te.push({type:"style",from:this.toIndex(or,Gn),to:this.toIndex(ot,ot),fromPath:this.toPath(or,Gn),toPath:this.toPath(ot,ot),actor:E.getActorID(),value:fn});for(const[Bn]of Tr)Bn&&He.push({parent:ot,child:Bn});for(const[Bn]of Object.entries(We)){const Ci=(en=ot.attrs)==null?void 0:en.getNodeMapByKey().get(Bn);Ci!==void 0&&At!==qn.End&&kn(L,Ci.getDataSize())}}}),[He,Te,L]}removeStyle(u,v,E,_){const L={data:0,meta:0},[[U,W],ee]=this.findNodesAndSplitText(u[0],E),[[ce,Re],Be]=this.findNodesAndSplitText(u[1],E);kn(L,Be,ee);const Te=[],We=[];return this.traverseInPosRange(U,W,ce,Re,([He])=>{const ot=He.getCreatedAt().getActorID();let At=tp;if(_!=null&&(At=_.get(ot)?_.get(ot):0n),He.canStyle(E,At)&&v){He.attrs||(He.attrs=new $r);for(const en of v){const Tr=He.attrs.remove(en,E);for(const fn of Tr)We.push({parent:He,child:fn})}const cn=He.parent,Dn=He.prevSibling||He.parent;Te.push({actor:E.getActorID(),type:"removeStyle",from:this.toIndex(cn,Dn),to:this.toIndex(He,He),fromPath:this.toPath(cn,Dn),toPath:this.toPath(He,He),value:v})}}),[We,Te,L]}edit(u,v,E,_,L,U){const W={data:0,meta:0},[[ee,ce],Re]=this.findNodesAndSplitText(u[0],_),[[Be,Te],We]=this.findNodesAndSplitText(u[1],_);kn(W,We,Re);const He=this.toIndex(ee,ce),ot=this.toPath(ee,ce),At=[],cn=[],Dn=[];this.traverseInPosRange(ee,ce,Be,Te,([fn,or],Gn)=>{if(or===qn.Start&&!Gn)for(const Mp of fn.children)Dn.push(Mp);const Bn=U===void 0;let Ci=!1;const nb=U==null?void 0:U.get(fn.id.getCreatedAt().getActorID());Ci=Bn||nb!==void 0&&nb>=fn.id.getCreatedAt().getLamport();let bc=!1;if(fn.removedAt){const Mp=U==null?void 0:U.get(fn.removedAt.getActorID());bc=Bn||Mp!==void 0&&Mp>=fn.removedAt.getLamport()}(fn.canDelete(_,Ci,bc)||At.includes(fn.parent))&&((or===qn.Text||or===qn.Start)&&At.push(fn),cn.push([fn,or]))},!0);const en=this.makeDeletionChanges(cn,_),Tr=[];for(const fn of At)fn.remove(_),fn.isRemoved&&Tr.push({parent:this,child:fn});for(const fn of Dn)fn.removedAt||ee.append(fn);if(E>0){let fn=0,or=ee,Gn=ce;for(;fn<E;)or.split(this,or.findOffset(Gn)+1,L),Gn=or,or=or.parent,fn++;en.push({type:"content",from:He,to:He,fromPath:ot,toPath:ot,actor:_.getActorID()})}if(v!=null&&v.length){const fn=[];let or=ce;for(const Gn of v)or===ee?ee.insertAt(Gn,0):ee.insertAfter(Gn,or),or=Gn,kf(Gn,Bn=>{ee.isRemoved?(Bn.remove(_),Tr.push({parent:this,child:Bn})):kn(W,Bn.getDataSize()),this.nodeMapByID.put(Bn.id,Bn)}),Gn.isRemoved||fn.push(Gn);if(fn.length){const Gn=fn.map(Bn=>Bf(Bn));en.length&&en[en.length-1].from===He?en[en.length-1].value=Gn:en.push({type:"content",from:He,to:He,fromPath:ot,toPath:ot,actor:_.getActorID(),value:Gn})}}return[en,Tr,W]}editT(u,v,E,_,L){const U=this.findPos(u[0]),W=this.findPos(u[1]);return this.edit([U,W],v,E,_,L)}move(u,v,E){throw new Se(ve.ErrUnimplemented,`not implemented: ${u}, ${v}, ${E}`)}pathToTreePos(u){return this.indexTree.pathToTreePos(u)}purge(u){var _;(_=u.parent)==null||_.removeChild(u),this.nodeMapByID.remove(u.id);const v=u.insPrevID,E=u.insNextID;if(v){const L=this.findFloorNode(v);L.insNextID=E}if(E){const L=this.findFloorNode(E);L.insPrevID=v}u.insPrevID=void 0,u.insNextID=void 0}getGCPairs(){const u=[];return this.indexTree.traverse(v=>{v.getRemovedAt()&&u.push({parent:this,child:v});for(const E of v.getGCPairs())u.push(E)}),u}findPos(u,v=!0){const E=this.indexTree.findTreePos(u,v);return zi.fromTreePos(E)}pathToPosRange(u){const v=this.pathToIndex(u);return[this.findPos(v),this.findPos(v+1)]}pathToPos(u){const v=this.indexTree.pathToIndex(u);return this.findPos(v)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return sp(this.indexTree.getRoot())}getDataSize(){const u={data:0,meta:0};return this.indexTree.traverse(v=>{if(v.getRemovedAt())return;const E=v.getDataSize();u.data+=E.data,u.meta+=E.meta}),{data:u.data,meta:u.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const u=this.indexTree.getRoot(),v=(E,_=void 0,L=void 0,U=0)=>{var Te,We,He,ot;let W,ee,ce;const Re=E.isText?{node:E,offset:0}:_&&L?this.toTreePos(_,L):null;Re&&(W=this.indexTree.indexOf(Re),ee=this.indexTree.treePosToPath(Re),ce=zi.fromTreePos(Re).toStruct());const Be={type:E.type,parent:_==null?void 0:_.id.toTestString(),size:E.visibleSize,id:E.id.toTestString(),removedAt:(Te=E.removedAt)==null?void 0:Te.toTestString(),insPrev:(We=E.insPrevID)==null?void 0:We.toTestString(),insNext:(He=E.insNextID)==null?void 0:He.toTestString(),value:E.isText?E.value:void 0,isRemoved:E.isRemoved,children:[],depth:U,attributes:E.attrs?Co((ot=E.attrs)==null?void 0:ot.toObject()):void 0,index:W,path:ee,pos:ce};for(let At=0;At<E.allChildren.length;At++){const cn=At===0?E:E.allChildren[At-1];Be.children.push(v(E.allChildren[At],E,cn,U+1))}return Be};return v(u)}getRootTreeNode(){return Bf(this.indexTree.getRoot())}toTestTreeNode(){return ap(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const u=this.getRoot(),v=new Fr(u.deepcopy(),this.getCreatedAt());return v.setRemovedAt(this.getRemovedAt()),v.setMovedAt(this.getMovedAt()),v}toPath(u,v){const E=this.toTreePos(u,v);return E?this.indexTree.treePosToPath(E):[]}toIndex(u,v,E=!1){const _=this.toTreePos(u,v,E);return _?this.indexTree.indexOf(_,E):-1}indexToPath(u){return this.indexTree.indexToPath(u)}pathToIndex(u){return this.indexTree.pathToIndex(u)}indexRangeToPosRange(u){const v=this.findPos(u[0]);return u[0]===u[1]?[v,v]:[v,this.findPos(u[1])]}indexRangeToPosStructRange(u){const[v,E]=u,_=this.findPos(v);return v===E?[_.toStruct(),_.toStruct()]:[_.toStruct(),this.findPos(E).toStruct()]}posRangeToPathRange(u){const[[v,E]]=this.findNodesAndSplitText(u[0]),[[_,L]]=this.findNodesAndSplitText(u[1]);return[this.toPath(v,E),this.toPath(_,L)]}posRangeToIndexRange(u){const[[v,E]]=this.findNodesAndSplitText(u[0]),[[_,L]]=this.findNodesAndSplitText(u[1]);return[this.toIndex(v,E),this.toIndex(_,L)]}traverseInPosRange(u,v,E,_,L,U=!1){const W=this.toIndex(u,v,U),ee=this.toIndex(E,_,U);this.indexTree.tokensBetween(W,ee,L,U)}toTreePos(u,v,E=!1){if(!u||!v)return;if(!E&&u.isRemoved){let L;for(;u.isRemoved;)L=u,u=L.parent;const U=u.findOffset(L,E);return{node:u,offset:U}}if(u===v)return{node:u,offset:0};let _=u.findOffset(v,E);if(E||!v.isRemoved){if(v.isText)return{node:v,offset:v.paddedSize(E)};_++}return{node:u,offset:_}}makeDeletionChanges(u,v){const E=[],_=[];let L=null,U=null;for(let W=0;W<u.length;W++){const ee=u[W],ce=u[W+1];L||(L=ee),U=ee;const Re=this.findRightToken(ee);(!Re||!ce||Re[0]!==ce[0]||Re[1]!==ce[1])&&(_.push([L,U]),L=null,U=null)}for(const W of _){const[ee,ce]=W,[Re,Be]=this.findLeftToken(ee),[Te,We]=ce,He=Be===qn.Start?Re:Re.parent,ot=We===qn.Start?Te:Te.parent,At=this.toIndex(He,Re),cn=this.toIndex(ot,Te);At<cn&&(E.length>0&&At===E[E.length-1].to?(E[E.length-1].to=cn,E[E.length-1].toPath=this.toPath(ot,Te)):E.push({type:"content",from:At,to:cn,fromPath:this.toPath(He,Re),toPath:this.toPath(ot,Te),actor:v.getActorID()}))}return E.reverse()}findRightToken([u,v]){if(v===qn.Start){const W=u.allChildren;return W.length>0?[W[0],W[0].isText?qn.Text:qn.Start]:[u,qn.End]}const E=u.parent,_=E.allChildren,L=_.indexOf(u);if(E&&L===_.length-1)return[E,qn.End];const U=_[L+1];return[U,U.isText?qn.Text:qn.Start]}findLeftToken([u,v]){if(v===qn.End){const W=u.allChildren;if(W.length>0){const ee=W[W.length-1];return[ee,ee.isText?qn.Text:qn.End]}return[u,qn.Start]}const E=u.parent,_=E.allChildren,L=_.indexOf(u);if(E&&L===0)return[E,qn.Start];const U=_[L-1];return[U,U.isText?qn.Text:qn.End]}}class al extends Ur{constructor(u,v,E,_,L,U){super(u,U);q(this,"fromPos");q(this,"toPos");q(this,"contents");q(this,"splitLevel");this.fromPos=v,this.toPos=E,this.contents=_,this.splitLevel=L}static create(u,v,E,_,L,U){return new al(u,v,E,_,L,U)}execute(u,v,E){var Re;const _=u.findByCreatedAt(this.getParentCreatedAt());if(!_)throw new Se(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(_ instanceof Fr))throw new Se(ve.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const L=this.getExecutedAt(),U=_,[W,ee,ce]=U.edit([this.fromPos,this.toPos],(Re=this.contents)==null?void 0:Re.map(Be=>Be.deepcopy()),this.splitLevel,L,(()=>{let Be=L.getDelimiter();return this.contents!==void 0&&(Be+=this.contents.length),()=>ni.of(L.getLamport(),++Be,L.getActorID())})(),E);u.acc(ce);for(const Be of ee)u.registerGCPair(Be);return{opInfos:W.map(({from:Be,to:Te,value:We,splitLevel:He,fromPath:ot,toPath:At})=>({type:"tree-edit",path:u.createPath(this.getParentCreatedAt()),from:Be,to:Te,value:We,splitLevel:He,fromPath:ot,toPath:At}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const u=this.getParentCreatedAt().toTestString(),v=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,E=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,_=this.contents||[];return`${u}.EDIT(${v},${E},${_.map(L=>sp(L)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class ll{constructor(i){q(this,"vector");this.vector=i||new Map}set(i,u){this.vector.set(i,u)}unset(i){this.vector.delete(i)}get(i){return this.vector.get(i)}has(i){return this.vector.has(i)}maxLamport(){let i=BigInt(0);for(const[,u]of this)u>i&&(i=u);return i}max(i){const u=new Map;for(const[v,E]of i){const _=this.vector.get(v),L=_&&_>E?_:E;u.set(v,L)}for(const[v,E]of this){const _=i.get(v),L=_&&_>E?_:E;u.set(v,L)}return new ll(u)}afterOrEqual(i){const u=this.vector.get(i.getActorID());return u===void 0?!1:u>=i.getLamport()}deepcopy(){const i=new Map;for(const[u,v]of this.vector)i.set(u,v);return new ll(i)}filter(i){const u=new Map;for(const[v]of i){const E=this.vector.get(v);E!==void 0&&u.set(v,E)}return new ll(u)}size(){return this.vector.size}*[Symbol.iterator](){for(const[i,u]of this.vector)yield[i,u]}}const lp=new ll(new Map);class Vi{constructor(i,u,v,E,_){q(this,"clientSeq");q(this,"serverSeq");q(this,"actor");q(this,"lamport");q(this,"versionVector");this.clientSeq=i,this.serverSeq=_,this.lamport=u,this.versionVector=E,this.actor=v}hasClocks(){return this.versionVector.size()>0&&this.lamport!=ep}static of(i,u,v,E,_){return new Vi(i,u,v,E,_)}next(i=!1){if(i)return new Vi(this.clientSeq+1,this.lamport,this.actor,lp,ep);const u=this.versionVector.deepcopy();return u.set(this.actor,this.lamport+1n),new Vi(this.clientSeq+1,this.lamport+1n,this.actor,u)}syncClocks(i){if(!i.hasClocks())return this;const u=i.lamport>this.lamport?i.lamport+1n:this.lamport+1n,v=this.versionVector.max(i.versionVector),E=new Vi(this.clientSeq,u,this.actor,v);return E.versionVector.set(this.actor,u),E}setClocks(i,u){const v=i>this.lamport?i+1n:this.lamport+1n,E=this.versionVector.max(u);return E.set(this.actor,v),Vi.of(this.clientSeq,v,this.actor,E)}createTimeTicket(i){return ni.of(this.lamport,i,this.actor)}setActor(i){return new Vi(this.clientSeq,this.lamport,i,this.versionVector,this.serverSeq)}setLamport(i){return new Vi(this.clientSeq,i,this.actor,this.versionVector,this.serverSeq)}setVersionVector(i){return new Vi(this.clientSeq,this.lamport,this.actor,i,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const us=new Vi(0,0n,Qh,lp);class ia{constructor({id:i,operations:u,presenceChange:v,message:E}){q(this,"id");q(this,"operations");q(this,"presenceChange");q(this,"message");this.id=i,this.operations=u||[],this.presenceChange=v,this.message=E}static create({id:i,operations:u,presenceChange:v,message:E}){return new ia({id:i,operations:u,presenceChange:v,message:E})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(i){for(const u of this.operations)u.setActor(i);this.id=this.id.setActor(i)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(i,u,v){const E=[],_=[],L=[];for(const U of this.operations){const W=U.execute(i,v,this.id.getVersionVector());if(!W)continue;const{opInfos:ee,reverseOp:ce}=W;E.push(...ee),_.push(U),ce&&L.unshift(ce)}return this.presenceChange&&(this.presenceChange.type===to.Put?u.set(this.id.getActorID(),oi(this.presenceChange.presence)):u.delete(this.id.getActorID())),{operations:_,opInfos:E,reverseOps:L}}toTestString(){return`${this.operations.map(i=>i.toTestString()).join(",")}`}toStruct(){return{changeID:yn.bytesToHex(yn.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(i=>yn.bytesToHex(yn.operationToBinary(i))),presenceChange:this.getPresenceChange()}}static fromStruct(i){const{changeID:u,operations:v,presenceChange:E,message:_}=i;return ia.create({id:yn.bytesToChangeID(yn.hexToBytes(u)),operations:v==null?void 0:v.map(L=>yn.bytesToOperation(yn.hexToBytes(L))),presenceChange:E,message:_})}}class up{constructor(i,u,v,E,_,L){q(this,"documentKey");q(this,"checkpoint");q(this,"isRemoved");q(this,"changes");q(this,"snapshot");q(this,"versionVector");this.documentKey=i,this.checkpoint=u,this.isRemoved=v,this.changes=E,this.snapshot=L,this.versionVector=_}static create(i,u,v,E,_,L){return new up(i,u,v,E,_,L)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class ul{constructor(i,u){q(this,"serverSeq");q(this,"clientSeq");this.serverSeq=i,this.clientSeq=u}static of(i,u){return new ul(i,u)}increaseClientSeq(i){return i===0?this:new ul(this.serverSeq,this.clientSeq+i)}forward(i){if(this.equals(i))return this;const u=this.serverSeq>i.serverSeq?this.serverSeq:i.serverSeq,v=Math.max(this.clientSeq,i.clientSeq);return ul.of(u,v)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(i){return this.clientSeq===i.clientSeq&&this.serverSeq==i.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const cs=new ul(0n,0),Ym=h=>h<0?Math.ceil(h):Math.floor(h);var Ei=(h=>(h[h.Int=0]="Int",h[h.Long=1]="Long",h))(Ei||{});class mr extends Lf{constructor(u,v,E){super(E);q(this,"valueType");q(this,"value");switch(this.valueType=u,u){case 0:typeof v=="number"?v>Math.pow(2,31)-1||v<-Math.pow(2,31)?this.value=Gt.fromNumber(v).toInt():this.value=Ym(v):this.value=v.toInt();break;case 1:typeof v=="number"?this.value=Gt.fromNumber(v):this.value=v;break;default:throw new Se(ve.ErrUnimplemented,`unimplemented type: ${u}`)}}static create(u,v,E){return new mr(u,v,E)}static valueFromBytes(u,v){switch(u){case 0:return v[0]|v[1]<<8|v[2]<<16|v[3]<<24;case 1:return Gt.fromBytesLE(Array.from(v));default:throw new Se(ve.ErrUnimplemented,`unimplemented type: ${u}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const u=mr.create(this.valueType,this.value,this.getCreatedAt());return u.setRemovedAt(this.getRemovedAt()),u.setMovedAt(this.getMovedAt()),u}getType(){return this.valueType}static getCounterType(u){switch(typeof u){case"object":return u instanceof Gt?1:void 0;case"number":return u>Math.pow(2,31)-1||u<-Math.pow(2,31)?1:0;default:return}}static isSupport(u){return!!mr.getCounterType(u)}static isInteger(u){return u%1===0}isNumericType(){const u=this.valueType;return u===0||u===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const u=this.value;return new Uint8Array([u&255,u>>8&255,u>>16&255,u>>24&255])}case 1:{const v=this.value.toBytesLE();return Uint8Array.from(v)}default:throw new Se(ve.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(u){function v(E){if(!E.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof E.getValue()}`)}return v(this),v(u),this.valueType===1?this.value=this.value.add(u.getValue()):u.getType()===Cn.Long?this.value=this.value+u.getValue().toInt():this.value=Gt.fromNumber(this.value+Ym(u.getValue())).toInt(),this}}class Rn extends Ur{constructor(u,v,E){super(u,E);q(this,"value");this.value=v}static create(u,v,E){return new Rn(u,v,E)}execute(u){const v=u.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Se(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof mr))throw new Se(ve.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const E=v,_=this.value.deepcopy();return E.increase(_),{opInfos:[{type:"increase",path:u.createPath(this.getParentCreatedAt()),value:_.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const u=this.value.deepcopy(),E=u.getType()===Cn.Long?u.getValue().multiply(-1):u.getValue()*-1;return Rn.create(this.getParentCreatedAt(),Vn.of(E,u.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class fs extends Ur{constructor(u,v,E,_,L,U){super(u,U);q(this,"fromPos");q(this,"toPos");q(this,"attributes");q(this,"attributesToRemove");this.fromPos=v,this.toPos=E,this.attributes=_,this.attributesToRemove=L}static create(u,v,E,_,L){return new fs(u,v,E,_,[],L)}static createTreeRemoveStyleOperation(u,v,E,_,L){return new fs(u,v,E,new Map,_,L)}execute(u,v,E){const _=u.findByCreatedAt(this.getParentCreatedAt());if(!_)throw new Se(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(_ instanceof Fr))throw new Se(ve.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const L=_;let U,W,ee={data:0,meta:0};if(this.attributes.size){const ce={};[...this.attributes].forEach(([Re,Be])=>ce[Re]=Be),[W,U,ee]=L.style([this.fromPos,this.toPos],ce,this.getExecutedAt(),E)}else{const ce=this.attributesToRemove;[W,U,ee]=L.removeStyle([this.fromPos,this.toPos],ce,this.getExecutedAt(),E)}u.acc(ee);for(const ce of W)u.registerGCPair(ce);return{opInfos:U.map(({from:ce,to:Re,value:Be,fromPath:Te,toPath:We})=>({type:"tree-style",from:ce,to:Re,value:this.attributes.size?{attributes:Be}:{attributesToRemove:Be},fromPath:Te,toPath:We,path:u.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const u=this.getParentCreatedAt().toTestString(),v=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,E=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${u}.STYLE(${v},${E},${Object.entries(this.attributes||{}).map(([_,L])=>`${_}:"${L}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class ds extends Ur{constructor(u,v,E,_){super(u,_);q(this,"createdAt");q(this,"value");this.createdAt=v,this.value=E}static create(u,v,E,_){return new ds(u,v,E,_)}execute(u){const v=u.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Se(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof ar))throw new Se(ve.ErrInvalidArgument,"fail to execute, only array can execute set");const E=v.getByID(this.createdAt).deepcopy(),_=this.toReverseOperation(this.value,E),L=this.value.deepcopy();return v.insertAfter(this.createdAt,L,this.getExecutedAt()),v.delete(this.createdAt,this.getExecutedAt()),u.registerElement(L),{opInfos:[{type:"array-set",path:u.createPath(this.getParentCreatedAt())}],reverseOp:_}}toReverseOperation(u,v){return ds.create(this.getParentCreatedAt(),u.getCreatedAt(),v)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(u){this.createdAt=u}}function Cx(h){const i={};for(const[u,v]of Object.entries(h))i[u]=JSON.stringify(v);return Z(ns,{data:i})}function jf(h){if(h.type===to.Put)return Z(Pf,{type:rl.PUT,presence:Cx(h.presence)});if(h.type===to.Clear)return Z(Pf,{type:rl.CLEAR});throw new Se(ve.ErrUnimplemented,"unimplemented type")}function oa(h){return Z(Jh,{serverSeq:h.getServerSeq(),clientSeq:h.getClientSeq()})}function cp(h){return Z(Kh,{clientSeq:h.getClientSeq(),lamport:h.getLamport(),actorId:vs(h.getActorID()),versionVector:cl(h.getVersionVector())})}function mt(h){if(h)return Z(Im,{lamport:h.getLamport(),delimiter:h.getDelimiter(),actorId:vs(h.getActorID())})}function cl(h){if(!h)return;const i=Z(Zs);for(const[u,v]of h){const E=e0(vs(u));i.vector[E]=BigInt(v.toString())}return i}function ao(h){switch(h){case Cn.Null:return jt.NULL;case Cn.Boolean:return jt.BOOLEAN;case Cn.Integer:return jt.INTEGER;case Cn.Long:return jt.LONG;case Cn.Double:return jt.DOUBLE;case Cn.String:return jt.STRING;case Cn.Bytes:return jt.BYTES;case Cn.Date:return jt.DATE;default:throw new Se(ve.ErrInvalidType,`unsupported type: ${h}`)}}function Wm(h){switch(h){case Ei.Int:return jt.INTEGER_CNT;case Ei.Long:return jt.LONG_CNT;default:throw new Se(ve.ErrInvalidType,`unsupported type: ${h}`)}}function oc(h){if(h instanceof Sr)return Z(ts,{type:jt.JSON_OBJECT,createdAt:mt(h.getCreatedAt()),value:qr(h)});if(h instanceof ar)return Z(ts,{type:jt.JSON_ARRAY,createdAt:mt(h.getCreatedAt()),value:Qm(h)});if(h instanceof Hr)return Z(ts,{type:jt.TEXT,createdAt:mt(h.getCreatedAt())});if(h instanceof Vn)return Z(ts,{type:ao(h.getType()),createdAt:mt(h.getCreatedAt()),value:h.toBytes()});if(h instanceof mr)return Z(ts,{type:Wm(h.getType()),createdAt:mt(h.getCreatedAt()),value:h.toBytes()});if(h instanceof Fr)return Z(ts,{type:jt.TREE,createdAt:mt(h.getCreatedAt()),value:mp(h)});throw new Se(ve.ErrUnimplemented,"unimplemented element")}function wx(h){return Z(Tm,{createdAt:mt(h.getCreatedAt()),offset:h.getOffset()})}function sc(h){return Z(_m,{createdAt:mt(h.getID().getCreatedAt()),offset:h.getID().getOffset(),relativeOffset:h.getRelativeOffset()})}function ac(h){return Z(Df,{parentId:sa(h.getParentID()),leftSiblingId:sa(h.getLeftSiblingID())})}function sa(h){return Z(Nm,{createdAt:mt(h.getCreatedAt()),offset:h.getOffset()})}function fp(h){const i=Z(Zu);if(h instanceof ta){const u=h,v=Z(dx);v.parentCreatedAt=mt(u.getParentCreatedAt()),v.key=u.getKey(),v.value=oc(u.getValue()),v.executedAt=mt(u.getExecutedAt()),i.body.case="set",i.body.value=v}else if(h instanceof ki){const u=h,v=Z(Em);v.parentCreatedAt=mt(u.getParentCreatedAt()),v.prevCreatedAt=mt(u.getPrevCreatedAt()),v.value=oc(u.getValue()),v.executedAt=mt(u.getExecutedAt()),i.body.case="add",i.body.value=v}else if(h instanceof Bi){const u=h,v=Z(Am);v.parentCreatedAt=mt(u.getParentCreatedAt()),v.prevCreatedAt=mt(u.getPrevCreatedAt()),v.createdAt=mt(u.getCreatedAt()),v.executedAt=mt(u.getExecutedAt()),i.body.case="move",i.body.value=v}else if(h instanceof Si){const u=h,v=Z(Js);v.parentCreatedAt=mt(u.getParentCreatedAt()),v.createdAt=mt(u.getCreatedAt()),v.executedAt=mt(u.getExecutedAt()),i.body.case="remove",i.body.value=v}else if(h instanceof wo){const u=h,v=Z(Vt);v.parentCreatedAt=mt(u.getParentCreatedAt()),v.from=sc(u.getFromPos()),v.to=sc(u.getToPos()),v.content=u.getContent();const E=v.attributes;for(const[_,L]of u.getAttributes())E[_]=L;v.executedAt=mt(u.getExecutedAt()),i.body.case="edit",i.body.value=v}else if(h instanceof rc){const u=h,v=Z(An);v.parentCreatedAt=mt(u.getParentCreatedAt()),v.from=sc(u.getFromPos()),v.to=sc(u.getToPos());const E=v.attributes;for(const[_,L]of u.getAttributes())E[_]=L;v.executedAt=mt(u.getExecutedAt()),i.body.case="style",i.body.value=v}else if(h instanceof Rn){const u=h,v=Z(rr);v.parentCreatedAt=mt(u.getParentCreatedAt()),v.value=oc(u.getValue()),v.executedAt=mt(u.getExecutedAt()),i.body.case="increase",i.body.value=v}else if(h instanceof al){const u=h,v=Z(Xh);v.parentCreatedAt=mt(u.getParentCreatedAt()),v.from=ac(u.getFromPos()),v.to=ac(u.getToPos()),v.contents=Tx(u.getContents()),v.splitLevel=u.getSplitLevel(),v.executedAt=mt(u.getExecutedAt()),i.body.case="treeEdit",i.body.value=v}else if(h instanceof fs){const u=h,v=Z(Ju);v.parentCreatedAt=mt(u.getParentCreatedAt()),v.from=ac(u.getFromPos()),v.to=ac(u.getToPos());const E=u.getAttributesToRemove();if(E.length>0)v.attributesToRemove=E;else{const _=v.attributes;for(const[L,U]of u.getAttributes())_[L]=U}v.executedAt=mt(u.getExecutedAt()),i.body.case="treeStyle",i.body.value=v}else if(h instanceof ds){const u=h,v=Z(nl);v.parentCreatedAt=mt(u.getParentCreatedAt()),v.createdAt=mt(u.getCreatedAt()),v.value=oc(u.getValue()),v.executedAt=mt(u.getExecutedAt()),i.body.case="arraySet",i.body.value=v}else throw new Se(ve.ErrUnimplemented,"unimplemented operation");return i}function hs(h){const i=[];for(const u of h)i.push(fp(u));return i}function Qn(h){const i=Z(fx,{id:cp(h.getID()),message:h.getMessage()});return h.hasOperations()&&(i.operations=hs(h.getOperations())),h.hasPresenceChange()&&(i.presenceChange=jf(h.getPresenceChange())),i}function qm(h){const i=[];for(const u of h)i.push(Qn(u));return i}function Rx(h){const i=[];for(const u of h)i.push(Z(px,{key:u.getStrKey(),element:Wr(u.getValue())}));return i}function vr(h){const i=[];for(const u of h)i.push(Z(OE,{element:Wr(u.getValue())}));return i}function LE(h){const i=[];for(const u of h){const v=Z(Rm);v.id=wx(u.getID()),v.value=u.getValue().getContent(),v.removedAt=mt(u.getRemovedAt());const E=v.attributes,_=u.getValue().getAttrs();for(const L of _){const U=Z(Zh);U.value=L.getValue(),U.updatedAt=mt(L.getUpdatedAt()),E[L.getKey()]=U}i.push(v)}return i}function Tx(h){const i=[];if(!h||!h.length)return i;for(const u of h)i.push(Z(ir,{content:Pn(u)}));return i}function Nx(h){const i={};for(const u of h)i[u.getKey()]=Z(Zh,{value:u.getValue(),updatedAt:mt(u.getUpdatedAt()),isRemoved:u.isRemoved()});return i}function Pn(h){if(!h)return[];const i=[];return kf(h,(u,v)=>{const E=Z(ti,{id:sa(u.id),type:u.type,removedAt:mt(u.removedAt),depth:v});u.isText&&(E.value=u.value),u.insPrevID&&(E.insPrevId=sa(u.insPrevID)),u.insNextID&&(E.insNextId=sa(u.insNextID)),u.attrs&&(E.attributes=Nx(u.attrs)),i.push(E)}),i}function si(h){return Z(Lr,{body:{case:"jsonObject",value:Z(Qu,{nodes:Rx(h.getRHT()),createdAt:mt(h.getCreatedAt()),movedAt:mt(h.getMovedAt()),removedAt:mt(h.getRemovedAt())})}})}function Ro(h){return Z(Lr,{body:{case:"jsonArray",value:Z(IE,{nodes:vr(h.getElements()),createdAt:mt(h.getCreatedAt()),movedAt:mt(h.getMovedAt()),removedAt:mt(h.getRemovedAt())})}})}function _x(h){return Z(Lr,{body:{case:"primitive",value:Z(Jn,{type:ao(h.getType()),value:h.toBytes(),createdAt:mt(h.getCreatedAt()),movedAt:mt(h.getMovedAt()),removedAt:mt(h.getRemovedAt())})}})}function Ix(h){return Z(Lr,{body:{case:"text",value:Z(Cm,{nodes:LE(h.getRGATreeSplit()),createdAt:mt(h.getCreatedAt()),movedAt:mt(h.getMovedAt()),removedAt:mt(h.getRemovedAt())})}})}function FE(h){return Z(Lr,{body:{case:"counter",value:Z(wm,{type:Wm(h.getType()),value:h.toBytes(),createdAt:mt(h.getCreatedAt()),movedAt:mt(h.getMovedAt()),removedAt:mt(h.getRemovedAt())})}})}function dp(h){return Z(Lr,{body:{case:"tree",value:Z(hx,{nodes:Pn(h.getRoot()),createdAt:mt(h.getCreatedAt()),movedAt:mt(h.getMovedAt()),removedAt:mt(h.getRemovedAt())})}})}function Wr(h){if(h instanceof Sr)return si(h);if(h instanceof ar)return Ro(h);if(h instanceof Vn)return _x(h);if(h instanceof Hr)return Ix(h);if(h instanceof mr)return FE(h);if(h instanceof Fr)return dp(h);throw new Se(ve.ErrUnimplemented,"unimplemented element")}function lo(h){return Z(Of,{documentKey:h.getDocumentKey(),checkpoint:oa(h.getCheckpoint()),isRemoved:h.getIsRemoved(),changes:qm(h.getChanges()),snapshot:h.getSnapshot(),versionVector:cl(h.getVersionVector())})}function Ox(h){return{id:h.id,label:h.label,description:h.description,snapshot:h.snapshot,createdAt:h.createdAt?jy(h.createdAt):new Date}}function wr(h){if(!(h instanceof qt))return{};const i=h.findDetails(Dm);for(const u of i)return u.metadata;return{}}function fl(h){return wr(h).code??""}function To(h,i){return h instanceof qt&&fl(h)===i}function aa(h){return Vi.of(h.clientSeq,BigInt(h.lamport),cr(h.actorId),No(h.versionVector),BigInt(h.serverSeq))}function No(h){if(!h)return;const i=new ll;return Object.entries(h.vector).forEach(([u,v])=>{const E=uo(dc(u));i.set(E,BigInt(v.toString()))}),i}function vt(h){if(h)return ni.of(BigInt(h.lamport),h.delimiter,cr(h.actorId))}function zf(h){const i={};return Object.entries(h.data).forEach(([u,v])=>{i[u]=JSON.parse(v)}),i}function _o(h){const i=h.type;if(i===rl.PUT){const u=zf(h.presence);return{type:to.Put,presence:u}}if(i===rl.CLEAR)return{type:to.Clear};throw new Se(ve.ErrInvalidType,`unsupported type: ${i}`)}function Dx(h){const i=new Map;return Object.entries(h).forEach(([u,v])=>{i.set(u,zf(v))}),i}function dl(h){switch(h){case jt.NULL:return Cn.Null;case jt.BOOLEAN:return Cn.Boolean;case jt.INTEGER:return Cn.Integer;case jt.LONG:return Cn.Long;case jt.DOUBLE:return Cn.Double;case jt.STRING:return Cn.String;case jt.BYTES:return Cn.Bytes;case jt.DATE:return Cn.Date}throw new Se(ve.ErrUnimplemented,`unimplemented value type: ${h}`)}function la(h){switch(h){case jt.INTEGER_CNT:return Ei.Int;case jt.LONG_CNT:return Ei.Long}throw new Se(ve.ErrUnimplemented,`unimplemented value type: ${h}`)}function ua(h){switch(h.type){case jt.JSON_OBJECT:return h.value?fc(h.value):Sr.create(vt(h.createdAt));case jt.JSON_ARRAY:return h.value?Jm(h.value):ar.create(vt(h.createdAt));case jt.TEXT:return Hr.create(ol.create(),vt(h.createdAt));case jt.TREE:return gp(h.value);case jt.NULL:case jt.BOOLEAN:case jt.INTEGER:case jt.LONG:case jt.DOUBLE:case jt.STRING:case jt.BYTES:case jt.DATE:return Vn.of(Vn.valueFromBytes(dl(h.type),h.value),vt(h.createdAt));case jt.INTEGER_CNT:case jt.LONG_CNT:return mr.create(la(h.type),mr.valueFromBytes(la(h.type),h.value),vt(h.createdAt))}}function ps(h){return lr.of(wn.of(vt(h.createdAt),h.offset),h.relativeOffset)}function Km(h){return wn.of(vt(h.createdAt),h.offset)}function Px(h){const i=ra.create(h.value);Object.entries(h.attributes).forEach(([v,E])=>{i.setAttr(v,E.value,vt(E.updatedAt))});const u=Ao.create(Km(h.id),i);return u.setRemovedAt(vt(h.removedAt)),u}function Io(h){return zi.of(lc(h.parentId),lc(h.leftSiblingId))}function lc(h){return ur.of(vt(h.createdAt),h.offset)}function hp(h){if(!h.length)return;const i=[];return h.forEach(u=>{const v=pp(u.content);i.push(v)}),i}function pp(h){if(h.length===0)return;const i=[];for(const E of h)i.push(BE(E));const u=i[i.length-1],v=new Map;v.set(h[i.length-1].depth,i[i.length-1]);for(let E=i.length-2;E>=0;E--)v.get(h[E].depth-1).prepend(i[E]),v.set(h[E].depth,i[E]);return u.updateDescendantsSize(),u.updateDescendantsSize(!0),Fr.create(u,il).getRoot()}function kE(h){const i=$r.create();for(const[u,v]of Object.entries(h))i.setInternal(u,v.value,vt(v.updatedAt),v.isRemoved);return i}function BE(h){const i=lc(h.id),u=Yr.create(i,h.type),v=Object.entries(h.attributes);return u.isText?u.value=h.value:v.length&&(u.attrs=kE(h.attributes)),h.insPrevId&&(u.insPrevID=lc(h.insPrevId)),h.insNextId&&(u.insNextID=lc(h.insNextId)),u.removedAt=vt(h.removedAt),u}function dn(h){if(h.body.case==="set"){const i=h.body.value;return ta.create(i.key,ua(i.value),vt(i.parentCreatedAt),vt(i.executedAt))}else if(h.body.case==="add"){const i=h.body.value;return ki.create(vt(i.parentCreatedAt),vt(i.prevCreatedAt),ua(i.value),vt(i.executedAt))}else if(h.body.case==="move"){const i=h.body.value;return Bi.create(vt(i.parentCreatedAt),vt(i.prevCreatedAt),vt(i.createdAt),vt(i.executedAt))}else if(h.body.case==="remove"){const i=h.body.value;return Si.create(vt(i.parentCreatedAt),vt(i.createdAt),vt(i.executedAt))}else if(h.body.case==="edit"){const i=h.body.value,u=new Map;return Object.entries(i.attributes).forEach(([v,E])=>{u.set(v,E)}),wo.create(vt(i.parentCreatedAt),ps(i.from),ps(i.to),i.content,u,vt(i.executedAt))}else if(h.body.case==="style"){const i=h.body.value,u=new Map;return Object.entries(i.attributes).forEach(([v,E])=>{u.set(v,E)}),rc.create(vt(i.parentCreatedAt),ps(i.from),ps(i.to),u,vt(i.executedAt))}else if(h.body.case==="increase"){const i=h.body.value;return Rn.create(vt(i.parentCreatedAt),ua(i.value),vt(i.executedAt))}else if(h.body.case==="treeEdit"){const i=h.body.value;return al.create(vt(i.parentCreatedAt),Io(i.from),Io(i.to),hp(i.contents),i.splitLevel,vt(i.executedAt))}else if(h.body.case==="treeStyle"){const i=h.body.value,u=new Map,v=i.attributesToRemove;return(v==null?void 0:v.length)>0?fs.createTreeRemoveStyleOperation(vt(i.parentCreatedAt),Io(i.from),Io(i.to),v,vt(i.executedAt)):(Object.entries(i.attributes).forEach(([E,_])=>{u.set(E,_)}),fs.create(vt(i.parentCreatedAt),Io(i.from),Io(i.to),u,vt(i.executedAt)))}else if(h.body.case==="arraySet"){const i=h.body.value;return ds.create(vt(i.parentCreatedAt),vt(i.createdAt),ua(i.value),vt(i.executedAt))}else throw new Se(ve.ErrUnimplemented,"unimplemented operation")}function Mn(h){const i=[];for(const u of h){const v=dn(u);v&&i.push(v)}return i}function $t(h){const i=[];for(const u of h)i.push(ia.create({id:aa(u.id),operations:Mn(u.operations),presenceChange:u.presenceChange?_o(u.presenceChange):void 0,message:u.message}));return i}function Qt(h){return ul.of(BigInt(h.serverSeq),h.clientSeq)}function vn(h){return up.create(h.documentKey,Qt(h.checkpoint),h.isRemoved,$t(h.changes),No(h.versionVector),h.snapshot)}function ai(h){const i=new os;for(const v of h.nodes){const E=Oo(v.element);i.set(v.key,E,E.getPositionedAt())}const u=new Sr(vt(h.createdAt),i);return u.setMovedAt(vt(h.movedAt)),u.setRemovedAt(vt(h.removedAt)),u}function gs(h){const i=new as;for(const v of h.nodes)i.insert(Oo(v.element));const u=new ar(vt(h.createdAt),i);return u.setMovedAt(vt(h.movedAt)),u.setRemovedAt(vt(h.removedAt)),u}function uc(h){const i=Vn.of(Vn.valueFromBytes(dl(h.type),h.value),vt(h.createdAt));return i.setMovedAt(vt(h.movedAt)),i.setRemovedAt(vt(h.removedAt)),i}function Xm(h){const i=new ol;let u=i.getHead();for(const E of h.nodes){const _=i.insertAfter(u,Px(E));E.insPrevId&&_.setInsPrev(i.findNode(Km(E.insPrevId))),u=_}const v=new Hr(i,vt(h.createdAt));return v.setMovedAt(vt(h.movedAt)),v.setRemovedAt(vt(h.removedAt)),v}function ms(h){const i=mr.create(la(h.type),mr.valueFromBytes(la(h.type),h.value),vt(h.createdAt));return i.setMovedAt(vt(h.movedAt)),i.setRemovedAt(vt(h.removedAt)),i}function Un(h){const i=pp(h.nodes);return Fr.create(i,vt(h.createdAt))}function Oo(h){if(h.body.case==="jsonObject")return ai(h.body.value);if(h.body.case==="jsonArray")return gs(h.body.value);if(h.body.case==="primitive")return uc(h.body.value);if(h.body.case==="text")return Xm(h.body.value);if(h.body.case==="counter")return ms(h.body.value);if(h.body.case==="tree")return Un(h.body.value);throw new Se(ve.ErrUnimplemented,"unimplemented element")}function hl(h){return h.map(i=>({path:i.path,type:i.type}))}function Zm(h){if(!h)return{root:Sr.create(il),presences:new Map};const i=Pi(If,h);return{root:Oo(i.root),presences:Dx(i.presences)}}function Ui(h){const i=cl(h);return uo(Mi(Zs,i))}function cc(h){const i=Do(h),u=Pi(Zs,i);return No(u)}function fc(h){if(!h)throw new Se(ve.ErrInvalidArgument,"bytes is empty");const i=Pi(Lr,h);return ai(i.body.value)}function qr(h){return Mi(Lr,Wr(h))}function Jm(h){if(!h)throw new Se(ve.ErrInvalidArgument,"bytes is empty");const i=Pi(Lr,h);return gs(i.body.value)}function Qm(h){return Mi(Lr,Ro(h))}function gp(h){if(!h)throw new Se(ve.ErrInvalidArgument,"bytes is empty");const i=Pi(Lr,h);return Un(i.body.value)}function mp(h){return Mi(Lr,dp(h))}function uo(h){return h?Array.from(h).map(i=>i.toString(16).padStart(2,"0")).join(""):""}function cr(h){return uo(h)}function Do(h){return new Uint8Array(h.match(/.{1,2}/g).map(i=>parseInt(i,16)))}function dc(h){if(typeof window<"u"&&typeof window.atob=="function"){const i=window.atob(h),u=i.length,v=new Uint8Array(u);for(let E=0;E<u;E++)v[E]=i.charCodeAt(E);return v}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const i=globalThis.Buffer;return new Uint8Array(i.from(h,"base64"))}else throw new Error("No base64 decoder available")}function vs(h){return Do(h)}function e0(h){if(typeof window<"u"&&typeof window.btoa=="function"){let i="";for(let u=0;u<h.byteLength;u++)i+=String.fromCharCode(h[u]);return window.btoa(i)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(h).toString("base64");throw new Error("No base64 encoder available")}}function t0(h){const i=Pi(Kh,h);return aa(i)}function Mx(h){const i=Pi(Zu,h);return dn(i)}const yn={fromPresence:zf,toChangePack:lo,fromChangePack:vn,fromChanges:$t,toTreeNodes:Pn,fromTreeNodes:pp,objectToBytes:qr,bytesToObject:fc,bytesToSnapshot:Zm,bytesToHex:uo,hexToBytes:Do,toHexString:cr,toUint8Array:vs,toOperation:fp,toChangeID:cp,bytesToChangeID:t0,bytesToOperation:Mx,versionVectorToHex:Ui,hexToVersionVector:cc,fromSchemaRules:hl,toRevisionSummary:Ox,changeIDToBinary:h=>Mi(Kh,cp(h)),operationToBinary:h=>Mi(Zu,fp(h))};var kr=(h=>(h[h.Trivial=0]="Trivial",h[h.Debug=1]="Debug",h[h.Info=2]="Info",h[h.Warn=3]="Warn",h[h.Error=4]="Error",h[h.Fatal=5]="Fatal",h))(kr||{});let fr=3;function Lx(h){fr=h}const Je={trivial:(...h)=>{fr>0||typeof console<"u"&&console.log("YORKIE T:",...h)},debug:(...h)=>{fr>1||typeof console<"u"&&console.log("YORKIE D:",...h)},info:(...h)=>{fr>2||typeof console<"u"&&console.log("YORKIE I:",...h)},warn:(...h)=>{fr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...h):console.log("YORKIE W:",...h))},error:(...h)=>{fr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...h):console.log("YORKIE E:",...h))},fatal:(...h)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...h):console.log("YORKIE F:",...h))},isEnabled:h=>fr<=h};function n0(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,h=>{const i=Math.random()*16|0;return(h==="x"?i:i&3|8).toString(16)})}const vp=()=>{};class jE{constructor(i){q(this,"finalized",!1);q(this,"observers",[]);q(this,"finalError");try{i(this)}catch(u){this.error(u)}}next(i){this.forEachObserver(u=>{u.next(i)})}error(i){this.forEachObserver(u=>{u.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,u,v){let E;if(!i)throw new Se(ve.ErrInvalidArgument,"missing observer");if(this.finalized)throw new Se(ve.ErrRefused,"observable is finalized due to previous error");typeof i=="object"?E=i:E={next:i,error:u,complete:v},E.next===void 0&&(E.next=vp),E.error===void 0&&(E.error=vp),E.complete===void 0&&(E.complete=vp);const _=n0(),L=this.unsubscribeOne.bind(this,_);if(this.observers.push({subscriptionID:_,observer:E}),this.finalized)try{this.finalError?E.error(this.finalError):E.complete()}catch(U){Je.warn(U)}return L}unsubscribeOne(i){var u;this.observers=(u=this.observers)==null?void 0:u.filter(v=>v.subscriptionID!==i)}forEachObserver(i){if(!this.finalized)for(let u=0;u<this.observers.length;u++)this.sendOne(u,i)}sendOne(i,u){if(this.observers!==void 0&&this.observers[i]!==void 0)try{u(this.observers[i].observer)}catch(v){Je.error(v)}}close(i){this.finalized||(this.finalized=!0,i!==void 0&&(this.finalError=i),this.observers=void 0)}}function ys(h){const i=new jE(h);return{subscribe:i.subscribe.bind(i),getProxy:()=>i}}class ca{constructor(i,u,v,E){q(this,"prevID");q(this,"nextID");q(this,"delimiter");q(this,"message");q(this,"root");q(this,"operations");q(this,"presenceChange");q(this,"previousPresence");q(this,"reversePresenceKeys");this.prevID=i,this.nextID=i.next(),this.delimiter=Pm,this.root=u,this.operations=[],this.previousPresence=oi(v),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=E}static create(i,u,v,E){return new ca(i,u,v,E)}push(i){this.operations.push(i)}registerElement(i,u){this.root.registerElement(i,u)}registerRemovedElement(i){this.root.registerRemovedElement(i)}registerGCPair(i){this.root.registerGCPair(i)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const i=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return ia.create({id:i,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(i){this.presenceChange=i}setReversePresence(i,u){for(const v of Object.keys(i))u!=null&&u.addToHistory?this.reversePresenceKeys.add(v):this.reversePresenceKeys.delete(v)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const i={};for(const u of this.reversePresenceKeys)i[u]=this.previousPresence[u];return i}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(i){this.root.acc(i)}}function yp(h,i){const u=new Po(h);return new Proxy(i,u.getHandlers())}class Po{constructor(i){q(this,"context");q(this,"handlers");this.context=i,this.handlers={set:(u,v,E)=>(Je.isEnabled(kr.Trivial)&&Je.trivial(`obj[${v}]=${JSON.stringify(E)}`),Po.setInternal(i,u,v,E),!0),get:(u,v)=>(Je.isEnabled(kr.Trivial)&&Je.trivial(`obj[${v}]`),v==="getID"?()=>u.getCreatedAt():v==="toJSON"||v==="toString"?()=>u.toJSON():v==="toJS"?()=>u.toJS():v==="toJSForTest"?()=>u.toJSForTest():da(i,u.get(v))),ownKeys:u=>u.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(u,v)=>(Je.isEnabled(kr.Trivial)&&Je.trivial(`obj[${v}]`),Po.deleteInternal(i,u,v),!0)}}static setInternal(i,u,v,E){if(v.includes("."))throw new Se(ve.ErrInvalidObjectKey,"key must not contain the '.'.");const _=i.issueTimeTicket(),L=ha(i,E,_),U=u.set(v,L,_);i.registerElement(L,u),U&&i.registerRemovedElement(U),i.push(ta.create(v,L.deepcopy(),u.getCreatedAt(),_))}static buildObjectMembers(i,u){const v={};for(const[E,_]of Object.entries(u)){if(E.includes("."))throw new Se(ve.ErrInvalidObjectKey,"key must not contain the '.'.");const L=i.issueTimeTicket(),U=ha(i,_,L);v[E]=U}return v}static deleteInternal(i,u,v){const E=i.issueTimeTicket(),_=u.deleteByKey(v,E);_&&(i.push(Si.create(u.getCreatedAt(),_.getCreatedAt(),E)),i.registerRemovedElement(_))}getHandlers(){return this.handlers}}function Fx(h,i){const u=new rn(h,i);return new Proxy(i,u.getHandlers())}function r0(h){return typeof h=="string"||h instanceof String?!isNaN(h):!1}function kx(h){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(h)}class rn{constructor(i,u){q(this,"context");q(this,"handlers");q(this,"array");this.context=i,this.array=u,this.handlers={get:(v,E,_)=>E==="getID"?()=>v.getCreatedAt():E==="getElementByID"?L=>{const U=v.getByID(L);if(!(!U||U.isRemoved()))return Gi(i,U)}:E==="getElementByIndex"?L=>{const U=v.get(L);return Gi(i,U)}:E==="getLast"?()=>Gi(i,v.getLast()):E==="delete"?L=>{const U=rn.deleteInternalByIndex(i,v,L);return Gi(i,U)}:E==="deleteByID"?L=>{const U=rn.deleteInternalByID(i,v,L);return Gi(i,U)}:E==="insertAfter"?(L,U)=>{const W=rn.insertAfterInternal(i,v,L,U);return Gi(i,W)}:E==="insertIntegerAfter"?(L,U)=>{const W=rn.insertIntegerAfterInternal(i,v,L,U);return Gi(i,W)}:E==="insertBefore"?(L,U)=>{const W=rn.insertBeforeInternal(i,v,L,U);return Gi(i,W)}:E==="setValue"?(L,U)=>{const W=rn.setValueInternal(i,v,L,U);return Gi(i,W)}:E==="moveBefore"?(L,U)=>{rn.moveBeforeInternal(i,v,L,U)}:E==="moveAfter"?(L,U)=>{rn.moveAfterInternal(i,v,L,U)}:E==="moveAfterByIndex"?(L,U)=>{rn.moveAfterByIndexInternal(i,v,L,U)}:E==="moveFront"?L=>{rn.moveFrontInternal(i,v,L)}:E==="moveLast"?L=>{rn.moveLastInternal(i,v,L)}:r0(E)?da(i,v.get(Number(E))):E==="push"?L=>rn.pushInternal(i,v,L):E==="splice"?(L,U,...W)=>rn.splice(i,v,L,U,...W):E==="length"?v.length:typeof E=="symbol"&&E===Symbol.iterator?rn.iteratorInternal.bind(this,i,v):E==="includes"?(L,U)=>rn.includes(i,v,L,U):E==="indexOf"?(L,U)=>rn.indexOf(i,v,L,U):E==="lastIndexOf"?(L,U)=>rn.lastIndexOf(i,v,L,U):E==="toJSForTest"?()=>v.toJSForTest():E==="toTestString"?()=>rn.toTestString(v):typeof E=="string"&&kx(E)?(...L)=>{const U=Array.from(v).map(W=>da(i,W));return Array.prototype[E].apply(U,L)}:Reflect.get(v,E,_),set:(v,E,_)=>{if(r0(E)){const L=Number(E);return rn.setValueInternal(i,v,L,_),!0}return Reflect.set(v,E,_)},deleteProperty:(v,E)=>(Je.isEnabled(kr.Trivial)&&Je.trivial(`array[${E}]`),rn.deleteInternalByIndex(i,v,Number.parseInt(E)),!0)}}static*iteratorInternal(i,u){for(const v of u)yield Gi(i,v)}static buildArrayElements(i,u){const v=[];for(const E of u){const _=i.issueTimeTicket(),L=ha(i,E,_);v.push(L)}return v}static pushInternal(i,u,v){return rn.insertAfterInternal(i,u,u.getLastCreatedAt(),v),u.length}static moveBeforeInternal(i,u,v,E){const _=i.issueTimeTicket(),L=u.getPrevCreatedAt(v);u.moveAfter(L,E,_),i.push(Bi.create(u.getCreatedAt(),L,E,_))}static moveAfterInternal(i,u,v,E){const _=i.issueTimeTicket();i.push(Bi.create(u.getCreatedAt(),v,E,_)),u.moveAfter(v,E,_)}static moveAfterByIndexInternal(i,u,v,E){const _=u.get(v);if(!_)throw new Se(ve.ErrInvalidArgument,`index out of bounds: ${v}`);const L=u.get(E);if(!L)throw new Se(ve.ErrInvalidArgument,`index out of bounds: ${E}`);rn.moveAfterInternal(i,u,_.getCreatedAt(),L.getCreatedAt())}static moveFrontInternal(i,u,v){const E=i.issueTimeTicket(),_=u.getHead();u.moveAfter(_.getCreatedAt(),v,E),i.push(Bi.create(u.getCreatedAt(),_.getCreatedAt(),v,E))}static moveLastInternal(i,u,v){const E=i.issueTimeTicket(),_=u.getLastCreatedAt();u.moveAfter(_,v,E),i.push(Bi.create(u.getCreatedAt(),_,v,E))}static insertAfterInternal(i,u,v,E){const _=i.issueTimeTicket(),L=ha(i,E,_);return u.insertAfter(v,L),i.registerElement(L,u),i.push(ki.create(u.getCreatedAt(),v,L.deepcopy(),_)),L}static insertIntegerAfterInternal(i,u,v,E){const _=u.get(v);if(!_)throw new Se(ve.ErrInvalidArgument,`index out of bounds: ${v}`);return rn.insertAfterInternal(i,u,_.getCreatedAt(),E),u}static insertBeforeInternal(i,u,v,E){return rn.insertAfterInternal(i,u,u.getPrevCreatedAt(v),E)}static setValueInternal(i,u,v,E){const _=u.get(v);if(!_)throw new Se(ve.ErrInvalidArgument,`index out of bounds: ${v}`);return rn.setByIndexInternal(i,u,_.getCreatedAt(),E),u}static setByIndexInternal(i,u,v,E){const _=i.issueTimeTicket(),L=ha(i,E,_),U=L.deepcopy();return i.push(ds.create(u.getCreatedAt(),v,U,_)),u.set(v,L,_),i.registerElement(L,u),L}static deleteInternalByIndex(i,u,v){const E=i.issueTimeTicket(),_=u.deleteByIndex(v,E);if(_)return i.push(Si.create(u.getCreatedAt(),_.getCreatedAt(),E)),i.registerRemovedElement(_),_}static deleteInternalByID(i,u,v){const E=i.issueTimeTicket(),_=u.delete(v,E);return i.push(Si.create(u.getCreatedAt(),_.getCreatedAt(),E)),i.registerRemovedElement(_),_}static splice(i,u,v,E,..._){const L=u.length,U=v>=0?Math.min(v,L):Math.max(L+v,0),W=E===void 0?L:E<0?U:Math.min(U+E,L),ee=[];for(let ce=U;ce<W;ce++){const Re=rn.deleteInternalByIndex(i,u,U);if(Re){const Be=Re.deepcopy();Be.setRemovedAt(),ee.push(da(i,Be))}}if(_){let ce=U===0?u.getHead().getID():u.get(U-1).getID();for(const Re of _)ce=rn.insertAfterInternal(i,u,ce,Re).getID()}return ee}static includes(i,u,v,E){var U;const _=u.length,L=E===void 0?0:E<0?Math.max(E+_,0):E;if(L>=_)return!1;if(Vn.isSupport(v))return Array.from(u).map(ee=>da(i,ee)).includes(v,L);for(let W=L;W<_;W++)if(((U=u.get(W))==null?void 0:U.getID())===v.getID())return!0;return!1}static indexOf(i,u,v,E){var U;const _=u.length,L=E===void 0?0:E<0?Math.max(E+_,0):E;if(L>=_)return-1;if(Vn.isSupport(v))return Array.from(u).map(ee=>da(i,ee)).indexOf(v,L);for(let W=L;W<_;W++)if(((U=u.get(W))==null?void 0:U.getID())===v.getID())return W;return-1}static lastIndexOf(i,u,v,E){var U;const _=u.length,L=E===void 0||E>=_?_-1:E<0?E+_:E;if(L<0)return-1;if(Vn.isSupport(v))return Array.from(u).map(ee=>da(i,ee)).lastIndexOf(v,L);for(let W=L;W>0;W--)if(((U=u.get(W))==null?void 0:U.getID())===v.getID())return W;return-1}static toTestString(i){return i.toTestString()}getHandlers(){return this.handlers}}class Vf{constructor(i,u){q(this,"context");q(this,"text");this.context=i,this.text=u}initialize(i,u){this.context=i,this.text=u}getID(){return this.text.getID()}edit(i,u,v,E){if(!this.context||!this.text)throw new Se(ve.ErrNotInitialized,"Text is not initialized yet");if(i>u)throw new Se(ve.ErrInvalidArgument,"from should be less than or equal to to");const _=this.text.indexRangeToPosRange(i,u);Je.isEnabled(kr.Debug)&&Je.debug(`EDIT: f:${i}->${_[0].toTestString()}, t:${u}->${_[1].toTestString()} c:${v}`);const L=E?sl(E):void 0,U=this.context.issueTimeTicket(),[,W,ee,ce]=this.text.edit(_,v,U,L);this.context.acc(ee);for(const Re of W)this.context.registerGCPair(Re);return this.context.push(new wo(this.text.getCreatedAt(),_[0],_[1],v,L?new Map(Object.entries(L)):new Map,U)),this.text.findIndexesFromRange(ce)}delete(i,u){return this.edit(i,u,"")}empty(){return this.edit(0,this.length,"")}setStyle(i,u,v){if(!this.context||!this.text)throw new Se(ve.ErrNotInitialized,"Text is not initialized yet");if(i>u)throw new Se(ve.ErrInvalidArgument,"from should be less than or equal to to");const E=this.text.indexRangeToPosRange(i,u);Je.isEnabled(kr.Debug)&&Je.debug(`STYL: f:${i}->${E[0].toTestString()}, t:${u}->${E[1].toTestString()} a:${JSON.stringify(v)}`);const _=sl(v),L=this.context.issueTimeTicket(),[U,W]=this.text.setStyle(E,_,L);this.context.acc(W);for(const ee of U)this.context.registerGCPair(ee);return this.context.push(new rc(this.text.getCreatedAt(),E[0],E[1],new Map(Object.entries(_)),L)),!0}indexRangeToPosRange(i){if(!this.context||!this.text)throw new Se(ve.ErrNotInitialized,"Text is not initialized yet");const u=this.text.indexRangeToPosRange(i[0],i[1]);return[u[0].toStruct(),u[1].toStruct()]}posRangeToIndexRange(i){if(!this.context||!this.text)throw new Se(ve.ErrNotInitialized,"Text is not initialized yet");const u=this.text.findIndexesFromRange([lr.fromStruct(i[0]),lr.fromStruct(i[1])]);return[u[0],u[1]]}toTestString(){if(!this.context||!this.text)throw new Se(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new Se(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new Se(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new Se(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new Se(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(i,u){if(!this.context||!this.text)throw new Se(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(i,u)}}class i0{constructor(i,u){q(this,"valueType");q(this,"value");q(this,"context");q(this,"counter");this.valueType=i,this.value=u}initialize(i,u){this.valueType=u.getValueType(),this.context=i,this.counter=u,this.value=u.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(i){if(!this.context||!this.counter)throw new Se(ve.ErrNotInitialized,"Counter is not initialized yet");const u=this.context.issueTimeTicket(),v=Vn.of(i,u);if(!v.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof v.getValue()}`);return this.counter.increase(v),this.context.push(Rn.create(this.counter.getCreatedAt(),v,u)),this}toJSForTest(){if(!this.context||!this.counter)throw new Se(ve.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function o0(h){if(h.isText)return{type:h.type,value:h.value};const i={type:h.type,children:h.children.map(u=>o0(u))};return h.attrs&&(i.attributes=Co(h.attrs.toObject())),i}function zE(h,i){const u={type:h.isText?h.parent.type:h.type,children:h.isText?h.parent.getChildrenText().length===i?[]:[{type:so,value:h.parent.getChildrenText().slice(i)}]:h.children.slice(i).map(v=>o0(v))};return h.attrs?u.attributes=Co(h.attrs.toObject()):h.isText&&h.parent.attrs&&(u.attributes=Co(h.parent.attrs.toObject())),u}function Bx(h,i){const{node:u}=h,v=[...i].slice(0,-1),E=u.isText?u.parent.getChildrenText().length:u.children.length,_=[...v,E],L=[...v],U=[];L[L.length-1]+=1,i.every((ee,ce)=>ee===_[ce])||U.push({fromPath:[...i],toPath:_});const W=zE(u,i[i.length-1]);return W&&U.push({fromPath:L,toPath:L,content:W}),U}function jx(h,i){const{node:u,offset:v}=h,E=u.children[v],_=u.children[v-1],{children:L}=E,U=[...i].slice(0,-1),W=[{fromPath:[...i],toPath:[...U,v+1]}];if(!E.children.length)return W;const ee=[...U,v-1,_.hasTextChild()?_.getChildrenText().length:_.children.length],ce=L.map(Re=>o0(Re));return W.push({fromPath:ee,toPath:ee,content:ce}),W}function fa(h,i,u){const{type:v}=h,E=u.issueTimeTicket();if(v===so){s0(h);const{value:_}=h,L=Yr.create(ur.of(E,0),v,_);i.append(L)}else{const{children:_=[]}=h,{attributes:L}=h;let U;if(typeof L=="object"&&!Gm(L)){const ee=sl(L);U=new $r;for(const[ce,Re]of Object.entries(ee))U.set(ce,Re,E)}const W=Yr.create(ur.of(E,0),v,void 0,U);i.append(W);for(const ee of _)fa(ee,W,u)}}function xp(h,i){const{type:u}=i,v=h.issueTimeTicket();let E;if(i.type===so){const{value:_}=i;E=Yr.create(ur.of(v,0),u,_)}else if(i){const{children:_=[]}=i,{attributes:L}=i;let U;if(typeof L=="object"&&!Gm(L)){const W=sl(L);U=new $r;for(const[ee,ce]of Object.entries(W))U.set(ee,ce,v)}E=Yr.create(ur.of(h.issueTimeTicket(),0),u,void 0,U);for(const W of _)fa(W,E,h)}return E}function s0(h){if(!h.value.length)throw new Se(ve.ErrInvalidArgument,"text node cannot have empty value");return!0}function a0(h){if(!h.length)return!0;if(h[0].type===so)for(const u of h){const{type:v}=u;if(v!==so)throw new Se(ve.ErrInvalidArgument,"element node and text node cannot be passed together");s0(u)}else for(const u of h){const{type:v}=u;if(v===so)throw new Se(ve.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class bp{constructor(i){q(this,"initialRoot");q(this,"context");q(this,"tree");this.initialRoot=i}initialize(i,u){this.context=i,this.tree=u}getID(){return this.tree.getID()}buildRoot(i){if(!this.initialRoot)return Yr.create(ur.of(i.issueTimeTicket(),0),ME);const u=Yr.create(ur.of(i.issueTimeTicket(),0),this.initialRoot.type);for(const v of this.initialRoot.children)fa(v,u,i);return u}getSize(){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(i){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");if(!i.length)throw new Se(ve.ErrInvalidArgument,"path should not be empty");const u=this.tree.pathToTreePos(i),v=Bx(u,i);for(const E of v){const{fromPath:_,toPath:L,content:U}=E,W=this.tree.pathToPos(_),ee=this.tree.pathToPos(L);this.editInternal(W,ee,U?[U]:[],0)}}mergeByPath(i){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");if(!i.length)throw new Se(ve.ErrInvalidArgument,"path should not be empty");const u=this.tree.pathToTreePos(i);if(u.node.isText)throw new Se(ve.ErrInvalidArgument,"text node cannot be merged");const v=jx(u,i);for(const E of v){const{fromPath:_,toPath:L,content:U}=E,W=this.tree.pathToPos(_),ee=this.tree.pathToPos(L);this.editInternal(W,ee,U??[],0)}}styleByPath(i,u){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");if(!i.length)throw new Se(ve.ErrInvalidArgument,"path should not be empty");const[v,E]=this.tree.pathToPosRange(i),_=this.context.issueTimeTicket(),L=u?sl(u):void 0,[U,,W]=this.tree.style([v,E],L,_);this.context.acc(W);for(const ee of U)this.context.registerGCPair(ee);this.context.push(fs.create(this.tree.getCreatedAt(),v,E,L?new Map(Object.entries(L)):new Map,_))}style(i,u,v){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");if(i>u)throw new Se(ve.ErrInvalidArgument,"from should be less than or equal to to");const E=this.tree.findPos(i),_=this.tree.findPos(u),L=this.context.issueTimeTicket(),U=v?sl(v):void 0,[W,,ee]=this.tree.style([E,_],U,L);this.context.acc(ee);for(const ce of W)this.context.registerGCPair(ce);this.context.push(fs.create(this.tree.getCreatedAt(),E,_,U?new Map(Object.entries(U)):new Map,L))}removeStyle(i,u,v){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");if(i>u)throw new Se(ve.ErrInvalidArgument,"from should be less than or equal to to");const E=this.tree.findPos(i),_=this.tree.findPos(u),L=this.context.issueTimeTicket(),[U,,W]=this.tree.removeStyle([E,_],v,L);this.context.acc(W);for(const ee of U)this.context.registerGCPair(ee);this.context.push(fs.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),E,_,v,L))}editInternal(i,u,v,E=0){var ee;if(v.length!==0&&v[0]&&(a0(v),v[0].type!==so))for(const ce of v){const{children:Re=[]}=ce;a0(Re)}const _=this.context.getLastTimeTicket();let L=new Array;if(((ee=v[0])==null?void 0:ee.type)===so){let ce="";for(const Re of v){const{value:Be}=Re;ce+=Be}L.push(Yr.create(ur.of(this.context.issueTimeTicket(),0),so,ce))}else L=v.map(ce=>ce&&xp(this.context,ce)).filter(ce=>ce);const[,U,W]=this.tree.edit([i,u],L.length?L.map(ce=>ce==null?void 0:ce.deepcopy()):void 0,E,_,()=>this.context.issueTimeTicket());this.context.acc(W);for(const ce of U)this.context.registerGCPair(ce);return this.context.push(al.create(this.tree.getCreatedAt(),i,u,L.length?L:void 0,E,_)),!0}editByPath(i,u,v,E=0){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");if(i.length!==u.length)throw new Se(ve.ErrInvalidArgument,"path length should be equal");if(!i.length||!u.length)throw new Se(ve.ErrInvalidArgument,"path should not be empty");const _=this.tree.pathToPos(i),L=this.tree.pathToPos(u);return this.editInternal(_,L,v?[v]:[],E)}editBulkByPath(i,u,v,E=0){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");if(i.length!==u.length)throw new Se(ve.ErrInvalidArgument,"path length should be equal");if(!i.length||!u.length)throw new Se(ve.ErrInvalidArgument,"path should not be empty");const _=this.tree.pathToPos(i),L=this.tree.pathToPos(u);return this.editInternal(_,L,v,E)}edit(i,u,v,E=0){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");if(i>u)throw new Se(ve.ErrInvalidArgument,"from should be less than or equal to to");const _=this.tree.findPos(i),L=this.tree.findPos(u);return this.editInternal(_,L,v?[v]:[],E)}editBulk(i,u,v,E=0){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");if(i>u)throw new Se(ve.ErrInvalidArgument,"from should be less than or equal to to");const _=this.tree.findPos(i),L=this.tree.findPos(u);return this.editInternal(_,L,v,E)}toXML(){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(i){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(i)}pathToIndex(i){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(i)}pathRangeToPosRange(i){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");const u=[this.tree.pathToIndex(i[0]),this.tree.pathToIndex(i[1])],v=this.tree.indexRangeToPosRange(u);return[v[0].toStruct(),v[1].toStruct()]}indexRangeToPosRange(i){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(i)}posRangeToIndexRange(i){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");const u=[zi.fromStruct(i[0]),zi.fromStruct(i[1])];return this.tree.posRangeToIndexRange(u)}posRangeToPathRange(i){if(!this.context||!this.tree)throw new Se(ve.ErrNotInitialized,"Tree is not initialized yet");const u=[zi.fromStruct(i[0]),zi.fromStruct(i[1])];return this.tree.posRangeToPathRange(u)}}function l0(h,i){return yp(h,i)}function Gi(h,i){if(i){if(i instanceof Vn)return i;if(i instanceof Sr)return yp(h,i);if(i instanceof ar)return Fx(h,i);if(i instanceof Hr)return new Vf(h,i);if(i instanceof mr){const u=new i0(Ei.Int,0);return u.initialize(h,i),u}else if(i instanceof Fr){const u=new bp;return u.initialize(h,i),u}}else return;throw new TypeError(`Unsupported type of element: ${typeof i}`)}function da(h,i){const u=Gi(h,i);return u instanceof Vn?u.getValue():u}function ha(h,i,u){let v;if(Vn.isSupport(i))v=Vn.of(i,u);else if(Array.isArray(i))v=ar.create(u,rn.buildArrayElements(h,i));else if(typeof i=="object")i instanceof Vf?(v=Hr.create(ol.create(),u),i.initialize(h,v)):i instanceof i0?(v=mr.create(i.getValueType(),i.getValue(),u),i.initialize(h,v)):i instanceof bp?(v=Fr.create(i.buildRoot(h),u),i.initialize(h,v)):v=Sr.create(u,Po.buildObjectMembers(h,i));else throw new TypeError(`Unsupported type of value: ${typeof i}`);return v}class hc{constructor(i){q(this,"rootObject");q(this,"elementPairMapByCreatedAt");q(this,"gcElementSetByCreatedAt");q(this,"gcPairMap");q(this,"docSize");this.rootObject=i,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(i,void 0),i.getDescendants(u=>{if(u.getRemovedAt()&&this.registerRemovedElement(u),u instanceof Hr||u instanceof Fr)for(const v of u.getGCPairs())this.registerGCPair(v);return!1})}static create(){return new hc(Sr.create(il))}findByCreatedAt(i){const u=this.elementPairMapByCreatedAt.get(i.toIDString());if(u)return u.element}findElementPairByCreatedAt(i){return this.elementPairMapByCreatedAt.get(i.toIDString())}createSubPaths(i){let u=this.elementPairMapByCreatedAt.get(i.toIDString());if(!u)return[];const v=[];for(;u.parent;){const E=u.element.getCreatedAt(),_=u.parent.subPathOf(E);if(_===void 0)throw new Se(ve.ErrInvalidArgument,`cant find the given element: ${E.toIDString()}`);v.unshift(_),u=this.elementPairMapByCreatedAt.get(u.parent.getCreatedAt().toIDString())}return v.unshift("$"),v}createPath(i){return this.createSubPaths(i).join(".")}registerElement(i,u){this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:u,element:i}),kn(this.docSize.live,i.getDataSize()),i instanceof rs&&i.getDescendants((v,E)=>(this.elementPairMapByCreatedAt.set(v.getCreatedAt().toIDString(),{parent:E,element:v}),kn(this.docSize.live,v.getDataSize()),!1))}deregisterElement(i){let u=0;const v=E=>{const _=E.getCreatedAt().toIDString();Gr(this.docSize.gc,E.getDataSize()),this.elementPairMapByCreatedAt.delete(_),this.gcElementSetByCreatedAt.delete(_),u++};return v(i),i instanceof rs&&i.getDescendants(E=>(v(E),!1)),u}registerRemovedElement(i){kn(this.docSize.gc,i.getDataSize()),Gr(this.docSize.live,i.getDataSize()),this.docSize.live.meta+=no,this.gcElementSetByCreatedAt.add(i.getCreatedAt().toIDString())}registerGCPair(i){if(this.gcPairMap.get(i.child.toIDString())){this.gcPairMap.delete(i.child.toIDString());return}this.gcPairMap.set(i.child.toIDString(),i);const v=this.gcPairMap.get(i.child.toIDString()).child.getDataSize();kn(this.docSize.gc,v),Gr(this.docSize.live,v),i.child instanceof ls||(this.docSize.live.meta+=no)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const i=new Set;for(const u of this.gcElementSetByCreatedAt){i.add(u);const v=this.elementPairMapByCreatedAt.get(u);v.element instanceof rs&&v.element.getDescendants(E=>(i.add(E.getCreatedAt().toIDString()),!1))}return i.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new hc(this.rootObject.deepcopy())}garbageCollect(i){let u=0;for(const v of this.gcElementSetByCreatedAt){const E=this.elementPairMapByCreatedAt.get(v),_=E.element.getRemovedAt();_&&(i!=null&&i.afterOrEqual(_))&&(E.parent.purge(E.element),u+=this.deregisterElement(E.element))}for(const[,v]of this.gcPairMap){const E=v.child.getRemovedAt();E&&(i!=null&&i.afterOrEqual(E))&&(v.parent.purge(v.child),Gr(this.docSize.gc,v.child.getDataSize()),this.gcPairMap.delete(v.child.toIDString()),u+=1)}return u}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(i){kn(this.docSize.live,i)}*getGCElementPairs(){for(const i of this.gcElementSetByCreatedAt){const u=this.elementPairMapByCreatedAt.get(i);u&&(yield u)}}}let u0=class{constructor(i,u){q(this,"context");q(this,"presence");this.context=i,this.presence=u}set(i,u){for(const v of Object.keys(i))this.presence[v]=i[v];this.context.setPresenceChange({type:to.Put,presence:oi(this.presence)}),this.context.setReversePresence(i,u)}get(i){return this.presence[i]}clear(){this.presence={},this.context.setPresenceChange({type:to.Clear})}};const Tn=50;class c0{constructor(){q(this,"undoStack",[]);q(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(i){this.undoStack.length>=Tn&&this.undoStack.shift(),this.undoStack.push(i)}popUndo(){return this.undoStack.pop()}pushRedo(i){this.redoStack.length>=Tn&&this.redoStack.shift(),this.redoStack.push(i)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(i,u){const v=E=>{for(const _ of E)for(const L of _)(L instanceof ds||L instanceof Si||L instanceof Bi)&&L.getCreatedAt()===i&&L.setCreatedAt(u),(L instanceof ki||L instanceof Bi)&&L.getPrevCreatedAt()===i&&L.setPrevCreatedAt(u)};v(this.undoStack),v(this.redoStack)}reconcileTextEdit(i,u,v,E){const _=L=>{for(const U of L)for(const W of U)W instanceof wo&&W.getParentCreatedAt().compare(i)===0&&W.reconcileOperation(u,v,E)};_(this.undoStack),_(this.redoStack)}}function VE(h,i){const u=[];for(const v of i){const E=zx(h,v.path),_=UE(E,v);if(!_.valid)for(const L of _.errors||[])u.push(L)}return{valid:u.length===0,errors:u}}function zx(h,i){if(!i.startsWith("$"))throw new Error(`Path must start with $, got ${i}`);const u=i.split(".");let v=h;for(let E=1;E<u.length;E++){const _=u[E];if(!(v instanceof Sr))return;v=v.get(_)}return v}function UE(h,i){switch(i.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return $E(h,i);case"object":if(!(h instanceof Sr))return{valid:!1,errors:[{path:i.path,message:`expected object at path ${i.path}`}]};break;case"array":if(!(h instanceof ar))return{valid:!1,errors:[{path:i.path,message:`expected array at path ${i.path}`}]};break;case"yorkie.Text":if(!(h instanceof Hr))return{valid:!1,errors:[{path:i.path,message:`expected yorkie.Text at path ${i.path}`}]};break;case"yorkie.Tree":if(!(h instanceof Fr))return{valid:!1,errors:[{path:i.path,message:`expected yorkie.Tree at path ${i.path}`}]};break;case"yorkie.Counter":if(!(h instanceof mr))return{valid:!1,errors:[{path:i.path,message:`expected yorkie.Counter at path ${i.path}`}]};break;default:throw new Error(`Unknown rule type: ${i.type}`)}return{valid:!0}}function GE(h){switch(h){case"null":return Cn.Null;case"boolean":return Cn.Boolean;case"integer":return Cn.Integer;case"long":return Cn.Long;case"double":return Cn.Double;case"string":return Cn.String;case"bytes":return Cn.Bytes;case"date":return Cn.Date;default:throw new Error(`Unknown primitive type: ${h}`)}}function $E(h,i){return h instanceof Vn&&h.getType()===GE(i.type)?{valid:!0}:{valid:!1,errors:[{path:i.path,message:`expected ${i.type} at path ${i.path}`}]}}const Sp="yorkie-devtools-panel",pc="yorkie-devtools-sdk";function f0(h){return[dr.StatusChanged,dr.Snapshot,dr.LocalChange,dr.RemoteChange,dr.Initialized,dr.Watched,dr.Unwatched,dr.PresenceChanged].includes(h.type)}function Ep(h){return h.every(f0)}let pa="disconnected";const ga=new Map,Ai=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Ai);function ma(h,i){(i!=null&&i.force||pa!=="disconnected")&&window.postMessage({source:pc,...h},"*")}function HE(h){if(!h.isEnableDevtools()||typeof window>"u"||ga.has(h.getKey()))return;Ai.set(h.getKey(),[]);const i=h.subscribe("all",u=>{Ep(u)&&(Ai.get(h.getKey()).push(u),pa==="synced"&&ma({msg:"doc::sync::partial",docKey:h.getKey(),event:u}))});ga.set(h.getKey(),[i]),ma({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",u=>{var E;if(((E=u.data)==null?void 0:E.source)!==Sp)return;switch(u.data.msg){case"devtools::connect":if(pa!=="disconnected")break;pa="connected",ma({msg:"doc::available",docKey:h.getKey()}),Je.info(`[YD] Devtools connected. Doc: ${h.getKey()}`);break;case"devtools::disconnect":pa="disconnected",Je.info(`[YD] Devtools disconnected. Doc: ${h.getKey()}`);break;case"devtools::subscribe":pa="synced",ma({msg:"doc::sync::full",docKey:h.getKey(),events:Ai.get(h.getKey())}),Je.info(`[YD] Devtools subscribed. Doc: ${h.getKey()}`);break}})}var xs=(h=>(h.Detached="detached",h.Attached="attached",h.Removed="removed",h))(xs||{}),dr=(h=>(h.StatusChanged="status-changed",h.ConnectionChanged="connection-changed",h.SyncStatusChanged="sync-status-changed",h.Snapshot="snapshot",h.LocalChange="local-change",h.RemoteChange="remote-change",h.Initialized="initialized",h.Watched="watched",h.Unwatched="unwatched",h.PresenceChanged="presence-changed",h.AuthError="auth-error",h))(dr||{}),pl=(h=>(h.Connected="connected",h.Disconnected="disconnected",h))(pl||{}),Ap=(h=>(h.Synced="synced",h.SyncFailed="sync-failed",h))(Ap||{});class va{constructor(i,u){q(this,"key");q(this,"status");q(this,"opts");q(this,"maxSizeLimit");q(this,"schemaRules");q(this,"changeID");q(this,"checkpoint");q(this,"localChanges");q(this,"root");q(this,"presences");q(this,"clone");q(this,"internalHistory");q(this,"isUpdating");q(this,"onlineClients");q(this,"eventStream");q(this,"eventStreamObserver");q(this,"history");this.key=i,this.status="detached",this.opts=u||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=us,this.checkpoint=cs,this.localChanges=[],this.root=hc.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new c0,this.isUpdating=!1,this.eventStream=ys(v=>this.eventStreamObserver=v),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},HE(this)}update(i,u){var U,W,ee;if(this.getStatus()==="removed")throw new Se(ve.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const v=this.changeID.getActorID(),E=ca.create(this.changeID,this.clone.root,this.clone.presences.get(v)||{},u);try{const ce=l0(E,this.clone.root.getObject());this.presences.has(v)||this.clone.presences.set(v,{}),this.isUpdating=!0,i(ce,new u0(E,this.clone.presences.get(v)))}catch(ce){throw this.clone=void 0,ce}finally{this.isUpdating=!1}const _=this.getSchemaRules();if(!E.isPresenceOnlyChange()&&_.length){const ce=VE((U=this.clone)==null?void 0:U.root.getObject(),_);if(!ce.valid)throw this.clone=void 0,new Se(ve.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(W=ce.errors)==null?void 0:W.map(Re=>Re.message).join(", ")}`)}const L=na((ee=this.clone)==null?void 0:ee.root.getDocSize());if(!E.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<L)throw this.clone=void 0,new Se(ve.ErrDocumentSizeExceedsLimit,`document size exceeded: ${L} > ${this.maxSizeLimit}`);if(E.hasChange()){Je.isEnabled(kr.Trivial)&&Je.trivial(`trying to update a local change: ${this.toJSON()}`);const ce=E.toChange(),{opInfos:Re,reverseOps:Be}=ce.execute(this.root,this.presences,On.Local);for(const He of ce.getOperations())He instanceof ds&&this.internalHistory.reconcileCreatedAt(He.getCreatedAt(),He.getValue().getCreatedAt());const Te=E.getReversePresence();Te&&Be.push({type:"presence",value:Te}),this.localChanges.push(ce),Be.length&&this.internalHistory.pushUndo(Be),Re.length&&this.internalHistory.clearRedo(),this.changeID=E.getNextID();const We=[];Re.length&&We.push({type:"local-change",source:On.Local,value:{message:ce.getMessage()||"",operations:Re,actor:v,clientSeq:ce.getID().getClientSeq(),serverSeq:ce.getID().getServerSeq()},rawChange:this.isEnableDevtools()?ce.toStruct():void 0}),ce.hasPresenceChange()&&We.push({type:"presence-changed",source:On.Local,value:{clientID:v,presence:this.getPresence(v)}}),this.publish(We),Je.isEnabled(kr.Trivial)&&Je.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(i,u,v,E){if(typeof i=="string"){if(typeof u!="function")throw new Se(ve.ErrInvalidArgument,"Second argument must be a callback function");if(i==="presence"){const U=u;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type!=="initialized"&&ee.type!=="watched"&&ee.type!=="unwatched"&&ee.type!=="presence-changed"||U(ee)},v,E)}if(i==="my-presence"){const U=u;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type!=="initialized"&&ee.type!=="presence-changed"||ee.type==="presence-changed"&&ee.value.clientID!==this.changeID.getActorID()||U(ee)},v,E)}if(i==="others"){const U=u;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type!=="watched"&&ee.type!=="unwatched"&&ee.type!=="presence-changed"||ee.value.clientID!==this.changeID.getActorID()&&U(ee)},v,E)}if(i==="connection"){const U=u;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type==="connection-changed"&&U(ee)},v,E)}if(i==="status"){const U=u;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type==="status-changed"&&U(ee)},v,E)}if(i==="sync"){const U=u;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type==="sync-status-changed"&&U(ee)},v,E)}if(i==="auth-error"){const U=u;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type==="auth-error"&&U(ee)},v)}if(i==="all"){const U=u;return this.eventStream.subscribe(U,v,E)}const _=i,L=u;return this.eventStream.subscribe(U=>{for(const W of U){if(W.type!=="local-change"&&W.type!=="remote-change")continue;const ee=[];for(const ce of W.value.operations)this.isSameElementOrChildOf(ce.path,_)&&ee.push(ce);ee.length&&L({...W,value:{...W.value,operations:ee}})}},v,E)}if(typeof i=="function"){const _=i,L=u,U=v;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type!=="snapshot"&&ee.type!=="local-change"&&ee.type!=="remote-change"||_(ee)},L,U)}throw new Se(ve.ErrInvalidArgument,`"${i}" is not a valid`)}publish(i){this.eventStreamObserver&&this.eventStreamObserver.next(i)}applyChangePack(i){i.hasSnapshot()?this.applySnapshot(i.getCheckpoint().getServerSeq(),i.getVersionVector(),i.getSnapshot(),i.getCheckpoint().getClientSeq()):(this.applyChanges(i.getChanges(),On.Remote),this.removePushedLocalChanges(i.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(i.getCheckpoint()),i.hasSnapshot()||this.garbageCollect(i.getVersionVector()),i.getIsRemoved()&&this.applyStatus("removed"),Je.isEnabled(kr.Trivial)&&Je.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:oi(this.presences)})}createChangePack(){const i=Array.from(this.localChanges),u=this.checkpoint.increaseClientSeq(i.length);return up.create(this.key,u,!1,i,this.getVersionVector())}setActor(i){for(const u of this.localChanges)u.setActor(i);this.changeID=this.changeID.setActor(i)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const i=ca.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return l0(i,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(i){this.maxSizeLimit=i}getSchemaRules(){return this.schemaRules}setSchemaRules(i){this.schemaRules=i}garbageCollect(i){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(i),this.root.garbageCollect(i))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(i,u,v,E=-1){const{root:_,presences:L}=yn.bytesToSnapshot(v);this.root=new hc(_),this.presences=L,this.changeID=this.changeID.setClocks(u.maxLamport(),u),this.clone=void 0,this.removePushedLocalChanges(E),this.applyChanges(this.localChanges,On.Local),this.clearHistory(),this.publish([{type:"snapshot",source:On.Remote,value:{serverSeq:i.toString(),snapshot:this.isEnableDevtools()?yn.bytesToHex(v):void 0,snapshotVector:yn.versionVectorToHex(u)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(i,u){Je.isEnabled(kr.Debug)&&Je.debug(`trying to apply ${i.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),Je.isEnabled(kr.Trivial)&&Je.trivial(i.map(v=>`${v.getID().toTestString()}	${v.toTestString()}`).join(`
`));for(const v of i)this.applyChange(v,u);Je.isEnabled(kr.Debug)&&Je.debug(`after appling ${i.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(i,u){var U;this.ensureClone(),i.execute(this.clone.root,this.clone.presences,u);const v=[],E=i.getID().getActorID();if(i.hasPresenceChange()&&this.onlineClients.has(E)){const W=i.getPresenceChange();switch(W.type){case to.Put:v.push(this.presences.has(E)?{type:"presence-changed",source:u,value:{clientID:E,presence:W.presence}}:{type:"watched",source:On.Remote,value:{clientID:E,presence:W.presence}});break;case to.Clear:v.push({type:"unwatched",source:On.Remote,value:{clientID:E,presence:this.getPresence(E)}}),this.removeOnlineClient(E);break}}const{opInfos:_,operations:L}=i.execute(this.root,this.presences,u);for(const W of L)if(W instanceof wo){const[ee,ce]=W.normalizePos(this.root);this.internalHistory.reconcileTextEdit(W.getParentCreatedAt(),ee,ce,((U=W.getContent())==null?void 0:U.length)??0)}if(this.changeID=this.changeID.syncClocks(i.getID()),_.length){const W=this.isEnableDevtools()?i.toStruct():void 0;v.push(u===On.Remote?{type:"remote-change",source:u,value:{actor:E,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq(),message:i.getMessage()||"",operations:_},rawChange:W}:{type:"local-change",source:u,value:{actor:E,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq(),message:i.getMessage()||"",operations:_},rawChange:W})}v.length&&this.publish(v)}applyWatchStream(i){if(i.body.case==="initialization"){const u=i.body.value.clientIds,v=new Set;for(const E of u)E!==this.changeID.getActorID()&&v.add(E);this.setOnlineClients(v),this.publish([{type:"initialized",source:On.Local,value:this.getPresences()}]);return}if(i.body.case==="event"){const{type:u,publisher:v}=i.body.value,E=[];if(u===Mf.DOCUMENT_WATCHED){if(this.onlineClients.has(v)&&this.hasPresence(v))return;this.addOnlineClient(v),this.hasPresence(v)&&E.push({type:"watched",source:On.Remote,value:{clientID:v,presence:this.getPresence(v)}})}else if(u===Mf.DOCUMENT_UNWATCHED){const _=this.getPresence(v);this.removeOnlineClient(v),_&&E.push({type:"unwatched",source:On.Remote,value:{clientID:v,presence:_}})}E.length&&this.publish(E)}}applyStatus(i){this.status=i,i==="detached"&&this.setActor(Qh),this.publish([{source:i==="removed"?On.Remote:On.Local,type:"status-changed",value:i==="attached"?{status:i,actorID:this.changeID.getActorID()}:{status:i}}])}applyDocEventsForReplay(i){for(const u of i){if(u.type==="status-changed"){this.applyStatus(u.value.status),u.value.status==="attached"&&this.setActor(u.value.actorID);continue}if(u.type==="snapshot"){const{snapshot:v,serverSeq:E,snapshotVector:_}=u.value;if(!v)continue;this.applySnapshot(BigInt(E),yn.hexToVersionVector(_),yn.hexToBytes(v));continue}if(u.type==="local-change"||u.type==="remote-change"){if(!u.rawChange)continue;const v=ia.fromStruct(u.rawChange);this.applyChange(v,u.source)}if(u.type==="initialized"){const v=new Set;for(const{clientID:E,presence:_}of u.value)v.add(E),this.presences.set(E,_);this.setOnlineClients(v)}else if(u.type==="watched"){const{clientID:v,presence:E}=u.value;this.addOnlineClient(v),this.presences.set(v,E)}else if(u.type==="unwatched"){const{clientID:v}=u.value;this.removeOnlineClient(v),this.presences.delete(v)}else if(u.type==="presence-changed"){const{clientID:v,presence:E}=u.value;this.presences.set(v,E)}}}getValueByPath(i){if(!i.startsWith("$"))throw new Se(ve.ErrInvalidArgument,'path must start with "$"');const u=i.split(".");u.shift();let v=this.getRoot();for(const E of u)if(v=v[E],!v)return;return v}setOnlineClients(i){this.onlineClients=i}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(i){this.onlineClients.add(i)}removeOnlineClient(i){this.onlineClients.delete(i)}hasPresence(i){return this.presences.has(i)}getMyPresence(){if(this.status!=="attached")return{};const i=this.presences.get(this.changeID.getActorID());return i?oi(i):{}}getOthersPresences(){const i=[],u=this.changeID.getActorID();for(const v of this.onlineClients)v!==u&&this.presences.has(v)&&i.push({clientID:v,presence:oi(this.presences.get(v))});return i}getPresence(i){if(i===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(i))return;const u=this.presences.get(i);return u?oi(u):void 0}getPresences(){const i=[];i.push({clientID:this.changeID.getActorID(),presence:oi(this.getMyPresence())});for(const u of this.onlineClients)this.presences.has(u)&&i.push({clientID:u,presence:oi(this.presences.get(u))});return i}getPresenceForTest(i){const u=this.presences.get(i);return u?oi(u):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const i=this.getChangeID().getActorID();return this.getPresences().filter(u=>u.clientID!==i).sort((u,v)=>u.clientID>v.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(i,u){if(u===i)return!0;const v=i.split(".");return u.split(".").every((E,_)=>E===v[_])}removePushedLocalChanges(i){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>i);)this.localChanges.shift()}executeUndoRedo(i){if(this.isUpdating)throw new Se(ve.ErrRefused,`${i?"Undo":"Redo"} is not allowed during an update`);const u=i?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!u)throw new Se(ve.ErrRefused,`There is no operation to be ${i?"undone":"redone"}`);this.ensureClone();const v=ca.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const ce of u){if(!(ce instanceof Ur)){new u0(v,oi(this.clone.presences.get(this.changeID.getActorID()))).set(ce.value,{addToHistory:!0});continue}const Re=v.issueTimeTicket();if(ce.setExecutedAt(Re),ce instanceof ds){const Be=ce.getCreatedAt();ce.getValue().setCreatedAt(Re),this.internalHistory.reconcileCreatedAt(Be,Re)}else if(ce instanceof ki){const Be=ce.getValue().getCreatedAt();ce.getValue().setCreatedAt(Re),this.internalHistory.reconcileCreatedAt(Be,Re)}v.push(ce)}const E=v.toChange();E.execute(this.clone.root,this.clone.presences,On.UndoRedo);const{opInfos:_,reverseOps:L}=E.execute(this.root,this.presences,On.UndoRedo),U=v.getReversePresence();if(U&&L.push({type:"presence",value:U}),L.length&&(i?this.internalHistory.pushRedo(L):this.internalHistory.pushUndo(L)),!E.hasPresenceChange()&&!_.length)return;this.localChanges.push(E),this.changeID=v.getNextID();const W=this.changeID.getActorID(),ee=[];_.length&&ee.push({type:"local-change",source:On.UndoRedo,value:{message:E.getMessage()||"",operations:_,actor:W,clientSeq:E.getID().getClientSeq(),serverSeq:E.getID().getServerSeq()},rawChange:this.isEnableDevtools()?E.toStruct():void 0}),E.hasPresenceChange()&&ee.push({type:"presence-changed",source:On.UndoRedo,value:{clientID:W,presence:this.getPresence(W)}}),this.publish(ee)}}class Cp{constructor(i,u,v,E){q(this,"resource");q(this,"resourceID");q(this,"syncMode");q(this,"changeEventReceived");q(this,"lastHeartbeatTime");q(this,"reconnectStreamDelay");q(this,"cancelled");q(this,"watchStream");q(this,"watchLoopTimerID");q(this,"watchAbortController");this.reconnectStreamDelay=i,this.resource=u,this.resourceID=v,this.syncMode=E,this.changeEventReceived=E!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(i){this.syncMode=i}needRealtimeSync(){return this.syncMode===Ft.RealtimeSyncOff?!1:this.syncMode===Ft.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==Ft.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(i){return this.resource instanceof va?this.needRealtimeSync():this.syncMode===Ft.Manual?!1:Date.now()-this.lastHeartbeatTime>=i}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(i){const u=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await i(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(u,this.reconnectStreamDelay))})}catch{}};await u()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function Vx(h,i){let u=i;return{authInterceptor:_=>async L=>(h&&L.header.set("x-api-key",h),u&&L.header.set("authorization",u),await _(L)),setToken:_=>{u=_}}}const wp={name:"@yorkie-js/sdk",version:"0.6.47"};function d0(h){return i=>async u=>(h?u.header.set("x-yorkie-user-agent",h):u.header.set("x-yorkie-user-agent",wp.name+"/"+wp.version),await i(u))}const WE=h=>{try{if(JSON.stringify(h)===void 0)return!1}catch{return!1}return!0};var Uf=(h=>(h.Detached="detached",h.Attached="attached",h.Removed="removed",h))(Uf||{}),Mo=(h=>(h.PresenceChanged="presence-changed",h.Initialized="initialized",h.Broadcast="broadcast",h.LocalBroadcast="local-broadcast",h.AuthError="auth-error",h))(Mo||{});const Gf=".";class Lo{constructor(i){q(this,"key");q(this,"status");q(this,"actorID");q(this,"sessionID");q(this,"sessionCount");q(this,"seq");q(this,"eventStream");q(this,"eventStreamObserver");this.validateChannelKey(i),this.key=i,this.status="detached",this.sessionCount=0,this.seq=0,this.eventStream=ys(u=>this.eventStreamObserver=u)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Gf)[0]}getStatus(){return this.status}applyStatus(i){this.status=i}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(i){this.actorID=i}getSessionID(){return this.sessionID}setSessionID(i){this.sessionID=i}getSessionCount(){return this.sessionCount}updateSessionCount(i,u){return u===0||u>this.seq?(this.sessionCount=i,this.seq=u,!0):!1}hasLocalChanges(){return!1}subscribe(i,u){if(typeof i=="function")return this.eventStream.subscribe(i);const v=i,E=u;if(!E)throw new Error("callback is required when subscribing to specific event type or topic");if(v==="broadcast")return this.eventStream.subscribe(L=>{L.type==="broadcast"&&E(L)});if(v==="local-broadcast")return this.eventStream.subscribe(L=>{L.type==="local-broadcast"&&E(L)});if(v==="auth-error")return this.eventStream.subscribe(L=>{L.type==="auth-error"&&E(L)});if(v==="presence")return this.eventStream.subscribe(L=>{(L.type==="presence-changed"||L.type==="initialized")&&E(L)});if(v==="all")return this.eventStream.subscribe(E);const _=v;return this.eventStream.subscribe(L=>{L.type==="broadcast"&&L.topic===_&&E(L)})}publish(i){this.eventStreamObserver&&this.eventStreamObserver.next(i)}broadcast(i,u,v){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:i,payload:u,options:v})}validateChannelKey(i){if(i==="")throw new Error("channel key must not be empty");if(i.includes(" "))throw new Error("channel key must not contain a whitespace");if(i.startsWith(Gf))throw new Error("channel key must not start with a period");if(i.endsWith(Gf))throw new Error("channel key must not end with a period");if(i.includes(`${Gf}${Gf}`))throw new Error("channel key path must not empty")}}var Ft=(h=>(h.Manual="manual",h.Realtime="realtime",h.RealtimePushOnly="realtime-pushonly",h.RealtimeSyncOff="realtime-syncoff",h))(Ft||{});const ya={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},gc={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Rp{constructor(i){q(this,"id");q(this,"key");q(this,"metadata");q(this,"status");q(this,"attachmentMap");q(this,"apiKey");q(this,"authTokenInjector");q(this,"conditions");q(this,"syncLoopDuration");q(this,"reconnectStreamDelay");q(this,"retrySyncLoopDelay");q(this,"channelHeartbeatInterval");q(this,"rpcClient");q(this,"setAuthToken");q(this,"taskQueue");q(this,"processing",!1);q(this,"keepalive",!1);i=i||ya;const u=i.rpcAddr||ya.rpcAddr;this.key=i.key||n0(),this.metadata=i.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=i.apiKey||"",this.authTokenInjector=i.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=i.syncLoopDuration??ya.syncLoopDuration,this.reconnectStreamDelay=i.reconnectStreamDelay??ya.reconnectStreamDelay,this.retrySyncLoopDelay=i.retrySyncLoopDelay??ya.retrySyncLoopDelay,this.channelHeartbeatInterval=i.channelHeartbeatInterval??ya.channelHeartbeatInterval;const{authInterceptor:v,setToken:E}=Vx(this.apiKey);this.setAuthToken=E,this.rpcClient=tl(gx,Sm({baseUrl:u,interceptors:[v,d0(i==null?void 0:i.userAgent)],fetch:(_,L)=>fetch(_,{...L,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const i=await this.authTokenInjector();this.setAuthToken(i)}return this.enqueueTask(async()=>{try{const i=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=i.clientId,this.status="activated",this.runSyncLoop(),Je.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(i){throw Je.error(`[AC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}})}deactivate(i={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const u=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:i.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),Je.info(`[DC] c"${this.getKey()}" deactivated`)}catch(v){throw Je.error(`[DC] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}};if(i.keepalive){this.keepalive=!0;const v=u();return this.keepalive=!1,v}return this.enqueueTask(u)}has(i){return this.attachmentMap.has(i)}attach(i,u){return i instanceof Lo?this.attachChannel(i,u):this.attachDocument(i,u)}attachDocument(i,u={}){if(!this.isActive())throw new Se(ve.ErrClientNotActivated,`${this.key} is not active`);if(i.getStatus()!==xs.Detached)throw new Se(ve.ErrNotDetached,`${i.getKey()} is not detached`);i.setActor(this.id),i.update((E,_)=>_.set(u.initialPresence||{}));const v=u.syncMode??"realtime";return this.enqueueTask(async()=>{try{const E=await this.rpcClient.attachDocument({clientId:this.id,changePack:yn.toChangePack(i.createChangePack()),schemaKey:u.schema},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});(E.maxSizePerDocument??0)>0&&i.setMaxSizePerDocument(E.maxSizePerDocument),E.schemaRules.length>0&&i.setSchemaRules(yn.fromSchemaRules(E.schemaRules));const L=yn.fromChangePack(E.changePack);if(i.applyChangePack(L),i.getStatus()===xs.Removed)return i;i.applyStatus(xs.Attached),this.attachmentMap.set(i.getKey(),new Cp(this.reconnectStreamDelay,i,E.documentId,v)),v!=="manual"&&await this.runWatchLoop(i.getKey()),Je.info(`[AD] c:"${this.getKey()}" attaches d:"${i.getKey()}"`);const U=i.getRootObject();if(u.initialRoot){const W=u.initialRoot;i.update(ee=>{for(const[ce,Re]of Object.entries(W))if(!U.has(ce)){const Be=ce;ee[Be]=Re}})}return i}catch(E){throw Je.error(`[AD] c:"${this.getKey()}" err :`,E),await this.handleConnectError(E),E}})}detach(i,u){return i instanceof Lo?this.detachChannel(i):this.detachDocument(i,u)}detachDocument(i,u={keepalive:!1}){if(!this.isActive())throw new Se(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(i.getKey());if(!v)throw new Se(ve.ErrNotAttached,`${i.getKey()} is not attached`);i.update((_,L)=>L.clear());const E=async()=>{try{const _=await this.rpcClient.detachDocument({clientId:this.id,documentId:v.resourceID,changePack:yn.toChangePack(i.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),L=yn.fromChangePack(_.changePack);return i.applyChangePack(L),i.getStatus()!==xs.Removed&&i.applyStatus(xs.Detached),this.detachInternal(i.getKey()),Je.info(`[DD] c:"${this.getKey()}" detaches d:"${i.getKey()}"`),i}catch(_){throw Je.error(`[DD] c:"${this.getKey()}" err :`,_),await this.handleConnectError(_),_}};if(u.keepalive){this.keepalive=!0;const _=E();return this.keepalive=!1,_}return this.enqueueTask(E)}async attachChannel(i,u={}){if(!this.isActive())throw new Se(ve.ErrClientNotActivated,`${this.key} is not active`);if(i.getStatus()!==Uf.Detached)throw new Se(ve.ErrNotDetached,`${i.getKey()} is not detached`);i.setActor(this.id);const v=async()=>{try{const E=await this.rpcClient.attachChannel({clientId:this.id,channelKey:i.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${i.getFirstKeyPath()}`}});i.setSessionID(E.sessionId),i.updateSessionCount(Number(E.sessionCount),0),i.applyStatus(Uf.Attached);const _=u.isRealtime!==!1?"realtime":"manual",L=new Cp(this.reconnectStreamDelay,i,E.sessionId,_);return i.subscribe("local-broadcast",U=>{const{topic:W,payload:ee,options:ce}=U;this.broadcast(i.getKey(),W,ee,ce).catch(Re=>{ce!=null&&ce.error&&ce.error(Re),Je.error(`[BC] c:"${this.getKey()}" failed: ${Re}`)})}),this.attachmentMap.set(i.getKey(),L),_==="realtime"&&await this.runWatchLoop(i.getKey()),Je.info(`[AP] c:"${this.getKey()}" attaches p:"${i.getKey()}" mode:${_} count:${i.getSessionCount()}`),i}catch(E){throw Je.error(`[AP] c:"${this.getKey()}" err :`,E),await this.handleConnectError(E),E}};return this.enqueueTask(v)}async detachChannel(i){if(!this.isActive())throw new Se(ve.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(i.getKey()))throw new Se(ve.ErrNotAttached,`${i.getKey()} is not attached`);const u=async()=>{try{const v=await this.rpcClient.detachChannel({clientId:this.id,channelKey:i.getKey(),sessionId:i.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${i.getFirstKeyPath()}`}});return i.updateSessionCount(Number(v.sessionCount),0),i.applyStatus(Uf.Detached),this.detachInternal(i.getKey()),Je.info(`[DP] c:"${this.getKey()}" detaches p:"${i.getKey()}" count:${i.getSessionCount()}`),i}catch(v){throw Je.error(`[DP] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}};return this.enqueueTask(u)}async changeSyncMode(i,u){if(!this.isActive())throw new Se(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(i.getKey());if(!v)throw new Se(ve.ErrNotAttached,`${i.getKey()} is not attached`);const E=v.syncMode;return E===u?i:(v.changeSyncMode(u),u==="manual"?(v.cancelWatchStream(),i):(u==="realtime"&&(v.changeEventReceived=!0),E==="manual"&&await this.runWatchLoop(i.getKey()),i))}sync(i){if(!this.isActive())throw new Se(ve.ErrClientNotActivated,`${this.key} is not active`);if(i instanceof Lo){const u=this.attachmentMap.get(i.getKey());if(!u)throw new Se(ve.ErrNotAttached,`${i.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(u).catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}))}if(i instanceof va){const u=this.attachmentMap.get(i.getKey());if(!u)throw new Se(ve.ErrNotAttached,`${i.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(u,"realtime").catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}))}return this.enqueueTask(async()=>{const u=[];for(const[,v]of this.attachmentMap)v.syncMode!==void 0&&v.resource instanceof va&&u.push(this.syncInternal(v,v.syncMode));return Promise.all(u).catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v})})}remove(i){if(!this.isActive())throw new Se(ve.ErrClientNotActivated,`${this.key} is not active`);const u=this.attachmentMap.get(i.getKey());if(!u)throw new Se(ve.ErrNotAttached,`${i.getKey()} is not attached`);i.setActor(this.id);const v=yn.toChangePack(i.createChangePack());return v.isRemoved=!0,this.enqueueTask(async()=>{try{const E=await this.rpcClient.removeDocument({clientId:this.id,documentId:u.resourceID,changePack:v},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),_=yn.fromChangePack(E.changePack);i.applyChangePack(_),this.detachInternal(i.getKey()),Je.info(`[RD] c:"${this.getKey()}" removes d:"${i.getKey()}"`)}catch(E){throw Je.error(`[RD] c:"${this.getKey()}" err :`,E),await this.handleConnectError(E),E}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(i){return this.conditions[i]}async createRevision(i,u,v){if(!this.isActive())throw new Se(ve.ErrClientNotActivated,`${this.key} is not active`);const E=this.attachmentMap.get(i.getKey());if(!E)throw new Se(ve.ErrNotAttached,`${i.getKey()} is not attached`);const _=async()=>{try{const L=await this.rpcClient.createRevision({clientId:this.id,documentId:E.resourceID,label:u,description:v||""},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});if(!L.revision)throw new Se(ve.ErrInvalidArgument,"revision is not returned");return Je.info(`[CR] c:"${this.getKey()}" creates revision d:"${i.getKey()}" l:"${u}"`),yn.toRevisionSummary(L.revision)}catch(L){throw Je.error(`[CR] c:"${this.getKey()}" err :`,L),await this.handleConnectError(L),L}};return this.enqueueTask(_)}async listRevisions(i,u){if(!this.isActive())throw new Se(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(i.getKey());if(!v)throw new Se(ve.ErrNotAttached,`${i.getKey()} is not attached`);const E=async()=>{try{const _=await this.rpcClient.listRevisions({clientId:this.id,documentId:v.resourceID,pageSize:(u==null?void 0:u.pageSize)||10,offset:(u==null?void 0:u.offset)||0,isForward:(u==null?void 0:u.isForward)??!1},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});return Je.info(`[LR] c:"${this.getKey()}" lists revisions d:"${i.getKey()}" count:${_.revisions.length}`),_.revisions.map(yn.toRevisionSummary)}catch(_){throw Je.error(`[LR] c:"${this.getKey()}" err :`,_),await this.handleConnectError(_),_}};return this.enqueueTask(E)}async getRevision(i,u){if(!this.isActive())throw new Se(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(i.getKey());if(!v)throw new Se(ve.ErrNotAttached,`${i.getKey()} is not attached`);const E=async()=>{try{const _=await this.rpcClient.getRevision({clientId:this.id,documentId:v.resourceID,revisionId:u},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});if(!_.revision)throw new Se(ve.ErrInvalidArgument,"revision is not returned");return Je.info(`[GR] c:"${this.getKey()}" gets revision d:"${i.getKey()}" r:"${u}"`),yn.toRevisionSummary(_.revision)}catch(_){throw Je.error(`[GR] c:"${this.getKey()}" err :`,_),await this.handleConnectError(_),_}};return this.enqueueTask(E)}async restoreRevision(i,u){if(!this.isActive())throw new Se(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(i.getKey());if(!v)throw new Se(ve.ErrNotAttached,`${i.getKey()} is not attached`);const E=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:v.resourceID,revisionId:u},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),Je.info(`[RR] c:"${this.getKey()}" restores revision d:"${i.getKey()}" r:"${u}"`)}catch(_){throw Je.error(`[RR] c:"${this.getKey()}" err :`,_),await this.handleConnectError(_),_}};return this.enqueueTask(E)}async broadcast(i,u,v,E){if(!this.isActive())throw new Se(ve.ErrClientNotActivated,`${this.key} is not active`);const _=this.attachmentMap.get(i);if(!_)throw new Se(ve.ErrNotAttached,`${i} is not attached`);if(!WE(v))throw new Se(ve.ErrInvalidArgument,"payload is not serializable");const L=_.resource,U=(E==null?void 0:E.maxRetries)??gc.maxRetries,W=gc.maxBackoff;let ee=0;const ce=Be=>Math.min(gc.initialRetryInterval*2**Be,W),Re=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:i,topic:u,payload:new TextEncoder().encode(JSON.stringify(v))},{headers:{"x-shard-key":`${this.apiKey}/${L.getFirstKeyPath()}`}}),Je.info(`[BC] c:"${this.getKey()}" broadcasts p:"${i}" t:"${u}"`)}catch(Be){if(Je.error(`[BC] c:"${this.getKey()}" err:`,Be),await this.handleConnectError(Be))if(To(Be,ve.ErrUnauthenticated)&&_.resource instanceof Lo&&_.resource.publish({type:Mo.AuthError,reason:wr(Be).reason||"unauthenticated",method:"Broadcast"}),ee<U)ee++,setTimeout(()=>Re(),ce(ee-1)),Je.info(`[BC] c:"${this.getKey()}" retry attempt ${ee}/${U}`);else throw Je.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),Be}});return Re()}runSyncLoop(){const i=async()=>{if(!this.isActive()){Je.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const u=[];for(const[,v]of this.attachmentMap)v.needSync(this.channelHeartbeatInterval)&&(v.changeEventReceived!==void 0&&(v.changeEventReceived=!1),u.push(this.syncInternal(v,v.syncMode).catch(E=>{throw To(E,ve.ErrUnauthenticated)&&v.resource.publish([{type:dr.AuthError,value:{reason:wr(E).reason,method:"PushPull"}}]),E})));await Promise.all(u),setTimeout(i,this.syncLoopDuration)})}catch(u){Je.error(`[SL] c:"${this.getKey()}" sync failed:`,u),await this.handleConnectError(u)?setTimeout(i,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};Je.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,i()}async runWatchLoop(i){const u=this.attachmentMap.get(i);if(!u)throw new Se(ve.ErrNotAttached,`${i} is not attached`);return this.conditions.WatchLoop=!0,u.runWatchLoop(v=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new Se(ve.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(i))return this.conditions.WatchLoop=!1,Promise.reject(new Se(ve.ErrNotAttached,`${i} is not attached`));const E=new AbortController;return u.resource instanceof va?this.createDocumentWatchStream(u,i,E,v):u.resource instanceof Lo?this.createChannelWatchStream(u,i,E,v):Promise.reject(new Se(ve.ErrClientNotActivated,`Unknown resource type for ${i}`))})}createDocumentWatchStream(i,u,v,E){const _=this.rpcClient.watchDocument({clientId:this.id,documentId:i.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${u}`},signal:v.signal});return i.resource.publish([{type:dr.ConnectionChanged,value:pl.Connected}]),Je.info(`[WD] c:"${this.getKey()}" watches d:"${u}"`),i.changeEventReceived!==void 0&&(i.changeEventReceived=!0),new Promise((L,U)=>{(async()=>{try{for await(const ee of _)this.handleWatchDocumentResponse(i,ee),ee.body.case==="initialization"&&L([_,v]);i.resource.resetOnlineClients(),i.resource.publish([{type:dr.Initialized,source:On.Local,value:i.resource.getPresences()}]),i.resource.publish([{type:dr.ConnectionChanged,value:pl.Disconnected}]),Je.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),E()}catch(ee){i.resource.resetOnlineClients(),i.resource.publish([{type:dr.Initialized,source:On.Local,value:i.resource.getPresences()}]),i.resource.publish([{type:dr.ConnectionChanged,value:pl.Disconnected}]),Je.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(ee)?(To(ee,ve.ErrUnauthenticated)&&i.resource.publish([{type:dr.AuthError,value:{reason:wr(ee).reason,method:"WatchDocument"}}]),E()):this.conditions.WatchLoop=!1,U(ee)}})()})}createChannelWatchStream(i,u,v,E){const _=this.rpcClient.watchChannel({clientId:this.id,channelKey:u},{headers:{"x-shard-key":`${this.apiKey}/${i.resource.getFirstKeyPath()}`},signal:v.signal});return Je.info(`[WP] c:"${this.getKey()}" watches p:"${u}"`),new Promise((L,U)=>{(async()=>{try{let ee=!0;for await(const ce of _)this.handleWatchChannelResponse(i,ce),ee&&(ee=!1,L([_,v]));Je.debug(`[WP] c:"${this.getKey()}" p:"${u}" stream ended`),E()}catch(ee){if(ee instanceof Error&&ee.name==="AbortError"){Je.debug(`[WP] c:"${this.getKey()}" p:"${u}" stream aborted`);return}Je.debug(`[WP] c:"${this.getKey()}" p:"${u}" err:`,ee),await this.handleConnectError(ee)?E():this.conditions.WatchLoop=!1,U(ee)}})()})}handleWatchChannelResponse(i,u){const v=i.resource;if(u.body.case==="initialized"){const{sessionCount:E,seq:_}=u.body.value;v.updateSessionCount(Number(E),Number(_))&&v.publish({type:Mo.Initialized,count:Number(E)})}else if(u.body.case==="event"){const E=u.body.value;if(E.type===Om.BROADCAST){const _=new TextDecoder;try{const L=JSON.parse(_.decode(E.payload));v.publish({type:Mo.Broadcast,clientID:E.publisher,topic:E.topic,payload:L})}catch(L){Je.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,L)}return}v.updateSessionCount(Number(E.sessionCount),Number(E.seq))&&v.publish({type:Mo.PresenceChanged,count:Number(E.sessionCount)})}}handleWatchDocumentResponse(i,u){if(u.body.case==="event"&&u.body.value.type===Mf.DOCUMENT_CHANGED){i.changeEventReceived!==void 0&&(i.changeEventReceived=!0);return}i.resource.applyWatchStream(u)}deactivateInternal(){this.status="deactivated";for(const[i,u]of this.attachmentMap)this.detachInternal(i),u.resource instanceof va?u.resource.applyStatus(xs.Detached):u.resource instanceof Lo&&u.resource.applyStatus(Uf.Detached)}detachInternal(i){const u=this.attachmentMap.get(i);u&&(u.cancelWatchStream(),u.resource instanceof va&&u.resource.resetOnlineClients(),this.attachmentMap.delete(i))}async syncInternal(i,u){const{resource:v}=i;if(v instanceof Lo){try{const U=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:v.getKey(),sessionId:v.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${v.getFirstKeyPath()}`}});v.updateSessionCount(Number(U.sessionCount),0),i.updateHeartbeatTime(),Je.debug(`[RP] c:"${this.getKey()}" refreshes p:"${v.getKey()}" mode:${i.syncMode}`)}catch(U){throw Je.error(`[RP] c:"${this.getKey()}" err :`,U),U}return v}const E=v,{resourceID:_}=i,L=E.createChangePack();try{const U=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:_,changePack:yn.toChangePack(L),pushOnly:u==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${E.getKey()}`}}),W=yn.fromChangePack(U.changePack);if(W.hasChanges()&&(i.syncMode==="realtime-pushonly"||i.syncMode==="realtime-syncoff"))return E;E.applyChangePack(W),i.resource.publish([{type:dr.SyncStatusChanged,value:Ap.Synced}]),E.getStatus()===xs.Removed&&this.detachInternal(E.getKey());const ee=E.getKey(),ce=W.getChangeSize();return Je.info(`[PP] c:"${this.getKey()}" sync d:"${ee}", push:${L.getChangeSize()} pull:${ce} cp:${W.getCheckpoint().toTestString()}`),E}catch(U){throw E.publish([{type:dr.SyncStatusChanged,value:Ap.SyncFailed}]),Je.error(`[PP] c:"${this.getKey()}" err :`,U),U}}async handleConnectError(i){if(!(i instanceof qt))return!1;if(i.code===l.Canceled||i.code===l.Unknown||i.code===l.ResourceExhausted||i.code===l.Unavailable)return!0;if(fl(i)===ve.ErrUnauthenticated){if(this.authTokenInjector){const u=await this.authTokenInjector(wr(i).reason);this.setAuthToken(u)}return!0}return fl(i)===ve.ErrTooManySubscribers?(Je.error(`[WD] c:"${this.getKey()}" err :`,i.rawMessage),!0):(fl(i)===ve.ErrTooManyAttachments||(fl(i)===ve.ErrClientNotActivated||fl(i)===ve.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(i){return new Promise((u,v)=>{this.taskQueue.push(()=>i().then(u).catch(v)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{Je.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function h0(h){return typeof h=="object"&&h!==null&&h.type==="Text"&&Array.isArray(h.nodes)}function Tp(h){return typeof h=="object"&&h!==null&&h.type==="Tree"&&typeof h.root=="object"}function mc(h){return typeof h=="object"&&h!==null&&h.type==="Int"&&typeof h.value=="number"}function $f(h){return typeof h=="object"&&h!==null&&h.type==="Long"&&typeof h.value=="number"}function gl(h){return typeof h=="object"&&h!==null&&h.type==="Date"&&typeof h.value=="string"}function p0(h){return typeof h=="object"&&h!==null&&h.type==="BinData"&&typeof h.value=="string"}function Ux(h){return typeof h=="object"&&h!==null&&h.type==="Counter"&&typeof h.value=="object"}function qE(h){return typeof h=="object"&&h!==null&&!Array.isArray(h)&&!h0(h)&&!Tp(h)&&!mc(h)&&!$f(h)&&!gl(h)&&!p0(h)&&!Ux(h)}function Gx(h){try{const i=$x(h),u=JSON.parse(i);return ml(u)}catch(i){throw new Se(ve.ErrInvalidArgument,`Failed to parse YSON: ${i instanceof Error?i.message:String(i)}`)}}function $x(h){let i=h;return i=i.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(u,v,E)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${v}","__yson_data":${E}}}`),i=i.replace(/Int\((-?\d+)\)/g,(u,v)=>`{"__yson_type":"Int","__yson_data":${v}}`),i=i.replace(/Long\((-?\d+)\)/g,(u,v)=>`{"__yson_type":"Long","__yson_data":${v}}`),i=i.replace(/Date\("([^"]*)"\)/g,(u,v)=>`{"__yson_type":"Date","__yson_data":"${v}"}`),i=i.replace(/BinData\("([^"]*)"\)/g,(u,v)=>`{"__yson_type":"BinData","__yson_data":"${v}"}`),i=i.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(u,v)=>`{"__yson_type":"Text","__yson_data":${v}}`),i=i.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(u,v)=>`{"__yson_type":"Tree","__yson_data":${v}}`),i}function ml(h){if(h===null||typeof h!="object")return h;if(h.__yson_type==="Int"&&typeof h.__yson_data=="number")return{type:"Int",value:h.__yson_data};if(h.__yson_type==="Long"&&typeof h.__yson_data=="number")return{type:"Long",value:h.__yson_data};if(h.__yson_type==="Date"&&typeof h.__yson_data=="string")return{type:"Date",value:h.__yson_data};if(h.__yson_type==="BinData"&&typeof h.__yson_data=="string")return{type:"BinData",value:h.__yson_data};if(h.__yson_type==="Counter"&&typeof h.__yson_data=="object"){const u=ml(h.__yson_data);if(typeof u=="object"&&u!==null&&"type"in u&&(u.type==="Int"||u.type==="Long"))return{type:"Counter",value:u};throw new Se(ve.ErrInvalidArgument,"Counter must contain Int or Long")}if(h.__yson_type==="Text"&&Array.isArray(h.__yson_data))return{type:"Text",nodes:h.__yson_data.map(u=>Nn(u))};if(h.__yson_type==="Tree"&&typeof h.__yson_data=="object")return{type:"Tree",root:Np(h.__yson_data)};if(Array.isArray(h))return h.map(u=>ml(u));const i={};for(const[u,v]of Object.entries(h))i[u]=ml(v);return i}function Nn(h){if(typeof h!="object"||h===null||typeof h.val!="string")throw new Se(ve.ErrInvalidArgument,"invalid text node format");const i={val:h.val};return h.attrs&&typeof h.attrs=="object"&&(i.attrs=h.attrs),i}function Np(h){if(typeof h!="object"||h===null||typeof h.type!="string")throw new Se(ve.ErrInvalidArgument,"invalid tree node format");const i={type:h.type};return h.type==="text"&&typeof h.value=="string"?(i.value=h.value,i):(h.attrs&&typeof h.attrs=="object"&&(i.attrs=h.attrs),Array.isArray(h.children)&&(i.children=h.children.map(u=>Np(u))),i)}function Rr(h){return h.nodes.map(i=>i.val).join("")}function KE(h){return _p(h.root)}function _p(h){const i=h.attrs?Object.entries(h.attrs).map(([v,E])=>` ${v}="${Ip(E)}"`).join(""):"";if(h.type==="text"&&h.value!==void 0)return`<${h.type}${i}>${Ip(h.value)}</${h.type}>`;if(!h.children||h.children.length===0)return`<${h.type}${i} />`;const u=h.children.map(v=>_p(v)).join("");return`<${h.type}${i}>${u}</${h.type}>`}function Ip(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Op=Object.freeze(Object.defineProperty({__proto__:null,isBinData:p0,isCounter:Ux,isDate:gl,isInt:mc,isLong:$f,isObject:qE,isText:h0,isTree:Tp,parse:Gx,textToString:Rr,treeToXML:KE},Symbol.toStringTag,{value:"Module"}));Ei.Int,Ei.Long,typeof globalThis<"u"&&(globalThis.yorkie={Client:Rp,Document:va,Primitive:Vn,Text:Vf,Counter:i0,Tree:bp,Channel:Lo,ChannelEventType:Mo,YSON:Op,LogLevel:kr,setLogLevel:Lx,IntType:Ei.Int,LongType:Ei.Long});const vc={name:"@yorkie-js/react",version:"0.6.47"},Dp=a.createContext({client:void 0,loading:!0,error:void 0});function Hx(h){const[i,u]=a.useState(void 0),[v,E]=a.useState(!0),[_,L]=a.useState(void 0),[U,W]=a.useState(!1);return a.useEffect(()=>{W(!0)},[]),a.useEffect(()=>{E(!0),L(void 0);async function ee(){if(U)try{const ce=new Rp(h);await ce.activate(),u(ce)}catch(ce){L(ce instanceof Error?ce:new Error("Failed to activate client"))}finally{E(!1)}}return ee(),()=>{i!=null&&i.isActive()&&i.deactivate({keepalive:!0})}},[h.apiKey,h.rpcAddr,U]),{client:i,loading:v,error:_}}const Yx=({children:h,...i})=>{const u=a.useMemo(()=>({userAgent:vc.name+"/"+vc.version,...i}),[i.apiKey,i.rpcAddr]),{client:v,loading:E,error:_}=Hx(u);return s.jsx(Dp.Provider,{value:{client:v,loading:E,error:_},children:h})},Wx=()=>{const h=a.useContext(Dp);if(!h)throw new Error("useYorkie must be used under YorkieProvider");return{client:h.client,loading:h.loading,error:h.error}};function g0(h){const i=new Set;let u=h;const v=()=>{i.forEach(W=>W(u))};return{subscribe:W=>(i.add(W),()=>i.delete(W)),getSnapshot:()=>u,setState:W=>{const ee=u;u=typeof W=="function"?W(ee):W,ee!==u&&v()},destroy:()=>{i.clear()}}}const qx=h=>g0(h);function Fo(h,i,u=Object.is){const v=a.useRef(i),E=a.useRef(u),_=a.useRef(void 0);v.current=i,E.current=u;const L=()=>{const U=h.getSnapshot(),W=v.current?v.current(U):U;return _.current!==void 0&&E.current(_.current,W)?_.current:(_.current=W,W)};return a.useSyncExternalStore(h.subscribe,L,L)}function bs(h){return h!=null&&typeof h[Symbol.iterator]=="function"}function m0(h){return"entries"in h&&typeof h.entries=="function"}function v0(h,i){const u=h instanceof Map?h:new Map(h.entries()),v=i instanceof Map?i:new Map(i.entries());if(u.size!==v.size)return!1;for(const[E,_]of u)if(!v.has(E)||!Object.is(_,v.get(E)))return!1;return!0}function JE(h,i){const u=h[Symbol.iterator](),v=i[Symbol.iterator]();let E=u.next(),_=v.next();for(;!E.done&&!_.done;){if(!Object.is(E.value,_.value))return!1;E=u.next(),_=v.next()}return E.done===_.done}function QE(h,i){const u=Object.keys(h),v=Object.keys(i);if(u.length!==v.length)return!1;for(const E of u)if(!Object.prototype.hasOwnProperty.call(i,E)||!Object.is(h[E],i[E]))return!1;return!0}function Pp(h,i){if(Object.is(h,i))return!0;if(typeof h!="object"||h===null||typeof i!="object"||i===null||Object.getPrototypeOf(h)!==Object.getPrototypeOf(i))return!1;const u=bs(h),v=bs(i);return u!==v?!1:u&&v?m0(h)&&m0(i)?v0(h,i):JE(h,i):QE(h,i)}function Kx(h,i,u,v,E,_,L,U){const W=a.useRef(E),ee=a.useRef(_),[ce,Re]=a.useState(!1);a.useEffect(()=>{Re(!0)},[]),a.useEffect(()=>{if(u){U.setState(He=>({...He,loading:!1,error:u}));return}if(!h||i||!ce){U.setState(He=>({...He,loading:!0}));return}U.setState(He=>({...He,loading:!0,error:void 0}));const Be=new va(v,{enableDevtools:L}),Te=[];Te.push(Be.subscribe(()=>{U.setState(He=>({...He,root:Be.getRoot()}))})),Te.push(Be.subscribe("presence",()=>{U.setState(He=>({...He,presences:Be.getPresences()}))})),Te.push(Be.subscribe("connection",He=>{U.setState(ot=>({...ot,connection:He.value}))}));async function We(){try{await(h==null?void 0:h.attach(Be,{initialRoot:W.current,initialPresence:ee.current}));const He=ot=>{try{Be.update(ot)}catch(At){U.setState(cn=>({...cn,error:At instanceof Error?At:new Error("Failed to update document")}))}};U.setState(ot=>({...ot,doc:Be,root:Be.getRoot(),presences:Be.getPresences(),update:He}))}catch(He){U.setState(ot=>({...ot,error:He instanceof Error?He:new Error("Failed to attach document")}))}finally{U.setState(He=>({...He,loading:!1}))}}return We(),()=>{h&&h.has(v)&&h.detach(Be);for(const He of Te)He()}},[h,i,u,v,U,ce])}const li=a.createContext(void 0),y0=({docKey:h,initialRoot:i={},initialPresence:u={},enableDevtools:v=!1,children:E})=>{const{client:_,loading:L,error:U}=Wx(),W=a.useRef(void 0);W.current||(W.current=qx({doc:void 0,root:i,presences:[],connection:pl.Disconnected,update:()=>{},loading:!0,error:void 0}));const ee=W.current;return Kx(_,L,U,h,i,u,v,ee),s.jsx(li.Provider,{value:ee,children:E})};function Xx(){const h=a.useContext(li);if(!h)throw new Error("useDocument must be used within a DocumentProvider");return Fo(h)}const Zx=()=>(h,i=Pp)=>{const u=a.useContext(li);if(!u)throw new Error("useDocument must be used within a DocumentProvider");return Fo(u,h,i)},Hf=()=>{const h=yc("useRoot");return{root:Fo(h,u=>u.root)}},$i=()=>{const h=yc("usePresences");return Fo(h,i=>i.presences)},Jx=()=>{const h=yc("useConnection");return Fo(h,i=>i.connection)},yc=h=>{const i=a.useContext(li);if(!i)throw new Error(`${h} must be used within a DocumentProvider`);return i};function Ss(h,i,u){const v=a.useRef(void 0);v.current||(v.current=qx({doc:void 0,root:(u==null?void 0:u.initialRoot)??{},presences:[],connection:pl.Disconnected,update:()=>{},loading:!0,error:void 0}));const E=v.current,_=a.useMemo(()=>({apiKey:h,userAgent:vc.name+"/"+vc.version,...u}),[h,u]),{client:L,loading:U,error:W}=Hx(_);Kx(L,U,W,i,(u==null?void 0:u.initialRoot)??{},(u==null?void 0:u.initialPresence)??{},(u==null?void 0:u.enableDevtools)??!1,E);const ee=Fo(E);return{root:ee.root,presences:ee.presences,connection:ee.connection,update:ee.update,loading:ee.loading,error:ee.error}}function e1(h){return g0(h)}const Qx=a.createContext(void 0);function xc(h,i,u,v,E,_){const L=a.useRef(void 0),[U,W]=a.useState(!1);a.useEffect(()=>{W(!0)},[]),a.useEffect(()=>{if(!U||i||u||!h){u&&_.setState(Re=>({...Re,error:u,loading:!1}));return}let ee;async function ce(){if(!(!h||!h.isActive())){_.setState(Re=>({...Re,loading:!0,error:void 0}));try{const Re=new Lo(v);await h.attach(Re,{isRealtime:E}),L.current=Re,ee=Re.subscribe(()=>{_.setState(Be=>({...Be,sessionCount:Re.getSessionCount()}))}),_.setState({channel:Re,sessionCount:Re.getSessionCount(),loading:!1,error:void 0})}catch(Re){_.setState(Be=>({...Be,loading:!1,error:Re instanceof Error?Re:new Error("Failed to attach channel")}))}}}return ce(),()=>{ee&&ee();async function Re(){if(L.current&&(h!=null&&h.isActive()))try{await h.detach(L.current)}catch(Be){console.error("Failed to detach channel:",Be)}}Re()}},[h,i,u,v,E,U])}const eb=({children:h,channelKey:i,isRealtime:u=!0})=>{const{client:v,loading:E,error:_}=Wx(),L=a.useRef(void 0);L.current||(L.current=e1({channel:void 0,sessionCount:0,loading:!0,error:void 0}));const U=L.current;return xc(v,E,_,i,u,U),s.jsx(Qx.Provider,{value:U,children:h})},tb=h=>{const i=a.useContext(Qx);if(!i)throw new Error(`${h} must be used within ChannelProvider`);return i},t1=()=>{const h=tb("useChannel"),i=Fo(h,E=>E.sessionCount),u=Fo(h,E=>E.loading),v=Fo(h,E=>E.error);return{sessionCount:i,loading:u,error:v}},n1=()=>{const h=tb("useChannelSessionCount");return Fo(h,i=>i.sessionCount)};r.ChannelProvider=eb,r.DocumentProvider=y0,r.YorkieProvider=Yx,r.createDocumentSelector=Zx,r.shallowEqual=Pp,r.useChannel=t1,r.useChannelSessionCount=n1,r.useConnection=Jx,r.useDocument=Xx,r.usePresences=$i,r.useRoot=Hf,r.useYorkieDoc=Ss,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})})}(nv,nv.exports)),nv.exports}var Pa=y$();const _u=()=>O.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]","aria-live":"polite",children:[O.jsx(j3,{className:"h-8 w-8 animate-spin text-primary"}),O.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading..."})]}),j1=768;function x$(){const[e,t]=M.useState(void 0);return M.useEffect(()=>{const n=window.matchMedia(`(max-width: ${j1-1}px)`),r=()=>{t(window.innerWidth<j1)};return n.addEventListener("change",r),t(window.innerWidth<j1),()=>n.removeEventListener("change",r)},[]),!!e}var b$="Separator",KT="horizontal",S$=["horizontal","vertical"],dL=M.forwardRef((e,t)=>{const{decorative:n,orientation:r=KT,...s}=e,a=E$(r)?r:KT,f=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return O.jsx(Yt.div,{"data-orientation":a,...f,...s,ref:t})});dL.displayName=b$;function E$(e){return S$.includes(e)}var A$=dL;function Vp({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return O.jsx(A$,{"data-slot":"separator-root",decorative:n,orientation:t,className:bt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function C$({...e}){return O.jsx(qP,{"data-slot":"sheet",...e})}function w$({...e}){return O.jsx(KP,{"data-slot":"sheet-portal",...e})}function R$({className:e,...t}){return O.jsx(XP,{"data-slot":"sheet-overlay",className:bt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function T$({className:e,children:t,side:n="right",...r}){return O.jsxs(w$,{children:[O.jsx(R$,{}),O.jsxs(ZP,{"data-slot":"sheet-content",className:bt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,O.jsxs(eM,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[O.jsx(G3,{className:"size-4"}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function N$({className:e,...t}){return O.jsx("div",{"data-slot":"sheet-header",className:bt("flex flex-col gap-1.5 p-4",e),...t})}function _$({className:e,...t}){return O.jsx(JP,{"data-slot":"sheet-title",className:bt("text-foreground font-semibold",e),...t})}function I$({className:e,...t}){return O.jsx(QP,{"data-slot":"sheet-description",className:bt("text-muted-foreground text-sm",e),...t})}var O$="VisuallyHidden",F2=M.forwardRef((e,t)=>O.jsx(Yt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));F2.displayName=O$;var D$=F2,[MS,tZ]=ka("Tooltip",[Cg]),LS=Cg(),hL="TooltipProvider",P$=700,dw="tooltip.open",[M$,k2]=MS(hL),pL=e=>{const{__scopeTooltip:t,delayDuration:n=P$,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,l=M.useRef(!0),f=M.useRef(!1),d=M.useRef(0);return M.useEffect(()=>{const g=d.current;return()=>window.clearTimeout(g)},[]),O.jsx(M$,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:M.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:M.useCallback(g=>{f.current=g},[]),disableHoverableContent:s,children:a})};pL.displayName=hL;var FS="Tooltip",[L$,Gv]=MS(FS),gL=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:l,delayDuration:f}=e,d=k2(FS,e.__scopeTooltip),g=LS(t),[p,m]=M.useState(null),x=_a(),b=M.useRef(0),A=l??d.disableHoverableContent,C=f??d.delayDuration,w=M.useRef(!1),[R=!1,N]=uh({prop:r,defaultProp:s,onChange:V=>{V?(d.onOpen(),document.dispatchEvent(new CustomEvent(dw))):d.onClose(),a==null||a(V)}}),I=M.useMemo(()=>R?w.current?"delayed-open":"instant-open":"closed",[R]),D=M.useCallback(()=>{window.clearTimeout(b.current),b.current=0,w.current=!1,N(!0)},[N]),F=M.useCallback(()=>{window.clearTimeout(b.current),b.current=0,N(!1)},[N]),k=M.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,N(!0),b.current=0},C)},[C,N]);return M.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),O.jsx(A2,{...g,children:O.jsx(L$,{scope:t,contentId:x,open:R,stateAttribute:I,trigger:p,onTriggerChange:m,onTriggerEnter:M.useCallback(()=>{d.isOpenDelayedRef.current?k():D()},[d.isOpenDelayedRef,k,D]),onTriggerLeave:M.useCallback(()=>{A?F():(window.clearTimeout(b.current),b.current=0)},[F,A]),onOpen:D,onClose:F,disableHoverableContent:A,children:n})})};gL.displayName=FS;var hw="TooltipTrigger",mL=M.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Gv(hw,n),a=k2(hw,n),l=LS(n),f=M.useRef(null),d=bn(t,f,s.onTriggerChange),g=M.useRef(!1),p=M.useRef(!1),m=M.useCallback(()=>g.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),O.jsx(C2,{asChild:!0,...l,children:O.jsx(Yt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:ft(e.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:ft(e.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:ft(e.onPointerDown,()=>{s.open&&s.onClose(),g.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ft(e.onFocus,()=>{g.current||s.onOpen()}),onBlur:ft(e.onBlur,s.onClose),onClick:ft(e.onClick,s.onClose)})})});mL.displayName=hw;var B2="TooltipPortal",[F$,k$]=MS(B2,{forceMount:void 0}),vL=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,a=Gv(B2,t);return O.jsx(F$,{scope:t,forceMount:n,children:O.jsx(Ba,{present:n||a.open,children:O.jsx(Mv,{asChild:!0,container:s,children:r})})})};vL.displayName=B2;var cg="TooltipContent",yL=M.forwardRef((e,t)=>{const n=k$(cg,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,l=Gv(cg,e.__scopeTooltip);return O.jsx(Ba,{present:r||l.open,children:l.disableHoverableContent?O.jsx(xL,{side:s,...a,ref:t}):O.jsx(B$,{side:s,...a,ref:t})})}),B$=M.forwardRef((e,t)=>{const n=Gv(cg,e.__scopeTooltip),r=k2(cg,e.__scopeTooltip),s=M.useRef(null),a=bn(t,s),[l,f]=M.useState(null),{trigger:d,onClose:g}=n,p=s.current,{onPointerInTransitChange:m}=r,x=M.useCallback(()=>{f(null),m(!1)},[m]),b=M.useCallback((A,C)=>{const w=A.currentTarget,R={x:A.clientX,y:A.clientY},N=U$(R,w.getBoundingClientRect()),I=G$(R,N),D=$$(C.getBoundingClientRect()),F=Y$([...I,...D]);f(F),m(!0)},[m]);return M.useEffect(()=>()=>x(),[x]),M.useEffect(()=>{if(d&&p){const A=w=>b(w,p),C=w=>b(w,d);return d.addEventListener("pointerleave",A),p.addEventListener("pointerleave",C),()=>{d.removeEventListener("pointerleave",A),p.removeEventListener("pointerleave",C)}}},[d,p,b,x]),M.useEffect(()=>{if(l){const A=C=>{const w=C.target,R={x:C.clientX,y:C.clientY},N=(d==null?void 0:d.contains(w))||(p==null?void 0:p.contains(w)),I=!H$(R,l);N?x():I&&(x(),g())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[d,p,l,g,x]),O.jsx(xL,{...e,ref:a})}),[j$,z$]=MS(FS,{isInside:!1}),V$=hV("TooltipContent"),xL=M.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:l,...f}=e,d=Gv(cg,n),g=LS(n),{onClose:p}=d;return M.useEffect(()=>(document.addEventListener(dw,p),()=>document.removeEventListener(dw,p)),[p]),M.useEffect(()=>{if(d.trigger){const m=x=>{const b=x.target;b!=null&&b.contains(d.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,p]),O.jsx(Pv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:O.jsxs(w2,{"data-state":d.stateAttribute,...g,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[O.jsx(V$,{children:r}),O.jsx(j$,{scope:n,isInside:!0,children:O.jsx(D$,{id:d.contentId,role:"tooltip",children:s||r})})]})})});yL.displayName=cg;var bL="TooltipArrow",SL=M.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=LS(n);return z$(bL,n).isInside?null:O.jsx(R2,{...s,...r,ref:t})});SL.displayName=bL;function U$(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function G$(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function $$(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function H$(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const f=t[a].x,d=t[a].y,g=t[l].x,p=t[l].y;d>r!=p>r&&n<(g-f)*(r-d)/(p-d)+f&&(s=!s)}return s}function Y$(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),W$(t)}function W$(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var q$=pL,K$=gL,X$=mL,Z$=vL,J$=yL,Q$=SL;function j2({delayDuration:e=0,...t}){return O.jsx(q$,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function di({...e}){return O.jsx(j2,{children:O.jsx(K$,{"data-slot":"tooltip",...e})})}function hi({...e}){return O.jsx(X$,{"data-slot":"tooltip-trigger",...e})}function pi({className:e,sideOffset:t=0,children:n,...r}){return O.jsx(Z$,{children:O.jsxs(J$,{"data-slot":"tooltip-content",sideOffset:t,className:bt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,O.jsx(Q$,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const e8="sidebar_state",t8=60*60*24*7,n8="16rem",r8="18rem",i8="3rem",o8="b",EL=M.createContext(null);function kS(){const e=M.useContext(EL);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function AL({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:a,...l}){const f=x$(),[d,g]=M.useState(!1),[p,m]=M.useState(e),x=t??p,b=M.useCallback(R=>{const N=typeof R=="function"?R(x):R;n?n(N):m(N),document.cookie=`${e8}=${N}; path=/; max-age=${t8}`},[n,x]),A=M.useCallback(()=>f?g(R=>!R):b(R=>!R),[f,b,g]);M.useEffect(()=>{const R=N=>{N.key===o8&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),A())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[A]);const C=x?"expanded":"collapsed",w=M.useMemo(()=>({state:C,open:x,setOpen:b,isMobile:f,openMobile:d,setOpenMobile:g,toggleSidebar:A}),[C,x,b,f,d,g,A]);return O.jsx(EL.Provider,{value:w,children:O.jsx(j2,{delayDuration:0,children:O.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":n8,"--sidebar-width-icon":i8,...s},className:bt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...l,children:a})})})}function s8({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...a}){const{isMobile:l,state:f,openMobile:d,setOpenMobile:g}=kS();return n==="none"?O.jsx("div",{"data-slot":"sidebar",className:bt("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...a,children:s}):l?O.jsx(C$,{open:d,onOpenChange:g,...a,children:O.jsxs(T$,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":r8},side:e,children:[O.jsxs(N$,{className:"sr-only",children:[O.jsx(_$,{children:"Sidebar"}),O.jsx(I$,{children:"Displays the mobile sidebar."})]}),O.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):O.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":f,"data-collapsible":f==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[O.jsx("div",{"data-slot":"sidebar-gap",className:bt("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),O.jsx("div",{"data-slot":"sidebar-container",className:bt("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...a,children:O.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function a8({className:e,onClick:t,...n}){const{toggleSidebar:r}=kS();return O.jsxs(er,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:bt("size-7",e),onClick:s=>{t==null||t(s),r()},...n,children:[O.jsx(w5,{}),O.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function CL({className:e,...t}){return O.jsx("main",{"data-slot":"sidebar-inset",className:bt("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function l8({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:bt("flex flex-col gap-2 p-2",e),...t})}function u8({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:bt("flex flex-col gap-2 p-2",e),...t})}function c8({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:bt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function wL({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:bt("relative flex w-full min-w-0 flex-col p-2",e),...t})}function RL({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:bt("w-full text-sm",e),...t})}function BS({className:e,...t}){return O.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:bt("flex w-full min-w-0 flex-col gap-1",e),...t})}function jS({className:e,...t}){return O.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:bt("group/menu-item relative",e),...t})}const f8=AS("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function zS({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:a,...l}){const f=e?Qw:"button",{isMobile:d,state:g}=kS(),p=O.jsx(f,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:bt(f8({variant:n,size:r}),a),...l});return s?(typeof s=="string"&&(s={children:s}),O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:p}),O.jsx(pi,{side:"right",align:"center",hidden:g!=="collapsed"||d,...s})]})):p}function d8({items:e}){const t=La(),n=M.useCallback(r=>{const s=t.pathname;return s===r||s.startsWith(r+"/")},[t.pathname]);return O.jsx(wL,{children:O.jsx(RL,{className:"flex flex-col gap-2",children:O.jsx(BS,{children:e.map(r=>O.jsx(jS,{children:O.jsx(zS,{tooltip:r.title,isActive:n(r.url),children:O.jsxs(yg,{to:r.url,className:"flex items-center gap-2",children:[r.icon&&O.jsx(r.icon,{}),O.jsx("span",{children:r.title})]})})},r.title))})})})}function h8({items:e,...t}){return O.jsx(wL,{...t,children:O.jsx(RL,{children:O.jsx(BS,{children:e.map(n=>O.jsx(jS,{children:O.jsx(zS,{asChild:!0,children:O.jsxs(yg,{to:n.url,className:"flex items-center gap-2",children:[n.icon&&O.jsx(n.icon,{}),O.jsx("span",{children:n.title})]})})},n.title))})})})}/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var p8={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=(e,t,n,r)=>{const s=M.forwardRef(({color:a="currentColor",size:l=24,stroke:f=2,title:d,className:g,children:p,...m},x)=>M.createElement("svg",{ref:x,...p8[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,g].join(" "),strokeWidth:f,stroke:a,...m},[d&&M.createElement("title",{key:"svg-title"},d),...r.map(([b,A])=>M.createElement(b,A)),...Array.isArray(p)?p:[p]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var TL=Sn("outline","abc","IconAbc",[["path",{d:"M3 16v-6a2 2 0 1 1 4 0v6",key:"svg-0"}],["path",{d:"M3 13h4",key:"svg-1"}],["path",{d:"M10 8v6a2 2 0 1 0 4 0v-1a2 2 0 1 0 -4 0v1",key:"svg-2"}],["path",{d:"M20.732 12a2 2 0 0 0 -3.732 1v1a2 2 0 0 0 3.726 1.01",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var NL=Sn("outline","align-box-bottom-center","IconAlignBoxBottomCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 15v2",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M15 13v4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _L=Sn("outline","align-box-center-middle","IconAlignBoxCenterMiddle",[["path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M11 15h2",key:"svg-1"}],["path",{d:"M9 12h6",key:"svg-2"}],["path",{d:"M10 9h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IL=Sn("outline","align-box-top-center","IconAlignBoxTopCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 9v-2",key:"svg-1"}],["path",{d:"M12 13v-6",key:"svg-2"}],["path",{d:"M15 11v-4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var OL=Sn("outline","align-center","IconAlignCenter",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M8 12l8 0",key:"svg-1"}],["path",{d:"M6 18l12 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var DL=Sn("outline","align-left","IconAlignLeft",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l10 0",key:"svg-1"}],["path",{d:"M4 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var PL=Sn("outline","align-right","IconAlignRight",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M10 12l10 0",key:"svg-1"}],["path",{d:"M6 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var g8=Sn("outline","arrow-back-up","IconArrowBackUp",[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var m8=Sn("outline","arrow-forward-up","IconArrowForwardUp",[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var v8=Sn("outline","bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var z1=Sn("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var y8=Sn("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pw=Sn("outline","currency-dollar","IconCurrencyDollar",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $v=Sn("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XT=Sn("outline","decimal","IconDecimal",[["path",{d:"M17 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-0"}],["path",{d:"M10 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-1"}],["path",{d:"M5 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var x8=Sn("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZT=Sn("outline","droplet-off","IconDropletOff",[["path",{d:"M18.963 14.938a6.54 6.54 0 0 0 -.899 -4.06l-4.89 -7.26c-.42 -.626 -1.287 -.804 -1.936 -.398a1.376 1.376 0 0 0 -.41 .397l-1.282 1.9m-1.625 2.415l-1.986 2.946c-1.695 2.837 -1.035 6.44 1.567 8.545c2.602 2.105 6.395 2.105 8.996 0a6.83 6.83 0 0 0 1.376 -1.499",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ML=Sn("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var LL=Sn("outline","hash","IconHash",[["path",{d:"M5 9l14 0",key:"svg-0"}],["path",{d:"M5 15l14 0",key:"svg-1"}],["path",{d:"M11 4l-4 16",key:"svg-2"}],["path",{d:"M17 4l-4 16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var b8=Sn("outline","italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var S8=Sn("outline","logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var E8=Sn("outline","paint","IconPaint",[["path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M19 6h1a2 2 0 0 1 2 2a5 5 0 0 1 -5 5l-5 0v2",key:"svg-1"}],["path",{d:"M10 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gw=Sn("outline","percentage","IconPercentage",[["path",{d:"M17 17m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 7m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var A8=Sn("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var FL=Sn("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kL=Sn("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var C8=Sn("outline","share","IconShare",[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var w8=Sn("outline","strikethrough","IconStrikethrough",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var BL=Sn("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var R8=Sn("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var T8=Sn("outline","typography","IconTypography",[["path",{d:"M4 20l3 0",key:"svg-0"}],["path",{d:"M14 20l7 0",key:"svg-1"}],["path",{d:"M6.9 15l6.9 0",key:"svg-2"}],["path",{d:"M10.2 6.3l5.8 13.7",key:"svg-3"}],["path",{d:"M5 20l6 -16l2 0l7 16",key:"svg-4"}]]),z2="Avatar",[N8,nZ]=ka(z2),[_8,jL]=N8(z2),zL=M.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=M.useState("idle");return O.jsx(_8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:O.jsx(Yt.span,{...r,ref:t})})});zL.displayName=z2;var VL="AvatarImage",UL=M.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,l=jL(VL,n),f=I8(r,a),d=vo(g=>{s(g),l.onImageLoadingStatusChange(g)});return Dr(()=>{f!=="idle"&&d(f)},[f,d]),f==="loaded"?O.jsx(Yt.img,{...a,ref:t,src:r}):null});UL.displayName=VL;var GL="AvatarFallback",$L=M.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=jL(GL,n),[l,f]=M.useState(r===void 0);return M.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>f(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&a.imageLoadingStatus!=="loaded"?O.jsx(Yt.span,{...s,ref:t}):null});$L.displayName=GL;function JT(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function I8(e,{referrerPolicy:t,crossOrigin:n}){const r=D8(),s=M.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[l,f]=M.useState(()=>JT(a,e));return Dr(()=>{f(JT(a,e))},[a,e]),Dr(()=>{const d=m=>()=>{f(m)};if(!a)return;const g=d("loaded"),p=d("error");return a.addEventListener("load",g),a.addEventListener("error",p),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",g),a.removeEventListener("error",p)}},[a,n,t]),l}function O8(){return()=>{}}function D8(){return M.useSyncExternalStore(O8,()=>!0,()=>!1)}var P8=zL,M8=UL,L8=$L;function uS({className:e,...t}){return O.jsx(P8,{"data-slot":"avatar",className:bt("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function mw({className:e,...t}){return O.jsx(M8,{"data-slot":"avatar-image",className:bt("aspect-square size-full",e),...t})}function cS({className:e,...t}){return O.jsx(L8,{"data-slot":"avatar-fallback",className:bt("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function F8({user:e}){const{isMobile:t}=kS(),n=async()=>{await rP()};return O.jsx(BS,{children:O.jsx(jS,{children:O.jsxs(wa,{children:[O.jsx(Ra,{asChild:!0,children:O.jsxs(zS,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground cursor-pointer",children:[O.jsxs(uS,{className:"h-8 w-8 rounded-lg",children:[O.jsx(mw,{src:e.photo,alt:e.username}),O.jsx(cS,{className:"rounded-lg",children:"CN"})]}),O.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[O.jsx("span",{className:"truncate font-medium",children:e.username}),O.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]}),O.jsx(x8,{className:"ml-auto size-4"})]})}),O.jsxs(Ta,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[O.jsx(d$,{className:"p-0 font-normal",children:O.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[O.jsxs(uS,{className:"h-8 w-8 rounded-lg",children:[O.jsx(mw,{src:e.photo,alt:e.username}),O.jsx(cS,{className:"rounded-lg",children:"CN"})]}),O.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[O.jsx("span",{className:"truncate font-medium",children:e.username}),O.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]})]})}),O.jsx(L2,{}),O.jsxs(yr,{onClick:n,className:"cursor-pointer",children:[O.jsx(S8,{}),"Log out"]})]})]})})})}function HL({items:e,...t}){const{data:n,isLoading:r}=Fa({queryKey:["me"],queryFn:hh,retry:!1});return r?null:O.jsxs(s8,{collapsible:"offcanvas",...t,children:[O.jsx(l8,{children:O.jsx(BS,{children:O.jsx(jS,{children:O.jsx(zS,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5",children:O.jsxs(yg,{to:"/",children:[O.jsx(B3,{className:"!size-5"}),O.jsx("span",{className:"text-base font-semibold",children:"Wafflebase"})]})})})})}),O.jsxs(c8,{children:[O.jsx(d8,{items:e.main}),O.jsx(h8,{items:e.secondary,className:"mt-auto"})]}),O.jsx(u8,{children:O.jsx(F8,{user:n})})]})}function YL({title:e,editable:t=!1,onRename:n,children:r}){const[s,a]=M.useState(!1),[l,f]=M.useState(e),d=M.useRef(null);M.useEffect(()=>{f(e)},[e]),M.useEffect(()=>{s&&d.current&&(d.current.focus(),d.current.select())},[s]);const g=M.useCallback(()=>{const p=l.trim();p&&p!==e&&n&&n(p),a(!1)},[l,e,n]);return O.jsx("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:O.jsxs("div",{className:"flex w-full items-center justify-between gap-1 px-4 lg:gap-2 lg:px-6 min-h-[3.5rem]",children:[O.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[O.jsx(a8,{className:"-ml-1"}),O.jsx(Vp,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-4"}),s?O.jsx("input",{ref:d,className:"text-base font-medium bg-transparent border-b border-primary outline-none px-1 min-w-[120px]",value:l,onChange:p=>f(p.target.value),onBlur:g,onKeyDown:p=>{p.key==="Enter"&&g(),p.key==="Escape"&&(f(e),a(!1))}}):O.jsx("h1",{className:`text-base font-medium ${t?"cursor-pointer hover:bg-muted/50 px-1 rounded transition-colors":""}`,onClick:()=>{t&&a(!0)},title:t?"Click to rename":void 0,children:e})]}),O.jsx("div",{className:"flex items-center min-w-0",children:r})]})})}function k8({className:e}){const{data:t}=Fa({queryKey:["me"],queryFn:hh,retry:!1}),r=Pa.usePresences().reduce((a,l)=>{const f=l.presence.username;return a.find(d=>d.presence.username===f)||a.push(l),a},[]),s=r.length;return O.jsx(j2,{children:O.jsx("div",{className:`flex items-center gap-2 min-h-[2.5rem] ${e}`,children:s>0?O.jsx(O.Fragment,{children:O.jsxs("div",{className:"flex items-center -space-x-2",children:[r.slice(0,4).map(a=>{var g,p;const l=(g=a.presence)==null?void 0:g.username,f=(p=a.presence)==null?void 0:p.photo,d=l===(t==null?void 0:t.username);return l?O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsxs("div",{className:"relative",children:[O.jsxs(uS,{className:"h-8 w-8 border-2 border-background",children:[f&&O.jsx(mw,{src:f,alt:l}),O.jsx(cS,{className:"text-xs",children:(l==null?void 0:l.slice(0,2).toUpperCase())||"??"})]}),O.jsx("div",{className:"absolute -bottom-1 -right-1",children:O.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 border-2 border-background"})})]})}),O.jsx(pi,{children:O.jsxs("p",{children:[l||"Anonymous",d?" (You)":""]})})]},a.clientID):null}).filter(Boolean),s>4&&O.jsx(uS,{className:"w-8 border-2 border-background",children:O.jsxs(cS,{className:"text-xs bg-muted",children:["+",s-4]})})]})}):O.jsx("div",{className:"w-32 opacity-0"})})})}function QT(e,[t,n]){return Math.min(n,Math.max(t,e))}function WL(e){const t=M.useRef({value:e,previous:e});return M.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var B8=[" ","Enter","ArrowUp","ArrowDown"],j8=[" ","Enter"],Hv="Select",[VS,US,z8]=d2(Hv),[wg,rZ]=ka(Hv,[z8,Cg]),GS=Cg(),[V8,Jc]=wg(Hv),[U8,G8]=wg(Hv),qL=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:l,defaultValue:f,onValueChange:d,dir:g,name:p,autoComplete:m,disabled:x,required:b,form:A}=e,C=GS(t),[w,R]=M.useState(null),[N,I]=M.useState(null),[D,F]=M.useState(!1),k=h2(g),[V=!1,B]=uh({prop:r,defaultProp:s,onChange:a}),[H,te]=uh({prop:l,defaultProp:f,onChange:d}),re=M.useRef(null),se=w?A||!!w.closest("form"):!0,[Ee,ke]=M.useState(new Set),Me=Array.from(Ee).map(ie=>ie.props.value).join(";");return O.jsx(A2,{...C,children:O.jsxs(V8,{required:b,scope:t,trigger:w,onTriggerChange:R,valueNode:N,onValueNodeChange:I,valueNodeHasChildren:D,onValueNodeHasChildrenChange:F,contentId:_a(),value:H,onValueChange:te,open:V,onOpenChange:B,dir:k,triggerPointerDownPosRef:re,disabled:x,children:[O.jsx(VS.Provider,{scope:t,children:O.jsx(U8,{scope:e.__scopeSelect,onNativeOptionAdd:M.useCallback(ie=>{ke(we=>new Set(we).add(ie))},[]),onNativeOptionRemove:M.useCallback(ie=>{ke(we=>{const de=new Set(we);return de.delete(ie),de})},[]),children:n})}),se?O.jsxs(vF,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:m,value:H,onChange:ie=>te(ie.target.value),disabled:x,form:A,children:[H===void 0?O.jsx("option",{value:""}):null,Array.from(Ee)]},Me):null]})})};qL.displayName=Hv;var KL="SelectTrigger",XL=M.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=GS(n),l=Jc(KL,n),f=l.disabled||r,d=bn(t,l.onTriggerChange),g=US(n),p=M.useRef("touch"),[m,x,b]=yF(C=>{const w=g().filter(I=>!I.disabled),R=w.find(I=>I.value===l.value),N=xF(w,C,R);N!==void 0&&l.onValueChange(N.value)}),A=C=>{f||(l.onOpenChange(!0),b()),C&&(l.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return O.jsx(C2,{asChild:!0,...a,children:O.jsx(Yt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":mF(l.value)?"":void 0,...s,ref:d,onClick:ft(s.onClick,C=>{C.currentTarget.focus(),p.current!=="mouse"&&A(C)}),onPointerDown:ft(s.onPointerDown,C=>{p.current=C.pointerType;const w=C.target;w.hasPointerCapture(C.pointerId)&&w.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(A(C),C.preventDefault())}),onKeyDown:ft(s.onKeyDown,C=>{const w=m.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&x(C.key),!(w&&C.key===" ")&&B8.includes(C.key)&&(A(),C.preventDefault())})})})});XL.displayName=KL;var ZL="SelectValue",JL=M.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:l="",...f}=e,d=Jc(ZL,n),{onValueNodeHasChildrenChange:g}=d,p=a!==void 0,m=bn(t,d.onValueNodeChange);return Dr(()=>{g(p)},[g,p]),O.jsx(Yt.span,{...f,ref:m,style:{pointerEvents:"none"},children:mF(d.value)?O.jsx(O.Fragment,{children:l}):a})});JL.displayName=ZL;var $8="SelectIcon",QL=M.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return O.jsx(Yt.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});QL.displayName=$8;var H8="SelectPortal",eF=e=>O.jsx(Mv,{asChild:!0,...e});eF.displayName=H8;var dh="SelectContent",tF=M.forwardRef((e,t)=>{const n=Jc(dh,e.__scopeSelect),[r,s]=M.useState();if(Dr(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Na.createPortal(O.jsx(nF,{scope:e.__scopeSelect,children:O.jsx(VS.Slot,{scope:e.__scopeSelect,children:O.jsx("div",{children:e.children})})}),a):null}return O.jsx(rF,{...e,ref:t})});tF.displayName=dh;var Cs=10,[nF,Qc]=wg(dh),Y8="SelectContentImpl",W8=Yc("SelectContent.RemoveScroll"),rF=M.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:f,sideOffset:d,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:A,hideWhenDetached:C,avoidCollisions:w,...R}=e,N=Jc(dh,n),[I,D]=M.useState(null),[F,k]=M.useState(null),V=bn(t,J=>D(J)),[B,H]=M.useState(null),[te,re]=M.useState(null),se=US(n),[Ee,ke]=M.useState(!1),Me=M.useRef(!1);M.useEffect(()=>{if(I)return a2(I)},[I]),s2();const ie=M.useCallback(J=>{const[X,...Z]=se().map(xe=>xe.ref.current),[oe]=Z.slice(-1),ye=document.activeElement;for(const xe of J)if(xe===ye||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===X&&F&&(F.scrollTop=0),xe===oe&&F&&(F.scrollTop=F.scrollHeight),xe==null||xe.focus(),document.activeElement!==ye))return},[se,F]),we=M.useCallback(()=>ie([B,I]),[ie,B,I]);M.useEffect(()=>{Ee&&we()},[Ee,we]);const{onOpenChange:de,triggerPointerDownPosRef:ue}=N;M.useEffect(()=>{if(I){let J={x:0,y:0};const X=oe=>{var ye,xe;J={x:Math.abs(Math.round(oe.pageX)-(((ye=ue.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((xe=ue.current)==null?void 0:xe.y)??0))}},Z=oe=>{J.x<=10&&J.y<=10?oe.preventDefault():I.contains(oe.target)||de(!1),document.removeEventListener("pointermove",X),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",Z,{capture:!0})}}},[I,de,ue]),M.useEffect(()=>{const J=()=>de(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[de]);const[K,ne]=yF(J=>{const X=se().filter(ye=>!ye.disabled),Z=X.find(ye=>ye.ref.current===document.activeElement),oe=xF(X,J,Z);oe&&setTimeout(()=>oe.ref.current.focus())}),he=M.useCallback((J,X,Z)=>{const oe=!Me.current&&!Z;(N.value!==void 0&&N.value===X||oe)&&(H(J),oe&&(Me.current=!0))},[N.value]),j=M.useCallback(()=>I==null?void 0:I.focus(),[I]),z=M.useCallback((J,X,Z)=>{const oe=!Me.current&&!Z;(N.value!==void 0&&N.value===X||oe)&&re(J)},[N.value]),G=r==="popper"?vw:iF,Y=G===vw?{side:f,sideOffset:d,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:A,hideWhenDetached:C,avoidCollisions:w}:{};return O.jsx(nF,{scope:n,content:I,viewport:F,onViewportChange:k,itemRefCallback:he,selectedItem:B,onItemLeave:j,itemTextRefCallback:z,focusSelectedItem:we,selectedItemText:te,position:r,isPositioned:Ee,searchRef:K,children:O.jsx(TS,{as:W8,allowPinchZoom:!0,children:O.jsx(wS,{asChild:!0,trapped:N.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:ft(s,J=>{var X;(X=N.trigger)==null||X.focus({preventScroll:!0}),J.preventDefault()}),children:O.jsx(Pv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:O.jsx(G,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:J=>J.preventDefault(),...R,...Y,onPlaced:()=>ke(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:ft(R.onKeyDown,J=>{const X=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!X&&J.key.length===1&&ne(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let oe=se().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(J.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ye=J.target,xe=oe.indexOf(ye);oe=oe.slice(xe+1)}setTimeout(()=>ie(oe)),J.preventDefault()}})})})})})})});rF.displayName=Y8;var q8="SelectItemAlignedPosition",iF=M.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=Jc(dh,n),l=Qc(dh,n),[f,d]=M.useState(null),[g,p]=M.useState(null),m=bn(t,V=>p(V)),x=US(n),b=M.useRef(!1),A=M.useRef(!0),{viewport:C,selectedItem:w,selectedItemText:R,focusSelectedItem:N}=l,I=M.useCallback(()=>{if(a.trigger&&a.valueNode&&f&&g&&C&&w&&R){const V=a.trigger.getBoundingClientRect(),B=g.getBoundingClientRect(),H=a.valueNode.getBoundingClientRect(),te=R.getBoundingClientRect();if(a.dir!=="rtl"){const ye=te.left-B.left,xe=H.left-ye,ae=V.left-xe,le=V.width+ae,Ae=Math.max(le,B.width),Ie=window.innerWidth-Cs,je=QT(xe,[Cs,Math.max(Cs,Ie-Ae)]);f.style.minWidth=le+"px",f.style.left=je+"px"}else{const ye=B.right-te.right,xe=window.innerWidth-H.right-ye,ae=window.innerWidth-V.right-xe,le=V.width+ae,Ae=Math.max(le,B.width),Ie=window.innerWidth-Cs,je=QT(xe,[Cs,Math.max(Cs,Ie-Ae)]);f.style.minWidth=le+"px",f.style.right=je+"px"}const re=x(),se=window.innerHeight-Cs*2,Ee=C.scrollHeight,ke=window.getComputedStyle(g),Me=parseInt(ke.borderTopWidth,10),ie=parseInt(ke.paddingTop,10),we=parseInt(ke.borderBottomWidth,10),de=parseInt(ke.paddingBottom,10),ue=Me+ie+Ee+de+we,K=Math.min(w.offsetHeight*5,ue),ne=window.getComputedStyle(C),he=parseInt(ne.paddingTop,10),j=parseInt(ne.paddingBottom,10),z=V.top+V.height/2-Cs,G=se-z,Y=w.offsetHeight/2,J=w.offsetTop+Y,X=Me+ie+J,Z=ue-X;if(X<=z){const ye=re.length>0&&w===re[re.length-1].ref.current;f.style.bottom="0px";const xe=g.clientHeight-C.offsetTop-C.offsetHeight,ae=Math.max(G,Y+(ye?j:0)+xe+we),le=X+ae;f.style.height=le+"px"}else{const ye=re.length>0&&w===re[0].ref.current;f.style.top="0px";const ae=Math.max(z,Me+C.offsetTop+(ye?he:0)+Y)+Z;f.style.height=ae+"px",C.scrollTop=X-z+C.offsetTop}f.style.margin=`${Cs}px 0`,f.style.minHeight=K+"px",f.style.maxHeight=se+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[x,a.trigger,a.valueNode,f,g,C,w,R,a.dir,r]);Dr(()=>I(),[I]);const[D,F]=M.useState();Dr(()=>{g&&F(window.getComputedStyle(g).zIndex)},[g]);const k=M.useCallback(V=>{V&&A.current===!0&&(I(),N==null||N(),A.current=!1)},[I,N]);return O.jsx(X8,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:b,onScrollButtonChange:k,children:O.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:O.jsx(Yt.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});iF.displayName=q8;var K8="SelectPopperPosition",vw=M.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Cs,...a}=e,l=GS(n);return O.jsx(w2,{...l,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vw.displayName=K8;var[X8,V2]=wg(dh,{}),yw="SelectViewport",oF=M.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=Qc(yw,n),l=V2(yw,n),f=bn(t,a.onViewportChange),d=M.useRef(0);return O.jsxs(O.Fragment,{children:[O.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),O.jsx(VS.Slot,{scope:n,children:O.jsx(Yt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ft(s.onScroll,g=>{const p=g.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&m){const b=Math.abs(d.current-p.scrollTop);if(b>0){const A=window.innerHeight-Cs*2,C=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),R=Math.max(C,w);if(R<A){const N=R+b,I=Math.min(A,N),D=N-I;m.style.height=I+"px",m.style.bottom==="0px"&&(p.scrollTop=D>0?D:0,m.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});oF.displayName=yw;var sF="SelectGroup",[Z8,J8]=wg(sF),Q8=M.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=_a();return O.jsx(Z8,{scope:n,id:s,children:O.jsx(Yt.div,{role:"group","aria-labelledby":s,...r,ref:t})})});Q8.displayName=sF;var aF="SelectLabel",eH=M.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=J8(aF,n);return O.jsx(Yt.div,{id:s.id,...r,ref:t})});eH.displayName=aF;var fS="SelectItem",[tH,lF]=wg(fS),uF=M.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...l}=e,f=Jc(fS,n),d=Qc(fS,n),g=f.value===r,[p,m]=M.useState(a??""),[x,b]=M.useState(!1),A=bn(t,N=>{var I;return(I=d.itemRefCallback)==null?void 0:I.call(d,N,r,s)}),C=_a(),w=M.useRef("touch"),R=()=>{s||(f.onValueChange(r),f.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return O.jsx(tH,{scope:n,value:r,disabled:s,textId:C,isSelected:g,onItemTextChange:M.useCallback(N=>{m(I=>I||((N==null?void 0:N.textContent)??"").trim())},[]),children:O.jsx(VS.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:O.jsx(Yt.div,{role:"option","aria-labelledby":C,"data-highlighted":x?"":void 0,"aria-selected":g&&x,"data-state":g?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:A,onFocus:ft(l.onFocus,()=>b(!0)),onBlur:ft(l.onBlur,()=>b(!1)),onClick:ft(l.onClick,()=>{w.current!=="mouse"&&R()}),onPointerUp:ft(l.onPointerUp,()=>{w.current==="mouse"&&R()}),onPointerDown:ft(l.onPointerDown,N=>{w.current=N.pointerType}),onPointerMove:ft(l.onPointerMove,N=>{var I;w.current=N.pointerType,s?(I=d.onItemLeave)==null||I.call(d):w.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ft(l.onPointerLeave,N=>{var I;N.currentTarget===document.activeElement&&((I=d.onItemLeave)==null||I.call(d))}),onKeyDown:ft(l.onKeyDown,N=>{var D;((D=d.searchRef)==null?void 0:D.current)!==""&&N.key===" "||(j8.includes(N.key)&&R(),N.key===" "&&N.preventDefault())})})})})});uF.displayName=fS;var rv="SelectItemText",cF=M.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,l=Jc(rv,n),f=Qc(rv,n),d=lF(rv,n),g=G8(rv,n),[p,m]=M.useState(null),x=bn(t,R=>m(R),d.onItemTextChange,R=>{var N;return(N=f.itemTextRefCallback)==null?void 0:N.call(f,R,d.value,d.disabled)}),b=p==null?void 0:p.textContent,A=M.useMemo(()=>O.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:C,onNativeOptionRemove:w}=g;return Dr(()=>(C(A),()=>w(A)),[C,w,A]),O.jsxs(O.Fragment,{children:[O.jsx(Yt.span,{id:d.textId,...a,ref:x}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Na.createPortal(a.children,l.valueNode):null]})});cF.displayName=rv;var fF="SelectItemIndicator",dF=M.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return lF(fF,n).isSelected?O.jsx(Yt.span,{"aria-hidden":!0,...r,ref:t}):null});dF.displayName=fF;var xw="SelectScrollUpButton",hF=M.forwardRef((e,t)=>{const n=Qc(xw,e.__scopeSelect),r=V2(xw,e.__scopeSelect),[s,a]=M.useState(!1),l=bn(t,r.onScrollButtonChange);return Dr(()=>{if(n.viewport&&n.isPositioned){let f=function(){const g=d.scrollTop>0;a(g)};const d=n.viewport;return f(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),s?O.jsx(gF,{...e,ref:l,onAutoScroll:()=>{const{viewport:f,selectedItem:d}=n;f&&d&&(f.scrollTop=f.scrollTop-d.offsetHeight)}}):null});hF.displayName=xw;var bw="SelectScrollDownButton",pF=M.forwardRef((e,t)=>{const n=Qc(bw,e.__scopeSelect),r=V2(bw,e.__scopeSelect),[s,a]=M.useState(!1),l=bn(t,r.onScrollButtonChange);return Dr(()=>{if(n.viewport&&n.isPositioned){let f=function(){const g=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<g;a(p)};const d=n.viewport;return f(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),s?O.jsx(gF,{...e,ref:l,onAutoScroll:()=>{const{viewport:f,selectedItem:d}=n;f&&d&&(f.scrollTop=f.scrollTop+d.offsetHeight)}}):null});pF.displayName=bw;var gF=M.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=Qc("SelectScrollButton",n),l=M.useRef(null),f=US(n),d=M.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return M.useEffect(()=>()=>d(),[d]),Dr(()=>{var p;const g=f().find(m=>m.ref.current===document.activeElement);(p=g==null?void 0:g.ref.current)==null||p.scrollIntoView({block:"nearest"})},[f]),O.jsx(Yt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ft(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:ft(s.onPointerMove,()=>{var g;(g=a.onItemLeave)==null||g.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:ft(s.onPointerLeave,()=>{d()})})}),nH="SelectSeparator",rH=M.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return O.jsx(Yt.div,{"aria-hidden":!0,...r,ref:t})});rH.displayName=nH;var Sw="SelectArrow",iH=M.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=GS(n),a=Jc(Sw,n),l=Qc(Sw,n);return a.open&&l.position==="popper"?O.jsx(R2,{...s,...r,ref:t}):null});iH.displayName=Sw;function mF(e){return e===""||e===void 0}var vF=M.forwardRef((e,t)=>{const{value:n,...r}=e,s=M.useRef(null),a=bn(t,s),l=WL(n);return M.useEffect(()=>{const f=s.current,d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==n&&p){const m=new Event("change",{bubbles:!0});p.call(f,n),f.dispatchEvent(m)}},[l,n]),O.jsx(F2,{asChild:!0,children:O.jsx("select",{...r,ref:a,defaultValue:n})})});vF.displayName="BubbleSelect";function yF(e){const t=vo(e),n=M.useRef(""),r=M.useRef(0),s=M.useCallback(l=>{const f=n.current+l;t(f),function d(g){n.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(f)},[t]),a=M.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function xF(e,t,n){const s=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let l=oH(e,Math.max(a,0));s.length===1&&(l=l.filter(g=>g!==n));const d=l.find(g=>g.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function oH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var sH=qL,aH=XL,lH=JL,uH=QL,cH=eF,fH=tF,dH=oF,hH=uF,pH=cF,gH=dF,mH=hF,vH=pF;function eN({...e}){return O.jsx(sH,{"data-slot":"select",...e})}function tN({...e}){return O.jsx(lH,{"data-slot":"select-value",...e})}function nN({className:e,size:t="default",children:n,...r}){return O.jsxs(aH,{"data-slot":"select-trigger","data-size":t,className:bt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,O.jsx(uH,{asChild:!0,children:O.jsx(F3,{className:"size-4 opacity-50"})})]})}function rN({className:e,children:t,position:n="popper",...r}){return O.jsx(cH,{children:O.jsxs(fH,{"data-slot":"select-content",className:bt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[O.jsx(yH,{}),O.jsx(dH,{className:bt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),O.jsx(xH,{})]})})}function V1({className:e,children:t,...n}){return O.jsxs(hH,{"data-slot":"select-item",className:bt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[O.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:O.jsx(gH,{children:O.jsx(h5,{className:"size-4"})})}),O.jsx(pH,{children:t})]})}function yH({className:e,...t}){return O.jsx(mH,{"data-slot":"select-scroll-up-button",className:bt("flex cursor-default items-center justify-center py-1",e),...t,children:O.jsx(m5,{className:"size-4"})})}function xH({className:e,...t}){return O.jsx(vH,{"data-slot":"select-scroll-down-button",className:bt("flex cursor-default items-center justify-center py-1",e),...t,children:O.jsx(F3,{className:"size-4"})})}async function bH(e,t,n){const r=await _i(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:t,expiration:n})});if(!r.ok)throw new Error("Failed to create share link");return r.json()}async function SH(e){const t=await _i(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`);if(!t.ok)throw new Error("Failed to fetch share links");return t.json()}async function EH(e){if(!(await _i(`https://wafflebase-api.yorkie.dev/share-links/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete share link")}async function AH(e){const t=await fetch(`https://wafflebase-api.yorkie.dev/share-links/${e}/resolve`);if(t.status===410)throw new Error("Share link has expired");if(!t.ok)throw new Error("Invalid share link");return t.json()}const CH=[{value:"none",label:"No limit"},{value:"1h",label:"1 hour"},{value:"8h",label:"8 hours"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"}];function wH(e){if(!e)return"No expiration";const t=new Date(e),n=new Date;if(t<n)return"Expired";const r=t.getTime()-n.getTime(),s=Math.floor(r/(1e3*60*60)),a=Math.floor(s/24);return a>0?`Expires in ${a}d`:s>0?`Expires in ${s}h`:`Expires in ${Math.floor(r/(1e3*60))}m`}function RH({documentId:e}){const[t,n]=M.useState(!1),[r,s]=M.useState("viewer"),[a,l]=M.useState("none"),[f,d]=M.useState([]),[g,p]=M.useState(!1);M.useEffect(()=>{t&&SH(e).then(d).catch(()=>{})},[t,e]);const m=async()=>{p(!0);try{const A=await bH(e,r,a==="none"?null:a);d(w=>[A,...w]);const C=`${window.location.origin}/shared/${A.token}`;await navigator.clipboard.writeText(C),zn.success("Link created and copied to clipboard")}catch{zn.error("Failed to create share link")}finally{p(!1)}},x=async A=>{const C=`${window.location.origin}/shared/${A}`;await navigator.clipboard.writeText(C),zn.success("Link copied to clipboard")},b=async A=>{try{await EH(A),d(C=>C.filter(w=>w.id!==A)),zn.success("Share link revoked")}catch{zn.error("Failed to revoke share link")}};return O.jsxs(Lv,{open:t,onOpenChange:n,children:[O.jsx(R9,{asChild:!0,children:O.jsxs(er,{variant:"outline",size:"sm",children:[O.jsx(C8,{className:"h-4 w-4 mr-1"}),"Share"]})}),O.jsxs(Fv,{className:"sm:max-w-md",children:[O.jsxs(kv,{children:[O.jsx(Bv,{children:"Share Document"}),O.jsx(jv,{children:"Create a link to share this document with others."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"share-role",children:"Permission"}),O.jsxs(eN,{value:r,onValueChange:s,children:[O.jsx(nN,{id:"share-role",className:"w-full",children:O.jsx(tN,{})}),O.jsxs(rN,{children:[O.jsx(V1,{value:"viewer",children:"Viewer"}),O.jsx(V1,{value:"editor",children:"Editor"})]})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"share-expiration",children:"Expiration"}),O.jsxs(eN,{value:a,onValueChange:l,children:[O.jsx(nN,{id:"share-expiration",className:"w-full",children:O.jsx(tN,{})}),O.jsx(rN,{children:CH.map(A=>O.jsx(V1,{value:A.value,children:A.label},A.value))})]})]})]}),f.length>0&&O.jsxs(O.Fragment,{children:[O.jsx(Vp,{}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{children:"Active links"}),O.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:f.map(A=>O.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2 text-sm",children:[O.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O.jsx("span",{className:"capitalize font-medium",children:A.role}),O.jsx("span",{className:"text-muted-foreground text-xs",children:wH(A.expiresAt)})]}),O.jsxs("div",{className:"flex items-center gap-1",children:[O.jsx(er,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>x(A.token),children:O.jsx(y8,{className:"h-3.5 w-3.5"})}),O.jsx(er,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>b(A.id),children:O.jsx(R8,{className:"h-3.5 w-3.5"})})]})]},A.id))})]})]})]}),O.jsx("div",{className:"flex justify-end",children:O.jsx(er,{onClick:m,disabled:g,children:g?"Creating...":"Create Link"})})]})]})}function TH(){const{doc:e}=Pa.useDocument(),{data:t}=Fa({queryKey:["me"],queryFn:hh,retry:!1});M.useEffect(()=>{!e||!t||e.update((n,r)=>{r.set({username:t.username,email:t.email,photo:t.photo||""})})},[e,t])}var Wf={},U1={},iN;function NH(){if(iN)return U1;iN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(U1,"__esModule",{value:!0}),U1}var G1={},oN;function _H(){if(oN)return G1;oN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(G1,"__esModule",{value:!0}),G1}var qf={},$1={exports:{}},H1={},Y1={},W1={},q1,sN;function U2(){return sN||(sN=1,q1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;t[n]=s;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var l=Object.getOwnPropertySymbols(t);if(l.length!==1||l[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(t,n);if(f.value!==s||f.enumerable!==!0)return!1}return!0}),q1}var K1,aN;function $S(){if(aN)return K1;aN=1;var e=U2();return K1=function(){return e()&&!!Symbol.toStringTag},K1}var X1,lN;function G2(){return lN||(lN=1,X1=Object),X1}var Z1,uN;function IH(){return uN||(uN=1,Z1=Error),Z1}var J1,cN;function OH(){return cN||(cN=1,J1=EvalError),J1}var Q1,fN;function DH(){return fN||(fN=1,Q1=RangeError),Q1}var eA,dN;function PH(){return dN||(dN=1,eA=ReferenceError),eA}var tA,hN;function bF(){return hN||(hN=1,tA=SyntaxError),tA}var nA,pN;function Yv(){return pN||(pN=1,nA=TypeError),nA}var rA,gN;function MH(){return gN||(gN=1,rA=URIError),rA}var iA,mN;function LH(){return mN||(mN=1,iA=Math.abs),iA}var oA,vN;function FH(){return vN||(vN=1,oA=Math.floor),oA}var sA,yN;function kH(){return yN||(yN=1,sA=Math.max),sA}var aA,xN;function BH(){return xN||(xN=1,aA=Math.min),aA}var lA,bN;function jH(){return bN||(bN=1,lA=Math.pow),lA}var uA,SN;function zH(){return SN||(SN=1,uA=Math.round),uA}var cA,EN;function VH(){return EN||(EN=1,cA=Number.isNaN||function(t){return t!==t}),cA}var fA,AN;function UH(){if(AN)return fA;AN=1;var e=VH();return fA=function(n){return e(n)||n===0?n:n<0?-1:1},fA}var dA,CN;function GH(){return CN||(CN=1,dA=Object.getOwnPropertyDescriptor),dA}var hA,wN;function Rg(){if(wN)return hA;wN=1;var e=GH();if(e)try{e([],"length")}catch{e=null}return hA=e,hA}var pA,RN;function HS(){if(RN)return pA;RN=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return pA=e,pA}var gA,TN;function $H(){if(TN)return gA;TN=1;var e=typeof Symbol<"u"&&Symbol,t=U2();return gA=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},gA}var mA,NN;function SF(){return NN||(NN=1,mA=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),mA}var vA,_N;function EF(){if(_N)return vA;_N=1;var e=G2();return vA=e.getPrototypeOf||null,vA}var yA,IN;function HH(){if(IN)return yA;IN=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",s=function(d,g){for(var p=[],m=0;m<d.length;m+=1)p[m]=d[m];for(var x=0;x<g.length;x+=1)p[x+d.length]=g[x];return p},a=function(d,g){for(var p=[],m=g,x=0;m<d.length;m+=1,x+=1)p[x]=d[m];return p},l=function(f,d){for(var g="",p=0;p<f.length;p+=1)g+=f[p],p+1<f.length&&(g+=d);return g};return yA=function(d){var g=this;if(typeof g!="function"||t.apply(g)!==r)throw new TypeError(e+g);for(var p=a(arguments,1),m,x=function(){if(this instanceof m){var R=g.apply(this,s(p,arguments));return Object(R)===R?R:this}return g.apply(d,s(p,arguments))},b=n(0,g.length-p.length),A=[],C=0;C<b;C++)A[C]="$"+C;if(m=Function("binder","return function ("+l(A,",")+"){ return binder.apply(this,arguments); }")(x),g.prototype){var w=function(){};w.prototype=g.prototype,m.prototype=new w,w.prototype=null}return m},yA}var xA,ON;function Wv(){if(ON)return xA;ON=1;var e=HH();return xA=Function.prototype.bind||e,xA}var bA,DN;function $2(){return DN||(DN=1,bA=Function.prototype.call),bA}var SA,PN;function H2(){return PN||(PN=1,SA=Function.prototype.apply),SA}var EA,MN;function YH(){return MN||(MN=1,EA=typeof Reflect<"u"&&Reflect&&Reflect.apply),EA}var AA,LN;function AF(){if(LN)return AA;LN=1;var e=Wv(),t=H2(),n=$2(),r=YH();return AA=r||e.call(n,t),AA}var CA,FN;function Y2(){if(FN)return CA;FN=1;var e=Wv(),t=Yv(),n=$2(),r=AF();return CA=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return r(e,n,a)},CA}var wA,kN;function WH(){if(kN)return wA;kN=1;var e=Y2(),t=Rg(),n;try{n=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!n&&t&&t(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return wA=r&&typeof r.get=="function"?e([r.get]):typeof a=="function"?function(f){return a(f==null?f:s(f))}:!1,wA}var RA,BN;function W2(){if(BN)return RA;BN=1;var e=SF(),t=EF(),n=WH();return RA=e?function(s){return e(s)}:t?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return t(s)}:n?function(s){return n(s)}:null,RA}var TA,jN;function CF(){if(jN)return TA;jN=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=Wv();return TA=n.call(e,t),TA}var NA,zN;function q2(){if(zN)return NA;zN=1;var e,t=G2(),n=IH(),r=OH(),s=DH(),a=PH(),l=bF(),f=Yv(),d=MH(),g=LH(),p=FH(),m=kH(),x=BH(),b=jH(),A=zH(),C=UH(),w=Function,R=function(Z){try{return w('"use strict"; return ('+Z+").constructor;")()}catch{}},N=Rg(),I=HS(),D=function(){throw new f},F=N?function(){try{return arguments.callee,D}catch{try{return N(arguments,"callee").get}catch{return D}}}():D,k=$H()(),V=W2(),B=EF(),H=SF(),te=H2(),re=$2(),se={},Ee=typeof Uint8Array>"u"||!V?e:V(Uint8Array),ke={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":k&&V?V([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":se,"%AsyncGenerator%":se,"%AsyncGeneratorFunction%":se,"%AsyncIteratorPrototype%":se,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":se,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&V?V(V([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!k||!V?e:V(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":N,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!k||!V?e:V(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&V?V(""[Symbol.iterator]()):e,"%Symbol%":k?Symbol:e,"%SyntaxError%":l,"%ThrowTypeError%":F,"%TypedArray%":Ee,"%TypeError%":f,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":re,"%Function.prototype.apply%":te,"%Object.defineProperty%":I,"%Object.getPrototypeOf%":B,"%Math.abs%":g,"%Math.floor%":p,"%Math.max%":m,"%Math.min%":x,"%Math.pow%":b,"%Math.round%":A,"%Math.sign%":C,"%Reflect.getPrototypeOf%":H};if(V)try{null.error}catch(Z){var Me=V(V(Z));ke["%Error.prototype%"]=Me}var ie=function Z(oe){var ye;if(oe==="%AsyncFunction%")ye=R("async function () {}");else if(oe==="%GeneratorFunction%")ye=R("function* () {}");else if(oe==="%AsyncGeneratorFunction%")ye=R("async function* () {}");else if(oe==="%AsyncGenerator%"){var xe=Z("%AsyncGeneratorFunction%");xe&&(ye=xe.prototype)}else if(oe==="%AsyncIteratorPrototype%"){var ae=Z("%AsyncGenerator%");ae&&V&&(ye=V(ae.prototype))}return ke[oe]=ye,ye},we={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},de=Wv(),ue=CF(),K=de.call(re,Array.prototype.concat),ne=de.call(te,Array.prototype.splice),he=de.call(re,String.prototype.replace),j=de.call(re,String.prototype.slice),z=de.call(re,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Y=/\\(\\)?/g,J=function(oe){var ye=j(oe,0,1),xe=j(oe,-1);if(ye==="%"&&xe!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(xe==="%"&&ye!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var ae=[];return he(oe,G,function(le,Ae,Ie,je){ae[ae.length]=Ie?he(je,Y,"$1"):Ae||le}),ae},X=function(oe,ye){var xe=oe,ae;if(ue(we,xe)&&(ae=we[xe],xe="%"+ae[0]+"%"),ue(ke,xe)){var le=ke[xe];if(le===se&&(le=ie(xe)),typeof le>"u"&&!ye)throw new f("intrinsic "+oe+" exists, but is not available. Please file an issue!");return{alias:ae,name:xe,value:le}}throw new l("intrinsic "+oe+" does not exist!")};return NA=function(oe,ye){if(typeof oe!="string"||oe.length===0)throw new f("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ye!="boolean")throw new f('"allowMissing" argument must be a boolean');if(z(/^%?[^%]*%?$/,oe)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var xe=J(oe),ae=xe.length>0?xe[0]:"",le=X("%"+ae+"%",ye),Ae=le.name,Ie=le.value,je=!1,Ve=le.alias;Ve&&(ae=Ve[0],ne(xe,K([0,1],Ve)));for(var me=1,De=!0;me<xe.length;me+=1){var Ze=xe[me],ht=j(Ze,0,1),pt=j(Ze,-1);if((ht==='"'||ht==="'"||ht==="`"||pt==='"'||pt==="'"||pt==="`")&&ht!==pt)throw new l("property names with quotes must have matching quotes");if((Ze==="constructor"||!De)&&(je=!0),ae+="."+Ze,Ae="%"+ae+"%",ue(ke,Ae))Ie=ke[Ae];else if(Ie!=null){if(!(Ze in Ie)){if(!ye)throw new f("base intrinsic for "+oe+" exists, but the property is not available.");return}if(N&&me+1>=xe.length){var ge=N(Ie,Ze);De=!!ge,De&&"get"in ge&&!("originalValue"in ge.get)?Ie=ge.get:Ie=Ie[Ze]}else De=ue(Ie,Ze),Ie=Ie[Ze];De&&!je&&(ke[Ae]=Ie)}}return Ie},NA}var _A,VN;function Tg(){if(VN)return _A;VN=1;var e=q2(),t=Y2(),n=t([e("%String.prototype.indexOf%")]);return _A=function(s,a){var l=e(s,!!a);return typeof l=="function"&&n(s,".prototype.")>-1?t([l]):l},_A}var IA,UN;function qH(){if(UN)return IA;UN=1;var e=$S()(),t=Tg(),n=t("Object.prototype.toString"),r=function(f){return e&&f&&typeof f=="object"&&Symbol.toStringTag in f?!1:n(f)==="[object Arguments]"},s=function(f){return r(f)?!0:f!==null&&typeof f=="object"&&"length"in f&&typeof f.length=="number"&&f.length>=0&&n(f)!=="[object Array]"&&"callee"in f&&n(f.callee)==="[object Function]"},a=function(){return r(arguments)}();return r.isLegacyArguments=s,IA=a?r:s,IA}var OA,GN;function KH(){if(GN)return OA;GN=1;var e=Tg(),t=$S()(),n=CF(),r=Rg(),s;if(t){var a=e("RegExp.prototype.exec"),l={},f=function(){throw l},d={toString:f,valueOf:f};typeof Symbol.toPrimitive=="symbol"&&(d[Symbol.toPrimitive]=f),s=function(x){if(!x||typeof x!="object")return!1;var b=r(x,"lastIndex"),A=b&&n(b,"value");if(!A)return!1;try{a(x,d)}catch(C){return C===l}}}else{var g=e("Object.prototype.toString"),p="[object RegExp]";s=function(x){return!x||typeof x!="object"&&typeof x!="function"?!1:g(x)===p}}return OA=s,OA}var DA,$N;function XH(){if($N)return DA;$N=1;var e=Tg(),t=KH(),n=e("RegExp.prototype.exec"),r=Yv();return DA=function(a){if(!t(a))throw new r("`regex` must be a RegExp");return function(f){return n(a,f)!==null}},DA}var PA,HN;function ZH(){if(HN)return PA;HN=1;var e=Tg(),t=XH(),n=t(/^\s*(?:function)?\*/),r=$S()(),s=W2(),a=e("Object.prototype.toString"),l=e("Function.prototype.toString"),f=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},d;return PA=function(p){if(typeof p!="function")return!1;if(n(l(p)))return!0;if(!r){var m=a(p);return m==="[object GeneratorFunction]"}if(!s)return!1;if(typeof d>"u"){var x=f();d=x?s(x):!1}return s(p)===d},PA}var MA,YN;function JH(){if(YN)return MA;YN=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},t(function(){throw 42},null,n)}catch(N){N!==r&&(t=null)}else t=null;var s=/^\s*class\b/,a=function(I){try{var D=e.call(I);return s.test(D)}catch{return!1}},l=function(I){try{return a(I)?!1:(e.call(I),!0)}catch{return!1}},f=Object.prototype.toString,d="[object Object]",g="[object Function]",p="[object GeneratorFunction]",m="[object HTMLAllCollection]",x="[object HTML document.all class]",b="[object HTMLCollection]",A=typeof Symbol=="function"&&!!Symbol.toStringTag,C=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var R=document.all;f.call(R)===f.call(document.all)&&(w=function(I){if((C||!I)&&(typeof I>"u"||typeof I=="object"))try{var D=f.call(I);return(D===m||D===x||D===b||D===d)&&I("")==null}catch{}return!1})}return MA=t?function(I){if(w(I))return!0;if(!I||typeof I!="function"&&typeof I!="object")return!1;try{t(I,null,n)}catch(D){if(D!==r)return!1}return!a(I)&&l(I)}:function(I){if(w(I))return!0;if(!I||typeof I!="function"&&typeof I!="object")return!1;if(A)return l(I);if(a(I))return!1;var D=f.call(I);return D!==g&&D!==p&&!/^\[object HTML/.test(D)?!1:l(I)},MA}var LA,WN;function QH(){if(WN)return LA;WN=1;var e=JH(),t=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(d,g,p){for(var m=0,x=d.length;m<x;m++)n.call(d,m)&&(p==null?g(d[m],m,d):g.call(p,d[m],m,d))},s=function(d,g,p){for(var m=0,x=d.length;m<x;m++)p==null?g(d.charAt(m),m,d):g.call(p,d.charAt(m),m,d)},a=function(d,g,p){for(var m in d)n.call(d,m)&&(p==null?g(d[m],m,d):g.call(p,d[m],m,d))};function l(f){return t.call(f)==="[object Array]"}return LA=function(d,g,p){if(!e(g))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=p),l(d)?r(d,g,m):typeof d=="string"?s(d,g,m):a(d,g,m)},LA}var FA,qN;function eY(){return qN||(qN=1,FA=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),FA}var kA,KN;function tY(){if(KN)return kA;KN=1;var e=eY(),t=typeof globalThis>"u"?e3:globalThis;return kA=function(){for(var r=[],s=0;s<e.length;s++)typeof t[e[s]]=="function"&&(r[r.length]=e[s]);return r},kA}var BA={exports:{}},jA,XN;function wF(){if(XN)return jA;XN=1;var e=HS(),t=bF(),n=Yv(),r=Rg();return jA=function(a,l,f){if(!a||typeof a!="object"&&typeof a!="function")throw new n("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var d=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,x=!!r&&r(a,l);if(e)e(a,l,{configurable:p===null&&x?x.configurable:!p,enumerable:d===null&&x?x.enumerable:!d,value:f,writable:g===null&&x?x.writable:!g});else if(m||!d&&!g&&!p)a[l]=f;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},jA}var zA,ZN;function RF(){if(ZN)return zA;ZN=1;var e=HS(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},zA=t,zA}var VA,JN;function nY(){if(JN)return VA;JN=1;var e=q2(),t=wF(),n=RF()(),r=Rg(),s=Yv(),a=e("%Math.floor%");return VA=function(f,d){if(typeof f!="function")throw new s("`fn` is not a function");if(typeof d!="number"||d<0||d>4294967295||a(d)!==d)throw new s("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],p=!0,m=!0;if("length"in f&&r){var x=r(f,"length");x&&!x.configurable&&(p=!1),x&&!x.writable&&(m=!1)}return(p||m||!g)&&(n?t(f,"length",d,!0,!0):t(f,"length",d)),f},VA}var UA,QN;function rY(){if(QN)return UA;QN=1;var e=Wv(),t=H2(),n=AF();return UA=function(){return n(e,t,arguments)},UA}var e_;function YS(){return e_||(e_=1,function(e){var t=nY(),n=HS(),r=Y2(),s=rY();e.exports=function(l){var f=r(arguments),d=l.length-(arguments.length-1);return t(f,1+(d>0?d:0),!0)},n?n(e.exports,"apply",{value:s}):e.exports.apply=s}(BA)),BA.exports}var GA,t_;function TF(){if(t_)return GA;t_=1;var e=QH(),t=tY(),n=YS(),r=Tg(),s=Rg(),a=W2(),l=r("Object.prototype.toString"),f=$S()(),d=typeof globalThis>"u"?e3:globalThis,g=t(),p=r("String.prototype.slice"),m=r("Array.prototype.indexOf",!0)||function(w,R){for(var N=0;N<w.length;N+=1)if(w[N]===R)return N;return-1},x={__proto__:null};f&&s&&a?e(g,function(C){var w=new d[C];if(Symbol.toStringTag in w&&a){var R=a(w),N=s(R,Symbol.toStringTag);if(!N&&R){var I=a(R);N=s(I,Symbol.toStringTag)}x["$"+C]=n(N.get)}}):e(g,function(C){var w=new d[C],R=w.slice||w.set;R&&(x["$"+C]=n(R))});var b=function(w){var R=!1;return e(x,function(N,I){if(!R)try{"$"+N(w)===I&&(R=p(I,1))}catch{}}),R},A=function(w){var R=!1;return e(x,function(N,I){if(!R)try{N(w),R=p(I,1)}catch{}}),R};return GA=function(w){if(!w||typeof w!="object")return!1;if(!f){var R=p(l(w),8,-1);return m(g,R)>-1?R:R!=="Object"?!1:A(w)}return s?b(w):null},GA}var $A,n_;function iY(){if(n_)return $A;n_=1;var e=TF();return $A=function(n){return!!e(n)},$A}var r_;function oY(){return r_||(r_=1,function(e){var t=qH(),n=ZH(),r=TF(),s=iY();function a(me){return me.call.bind(me)}var l=typeof BigInt<"u",f=typeof Symbol<"u",d=a(Object.prototype.toString),g=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),m=a(Boolean.prototype.valueOf);if(l)var x=a(BigInt.prototype.valueOf);if(f)var b=a(Symbol.prototype.valueOf);function A(me,De){if(typeof me!="object")return!1;try{return De(me),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=s;function C(me){return typeof Promise<"u"&&me instanceof Promise||me!==null&&typeof me=="object"&&typeof me.then=="function"&&typeof me.catch=="function"}e.isPromise=C;function w(me){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(me):s(me)||j(me)}e.isArrayBufferView=w;function R(me){return r(me)==="Uint8Array"}e.isUint8Array=R;function N(me){return r(me)==="Uint8ClampedArray"}e.isUint8ClampedArray=N;function I(me){return r(me)==="Uint16Array"}e.isUint16Array=I;function D(me){return r(me)==="Uint32Array"}e.isUint32Array=D;function F(me){return r(me)==="Int8Array"}e.isInt8Array=F;function k(me){return r(me)==="Int16Array"}e.isInt16Array=k;function V(me){return r(me)==="Int32Array"}e.isInt32Array=V;function B(me){return r(me)==="Float32Array"}e.isFloat32Array=B;function H(me){return r(me)==="Float64Array"}e.isFloat64Array=H;function te(me){return r(me)==="BigInt64Array"}e.isBigInt64Array=te;function re(me){return r(me)==="BigUint64Array"}e.isBigUint64Array=re;function se(me){return d(me)==="[object Map]"}se.working=typeof Map<"u"&&se(new Map);function Ee(me){return typeof Map>"u"?!1:se.working?se(me):me instanceof Map}e.isMap=Ee;function ke(me){return d(me)==="[object Set]"}ke.working=typeof Set<"u"&&ke(new Set);function Me(me){return typeof Set>"u"?!1:ke.working?ke(me):me instanceof Set}e.isSet=Me;function ie(me){return d(me)==="[object WeakMap]"}ie.working=typeof WeakMap<"u"&&ie(new WeakMap);function we(me){return typeof WeakMap>"u"?!1:ie.working?ie(me):me instanceof WeakMap}e.isWeakMap=we;function de(me){return d(me)==="[object WeakSet]"}de.working=typeof WeakSet<"u"&&de(new WeakSet);function ue(me){return de(me)}e.isWeakSet=ue;function K(me){return d(me)==="[object ArrayBuffer]"}K.working=typeof ArrayBuffer<"u"&&K(new ArrayBuffer);function ne(me){return typeof ArrayBuffer>"u"?!1:K.working?K(me):me instanceof ArrayBuffer}e.isArrayBuffer=ne;function he(me){return d(me)==="[object DataView]"}he.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&he(new DataView(new ArrayBuffer(1),0,1));function j(me){return typeof DataView>"u"?!1:he.working?he(me):me instanceof DataView}e.isDataView=j;var z=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function G(me){return d(me)==="[object SharedArrayBuffer]"}function Y(me){return typeof z>"u"?!1:(typeof G.working>"u"&&(G.working=G(new z)),G.working?G(me):me instanceof z)}e.isSharedArrayBuffer=Y;function J(me){return d(me)==="[object AsyncFunction]"}e.isAsyncFunction=J;function X(me){return d(me)==="[object Map Iterator]"}e.isMapIterator=X;function Z(me){return d(me)==="[object Set Iterator]"}e.isSetIterator=Z;function oe(me){return d(me)==="[object Generator]"}e.isGeneratorObject=oe;function ye(me){return d(me)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=ye;function xe(me){return A(me,g)}e.isNumberObject=xe;function ae(me){return A(me,p)}e.isStringObject=ae;function le(me){return A(me,m)}e.isBooleanObject=le;function Ae(me){return l&&A(me,x)}e.isBigIntObject=Ae;function Ie(me){return f&&A(me,b)}e.isSymbolObject=Ie;function je(me){return xe(me)||ae(me)||le(me)||Ae(me)||Ie(me)}e.isBoxedPrimitive=je;function Ve(me){return typeof Uint8Array<"u"&&(ne(me)||Y(me))}e.isAnyArrayBuffer=Ve,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(me){Object.defineProperty(e,me,{enumerable:!1,value:function(){throw new Error(me+" is not supported in userland")}})})}(W1)),W1}var HA,i_;function sY(){return i_||(i_=1,HA=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),HA}var Rb={exports:{}},o_;function aY(){return o_||(o_=1,typeof Object.create=="function"?Rb.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Rb.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}),Rb.exports}var s_;function fg(){return s_||(s_=1,function(e){var t={},n=Object.getOwnPropertyDescriptors||function(z){for(var G=Object.keys(z),Y={},J=0;J<G.length;J++)Y[G[J]]=Object.getOwnPropertyDescriptor(z,G[J]);return Y},r=/%[sdj%]/g;e.format=function(j){if(!k(j)){for(var z=[],G=0;G<arguments.length;G++)z.push(f(arguments[G]));return z.join(" ")}for(var G=1,Y=arguments,J=Y.length,X=String(j).replace(r,function(oe){if(oe==="%%")return"%";if(G>=J)return oe;switch(oe){case"%s":return String(Y[G++]);case"%d":return Number(Y[G++]);case"%j":try{return JSON.stringify(Y[G++])}catch{return"[Circular]"}default:return oe}}),Z=Y[G];G<J;Z=Y[++G])I(Z)||!te(Z)?X+=" "+Z:X+=" "+f(Z);return X},e.deprecate=function(j,z){if(typeof process<"u"&&process.noDeprecation===!0)return j;if(typeof process>"u")return function(){return e.deprecate(j,z).apply(this,arguments)};var G=!1;function Y(){if(!G){if(process.throwDeprecation)throw new Error(z);process.traceDeprecation?console.trace(z):console.error(z),G=!0}return j.apply(this,arguments)}return Y};var s={},a=/^$/;if(t.NODE_DEBUG){var l=t.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+l+"$","i")}e.debuglog=function(j){if(j=j.toUpperCase(),!s[j])if(a.test(j)){var z=process.pid;s[j]=function(){var G=e.format.apply(e,arguments);console.error("%s %d: %s",j,z,G)}}else s[j]=function(){};return s[j]};function f(j,z){var G={seen:[],stylize:g};return arguments.length>=3&&(G.depth=arguments[2]),arguments.length>=4&&(G.colors=arguments[3]),N(z)?G.showHidden=z:z&&e._extend(G,z),B(G.showHidden)&&(G.showHidden=!1),B(G.depth)&&(G.depth=2),B(G.colors)&&(G.colors=!1),B(G.customInspect)&&(G.customInspect=!0),G.colors&&(G.stylize=d),m(G,j,G.depth)}e.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function d(j,z){var G=f.styles[z];return G?"\x1B["+f.colors[G][0]+"m"+j+"\x1B["+f.colors[G][1]+"m":j}function g(j,z){return j}function p(j){var z={};return j.forEach(function(G,Y){z[G]=!0}),z}function m(j,z,G){if(j.customInspect&&z&&Ee(z.inspect)&&z.inspect!==e.inspect&&!(z.constructor&&z.constructor.prototype===z)){var Y=z.inspect(G,j);return k(Y)||(Y=m(j,Y,G)),Y}var J=x(j,z);if(J)return J;var X=Object.keys(z),Z=p(X);if(j.showHidden&&(X=Object.getOwnPropertyNames(z)),se(z)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return b(z);if(X.length===0){if(Ee(z)){var oe=z.name?": "+z.name:"";return j.stylize("[Function"+oe+"]","special")}if(H(z))return j.stylize(RegExp.prototype.toString.call(z),"regexp");if(re(z))return j.stylize(Date.prototype.toString.call(z),"date");if(se(z))return b(z)}var ye="",xe=!1,ae=["{","}"];if(R(z)&&(xe=!0,ae=["[","]"]),Ee(z)){var le=z.name?": "+z.name:"";ye=" [Function"+le+"]"}if(H(z)&&(ye=" "+RegExp.prototype.toString.call(z)),re(z)&&(ye=" "+Date.prototype.toUTCString.call(z)),se(z)&&(ye=" "+b(z)),X.length===0&&(!xe||z.length==0))return ae[0]+ye+ae[1];if(G<0)return H(z)?j.stylize(RegExp.prototype.toString.call(z),"regexp"):j.stylize("[Object]","special");j.seen.push(z);var Ae;return xe?Ae=A(j,z,G,Z,X):Ae=X.map(function(Ie){return C(j,z,G,Z,Ie,xe)}),j.seen.pop(),w(Ae,ye,ae)}function x(j,z){if(B(z))return j.stylize("undefined","undefined");if(k(z)){var G="'"+JSON.stringify(z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return j.stylize(G,"string")}if(F(z))return j.stylize(""+z,"number");if(N(z))return j.stylize(""+z,"boolean");if(I(z))return j.stylize("null","null")}function b(j){return"["+Error.prototype.toString.call(j)+"]"}function A(j,z,G,Y,J){for(var X=[],Z=0,oe=z.length;Z<oe;++Z)ue(z,String(Z))?X.push(C(j,z,G,Y,String(Z),!0)):X.push("");return J.forEach(function(ye){ye.match(/^\d+$/)||X.push(C(j,z,G,Y,ye,!0))}),X}function C(j,z,G,Y,J,X){var Z,oe,ye;if(ye=Object.getOwnPropertyDescriptor(z,J)||{value:z[J]},ye.get?ye.set?oe=j.stylize("[Getter/Setter]","special"):oe=j.stylize("[Getter]","special"):ye.set&&(oe=j.stylize("[Setter]","special")),ue(Y,J)||(Z="["+J+"]"),oe||(j.seen.indexOf(ye.value)<0?(I(G)?oe=m(j,ye.value,null):oe=m(j,ye.value,G-1),oe.indexOf(`
`)>-1&&(X?oe=oe.split(`
`).map(function(xe){return"  "+xe}).join(`
`).slice(2):oe=`
`+oe.split(`
`).map(function(xe){return"   "+xe}).join(`
`))):oe=j.stylize("[Circular]","special")),B(Z)){if(X&&J.match(/^\d+$/))return oe;Z=JSON.stringify(""+J),Z.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Z=Z.slice(1,-1),Z=j.stylize(Z,"name")):(Z=Z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Z=j.stylize(Z,"string"))}return Z+": "+oe}function w(j,z,G){var Y=j.reduce(function(J,X){return X.indexOf(`
`)>=0,J+X.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Y>60?G[0]+(z===""?"":z+`
 `)+" "+j.join(`,
  `)+" "+G[1]:G[0]+z+" "+j.join(", ")+" "+G[1]}e.types=oY();function R(j){return Array.isArray(j)}e.isArray=R;function N(j){return typeof j=="boolean"}e.isBoolean=N;function I(j){return j===null}e.isNull=I;function D(j){return j==null}e.isNullOrUndefined=D;function F(j){return typeof j=="number"}e.isNumber=F;function k(j){return typeof j=="string"}e.isString=k;function V(j){return typeof j=="symbol"}e.isSymbol=V;function B(j){return j===void 0}e.isUndefined=B;function H(j){return te(j)&&Me(j)==="[object RegExp]"}e.isRegExp=H,e.types.isRegExp=H;function te(j){return typeof j=="object"&&j!==null}e.isObject=te;function re(j){return te(j)&&Me(j)==="[object Date]"}e.isDate=re,e.types.isDate=re;function se(j){return te(j)&&(Me(j)==="[object Error]"||j instanceof Error)}e.isError=se,e.types.isNativeError=se;function Ee(j){return typeof j=="function"}e.isFunction=Ee;function ke(j){return j===null||typeof j=="boolean"||typeof j=="number"||typeof j=="string"||typeof j=="symbol"||typeof j>"u"}e.isPrimitive=ke,e.isBuffer=sY();function Me(j){return Object.prototype.toString.call(j)}function ie(j){return j<10?"0"+j.toString(10):j.toString(10)}var we=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(){var j=new Date,z=[ie(j.getHours()),ie(j.getMinutes()),ie(j.getSeconds())].join(":");return[j.getDate(),we[j.getMonth()],z].join(" ")}e.log=function(){console.log("%s - %s",de(),e.format.apply(e,arguments))},e.inherits=aY(),e._extend=function(j,z){if(!z||!te(z))return j;for(var G=Object.keys(z),Y=G.length;Y--;)j[G[Y]]=z[G[Y]];return j};function ue(j,z){return Object.prototype.hasOwnProperty.call(j,z)}var K=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');if(K&&z[K]){var G=z[K];if(typeof G!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(G,K,{value:G,enumerable:!1,writable:!1,configurable:!0}),G}function G(){for(var Y,J,X=new Promise(function(ye,xe){Y=ye,J=xe}),Z=[],oe=0;oe<arguments.length;oe++)Z.push(arguments[oe]);Z.push(function(ye,xe){ye?J(ye):Y(xe)});try{z.apply(this,Z)}catch(ye){J(ye)}return X}return Object.setPrototypeOf(G,Object.getPrototypeOf(z)),K&&Object.defineProperty(G,K,{value:G,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(G,n(z))},e.promisify.custom=K;function ne(j,z){if(!j){var G=new Error("Promise was rejected with a falsy value");G.reason=j,j=G}return z(j)}function he(j){if(typeof j!="function")throw new TypeError('The "original" argument must be of type Function');function z(){for(var G=[],Y=0;Y<arguments.length;Y++)G.push(arguments[Y]);var J=G.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var X=this,Z=function(){return J.apply(X,arguments)};j.apply(this,G).then(function(oe){process.nextTick(Z.bind(null,null,oe))},function(oe){process.nextTick(ne.bind(null,oe,Z))})}return Object.setPrototypeOf(z,Object.getPrototypeOf(j)),Object.defineProperties(z,n(j)),z}e.callbackify=he}(Y1)),Y1}var a_;function NF(){if(a_)return H1;a_=1;function e(N){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},e(N)}function t(N,I,D){return Object.defineProperty(N,"prototype",{writable:!1}),N}function n(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}function r(N,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(I&&I.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),I&&s(N,I)}function s(N,I){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,k){return F.__proto__=k,F},s(N,I)}function a(N){var I=d();return function(){var F=g(N),k;if(I){var V=g(this).constructor;k=Reflect.construct(F,arguments,V)}else k=F.apply(this,arguments);return l(this,k)}}function l(N,I){if(I&&(e(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(N)}function f(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(N){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},g(N)}var p={},m,x;function b(N,I,D){D||(D=Error);function F(V,B,H){return typeof I=="string"?I:I(V,B,H)}var k=function(V){r(H,V);var B=a(H);function H(te,re,se){var Ee;return n(this,H),Ee=B.call(this,F(te,re,se)),Ee.code=N,Ee}return t(H)}(D);p[N]=k}function A(N,I){if(Array.isArray(N)){var D=N.length;return N=N.map(function(F){return String(F)}),D>2?"one of ".concat(I," ").concat(N.slice(0,D-1).join(", "),", or ")+N[D-1]:D===2?"one of ".concat(I," ").concat(N[0]," or ").concat(N[1]):"of ".concat(I," ").concat(N[0])}else return"of ".concat(I," ").concat(String(N))}function C(N,I,D){return N.substr(0,I.length)===I}function w(N,I,D){return(D===void 0||D>N.length)&&(D=N.length),N.substring(D-I.length,D)===I}function R(N,I,D){return typeof D!="number"&&(D=0),D+I.length>N.length?!1:N.indexOf(I,D)!==-1}return b("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),b("ERR_INVALID_ARG_TYPE",function(N,I,D){m===void 0&&(m=Ni()),m(typeof N=="string","'name' must be a string");var F;typeof I=="string"&&C(I,"not ")?(F="must not be",I=I.replace(/^not /,"")):F="must be";var k;if(w(N," argument"))k="The ".concat(N," ").concat(F," ").concat(A(I,"type"));else{var V=R(N,".")?"property":"argument";k='The "'.concat(N,'" ').concat(V," ").concat(F," ").concat(A(I,"type"))}return k+=". Received type ".concat(e(D)),k},TypeError),b("ERR_INVALID_ARG_VALUE",function(N,I){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";x===void 0&&(x=fg());var F=x.inspect(I);return F.length>128&&(F="".concat(F.slice(0,128),"...")),"The argument '".concat(N,"' ").concat(D,". Received ").concat(F)},TypeError),b("ERR_INVALID_RETURN_VALUE",function(N,I,D){var F;return D&&D.constructor&&D.constructor.name?F="instance of ".concat(D.constructor.name):F="type ".concat(e(D)),"Expected ".concat(N,' to be returned from the "').concat(I,'"')+" function but got ".concat(F,".")},TypeError),b("ERR_MISSING_ARGS",function(){for(var N=arguments.length,I=new Array(N),D=0;D<N;D++)I[D]=arguments[D];m===void 0&&(m=Ni()),m(I.length>0,"At least one arg needs to be specified");var F="The ",k=I.length;switch(I=I.map(function(V){return'"'.concat(V,'"')}),k){case 1:F+="".concat(I[0]," argument");break;case 2:F+="".concat(I[0]," and ").concat(I[1]," arguments");break;default:F+=I.slice(0,k-1).join(", "),F+=", and ".concat(I[k-1]," arguments");break}return"".concat(F," must be specified")},TypeError),H1.codes=p,H1}var YA,l_;function lY(){if(l_)return YA;l_=1;function e(ue,K){var ne=Object.keys(ue);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(ue);K&&(he=he.filter(function(j){return Object.getOwnPropertyDescriptor(ue,j).enumerable})),ne.push.apply(ne,he)}return ne}function t(ue){for(var K=1;K<arguments.length;K++){var ne=arguments[K]!=null?arguments[K]:{};K%2?e(Object(ne),!0).forEach(function(he){n(ue,he,ne[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(ne)):e(Object(ne)).forEach(function(he){Object.defineProperty(ue,he,Object.getOwnPropertyDescriptor(ne,he))})}return ue}function n(ue,K,ne){return K=l(K),K in ue?Object.defineProperty(ue,K,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ue[K]=ne,ue}function r(ue,K){if(!(ue instanceof K))throw new TypeError("Cannot call a class as a function")}function s(ue,K){for(var ne=0;ne<K.length;ne++){var he=K[ne];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ue,l(he.key),he)}}function a(ue,K,ne){return K&&s(ue.prototype,K),Object.defineProperty(ue,"prototype",{writable:!1}),ue}function l(ue){var K=f(ue,"string");return N(K)==="symbol"?K:String(K)}function f(ue,K){if(N(ue)!=="object"||ue===null)return ue;var ne=ue[Symbol.toPrimitive];if(ne!==void 0){var he=ne.call(ue,K);if(N(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ue)}function d(ue,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(K&&K.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),Object.defineProperty(ue,"prototype",{writable:!1}),K&&w(ue,K)}function g(ue){var K=A();return function(){var he=R(ue),j;if(K){var z=R(this).constructor;j=Reflect.construct(he,arguments,z)}else j=he.apply(this,arguments);return p(this,j)}}function p(ue,K){if(K&&(N(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(ue)}function m(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function x(ue){var K=typeof Map=="function"?new Map:void 0;return x=function(he){if(he===null||!C(he))return he;if(typeof he!="function")throw new TypeError("Super expression must either be null or a function");if(typeof K<"u"){if(K.has(he))return K.get(he);K.set(he,j)}function j(){return b(he,arguments,R(this).constructor)}return j.prototype=Object.create(he.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),w(j,he)},x(ue)}function b(ue,K,ne){return A()?b=Reflect.construct.bind():b=function(j,z,G){var Y=[null];Y.push.apply(Y,z);var J=Function.bind.apply(j,Y),X=new J;return G&&w(X,G.prototype),X},b.apply(null,arguments)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(ue){return Function.toString.call(ue).indexOf("[native code]")!==-1}function w(ue,K){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,j){return he.__proto__=j,he},w(ue,K)}function R(ue){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},R(ue)}function N(ue){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},N(ue)}var I=fg(),D=I.inspect,F=NF(),k=F.codes.ERR_INVALID_ARG_TYPE;function V(ue,K,ne){return(ne===void 0||ne>ue.length)&&(ne=ue.length),ue.substring(ne-K.length,ne)===K}function B(ue,K){if(K=Math.floor(K),ue.length==0||K==0)return"";var ne=ue.length*K;for(K=Math.floor(Math.log(K)/Math.log(2));K;)ue+=ue,K--;return ue+=ue.substring(0,ne-ue.length),ue}var H="",te="",re="",se="",Ee={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},ke=10;function Me(ue){var K=Object.keys(ue),ne=Object.create(Object.getPrototypeOf(ue));return K.forEach(function(he){ne[he]=ue[he]}),Object.defineProperty(ne,"message",{value:ue.message}),ne}function ie(ue){return D(ue,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function we(ue,K,ne){var he="",j="",z=0,G="",Y=!1,J=ie(ue),X=J.split(`
`),Z=ie(K).split(`
`),oe=0,ye="";if(ne==="strictEqual"&&N(ue)==="object"&&N(K)==="object"&&ue!==null&&K!==null&&(ne="strictEqualObject"),X.length===1&&Z.length===1&&X[0]!==Z[0]){var xe=X[0].length+Z[0].length;if(xe<=ke){if((N(ue)!=="object"||ue===null)&&(N(K)!=="object"||K===null)&&(ue!==0||K!==0))return"".concat(Ee[ne],`

`)+"".concat(X[0]," !== ").concat(Z[0],`
`)}else if(ne!=="strictEqualObject"){var ae=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(xe<ae){for(;X[0][oe]===Z[0][oe];)oe++;oe>2&&(ye=`
  `.concat(B(" ",oe),"^"),oe=0)}}}for(var le=X[X.length-1],Ae=Z[Z.length-1];le===Ae&&(oe++<2?G=`
  `.concat(le).concat(G):he=le,X.pop(),Z.pop(),!(X.length===0||Z.length===0));)le=X[X.length-1],Ae=Z[Z.length-1];var Ie=Math.max(X.length,Z.length);if(Ie===0){var je=J.split(`
`);if(je.length>30)for(je[26]="".concat(H,"...").concat(se);je.length>27;)je.pop();return"".concat(Ee.notIdentical,`

`).concat(je.join(`
`),`
`)}oe>3&&(G=`
`.concat(H,"...").concat(se).concat(G),Y=!0),he!==""&&(G=`
  `.concat(he).concat(G),he="");var Ve=0,me=Ee[ne]+`
`.concat(te,"+ actual").concat(se," ").concat(re,"- expected").concat(se),De=" ".concat(H,"...").concat(se," Lines skipped");for(oe=0;oe<Ie;oe++){var Ze=oe-z;if(X.length<oe+1)Ze>1&&oe>2&&(Ze>4?(j+=`
`.concat(H,"...").concat(se),Y=!0):Ze>3&&(j+=`
  `.concat(Z[oe-2]),Ve++),j+=`
  `.concat(Z[oe-1]),Ve++),z=oe,he+=`
`.concat(re,"-").concat(se," ").concat(Z[oe]),Ve++;else if(Z.length<oe+1)Ze>1&&oe>2&&(Ze>4?(j+=`
`.concat(H,"...").concat(se),Y=!0):Ze>3&&(j+=`
  `.concat(X[oe-2]),Ve++),j+=`
  `.concat(X[oe-1]),Ve++),z=oe,j+=`
`.concat(te,"+").concat(se," ").concat(X[oe]),Ve++;else{var ht=Z[oe],pt=X[oe],ge=pt!==ht&&(!V(pt,",")||pt.slice(0,-1)!==ht);ge&&V(ht,",")&&ht.slice(0,-1)===pt&&(ge=!1,pt+=","),ge?(Ze>1&&oe>2&&(Ze>4?(j+=`
`.concat(H,"...").concat(se),Y=!0):Ze>3&&(j+=`
  `.concat(X[oe-2]),Ve++),j+=`
  `.concat(X[oe-1]),Ve++),z=oe,j+=`
`.concat(te,"+").concat(se," ").concat(pt),he+=`
`.concat(re,"-").concat(se," ").concat(ht),Ve+=2):(j+=he,he="",(Ze===1||oe===0)&&(j+=`
  `.concat(pt),Ve++))}if(Ve>20&&oe<Ie-2)return"".concat(me).concat(De,`
`).concat(j,`
`).concat(H,"...").concat(se).concat(he,`
`)+"".concat(H,"...").concat(se)}return"".concat(me).concat(Y?De:"",`
`).concat(j).concat(he).concat(G).concat(ye)}var de=function(ue,K){d(he,ue);var ne=g(he);function he(j){var z;if(r(this,he),N(j)!=="object"||j===null)throw new k("options","Object",j);var G=j.message,Y=j.operator,J=j.stackStartFn,X=j.actual,Z=j.expected,oe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,G!=null)z=ne.call(this,String(G));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(H="\x1B[34m",te="\x1B[32m",se="\x1B[39m",re="\x1B[31m"):(H="",te="",se="",re="")),N(X)==="object"&&X!==null&&N(Z)==="object"&&Z!==null&&"stack"in X&&X instanceof Error&&"stack"in Z&&Z instanceof Error&&(X=Me(X),Z=Me(Z)),Y==="deepStrictEqual"||Y==="strictEqual")z=ne.call(this,we(X,Z,Y));else if(Y==="notDeepStrictEqual"||Y==="notStrictEqual"){var ye=Ee[Y],xe=ie(X).split(`
`);if(Y==="notStrictEqual"&&N(X)==="object"&&X!==null&&(ye=Ee.notStrictEqualObject),xe.length>30)for(xe[26]="".concat(H,"...").concat(se);xe.length>27;)xe.pop();xe.length===1?z=ne.call(this,"".concat(ye," ").concat(xe[0])):z=ne.call(this,"".concat(ye,`

`).concat(xe.join(`
`),`
`))}else{var ae=ie(X),le="",Ae=Ee[Y];Y==="notDeepEqual"||Y==="notEqual"?(ae="".concat(Ee[Y],`

`).concat(ae),ae.length>1024&&(ae="".concat(ae.slice(0,1021),"..."))):(le="".concat(ie(Z)),ae.length>512&&(ae="".concat(ae.slice(0,509),"...")),le.length>512&&(le="".concat(le.slice(0,509),"...")),Y==="deepEqual"||Y==="equal"?ae="".concat(Ae,`

`).concat(ae,`

should equal

`):le=" ".concat(Y," ").concat(le)),z=ne.call(this,"".concat(ae).concat(le))}return Error.stackTraceLimit=oe,z.generatedMessage=!G,Object.defineProperty(m(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=X,z.expected=Z,z.operator=Y,Error.captureStackTrace&&Error.captureStackTrace(m(z),J),z.stack,z.name="AssertionError",p(z)}return a(he,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:K,value:function(z,G){return D(this,t(t({},G),{},{customInspect:!1,depth:0}))}}]),he}(x(Error),D.custom);return YA=de,YA}var WA,u_;function _F(){if(u_)return WA;u_=1;var e=Object.prototype.toString;return WA=function(n){var r=e.call(n),s=r==="[object Arguments]";return s||(s=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),s},WA}var qA,c_;function uY(){if(c_)return qA;c_=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=_F(),s=Object.prototype.propertyIsEnumerable,a=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(x){var b=x.constructor;return b&&b.prototype===x},g={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var x in window)try{if(!g["$"+x]&&t.call(window,x)&&window[x]!==null&&typeof window[x]=="object")try{d(window[x])}catch{return!0}}catch{return!0}return!1}(),m=function(x){if(typeof window>"u"||!p)return d(x);try{return d(x)}catch{return!1}};e=function(b){var A=b!==null&&typeof b=="object",C=n.call(b)==="[object Function]",w=r(b),R=A&&n.call(b)==="[object String]",N=[];if(!A&&!C&&!w)throw new TypeError("Object.keys called on a non-object");var I=l&&C;if(R&&b.length>0&&!t.call(b,0))for(var D=0;D<b.length;++D)N.push(String(D));if(w&&b.length>0)for(var F=0;F<b.length;++F)N.push(String(F));else for(var k in b)!(I&&k==="prototype")&&t.call(b,k)&&N.push(String(k));if(a)for(var V=m(b),B=0;B<f.length;++B)!(V&&f[B]==="constructor")&&t.call(b,f[B])&&N.push(f[B]);return N}}return qA=e,qA}var KA,f_;function IF(){if(f_)return KA;f_=1;var e=Array.prototype.slice,t=_F(),n=Object.keys,r=n?function(l){return n(l)}:uY(),s=Object.keys;return r.shim=function(){if(Object.keys){var l=function(){var f=Object.keys(arguments);return f&&f.length===arguments.length}(1,2);l||(Object.keys=function(d){return t(d)?s(e.call(d)):s(d)})}else Object.keys=r;return Object.keys||r},KA=r,KA}var XA,d_;function cY(){if(d_)return XA;d_=1;var e=IF(),t=U2()(),n=Tg(),r=G2(),s=n("Array.prototype.push"),a=n("Object.prototype.propertyIsEnumerable"),l=t?r.getOwnPropertySymbols:null;return XA=function(d,g){if(d==null)throw new TypeError("target must be an object");var p=r(d);if(arguments.length===1)return p;for(var m=1;m<arguments.length;++m){var x=r(arguments[m]),b=e(x),A=t&&(r.getOwnPropertySymbols||l);if(A)for(var C=A(x),w=0;w<C.length;++w){var R=C[w];a(x,R)&&s(b,R)}for(var N=0;N<b.length;++N){var I=b[N];if(a(x,I)){var D=x[I];p[I]=D}}}return p},XA}var ZA,h_;function fY(){if(h_)return ZA;h_=1;var e=cY(),t=function(){if(!Object.assign)return!1;for(var r="abcdefghijklmnopqrst",s=r.split(""),a={},l=0;l<s.length;++l)a[s[l]]=s[l];var f=Object.assign({},a),d="";for(var g in f)d+=g;return r!==d},n=function(){if(!Object.assign||!Object.preventExtensions)return!1;var r=Object.preventExtensions({1:2});try{Object.assign(r,"xy")}catch{return r[1]==="y"}return!1};return ZA=function(){return!Object.assign||t()||n()?e:Object.assign},ZA}var JA,p_;function OF(){if(p_)return JA;p_=1;var e=function(t){return t!==t};return JA=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},JA}var QA,g_;function K2(){if(g_)return QA;g_=1;var e=OF();return QA=function(){return typeof Object.is=="function"?Object.is:e},QA}var eC,m_;function dY(){if(m_)return eC;m_=1;var e=q2(),t=YS(),n=t(e("String.prototype.indexOf"));return eC=function(s,a){var l=e(s,!!a);return typeof l=="function"&&n(s,".prototype.")>-1?t(l):l},eC}var tC,v_;function WS(){if(v_)return tC;v_=1;var e=IF(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,s=wF(),a=function(g){return typeof g=="function"&&n.call(g)==="[object Function]"},l=RF()(),f=function(g,p,m,x){if(p in g){if(x===!0){if(g[p]===m)return}else if(!a(x)||!x())return}l?s(g,p,m,!0):s(g,p,m)},d=function(g,p){var m=arguments.length>2?arguments[2]:{},x=e(p);t&&(x=r.call(x,Object.getOwnPropertySymbols(p)));for(var b=0;b<x.length;b+=1)f(g,x[b],p[x[b]],m[x[b]])};return d.supportsDescriptors=!!l,tC=d,tC}var nC,y_;function hY(){if(y_)return nC;y_=1;var e=K2(),t=WS();return nC=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},nC}var rC,x_;function pY(){if(x_)return rC;x_=1;var e=WS(),t=YS(),n=OF(),r=K2(),s=hY(),a=t(r(),Object);return e(a,{getPolyfill:r,implementation:n,shim:s}),rC=a,rC}var iC,b_;function DF(){return b_||(b_=1,iC=function(t){return t!==t}),iC}var oC,S_;function PF(){if(S_)return oC;S_=1;var e=DF();return oC=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},oC}var sC,E_;function gY(){if(E_)return sC;E_=1;var e=WS(),t=PF();return sC=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},sC}var aC,A_;function mY(){if(A_)return aC;A_=1;var e=YS(),t=WS(),n=DF(),r=PF(),s=gY(),a=e(r(),Number);return t(a,{getPolyfill:r,implementation:n,shim:s}),aC=a,aC}var lC,C_;function vY(){if(C_)return lC;C_=1;function e(ge,Ne){return a(ge)||s(ge,Ne)||n(ge,Ne)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(ge,Ne){if(ge){if(typeof ge=="string")return r(ge,Ne);var qe=Object.prototype.toString.call(ge).slice(8,-1);if(qe==="Object"&&ge.constructor&&(qe=ge.constructor.name),qe==="Map"||qe==="Set")return Array.from(ge);if(qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe))return r(ge,Ne)}}function r(ge,Ne){(Ne==null||Ne>ge.length)&&(Ne=ge.length);for(var qe=0,Ye=new Array(Ne);qe<Ne;qe++)Ye[qe]=ge[qe];return Ye}function s(ge,Ne){var qe=ge==null?null:typeof Symbol<"u"&&ge[Symbol.iterator]||ge["@@iterator"];if(qe!=null){var Ye,tt,at,yt,Rt=[],It=!0,on=!1;try{if(at=(qe=qe.call(ge)).next,Ne!==0)for(;!(It=(Ye=at.call(qe)).done)&&(Rt.push(Ye.value),Rt.length!==Ne);It=!0);}catch(Fe){on=!0,tt=Fe}finally{try{if(!It&&qe.return!=null&&(yt=qe.return(),Object(yt)!==yt))return}finally{if(on)throw tt}}return Rt}}function a(ge){if(Array.isArray(ge))return ge}function l(ge){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ne){return typeof Ne}:function(Ne){return Ne&&typeof Symbol=="function"&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},l(ge)}var f=/a/g.flags!==void 0,d=function(Ne){var qe=[];return Ne.forEach(function(Ye){return qe.push(Ye)}),qe},g=function(Ne){var qe=[];return Ne.forEach(function(Ye,tt){return qe.push([tt,Ye])}),qe},p=Object.is?Object.is:pY(),m=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},x=Number.isNaN?Number.isNaN:mY();function b(ge){return ge.call.bind(ge)}var A=b(Object.prototype.hasOwnProperty),C=b(Object.prototype.propertyIsEnumerable),w=b(Object.prototype.toString),R=fg().types,N=R.isAnyArrayBuffer,I=R.isArrayBufferView,D=R.isDate,F=R.isMap,k=R.isRegExp,V=R.isSet,B=R.isNativeError,H=R.isBoxedPrimitive,te=R.isNumberObject,re=R.isStringObject,se=R.isBooleanObject,Ee=R.isBigIntObject,ke=R.isSymbolObject,Me=R.isFloat32Array,ie=R.isFloat64Array;function we(ge){if(ge.length===0||ge.length>10)return!0;for(var Ne=0;Ne<ge.length;Ne++){var qe=ge.charCodeAt(Ne);if(qe<48||qe>57)return!0}return ge.length===10&&ge>=Math.pow(2,32)}function de(ge){return Object.keys(ge).filter(we).concat(m(ge).filter(Object.prototype.propertyIsEnumerable.bind(ge)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function ue(ge,Ne){if(ge===Ne)return 0;for(var qe=ge.length,Ye=Ne.length,tt=0,at=Math.min(qe,Ye);tt<at;++tt)if(ge[tt]!==Ne[tt]){qe=ge[tt],Ye=Ne[tt];break}return qe<Ye?-1:Ye<qe?1:0}var K=!0,ne=!1,he=0,j=1,z=2,G=3;function Y(ge,Ne){return f?ge.source===Ne.source&&ge.flags===Ne.flags:RegExp.prototype.toString.call(ge)===RegExp.prototype.toString.call(Ne)}function J(ge,Ne){if(ge.byteLength!==Ne.byteLength)return!1;for(var qe=0;qe<ge.byteLength;qe++)if(ge[qe]!==Ne[qe])return!1;return!0}function X(ge,Ne){return ge.byteLength!==Ne.byteLength?!1:ue(new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength),new Uint8Array(Ne.buffer,Ne.byteOffset,Ne.byteLength))===0}function Z(ge,Ne){return ge.byteLength===Ne.byteLength&&ue(new Uint8Array(ge),new Uint8Array(Ne))===0}function oe(ge,Ne){return te(ge)?te(Ne)&&p(Number.prototype.valueOf.call(ge),Number.prototype.valueOf.call(Ne)):re(ge)?re(Ne)&&String.prototype.valueOf.call(ge)===String.prototype.valueOf.call(Ne):se(ge)?se(Ne)&&Boolean.prototype.valueOf.call(ge)===Boolean.prototype.valueOf.call(Ne):Ee(ge)?Ee(Ne)&&BigInt.prototype.valueOf.call(ge)===BigInt.prototype.valueOf.call(Ne):ke(Ne)&&Symbol.prototype.valueOf.call(ge)===Symbol.prototype.valueOf.call(Ne)}function ye(ge,Ne,qe,Ye){if(ge===Ne)return ge!==0?!0:qe?p(ge,Ne):!0;if(qe){if(l(ge)!=="object")return typeof ge=="number"&&x(ge)&&x(Ne);if(l(Ne)!=="object"||ge===null||Ne===null||Object.getPrototypeOf(ge)!==Object.getPrototypeOf(Ne))return!1}else{if(ge===null||l(ge)!=="object")return Ne===null||l(Ne)!=="object"?ge==Ne:!1;if(Ne===null||l(Ne)!=="object")return!1}var tt=w(ge),at=w(Ne);if(tt!==at)return!1;if(Array.isArray(ge)){if(ge.length!==Ne.length)return!1;var yt=de(ge),Rt=de(Ne);return yt.length!==Rt.length?!1:ae(ge,Ne,qe,Ye,j,yt)}if(tt==="[object Object]"&&(!F(ge)&&F(Ne)||!V(ge)&&V(Ne)))return!1;if(D(ge)){if(!D(Ne)||Date.prototype.getTime.call(ge)!==Date.prototype.getTime.call(Ne))return!1}else if(k(ge)){if(!k(Ne)||!Y(ge,Ne))return!1}else if(B(ge)||ge instanceof Error){if(ge.message!==Ne.message||ge.name!==Ne.name)return!1}else if(I(ge)){if(!qe&&(Me(ge)||ie(ge))){if(!J(ge,Ne))return!1}else if(!X(ge,Ne))return!1;var It=de(ge),on=de(Ne);return It.length!==on.length?!1:ae(ge,Ne,qe,Ye,he,It)}else{if(V(ge))return!V(Ne)||ge.size!==Ne.size?!1:ae(ge,Ne,qe,Ye,z);if(F(ge))return!F(Ne)||ge.size!==Ne.size?!1:ae(ge,Ne,qe,Ye,G);if(N(ge)){if(!Z(ge,Ne))return!1}else if(H(ge)&&!oe(ge,Ne))return!1}return ae(ge,Ne,qe,Ye,he)}function xe(ge,Ne){return Ne.filter(function(qe){return C(ge,qe)})}function ae(ge,Ne,qe,Ye,tt,at){if(arguments.length===5){at=Object.keys(ge);var yt=Object.keys(Ne);if(at.length!==yt.length)return!1}for(var Rt=0;Rt<at.length;Rt++)if(!A(Ne,at[Rt]))return!1;if(qe&&arguments.length===5){var It=m(ge);if(It.length!==0){var on=0;for(Rt=0;Rt<It.length;Rt++){var Fe=It[Rt];if(C(ge,Fe)){if(!C(Ne,Fe))return!1;at.push(Fe),on++}else if(C(Ne,Fe))return!1}var nt=m(Ne);if(It.length!==nt.length&&xe(Ne,nt).length!==on)return!1}else{var gt=m(Ne);if(gt.length!==0&&xe(Ne,gt).length!==0)return!1}}if(at.length===0&&(tt===he||tt===j&&ge.length===0||ge.size===0))return!0;if(Ye===void 0)Ye={val1:new Map,val2:new Map,position:0};else{var St=Ye.val1.get(ge);if(St!==void 0){var Dt=Ye.val2.get(Ne);if(Dt!==void 0)return St===Dt}Ye.position++}Ye.val1.set(ge,Ye.position),Ye.val2.set(Ne,Ye.position);var mn=Ze(ge,Ne,qe,at,Ye,tt);return Ye.val1.delete(ge),Ye.val2.delete(Ne),mn}function le(ge,Ne,qe,Ye){for(var tt=d(ge),at=0;at<tt.length;at++){var yt=tt[at];if(ye(Ne,yt,qe,Ye))return ge.delete(yt),!0}return!1}function Ae(ge){switch(l(ge)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ge=+ge;case"number":if(x(ge))return!1}return!0}function Ie(ge,Ne,qe){var Ye=Ae(qe);return Ye??(Ne.has(Ye)&&!ge.has(Ye))}function je(ge,Ne,qe,Ye,tt){var at=Ae(qe);if(at!=null)return at;var yt=Ne.get(at);return yt===void 0&&!Ne.has(at)||!ye(Ye,yt,!1,tt)?!1:!ge.has(at)&&ye(Ye,yt,!1,tt)}function Ve(ge,Ne,qe,Ye){for(var tt=null,at=d(ge),yt=0;yt<at.length;yt++){var Rt=at[yt];if(l(Rt)==="object"&&Rt!==null)tt===null&&(tt=new Set),tt.add(Rt);else if(!Ne.has(Rt)){if(qe||!Ie(ge,Ne,Rt))return!1;tt===null&&(tt=new Set),tt.add(Rt)}}if(tt!==null){for(var It=d(Ne),on=0;on<It.length;on++){var Fe=It[on];if(l(Fe)==="object"&&Fe!==null){if(!le(tt,Fe,qe,Ye))return!1}else if(!qe&&!ge.has(Fe)&&!le(tt,Fe,qe,Ye))return!1}return tt.size===0}return!0}function me(ge,Ne,qe,Ye,tt,at){for(var yt=d(ge),Rt=0;Rt<yt.length;Rt++){var It=yt[Rt];if(ye(qe,It,tt,at)&&ye(Ye,Ne.get(It),tt,at))return ge.delete(It),!0}return!1}function De(ge,Ne,qe,Ye){for(var tt=null,at=g(ge),yt=0;yt<at.length;yt++){var Rt=e(at[yt],2),It=Rt[0],on=Rt[1];if(l(It)==="object"&&It!==null)tt===null&&(tt=new Set),tt.add(It);else{var Fe=Ne.get(It);if(Fe===void 0&&!Ne.has(It)||!ye(on,Fe,qe,Ye)){if(qe||!je(ge,Ne,It,on,Ye))return!1;tt===null&&(tt=new Set),tt.add(It)}}}if(tt!==null){for(var nt=g(Ne),gt=0;gt<nt.length;gt++){var St=e(nt[gt],2),Dt=St[0],mn=St[1];if(l(Dt)==="object"&&Dt!==null){if(!me(tt,ge,Dt,mn,qe,Ye))return!1}else if(!qe&&(!ge.has(Dt)||!ye(ge.get(Dt),mn,!1,Ye))&&!me(tt,ge,Dt,mn,!1,Ye))return!1}return tt.size===0}return!0}function Ze(ge,Ne,qe,Ye,tt,at){var yt=0;if(at===z){if(!Ve(ge,Ne,qe,tt))return!1}else if(at===G){if(!De(ge,Ne,qe,tt))return!1}else if(at===j)for(;yt<ge.length;yt++)if(A(ge,yt)){if(!A(Ne,yt)||!ye(ge[yt],Ne[yt],qe,tt))return!1}else{if(A(Ne,yt))return!1;for(var Rt=Object.keys(ge);yt<Rt.length;yt++){var It=Rt[yt];if(!A(Ne,It)||!ye(ge[It],Ne[It],qe,tt))return!1}return Rt.length===Object.keys(Ne).length}for(yt=0;yt<Ye.length;yt++){var on=Ye[yt];if(!ye(ge[on],Ne[on],qe,tt))return!1}return!0}function ht(ge,Ne){return ye(ge,Ne,ne)}function pt(ge,Ne){return ye(ge,Ne,K)}return lC={isDeepEqual:ht,isDeepStrictEqual:pt},lC}var w_;function Ni(){if(w_)return $1.exports;w_=1;function e(z){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},e(z)}function t(z,G,Y){return Object.defineProperty(z,"prototype",{writable:!1}),z}function n(z,G){if(!(z instanceof G))throw new TypeError("Cannot call a class as a function")}var r=NF(),s=r.codes,a=s.ERR_AMBIGUOUS_ARGUMENT,l=s.ERR_INVALID_ARG_TYPE,f=s.ERR_INVALID_ARG_VALUE,d=s.ERR_INVALID_RETURN_VALUE,g=s.ERR_MISSING_ARGS,p=lY(),m=fg(),x=m.inspect,b=fg().types,A=b.isPromise,C=b.isRegExp,w=fY()(),R=K2()(),N=dY()("RegExp.prototype.test"),I,D;function F(){var z=vY();I=z.isDeepEqual,D=z.isDeepStrictEqual}var k=!1,V=$1.exports=se,B={};function H(z){throw z.message instanceof Error?z.message:new p(z)}function te(z,G,Y,J,X){var Z=arguments.length,oe;if(Z===0)oe="Failed";else if(Z===1)Y=z,z=void 0;else{if(k===!1){k=!0;var ye=process.emitWarning?process.emitWarning:console.warn.bind(console);ye("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(J="!=")}if(Y instanceof Error)throw Y;var xe={actual:z,expected:G,operator:J===void 0?"fail":J,stackStartFn:X||te};Y!==void 0&&(xe.message=Y);var ae=new p(xe);throw oe&&(ae.message=oe,ae.generatedMessage=!0),ae}V.fail=te,V.AssertionError=p;function re(z,G,Y,J){if(!Y){var X=!1;if(G===0)X=!0,J="No value argument passed to `assert.ok()`";else if(J instanceof Error)throw J;var Z=new p({actual:Y,expected:!0,message:J,operator:"==",stackStartFn:z});throw Z.generatedMessage=X,Z}}function se(){for(var z=arguments.length,G=new Array(z),Y=0;Y<z;Y++)G[Y]=arguments[Y];re.apply(void 0,[se,G.length].concat(G))}V.ok=se,V.equal=function z(G,Y,J){if(arguments.length<2)throw new g("actual","expected");G!=Y&&H({actual:G,expected:Y,message:J,operator:"==",stackStartFn:z})},V.notEqual=function z(G,Y,J){if(arguments.length<2)throw new g("actual","expected");G==Y&&H({actual:G,expected:Y,message:J,operator:"!=",stackStartFn:z})},V.deepEqual=function z(G,Y,J){if(arguments.length<2)throw new g("actual","expected");I===void 0&&F(),I(G,Y)||H({actual:G,expected:Y,message:J,operator:"deepEqual",stackStartFn:z})},V.notDeepEqual=function z(G,Y,J){if(arguments.length<2)throw new g("actual","expected");I===void 0&&F(),I(G,Y)&&H({actual:G,expected:Y,message:J,operator:"notDeepEqual",stackStartFn:z})},V.deepStrictEqual=function z(G,Y,J){if(arguments.length<2)throw new g("actual","expected");I===void 0&&F(),D(G,Y)||H({actual:G,expected:Y,message:J,operator:"deepStrictEqual",stackStartFn:z})},V.notDeepStrictEqual=Ee;function Ee(z,G,Y){if(arguments.length<2)throw new g("actual","expected");I===void 0&&F(),D(z,G)&&H({actual:z,expected:G,message:Y,operator:"notDeepStrictEqual",stackStartFn:Ee})}V.strictEqual=function z(G,Y,J){if(arguments.length<2)throw new g("actual","expected");R(G,Y)||H({actual:G,expected:Y,message:J,operator:"strictEqual",stackStartFn:z})},V.notStrictEqual=function z(G,Y,J){if(arguments.length<2)throw new g("actual","expected");R(G,Y)&&H({actual:G,expected:Y,message:J,operator:"notStrictEqual",stackStartFn:z})};var ke=t(function z(G,Y,J){var X=this;n(this,z),Y.forEach(function(Z){Z in G&&(J!==void 0&&typeof J[Z]=="string"&&C(G[Z])&&N(G[Z],J[Z])?X[Z]=J[Z]:X[Z]=G[Z])})});function Me(z,G,Y,J,X,Z){if(!(Y in z)||!D(z[Y],G[Y])){if(!J){var oe=new ke(z,X),ye=new ke(G,X,z),xe=new p({actual:oe,expected:ye,operator:"deepStrictEqual",stackStartFn:Z});throw xe.actual=z,xe.expected=G,xe.operator=Z.name,xe}H({actual:z,expected:G,message:J,operator:Z.name,stackStartFn:Z})}}function ie(z,G,Y,J){if(typeof G!="function"){if(C(G))return N(G,z);if(arguments.length===2)throw new l("expected",["Function","RegExp"],G);if(e(z)!=="object"||z===null){var X=new p({actual:z,expected:G,message:Y,operator:"deepStrictEqual",stackStartFn:J});throw X.operator=J.name,X}var Z=Object.keys(G);if(G instanceof Error)Z.push("name","message");else if(Z.length===0)throw new f("error",G,"may not be an empty object");return I===void 0&&F(),Z.forEach(function(oe){typeof z[oe]=="string"&&C(G[oe])&&N(G[oe],z[oe])||Me(z,G,oe,Y,Z,J)}),!0}return G.prototype!==void 0&&z instanceof G?!0:Error.isPrototypeOf(G)?!1:G.call({},z)===!0}function we(z){if(typeof z!="function")throw new l("fn","Function",z);try{z()}catch(G){return G}return B}function de(z){return A(z)||z!==null&&e(z)==="object"&&typeof z.then=="function"&&typeof z.catch=="function"}function ue(z){return Promise.resolve().then(function(){var G;if(typeof z=="function"){if(G=z(),!de(G))throw new d("instance of Promise","promiseFn",G)}else if(de(z))G=z;else throw new l("promiseFn",["Function","Promise"],z);return Promise.resolve().then(function(){return G}).then(function(){return B}).catch(function(Y){return Y})})}function K(z,G,Y,J){if(typeof Y=="string"){if(arguments.length===4)throw new l("error",["Object","Error","Function","RegExp"],Y);if(e(G)==="object"&&G!==null){if(G.message===Y)throw new a("error/message",'The error message "'.concat(G.message,'" is identical to the message.'))}else if(G===Y)throw new a("error/message",'The error "'.concat(G,'" is identical to the message.'));J=Y,Y=void 0}else if(Y!=null&&e(Y)!=="object"&&typeof Y!="function")throw new l("error",["Object","Error","Function","RegExp"],Y);if(G===B){var X="";Y&&Y.name&&(X+=" (".concat(Y.name,")")),X+=J?": ".concat(J):".";var Z=z.name==="rejects"?"rejection":"exception";H({actual:void 0,expected:Y,operator:z.name,message:"Missing expected ".concat(Z).concat(X),stackStartFn:z})}if(Y&&!ie(G,Y,J,z))throw G}function ne(z,G,Y,J){if(G!==B){if(typeof Y=="string"&&(J=Y,Y=void 0),!Y||ie(G,Y)){var X=J?": ".concat(J):".",Z=z.name==="doesNotReject"?"rejection":"exception";H({actual:G,expected:Y,operator:z.name,message:"Got unwanted ".concat(Z).concat(X,`
`)+'Actual message: "'.concat(G&&G.message,'"'),stackStartFn:z})}throw G}}V.throws=function z(G){for(var Y=arguments.length,J=new Array(Y>1?Y-1:0),X=1;X<Y;X++)J[X-1]=arguments[X];K.apply(void 0,[z,we(G)].concat(J))},V.rejects=function z(G){for(var Y=arguments.length,J=new Array(Y>1?Y-1:0),X=1;X<Y;X++)J[X-1]=arguments[X];return ue(G).then(function(Z){return K.apply(void 0,[z,Z].concat(J))})},V.doesNotThrow=function z(G){for(var Y=arguments.length,J=new Array(Y>1?Y-1:0),X=1;X<Y;X++)J[X-1]=arguments[X];ne.apply(void 0,[z,we(G)].concat(J))},V.doesNotReject=function z(G){for(var Y=arguments.length,J=new Array(Y>1?Y-1:0),X=1;X<Y;X++)J[X-1]=arguments[X];return ue(G).then(function(Z){return ne.apply(void 0,[z,Z].concat(J))})},V.ifError=function z(G){if(G!=null){var Y="ifError got unwanted exception: ";e(G)==="object"&&typeof G.message=="string"?G.message.length===0&&G.constructor?Y+=G.constructor.name:Y+=G.message:Y+=x(G);var J=new p({actual:G,expected:null,operator:"ifError",message:Y,stackStartFn:z}),X=G.stack;if(typeof X=="string"){var Z=X.split(`
`);Z.shift();for(var oe=J.stack.split(`
`),ye=0;ye<Z.length;ye++){var xe=oe.indexOf(Z[ye]);if(xe!==-1){oe=oe.slice(0,xe);break}}J.stack="".concat(oe.join(`
`),`
`).concat(Z.join(`
`))}throw J}};function he(z,G,Y,J,X){if(!C(G))throw new l("regexp","RegExp",G);var Z=X==="match";if(typeof z!="string"||N(G,z)!==Z){if(Y instanceof Error)throw Y;var oe=!Y;Y=Y||(typeof z!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(z)," (").concat(x(z),")"):(Z?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(x(G),`. Input:

`).concat(x(z),`
`));var ye=new p({actual:z,expected:G,message:Y,operator:X,stackStartFn:J});throw ye.generatedMessage=oe,ye}}V.match=function z(G,Y,J){he(G,Y,J,z,"match")},V.doesNotMatch=function z(G,Y,J){he(G,Y,J,z,"doesNotMatch")};function j(){for(var z=arguments.length,G=new Array(z),Y=0;Y<z;Y++)G[Y]=arguments[Y];re.apply(void 0,[j,G.length].concat(G))}return V.strict=w(j,V,{equal:V.strictEqual,deepEqual:V.deepStrictEqual,notEqual:V.notStrictEqual,notDeepEqual:V.notDeepStrictEqual}),V.strict.strict=V.strict,$1.exports}var Es={},R_;function Ue(){if(R_)return Es;R_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Es,"__esModule",{value:!0}),Es.SuppressWarnings=Es.Override=Es.Nullable=Es.NotNull=void 0;function e(s,a,l){}Es.NotNull=e;function t(s,a,l){}Es.Nullable=t;function n(s,a,l){}Es.Override=n;function r(s){return(a,l,f)=>{}}return Es.SuppressWarnings=r,Es}var uC={},T_;function ef(){return T_||(T_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.IntStream=void 0,function(t){t.EOF=-1,t.UNKNOWN_SOURCE_NAME="<unknown>"}(e.IntStream||(e.IntStream={}))}(uC)),uC}var N_;function yY(){if(N_)return qf;N_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=qf&&qf.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(qf,"__esModule",{value:!0}),qf.ANTLRInputStream=void 0;const t=Ni(),n=Ue(),r=ef();let s=class{constructor(l){this.p=0,this.data=l,this.n=l.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw t(this.LA(1)===r.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(l){return l===0?0:l<0&&(l++,this.p+l-1<0)||this.p+l-1>=this.n?r.IntStream.EOF:this.data.charCodeAt(this.p+l-1)}LT(l){return this.LA(l)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(l){}seek(l){if(l<=this.p){this.p=l;return}for(l=Math.min(l,this.n);this.p<l;)this.consume()}getText(l){let f=l.a,d=l.b;d>=this.n&&(d=this.n-1);let g=d-f+1;return f>=this.n?"":this.data.substr(f,g)}get sourceName(){return this.name?this.name:r.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};return e([n.Override],s.prototype,"consume",null),e([n.Override],s.prototype,"LA",null),e([n.Override],s.prototype,"index",null),e([n.Override],s.prototype,"size",null),e([n.Override],s.prototype,"mark",null),e([n.Override],s.prototype,"release",null),e([n.Override],s.prototype,"seek",null),e([n.Override],s.prototype,"getText",null),e([n.Override],s.prototype,"sourceName",null),e([n.Override],s.prototype,"toString",null),qf.ANTLRInputStream=s,qf}var Kf={},yl={},O0={},__;function Iu(){return __||(__=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=O0&&O0.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNState=void 0;const n=Ue();let r=class Ew{constructor(){this.stateNumber=Ew.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(a){return a instanceof Ew?this.stateNumber===a.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(a,l){if(this.transitions.length===0)this.epsilonOnlyTransitions=a.isEpsilon;else if(this.epsilonOnlyTransitions!==a.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(l!==void 0?l:this.transitions.length,0,a)}transition(a){return this.transitions[a]}setTransition(a,l){this.transitions[a]=l}removeTransition(a){return this.transitions.splice(a,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(a){this.ruleIndex=a}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(a){return this.optimizedTransitions[a]}addOptimizedTransition(a){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(a)}setOptimizedTransition(a,l){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[a]=l}removeOptimizedTransition(a){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(a,1)}};t([n.Override],r.prototype,"hashCode",null),t([n.Override],r.prototype,"equals",null),t([n.Override],r.prototype,"toString",null),e.ATNState=r,function(s){s.INVALID_STATE_NUMBER=-1}(r=e.ATNState||(e.ATNState={}))}(O0)),O0}var cC={},I_;function Kr(){return I_||(I_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ATNStateType=void 0,function(t){t[t.INVALID_TYPE=0]="INVALID_TYPE",t[t.BASIC=1]="BASIC",t[t.RULE_START=2]="RULE_START",t[t.BLOCK_START=3]="BLOCK_START",t[t.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",t[t.STAR_BLOCK_START=5]="STAR_BLOCK_START",t[t.TOKEN_START=6]="TOKEN_START",t[t.RULE_STOP=7]="RULE_STOP",t[t.BLOCK_END=8]="BLOCK_END",t[t.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",t[t.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",t[t.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",t[t.LOOP_END=12]="LOOP_END"}(e.ATNStateType||(e.ATNStateType={}))}(cC)),cC}var xl={},D0={},O_;function tf(){if(O_)return D0;O_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(D0,"__esModule",{value:!0}),D0.RecognitionException=void 0;let e=class extends Error{constructor(n,r,s,a){super(a),this._offendingState=-1,this._recognizer=n,this.input=r,this.ctx=s,n&&(this._offendingState=n.state)}get offendingState(){return this._offendingState}setOffendingState(n){this._offendingState=n}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(n){if(!(n&&n!==this._recognizer))return this.offendingToken}setOffendingToken(n,r){n===this._recognizer&&(this.offendingToken=r)}get recognizer(){return this._recognizer}};return D0.RecognitionException=e,D0}var bl={},P0={},Sl={},D_;function nf(){if(D_)return Sl;D_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sl&&Sl.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g},t=Sl&&Sl.__param||function(s,a){return function(l,f){a(l,f,s)}};Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.Transition=void 0;const n=Ue();let r=class{constructor(a){if(a==null)throw new Error("target cannot be null.");this.target=a}get isEpsilon(){return!1}get label(){}};return r.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],e([n.NotNull],r.prototype,"target",void 0),r=e([t(0,n.NotNull)],r),Sl.Transition=r,Sl}var P_;function X2(){if(P_)return P0;P_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(P0,"__esModule",{value:!0}),P0.AbstractPredicateTransition=void 0;const e=nf();let t=class extends e.Transition{constructor(r){super(r)}};return P0.AbstractPredicateTransition=t,P0}var Xf={},El={},Zf={},fC={},M_;function pr(){return M_||(M_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash=void 0,function(t){function r(d=0){return d}t.initialize=r;function s(d,g){g==null?g=0:typeof g=="string"?g=f(g):typeof g=="object"&&(g=g.hashCode());let w=g;return w=Math.imul(w,3432918353),w=w<<15|w>>>17,w=Math.imul(w,461845907),d=d^w,d=d<<13|d>>>19,d=Math.imul(d,5)+3864292196,d&4294967295}t.update=s;function a(d,g){return d=d^g*4,d=d^d>>>16,d=Math.imul(d,2246822507),d=d^d>>>13,d=Math.imul(d,3266489909),d=d^d>>>16,d}t.finish=a;function l(d,g=0){let p=r(g),m=0;for(let x of d)p=s(p,x),m++;return p=a(p,m),p}t.hashCode=l;function f(d){let g=d.length;if(g===0)return 0;let p=0;for(let m=0;m<g;m++){let x=d.charCodeAt(m);p=(p<<5>>>0)-p+x,p|=0}return p}}(e.MurmurHash||(e.MurmurHash={}))}(fC)),fC}var Jf={},L_;function za(){if(L_)return Jf;L_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jf&&Jf.__decorate||function(r,s,a,l){var f=arguments.length,d=f<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,s,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(d=(f<3?g(d):f>3?g(s,a,d):g(s,a))||d);return f>3&&d&&Object.defineProperty(s,a,d),d};Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.ObjectEqualityComparator=void 0;const t=Ue();let n=class{hashCode(s){return s==null?0:s.hashCode()}equals(s,a){return s==null?a==null:s.equals(a)}};return n.INSTANCE=new n,e([t.Override],n.prototype,"hashCode",null),e([t.Override],n.prototype,"equals",null),Jf.ObjectEqualityComparator=n,Jf}var F_;function xY(){if(F_)return Zf;F_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zf&&Zf.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.DefaultEqualityComparator=void 0;const t=Ue(),n=pr(),r=za();let s=class{hashCode(l){return l==null?0:typeof l=="string"||typeof l=="number"?n.MurmurHash.hashCode([l]):r.ObjectEqualityComparator.INSTANCE.hashCode(l)}equals(l,f){return l==null?f==null:typeof l=="string"||typeof l=="number"?l===f:r.ObjectEqualityComparator.INSTANCE.equals(l,f)}};return s.INSTANCE=new s,e([t.Override],s.prototype,"hashCode",null),e([t.Override],s.prototype,"equals",null),Zf.DefaultEqualityComparator=s,Zf}var k_;function rf(){if(k_)return El;k_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=El&&El.__decorate||function(g,p,m,x){var b=arguments.length,A=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(A=(b<3?C(A):b>3?C(p,m,A):C(p,m))||A);return b>3&&A&&Object.defineProperty(p,m,A),A},t=El&&El.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(El,"__esModule",{value:!0}),El.Array2DHashSet=void 0;const n=Ni(),r=xY(),s=Ue(),a=pr(),l=16,f=.75;let d=class Gb{constructor(p,m=l){if(this.n=0,this.threshold=Math.floor(l*f),p instanceof Gb){this.comparator=p.comparator,this.buckets=p.buckets.slice(0);for(let x=0;x<this.buckets.length;x++){let b=this.buckets[x];b&&(this.buckets[x]=b.slice(0))}this.n=p.n,this.threshold=p.threshold}else this.comparator=p||r.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(m)}getOrAdd(p){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(p)}getOrAddImpl(p){let m=this.getBucket(p),x=this.buckets[m];if(!x)return x=[p],this.buckets[m]=x,this.n++,p;for(let b of x)if(this.comparator.equals(b,p))return b;return x.push(p),this.n++,p}get(p){if(p==null)return p;let m=this.getBucket(p),x=this.buckets[m];if(x){for(let b of x)if(this.comparator.equals(b,p))return b}}getBucket(p){return this.comparator.hashCode(p)&this.buckets.length-1}hashCode(){let p=a.MurmurHash.initialize();for(let m of this.buckets)if(m!=null)for(let x of m){if(x==null)break;p=a.MurmurHash.update(p,this.comparator.hashCode(x))}return p=a.MurmurHash.finish(p,this.size),p}equals(p){return p===this?!0:!(p instanceof Gb)||p.size!==this.size?!1:this.containsAll(p)}expand(){let p=this.buckets,m=this.buckets.length*2,x=this.createBuckets(m);this.buckets=x,this.threshold=Math.floor(m*f);let b=this.size;for(let A of p)if(A)for(let C of A){let w=this.getBucket(C),R=this.buckets[w];R||(R=[],this.buckets[w]=R),R.push(C)}n(this.n===b)}add(p){return this.getOrAdd(p)===p}get size(){return this.n}get isEmpty(){return this.n===0}contains(p){return this.containsFast(this.asElementType(p))}containsFast(p){return p==null?!1:this.get(p)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){const p=new Array(this.size);let m=0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;p[m++]=b}return p}containsAll(p){if(p instanceof Gb){let m=p;for(let x of m.buckets)if(x!=null)for(let b of x){if(b==null)break;if(!this.containsFast(this.asElementType(b)))return!1}}else for(let m of p)if(!this.containsFast(this.asElementType(m)))return!1;return!0}addAll(p){let m=!1;for(let x of p)this.getOrAdd(x)!==x&&(m=!0);return m}clear(){this.buckets=this.createBuckets(l),this.n=0,this.threshold=Math.floor(l*f)}toString(){if(this.size===0)return"{}";let p="{",m=!0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;m?m=!1:p+=", ",p+=b.toString()}return p+="}",p}toTableString(){let p="";for(let m of this.buckets){if(m==null){p+=`null
`;continue}p+="[";let x=!0;for(let b of m)x?x=!1:p+=" ",b==null?p+="_":p+=b.toString();p+=`]
`}return p}asElementType(p){return p}createBuckets(p){return new Array(p)}};return e([s.NotNull],d.prototype,"comparator",void 0),e([s.Override],d.prototype,"hashCode",null),e([s.Override],d.prototype,"equals",null),e([s.Override],d.prototype,"add",null),e([s.Override],d.prototype,"size",null),e([s.Override],d.prototype,"isEmpty",null),e([s.Override],d.prototype,"contains",null),e([t(0,s.Nullable)],d.prototype,"containsFast",null),e([s.Override],d.prototype,Symbol.iterator,null),e([s.Override],d.prototype,"toArray",null),e([s.Override],d.prototype,"containsAll",null),e([s.Override],d.prototype,"addAll",null),e([s.Override],d.prototype,"clear",null),e([s.Override],d.prototype,"toString",null),e([s.SuppressWarnings("unchecked")],d.prototype,"asElementType",null),e([s.SuppressWarnings("unchecked")],d.prototype,"createBuckets",null),El.Array2DHashSet=d,El}var Qf={},B_;function qS(){if(B_)return Qf;B_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Qf&&Qf.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.ArrayEqualityComparator=void 0;const t=Ue(),n=pr(),r=za();let s=class{hashCode(l){return l==null?0:n.MurmurHash.hashCode(l,0)}equals(l,f){if(l==null)return f==null;if(f==null||l.length!==f.length)return!1;for(let d=0;d<l.length;d++)if(!r.ObjectEqualityComparator.INSTANCE.equals(l[d],f[d]))return!1;return!0}};return s.INSTANCE=new s,e([t.Override],s.prototype,"hashCode",null),e([t.Override],s.prototype,"equals",null),Qf.ArrayEqualityComparator=s,Qf}var co={},j_;function Ou(){if(j_)return co;j_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(co,"__esModule",{value:!0}),co.toCharArray=co.toMap=co.equals=co.join=co.escapeWhitespace=void 0;function e(a,l){return l?a.replace(/ /,""):a.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}co.escapeWhitespace=e;function t(a,l){let f="",d=!0;for(let g of a)d?d=!1:f+=l,f+=g;return f}co.join=t;function n(a,l){return a===l?!0:a===void 0||l===void 0?!1:a.equals(l)}co.equals=n;function r(a){let l=new Map;for(let f=0;f<a.length;f++)l.set(a[f],f);return l}co.toMap=r;function s(a){if(typeof a=="string"){let l=new Uint16Array(a.length);for(let f=0;f<a.length;f++)l[f]=a.charCodeAt(f);return l}else return a.toCharArray()}return co.toCharArray=s,co}var z_;function Ng(){return z_||(z_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Xf&&Xf.__decorate||function(x,b,A,C){var w=arguments.length,R=w<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,A):C,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,A,C);else for(var I=x.length-1;I>=0;I--)(N=x[I])&&(R=(w<3?N(R):w>3?N(b,A,R):N(b,A))||R);return w>3&&R&&Object.defineProperty(b,A,R),R},n=Xf&&Xf.__param||function(x,b){return function(A,C){b(A,C,x)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticContext=void 0;const r=rf(),s=qS(),a=pr(),l=Ue(),f=za(),d=Ou();function g(x){let b;for(let A of x){if(b===void 0){b=A;continue}b.compareTo(A)<0&&(b=A)}return b}function p(x){let b;for(let A of x){if(b===void 0){b=A;continue}b.compareTo(A)>0&&(b=A)}return b}let m=class ko{static get NONE(){return ko._NONE===void 0&&(ko._NONE=new ko.Predicate),ko._NONE}evalPrecedence(b,A){return this}static and(b,A){if(!b||b===ko.NONE)return A;if(A===ko.NONE)return b;let C=new ko.AND(b,A);return C.opnds.length===1?C.opnds[0]:C}static or(b,A){if(!b)return A;if(b===ko.NONE||A===ko.NONE)return ko.NONE;let C=new ko.OR(b,A);return C.opnds.length===1?C.opnds[0]:C}};e.SemanticContext=m,function(x){function C(F){let k=[];for(let V=0;V<F.length;V++){let B=F[V];B instanceof x.PrecedencePredicate&&(k.push(B),F.splice(V,1),V--)}return k}class w extends x{constructor(k=-1,V=-1,B=!1){super(),this.ruleIndex=k,this.predIndex=V,this.isCtxDependent=B}eval(k,V){let B=this.isCtxDependent?V:void 0;return k.sempred(B,this.ruleIndex,this.predIndex)}hashCode(){let k=a.MurmurHash.initialize();return k=a.MurmurHash.update(k,this.ruleIndex),k=a.MurmurHash.update(k,this.predIndex),k=a.MurmurHash.update(k,this.isCtxDependent?1:0),k=a.MurmurHash.finish(k,3),k}equals(k){return k instanceof w?this===k?!0:this.ruleIndex===k.ruleIndex&&this.predIndex===k.predIndex&&this.isCtxDependent===k.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}t([l.Override],w.prototype,"eval",null),t([l.Override],w.prototype,"hashCode",null),t([l.Override],w.prototype,"equals",null),t([l.Override],w.prototype,"toString",null),x.Predicate=w;class R extends x{constructor(k){super(),this.precedence=k}eval(k,V){return k.precpred(V,this.precedence)}evalPrecedence(k,V){if(k.precpred(V,this.precedence))return x.NONE}compareTo(k){return this.precedence-k.precedence}hashCode(){let k=1;return k=31*k+this.precedence,k}equals(k){return k instanceof R?this===k?!0:this.precedence===k.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}t([l.Override],R.prototype,"eval",null),t([l.Override],R.prototype,"evalPrecedence",null),t([l.Override],R.prototype,"compareTo",null),t([l.Override],R.prototype,"hashCode",null),t([l.Override],R.prototype,"equals",null),t([l.Override],R.prototype,"toString",null),x.PrecedencePredicate=R;class N extends x{}x.Operator=N;let I=class $b extends N{constructor(k,V){super();let B=new r.Array2DHashSet(f.ObjectEqualityComparator.INSTANCE);k instanceof $b?B.addAll(k.opnds):B.add(k),V instanceof $b?B.addAll(V.opnds):B.add(V),this.opnds=B.toArray();let H=C(this.opnds),te=p(H);te&&this.opnds.push(te)}get operands(){return this.opnds}equals(k){return this===k?!0:k instanceof $b?s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,k.opnds):!1}hashCode(){return a.MurmurHash.hashCode(this.opnds,40363613)}eval(k,V){for(let B of this.opnds)if(!B.eval(k,V))return!1;return!0}evalPrecedence(k,V){let B=!1,H=[];for(let re of this.opnds){let se=re.evalPrecedence(k,V);if(B=B||se!==re,se==null)return;se!==x.NONE&&H.push(se)}if(!B)return this;if(H.length===0)return x.NONE;let te=H[0];for(let re=1;re<H.length;re++)te=x.and(te,H[re]);return te}toString(){return d.join(this.opnds,"&&")}};t([l.Override],I.prototype,"operands",null),t([l.Override],I.prototype,"equals",null),t([l.Override],I.prototype,"hashCode",null),t([l.Override],I.prototype,"eval",null),t([l.Override],I.prototype,"evalPrecedence",null),t([l.Override],I.prototype,"toString",null),I=t([n(0,l.NotNull),n(1,l.NotNull)],I),x.AND=I;let D=class Hb extends N{constructor(k,V){super();let B=new r.Array2DHashSet(f.ObjectEqualityComparator.INSTANCE);k instanceof Hb?B.addAll(k.opnds):B.add(k),V instanceof Hb?B.addAll(V.opnds):B.add(V),this.opnds=B.toArray();let H=C(this.opnds),te=g(H);te&&this.opnds.push(te)}get operands(){return this.opnds}equals(k){return this===k?!0:k instanceof Hb?s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,k.opnds):!1}hashCode(){return a.MurmurHash.hashCode(this.opnds,486279973)}eval(k,V){for(let B of this.opnds)if(B.eval(k,V))return!0;return!1}evalPrecedence(k,V){let B=!1,H=[];for(let re of this.opnds){let se=re.evalPrecedence(k,V);if(B=B||se!==re,se===x.NONE)return x.NONE;se&&H.push(se)}if(!B)return this;if(H.length===0)return;let te=H[0];for(let re=1;re<H.length;re++)te=x.or(te,H[re]);return te}toString(){return d.join(this.opnds,"||")}};t([l.Override],D.prototype,"operands",null),t([l.Override],D.prototype,"equals",null),t([l.Override],D.prototype,"hashCode",null),t([l.Override],D.prototype,"eval",null),t([l.Override],D.prototype,"evalPrecedence",null),t([l.Override],D.prototype,"toString",null),D=t([n(0,l.NotNull),n(1,l.NotNull)],D),x.OR=D}(m=e.SemanticContext||(e.SemanticContext={}))}(Xf)),Xf}var V_;function MF(){if(V_)return bl;V_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bl&&bl.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},t=bl&&bl.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(bl,"__esModule",{value:!0}),bl.PredicateTransition=void 0;const n=X2(),r=Ue(),s=Ng();let a=class extends n.AbstractPredicateTransition{constructor(f,d,g,p){super(f),this.ruleIndex=d,this.predIndex=g,this.isCtxDependent=p}get serializationType(){return 4}get isEpsilon(){return!0}matches(f,d,g){return!1}get predicate(){return new s.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override],a.prototype,"isEpsilon",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),bl.PredicateTransition=a,bl}var U_;function KS(){if(U_)return xl;U_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xl&&xl.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},t=xl&&xl.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(xl,"__esModule",{value:!0}),xl.FailedPredicateException=void 0;const n=tf(),r=Ue(),s=MF();let a=class LF extends n.RecognitionException{constructor(f,d,g){super(f,f.inputStream,f.context,LF.formatMessage(d,g));let m=f.interpreter.atn.states[f.state].transition(0);m instanceof s.PredicateTransition?(this._ruleIndex=m.ruleIndex,this._predicateIndex=m.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=d,super.setOffendingToken(f,f.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(f,d){return d||`failed predicate: {${f}}?`}};return e([r.NotNull],a,"formatMessage",null),a=e([t(0,r.NotNull)],a),xl.FailedPredicateException=a,xl}var Al={},G_;function XS(){if(G_)return Al;G_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Al&&Al.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=Al&&Al.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(Al,"__esModule",{value:!0}),Al.InputMismatchException=void 0;const n=tf(),r=Ue();let s=class extends n.RecognitionException{constructor(l,f,d){d===void 0&&(d=l.context),super(l,l.inputStream,d),f!==void 0&&this.setOffendingState(f),this.setOffendingToken(l,l.currentToken)}};return s=e([t(0,r.NotNull)],s),Al.InputMismatchException=s,Al}var Cl={},ed={},dC={},$_;function Z2(){return $_||($_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Arrays=void 0,function(t){function n(a,l,f,d){return r(a,f!==void 0?f:0,d!==void 0?d:a.length,l)}t.binarySearch=n;function r(a,l,f,d){let g=l,p=f-1;for(;g<=p;){let m=g+p>>>1,x=a[m];if(x<d)g=m+1;else if(x>d)p=m-1;else return m}return-(g+1)}function s(a){let l="[",f=!0;for(let d of a)f?f=!1:l+=", ",d===null?l+="null":d===void 0?l+="undefined":l+=d;return l+="]",l}t.toString=s}(e.Arrays||(e.Arrays={}))}(dC)),dC}var H_;function J2(){if(H_)return ed;H_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ed&&ed.__decorate||function(f,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(f,d,g,p);else for(var A=f.length-1;A>=0;A--)(b=f[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x};Object.defineProperty(ed,"__esModule",{value:!0}),ed.IntegerList=void 0;const t=Z2(),n=Ue(),r=new Int32Array(0),s=4,a=(1<<31>>>0)-1-8;let l=class Yb{constructor(d){if(!d)this._data=r,this._size=0;else if(d instanceof Yb)this._data=d._data.slice(0),this._size=d._size;else if(typeof d=="number")d===0?(this._data=r,this._size=0):(this._data=new Int32Array(d),this._size=0);else{this._data=r,this._size=0;for(let g of d)this.add(g)}}add(d){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=d,this._size++}addAll(d){if(Array.isArray(d))this.ensureCapacity(this._size+d.length),this._data.subarray(this._size,this._size+d.length).set(d),this._size+=d.length;else if(d instanceof Yb)this.ensureCapacity(this._size+d._size),this._data.subarray(this._size,this._size+d.size).set(d._data),this._size+=d._size;else{this.ensureCapacity(this._size+d.size);let g=0;for(let p of d)this._data[this._size+g]=p,g++;this._size+=d.size}}get(d){if(d<0||d>=this._size)throw RangeError();return this._data[d]}contains(d){for(let g=0;g<this._size;g++)if(this._data[g]===d)return!0;return!1}set(d,g){if(d<0||d>=this._size)throw RangeError();let p=this._data[d];return this._data[d]=g,p}removeAt(d){let g=this.get(d);return this._data.copyWithin(d,d+1,this._size),this._data[this._size-1]=0,this._size--,g}removeRange(d,g){if(d<0||g<0||d>this._size||g>this._size||d>g)throw RangeError();this._data.copyWithin(g,d,this._size),this._data.fill(0,this._size-(g-d),this._size),this._size-=g-d}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(d){if(d===this)return!0;if(!(d instanceof Yb)||this._size!==d._size)return!1;for(let g=0;g<this._size;g++)if(this._data[g]!==d._data[g])return!1;return!0}hashCode(){let d=1;for(let g=0;g<this._size;g++)d=31*d+this._data[g];return d}toString(){return this._data.toString()}binarySearch(d,g,p){if(g===void 0&&(g=0),p===void 0&&(p=this._size),g<0||p<0||g>this._size||p>this._size)throw new RangeError;if(g>p)throw new RangeError;return t.Arrays.binarySearch(this._data,d,g,p)}ensureCapacity(d){if(d<0||d>a)throw new RangeError;let g;for(this._data.length===0?g=s:g=this._data.length;g<d;)g=g*2,(g<0||g>a)&&(g=a);let p=new Int32Array(g);p.set(this._data),this._data=p}toCharArray(){let d=new Uint16Array(this._size),g=0,p=!1;for(let m=0;m<this._size;m++){let x=this._data[m];if(x>=0&&x<65536){d[g]=x,g++;continue}if(!p){let A=new Uint16Array(this.charArraySize());A.set(d,0),d=A,p=!0}let b=String.fromCodePoint(x);d[g]=b.charCodeAt(0),d[g+1]=b.charCodeAt(1),g+=2}return d}charArraySize(){let d=0;for(let g=0;g<this._size;g++)d+=this._data[g]>=65536?2:1;return d}};return e([n.NotNull],l.prototype,"_data",void 0),e([n.Override],l.prototype,"equals",null),e([n.Override],l.prototype,"hashCode",null),e([n.Override],l.prototype,"toString",null),ed.IntegerList=l,ed}var td={},Y_;function Xi(){if(Y_)return td;Y_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=td&&td.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(td,"__esModule",{value:!0}),td.Interval=void 0;const t=Ue(),n=1e3;let r=class Bo{constructor(a,l){this.a=a,this.b=l}static get INVALID(){return Bo._INVALID}static of(a,l){return a!==l||a<0||a>n?new Bo(a,l):(Bo.cache[a]==null&&(Bo.cache[a]=new Bo(a,a)),Bo.cache[a])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(a){return a===this?!0:a instanceof Bo?this.a===a.a&&this.b===a.b:!1}hashCode(){let a=23;return a=a*31+this.a,a=a*31+this.b,a}startsBeforeDisjoint(a){return this.a<a.a&&this.b<a.a}startsBeforeNonDisjoint(a){return this.a<=a.a&&this.b>=a.a}startsAfter(a){return this.a>a.a}startsAfterDisjoint(a){return this.a>a.b}startsAfterNonDisjoint(a){return this.a>a.a&&this.a<=a.b}disjoint(a){return this.startsBeforeDisjoint(a)||this.startsAfterDisjoint(a)}adjacent(a){return this.a===a.b+1||this.b===a.a-1}properlyContains(a){return a.a>=this.a&&a.b<=this.b}union(a){return Bo.of(Math.min(this.a,a.a),Math.max(this.b,a.b))}intersection(a){return Bo.of(Math.max(this.a,a.a),Math.min(this.b,a.b))}differenceNotProperlyContained(a){let l;return a.startsBeforeNonDisjoint(this)?l=Bo.of(Math.max(this.a,a.b+1),this.b):a.startsAfterNonDisjoint(this)&&(l=Bo.of(this.a,a.a-1)),l}toString(){return this.a+".."+this.b}};return r._INVALID=new r(-1,-2),r.cache=new Array(n+1),e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),e([t.Override],r.prototype,"toString",null),td.Interval=r,td}var nd={},M0={},wl={},hC={},W_;function $n(){return W_||(W_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Token=void 0;const t=ef();(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=t.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(e.Token||(e.Token={}))}(hC)),hC}var q_;function qv(){if(q_)return wl;q_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=wl&&wl.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},t=wl&&wl.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(wl,"__esModule",{value:!0}),wl.CommonToken=void 0;const n=Xi(),r=Ue(),s=$n();let a=class iv{constructor(f,d,g=iv.EMPTY_SOURCE,p=s.Token.DEFAULT_CHANNEL,m=0,x=0){this._line=0,this._charPositionInLine=-1,this._channel=s.Token.DEFAULT_CHANNEL,this.index=-1,this._text=d,this._type=f,this.source=g,this._channel=p,this.start=m,this.stop=x,g.source!=null&&(this._line=g.source.line,this._charPositionInLine=g.source.charPositionInLine)}static fromToken(f){let d=new iv(f.type,void 0,iv.EMPTY_SOURCE,f.channel,f.startIndex,f.stopIndex);return d._line=f.line,d.index=f.tokenIndex,d._charPositionInLine=f.charPositionInLine,f instanceof iv?(d._text=f._text,d.source=f.source):(d._text=f.text,d.source={source:f.tokenSource,stream:f.inputStream}),d}get type(){return this._type}set type(f){this._type=f}get line(){return this._line}set line(f){this._line=f}get text(){if(this._text!=null)return this._text;let f=this.inputStream;if(f==null)return;let d=f.size;return this.start<d&&this.stop<d?f.getText(n.Interval.of(this.start,this.stop)):"<EOF>"}set text(f){this._text=f}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(f){this._charPositionInLine=f}get channel(){return this._channel}set channel(f){this._channel=f}get startIndex(){return this.start}set startIndex(f){this.start=f}get stopIndex(){return this.stop}set stopIndex(f){this.stop=f}get tokenIndex(){return this.index}set tokenIndex(f){this.index=f}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(f){let d="";this._channel>0&&(d=",channel="+this._channel);let g=this.text;g!=null?(g=g.replace(/\n/g,"\\n"),g=g.replace(/\r/g,"\\r"),g=g.replace(/\t/g,"\\t")):g="<no text>";let p=String(this._type);return f&&(p=f.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+g+"',<"+p+">"+d+","+this._line+":"+this.charPositionInLine+"]"}};return a.EMPTY_SOURCE={source:void 0,stream:void 0},e([r.NotNull],a.prototype,"source",void 0),e([r.Override],a.prototype,"type",null),e([r.Override],a.prototype,"line",null),e([r.Override],a.prototype,"text",null),e([r.Override],a.prototype,"charPositionInLine",null),e([r.Override],a.prototype,"channel",null),e([r.Override],a.prototype,"startIndex",null),e([r.Override],a.prototype,"stopIndex",null),e([r.Override],a.prototype,"tokenIndex",null),e([r.Override],a.prototype,"tokenSource",null),e([r.Override],a.prototype,"inputStream",null),e([r.Override],a.prototype,"toString",null),e([t(0,r.NotNull)],a,"fromToken",null),a=e([t(2,r.NotNull)],a),wl.CommonToken=a,wl}var K_;function Q2(){return K_||(K_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=M0&&M0.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTokenFactory=void 0;const n=qv(),r=Xi(),s=Ue();let a=class{constructor(f=!1){this.copyText=f}create(f,d,g,p,m,x,b,A){let C=new n.CommonToken(d,g,f,p,m,x);return C.line=b,C.charPositionInLine=A,g==null&&this.copyText&&f.stream!=null&&(C.text=f.stream.getText(r.Interval.of(m,x))),C}createSimple(f,d){return new n.CommonToken(f,d)}};t([s.Override],a.prototype,"create",null),t([s.Override],a.prototype,"createSimple",null),e.CommonTokenFactory=a,function(l){l.DEFAULT=new l}(a=e.CommonTokenFactory||(e.CommonTokenFactory={}))}(M0)),M0}var L0={},X_;function FF(){if(X_)return L0;X_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(L0,"__esModule",{value:!0}),L0.IntegerStack=void 0;const e=J2();let t=class extends e.IntegerList{constructor(r){super(r)}push(r){this.add(r)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};return L0.IntegerStack=t,L0}var rd={},F0={},Z_;function kF(){if(Z_)return F0;Z_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(F0,"__esModule",{value:!0}),F0.AcceptStateInfo=void 0;let e=class{constructor(n,r){this._prediction=n,this._lexerActionExecutor=r}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};return F0.AcceptStateInfo=e,F0}var id={},k0={},J_;function _g(){if(J_)return k0;J_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(k0,"__esModule",{value:!0}),k0.Array2DHashMap=void 0;const e=rf();class t{constructor(s){this.keyComparator=s}hashCode(s){return this.keyComparator.hashCode(s.key)}equals(s,a){return this.keyComparator.equals(s.key,a.key)}}let n=class Aw{constructor(s){s instanceof Aw?this.backingStore=new e.Array2DHashSet(s.backingStore):this.backingStore=new e.Array2DHashSet(new t(s))}clear(){this.backingStore.clear()}containsKey(s){return this.backingStore.contains({key:s})}get(s){let a=this.backingStore.get({key:s});if(a)return a.value}get isEmpty(){return this.backingStore.isEmpty}put(s,a){let l=this.backingStore.get({key:s,value:a}),f;return l?(f=l.value,l.value=a):this.backingStore.add({key:s,value:a}),f}putIfAbsent(s,a){let l=this.backingStore.get({key:s,value:a}),f;return l?f=l.value:this.backingStore.add({key:s,value:a}),f}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(s){return s instanceof Aw?this.backingStore.equals(s.backingStore):!1}};return k0.Array2DHashMap=n,k0}var Rl={},od={},Tl={},B0={},Q_;function mh(){if(Q_)return B0;Q_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(B0,"__esModule",{value:!0}),B0.DecisionState=void 0;const e=Iu();let t=class extends e.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}};return B0.DecisionState=t,B0}var sd={},j0={},eI;function eR(){return eI||(eI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=j0&&j0.__decorate||function(d,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(d,g,p,m);else for(var C=d.length-1;C>=0;C--)(A=d[C])&&(b=(x<3?A(b):x>3?A(g,p,b):A(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionContextCache=void 0;const n=_g(),r=Ue(),s=za(),a=Ls(),l=Ni();let f=class Cw{constructor(g=!0){this.contexts=new n.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.childContexts=new n.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.joinContexts=new n.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.enableCache=g}getAsCached(g){if(!this.enableCache)return g;let p=this.contexts.get(g);return p||(p=g,this.contexts.put(g,g)),p}getChild(g,p){if(!this.enableCache)return g.getChild(p);let m=new Cw.PredictionContextAndInt(g,p),x=this.childContexts.get(m);return x||(x=g.getChild(p),x=this.getAsCached(x),this.childContexts.put(m,x)),x}join(g,p){if(!this.enableCache)return a.PredictionContext.join(g,p,this);let m=new Cw.IdentityCommutativePredictionContextOperands(g,p),x=this.joinContexts.get(m);return x||(x=a.PredictionContext.join(g,p,this),x=this.getAsCached(x),this.joinContexts.put(m,x),x)}};e.PredictionContextCache=f,f.UNCACHED=new f(!1),function(d){class g{constructor(x,b){this.obj=x,this.value=b}equals(x){if(x instanceof g){if(x===this)return!0}else return!1;let b=x;return this.value===b.value&&(this.obj===b.obj||this.obj!=null&&this.obj.equals(b.obj))}hashCode(){let x=5;return x=7*x+(this.obj!=null?this.obj.hashCode():0),x=7*x+this.value,x}}t([r.Override],g.prototype,"equals",null),t([r.Override],g.prototype,"hashCode",null),d.PredictionContextAndInt=g;class p{constructor(x,b){l(x!=null),l(b!=null),this._x=x,this._y=b}get x(){return this._x}get y(){return this._y}equals(x){if(x instanceof p){if(this===x)return!0}else return!1;let b=x;return this._x===b._x&&this._y===b._y||this._x===b._y&&this._y===b._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}t([r.Override],p.prototype,"equals",null),t([r.Override],p.prototype,"hashCode",null),d.IdentityCommutativePredictionContextOperands=p}(f=e.PredictionContextCache||(e.PredictionContextCache={}))}(j0)),j0}var tI;function Ls(){return tI||(tI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=sd&&sd.__decorate||function(C,w,R,N){var I=arguments.length,D=I<3?w:N===null?N=Object.getOwnPropertyDescriptor(w,R):N,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,w,R,N);else for(var k=C.length-1;k>=0;k--)(F=C[k])&&(D=(I<3?F(D):I>3?F(w,R,D):F(w,R))||D);return I>3&&D&&Object.defineProperty(w,R,D),D},n=sd&&sd.__param||function(C,w){return function(R,N){w(R,N,C)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SingletonPredictionContext=e.PredictionContext=void 0;const r=_g(),s=rf(),a=Z2(),l=pr(),f=Ue(),d=eR(),g=Ni(),p=1;let m=class fi{constructor(w){this.cachedHashCode=w}static calculateEmptyHashCode(){let w=l.MurmurHash.initialize(p);return w=l.MurmurHash.finish(w,0),w}static calculateSingleHashCode(w,R){let N=l.MurmurHash.initialize(p);return N=l.MurmurHash.update(N,w),N=l.MurmurHash.update(N,R),N=l.MurmurHash.finish(N,2),N}static calculateHashCode(w,R){let N=l.MurmurHash.initialize(p);for(let I of w)N=l.MurmurHash.update(N,I);for(let I of R)N=l.MurmurHash.update(N,I);return N=l.MurmurHash.finish(N,2*w.length),N}static fromRuleContext(w,R,N=!0){if(R.isEmpty)return N?fi.EMPTY_FULL:fi.EMPTY_LOCAL;let I;R._parent?I=fi.fromRuleContext(w,R._parent,N):I=N?fi.EMPTY_FULL:fi.EMPTY_LOCAL;let F=w.states[R.invokingState].transition(0);return I.getChild(F.followState.stateNumber)}static addEmptyContext(w){return w.addEmptyContext()}static removeEmptyContext(w){return w.removeEmptyContext()}static join(w,R,N=d.PredictionContextCache.UNCACHED){if(w===R)return w;if(w.isEmpty)return fi.isEmptyLocal(w)?w:fi.addEmptyContext(R);if(R.isEmpty)return fi.isEmptyLocal(R)?R:fi.addEmptyContext(w);let I=w.size,D=R.size;if(I===1&&D===1&&w.getReturnState(0)===R.getReturnState(0)){let se=N.join(w.getParent(0),R.getParent(0));return se===w.getParent(0)?w:se===R.getParent(0)?R:se.getChild(w.getReturnState(0))}let F=0,k=new Array(I+D),V=new Array(k.length),B=0,H=0,te=!0,re=!0;for(;B<I&&H<D;)w.getReturnState(B)===R.getReturnState(H)?(k[F]=N.join(w.getParent(B),R.getParent(H)),V[F]=w.getReturnState(B),te=te&&k[F]===w.getParent(B),re=re&&k[F]===R.getParent(H),B++,H++):w.getReturnState(B)<R.getReturnState(H)?(k[F]=w.getParent(B),V[F]=w.getReturnState(B),re=!1,B++):(g(R.getReturnState(H)<w.getReturnState(B)),k[F]=R.getParent(H),V[F]=R.getReturnState(H),te=!1,H++),F++;for(;B<I;)k[F]=w.getParent(B),V[F]=w.getReturnState(B),B++,re=!1,F++;for(;H<D;)k[F]=R.getParent(H),V[F]=R.getReturnState(H),H++,te=!1,F++;return te?w:re?R:(F<k.length&&(k=k.slice(0,F),V=V.slice(0,F)),k.length===0?fi.EMPTY_FULL:k.length===1?new A(k[0],V[0]):new b(k,V))}static isEmptyLocal(w){return w===fi.EMPTY_LOCAL}static getCachedContext(w,R,N){if(w.isEmpty)return w;let I=N.get(w);if(I)return I;if(I=R.get(w),I)return N.put(w,I),I;let D=!1,F=new Array(w.size);for(let V=0;V<F.length;V++){let B=fi.getCachedContext(w.getParent(V),R,N);if(D||B!==w.getParent(V)){if(!D){F=new Array(w.size);for(let H=0;H<w.size;H++)F[H]=w.getParent(H);D=!0}F[V]=B}}if(!D)return I=R.putIfAbsent(w,w),N.put(w,I??w),w;let k;if(F.length===1)k=new A(F[0],w.getReturnState(0));else{let V=new Array(w.size);for(let B=0;B<w.size;B++)V[B]=w.getReturnState(B);k=new b(F,V,w.hashCode())}return I=R.putIfAbsent(k,k),N.put(k,I||k),N.put(w,I||k),k}appendSingleContext(w,R){return this.appendContext(fi.EMPTY_FULL.getChild(w),R)}getChild(w){return new A(this,w)}hashCode(){return this.cachedHashCode}toStrings(w,R,N=fi.EMPTY_FULL){let I=[];e:for(let D=0;;D++){let F=0,k=!0,V=this,B=R,H="";for(H+="[";!V.isEmpty&&V!==N;){let te=0;if(V.size>0){let re=1;for(;1<<re>>>0<V.size;)re++;let se=(1<<re>>>0)-1;if(te=D>>F&se,k=k&&te>=V.size-1,te>=V.size)continue e;F+=re}if(w){H.length>1&&(H+=" ");let se=w.atn.states[B],Ee=w.ruleNames[se.ruleIndex];H+=Ee}else V.getReturnState(te)!==fi.EMPTY_FULL_STATE_KEY&&(V.isEmpty||(H.length>1&&(H+=" "),H+=V.getReturnState(te)));B=V.getReturnState(te),V=V.getParent(te)}if(H+="]",I.push(H),k)break}return I}};t([f.Override],m.prototype,"hashCode",null),t([n(0,f.NotNull),n(1,f.NotNull),n(2,f.NotNull)],m,"join",null),t([n(0,f.NotNull),n(1,f.NotNull),n(2,f.NotNull)],m,"getCachedContext",null),e.PredictionContext=m;class x extends m{constructor(w){super(m.calculateEmptyHashCode()),this.fullContext=w}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(w){throw new Error("index out of bounds")}getReturnState(w){throw new Error("index out of bounds")}findReturnState(w){return-1}get size(){return 0}appendSingleContext(w,R){return R.getChild(this,w)}appendContext(w,R){return w}get isEmpty(){return!0}get hasEmpty(){return!0}equals(w){return this===w}toStrings(w,R,N){return["[]"]}}t([f.Override],x.prototype,"addEmptyContext",null),t([f.Override],x.prototype,"removeEmptyContext",null),t([f.Override],x.prototype,"getParent",null),t([f.Override],x.prototype,"getReturnState",null),t([f.Override],x.prototype,"findReturnState",null),t([f.Override],x.prototype,"size",null),t([f.Override],x.prototype,"appendSingleContext",null),t([f.Override],x.prototype,"appendContext",null),t([f.Override],x.prototype,"isEmpty",null),t([f.Override],x.prototype,"hasEmpty",null),t([f.Override],x.prototype,"equals",null),t([f.Override],x.prototype,"toStrings",null);let b=class Xd extends m{constructor(w,R,N){super(N||m.calculateHashCode(w,R)),g(w.length===R.length),g(R.length>1||R[0]!==m.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=w,this.returnStates=R}getParent(w){return this.parents[w]}getReturnState(w){return this.returnStates[w]}findReturnState(w){return a.Arrays.binarySearch(this.returnStates,w)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===m.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let w=this.parents.slice(0),R=this.returnStates.slice(0);return w.push(m.EMPTY_FULL),R.push(m.EMPTY_FULL_STATE_KEY),new Xd(w,R)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new A(this.parents[0],this.returnStates[0]);{let w=this.parents.slice(0,this.parents.length-1),R=this.returnStates.slice(0,this.returnStates.length-1);return new Xd(w,R)}}appendContext(w,R){return Xd.appendContextImpl(this,w,new m.IdentityHashMap)}static appendContextImpl(w,R,N){if(R.isEmpty){if(m.isEmptyLocal(R)){if(w.hasEmpty)return m.EMPTY_LOCAL;throw new Error("what to do here?")}return w}if(R.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let I=N.get(w);if(!I){if(w.isEmpty)I=R;else{let D=w.size;w.hasEmpty&&D--;let F=new Array(D),k=new Array(D);for(let V=0;V<D;V++)k[V]=w.getReturnState(V);for(let V=0;V<D;V++)F[V]=Xd.appendContextImpl(w.getParent(V),R,N);F.length===1?I=new A(F[0],k[0]):(g(F.length>1),I=new Xd(F,k)),w.hasEmpty&&(I=m.join(I,R))}N.put(w,I)}return I}equals(w){if(this===w)return!0;if(!(w instanceof Xd)||this.hashCode()!==w.hashCode())return!1;let R=w;return this.equalsImpl(R,new s.Array2DHashSet)}equalsImpl(w,R){let N=[],I=[];for(N.push(this),I.push(w);;){let D=N.pop(),F=I.pop();if(!D||!F)break;let k=new d.PredictionContextCache.IdentityCommutativePredictionContextOperands(D,F);if(!R.add(k))continue;let V=k.x.size;if(V===0){if(!k.x.equals(k.y))return!1;continue}let B=k.y.size;if(V!==B)return!1;for(let H=0;H<V;H++){if(k.x.getReturnState(H)!==k.y.getReturnState(H))return!1;let te=k.x.getParent(H),re=k.y.getParent(H);if(te.hashCode()!==re.hashCode())return!1;te!==re&&(N.push(te),I.push(re))}}return!0}};t([f.NotNull],b.prototype,"parents",void 0),t([f.NotNull],b.prototype,"returnStates",void 0),t([f.Override],b.prototype,"getParent",null),t([f.Override],b.prototype,"getReturnState",null),t([f.Override],b.prototype,"findReturnState",null),t([f.Override],b.prototype,"size",null),t([f.Override],b.prototype,"isEmpty",null),t([f.Override],b.prototype,"hasEmpty",null),t([f.Override],b.prototype,"addEmptyContext",null),t([f.Override],b.prototype,"removeEmptyContext",null),t([f.Override],b.prototype,"appendContext",null),t([f.Override],b.prototype,"equals",null),b=t([n(0,f.NotNull)],b);let A=class BF extends m{constructor(w,R){super(m.calculateSingleHashCode(w,R)),this.parent=w,this.returnState=R}getParent(w){return this.parent}getReturnState(w){return this.returnState}findReturnState(w){return this.returnState===w?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(w,R){return R.getChild(this.parent.appendContext(w,R),this.returnState)}addEmptyContext(){let w=[this.parent,m.EMPTY_FULL],R=[this.returnState,m.EMPTY_FULL_STATE_KEY];return new b(w,R)}removeEmptyContext(){return this}equals(w){if(w===this)return!0;if(!(w instanceof BF))return!1;let R=w;return this.hashCode()!==R.hashCode()?!1:this.returnState===R.returnState&&this.parent.equals(R.parent)}};t([f.NotNull],A.prototype,"parent",void 0),t([f.Override],A.prototype,"getParent",null),t([f.Override],A.prototype,"getReturnState",null),t([f.Override],A.prototype,"findReturnState",null),t([f.Override],A.prototype,"size",null),t([f.Override],A.prototype,"isEmpty",null),t([f.Override],A.prototype,"hasEmpty",null),t([f.Override],A.prototype,"appendContext",null),t([f.Override],A.prototype,"addEmptyContext",null),t([f.Override],A.prototype,"removeEmptyContext",null),t([f.Override],A.prototype,"equals",null),A=t([n(0,f.NotNull)],A),e.SingletonPredictionContext=A,function(C){C.EMPTY_LOCAL=new x(!1),C.EMPTY_FULL=new x(!0),C.EMPTY_LOCAL_STATE_KEY=-2147483648,C.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class w extends r.Array2DHashMap{constructor(){super(R.INSTANCE)}}C.IdentityHashMap=w;class R{IdentityEqualityComparator(){}hashCode(I){return I.hashCode()}equals(I,D){return I===D}}R.INSTANCE=new R,t([f.Override],R.prototype,"hashCode",null),t([f.Override],R.prototype,"equals",null),C.IdentityEqualityComparator=R}(m=e.PredictionContext||(e.PredictionContext={}))}(sd)),sd}var nI;function ZS(){if(nI)return Tl;nI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Tl&&Tl.__decorate||function(C,w,R,N){var I=arguments.length,D=I<3?w:N===null?N=Object.getOwnPropertyDescriptor(w,R):N,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,w,R,N);else for(var k=C.length-1;k>=0;k--)(F=C[k])&&(D=(I<3?F(D):I>3?F(w,R,D):F(w,R))||D);return I>3&&D&&Object.defineProperty(w,R,D),D},t=Tl&&Tl.__param||function(C,w){return function(R,N){w(R,N,C)}};Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.ATNConfig=void 0;const n=_g(),r=mh(),s=pr(),a=Ue(),l=za(),f=Ls(),d=Ng(),g=Ni(),p=2147483648;let m=class ov{constructor(w,R,N){typeof R=="number"?(g((R&16777215)===R),this._state=w,this.altAndOuterContextDepth=R,this._context=N):(this._state=w,this.altAndOuterContextDepth=R.altAndOuterContextDepth,this._context=N)}static create(w,R,N,I=d.SemanticContext.NONE,D){return I!==d.SemanticContext.NONE?D!=null?new A(D,I,w,R,N,!1):new x(I,w,R,N):D!=null?new b(D,w,R,N,!1):new ov(w,R,N)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(w){this._context=w}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(w){g(w>=0),w=Math.min(w,127),this.altAndOuterContextDepth=w<<24|(this.altAndOuterContextDepth&-2130706433)>>>0}get lexerActionExecutor(){}get semanticContext(){return d.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(w,R,N){return N==null?this.transformImpl(w,this._context,this.semanticContext,R,this.lexerActionExecutor):N instanceof f.PredictionContext?this.transformImpl(w,N,this.semanticContext,R,this.lexerActionExecutor):N instanceof d.SemanticContext?this.transformImpl(w,this._context,N,R,this.lexerActionExecutor):this.transformImpl(w,this._context,this.semanticContext,R,N)}transformImpl(w,R,N,I,D){let F=I&&ov.checkNonGreedyDecision(this,w);return N!==d.SemanticContext.NONE?D!=null||F?new A(D,N,w,this,R,F):new x(N,w,this,R):D!=null||F?new b(D,w,this,R,F):new ov(w,this,R)}static checkNonGreedyDecision(w,R){return w.hasPassedThroughNonGreedyDecision||R instanceof r.DecisionState&&R.nonGreedy}appendContext(w,R){if(typeof w=="number"){let N=this.context.appendSingleContext(w,R);return this.transform(this.state,!1,N)}else{let N=this.context.appendContext(w,R);return this.transform(this.state,!1,N)}}contains(w){if(this.state.stateNumber!==w.state.stateNumber||this.alt!==w.alt||!this.semanticContext.equals(w.semanticContext))return!1;let R=[],N=[];for(R.push(this.context),N.push(w.context);;){let I=R.pop(),D=N.pop();if(!I||!D)break;if(I===D)return!0;if(I.size<D.size)return!1;if(D.isEmpty)return I.hasEmpty;for(let F=0;F<D.size;F++){let k=I.findReturnState(D.getReturnState(F));if(k<0)return!1;R.push(I.getParent(k)),N.push(D.getParent(F))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&p)!==0}set isPrecedenceFilterSuppressed(w){w?this.altAndOuterContextDepth|=p:this.altAndOuterContextDepth&=2147483647}equals(w){return this===w?!0:w instanceof ov?this.state.stateNumber===w.state.stateNumber&&this.alt===w.alt&&this.reachesIntoOuterContext===w.reachesIntoOuterContext&&this.context.equals(w.context)&&this.semanticContext.equals(w.semanticContext)&&this.isPrecedenceFilterSuppressed===w.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===w.hasPassedThroughNonGreedyDecision&&l.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,w.lexerActionExecutor):!1}hashCode(){let w=s.MurmurHash.initialize(7);return w=s.MurmurHash.update(w,this.state.stateNumber),w=s.MurmurHash.update(w,this.alt),w=s.MurmurHash.update(w,this.reachesIntoOuterContext?1:0),w=s.MurmurHash.update(w,this.context),w=s.MurmurHash.update(w,this.semanticContext),w=s.MurmurHash.update(w,this.hasPassedThroughNonGreedyDecision?1:0),w=s.MurmurHash.update(w,this.lexerActionExecutor),w=s.MurmurHash.finish(w,7),w}toDotString(){let w="";w+=`digraph G {
`,w+=`rankdir=LR;
`;let R=new n.Array2DHashMap(f.PredictionContext.IdentityEqualityComparator.INSTANCE),N=[];function I(D){let F=R.size,k=R.putIfAbsent(D,F);return k??(N.push(D),F)}for(N.push(this.context),R.put(this.context,0);;){let D=N.pop();if(!D)break;for(let F=0;F<D.size;F++)w+="  s"+I(D),w+="->",w+="s"+I(D.getParent(F)),w+='[label="'+D.getReturnState(F)+`"];
`}return w+=`}
`,w.toString()}toString(w,R,N){N==null&&(N=R!=null),R==null&&(R=!0);let I="",D;N?D=this.context.toStrings(w,this.state.stateNumber):D=["?"];let F=!0;for(let k of D)F?F=!1:I+=", ",I+="(",I+=this.state,R&&(I+=",",I+=this.alt),this.context&&(I+=",",I+=k),this.semanticContext!==d.SemanticContext.NONE&&(I+=",",I+=this.semanticContext),this.reachesIntoOuterContext&&(I+=",up="+this.outerContextDepth),I+=")";return I.toString()}};e([a.NotNull],m.prototype,"_state",void 0),e([a.NotNull],m.prototype,"_context",void 0),e([a.NotNull],m.prototype,"state",null),e([a.NotNull,t(0,a.NotNull)],m.prototype,"context",null),e([a.NotNull],m.prototype,"semanticContext",null),e([a.Override],m.prototype,"clone",null),e([t(0,a.NotNull),t(2,a.NotNull)],m.prototype,"transformImpl",null),e([a.Override],m.prototype,"equals",null),e([a.Override],m.prototype,"hashCode",null),e([t(0,a.NotNull),t(3,a.NotNull)],m,"create",null),m=e([t(0,a.NotNull),t(2,a.NotNull)],m),Tl.ATNConfig=m;let x=class extends m{constructor(w,R,N,I){typeof N=="number"?super(R,N,I):super(R,N,I),this._semanticContext=w}get semanticContext(){return this._semanticContext}};e([a.NotNull],x.prototype,"_semanticContext",void 0),e([a.Override],x.prototype,"semanticContext",null),x=e([t(1,a.NotNull),t(2,a.NotNull)],x);let b=class extends m{constructor(w,R,N,I,D){if(typeof N=="number")super(R,N,I);else if(super(R,N,I),N.semanticContext!==d.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=w,this.passedThroughNonGreedyDecision=D}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};e([a.Override],b.prototype,"lexerActionExecutor",null),e([a.Override],b.prototype,"hasPassedThroughNonGreedyDecision",null),b=e([t(1,a.NotNull),t(2,a.NotNull)],b);let A=class extends x{constructor(w,R,N,I,D,F){typeof I=="number"?super(R,N,I,D):super(R,N,I,D),this._lexerActionExecutor=w,this.passedThroughNonGreedyDecision=F}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};return e([a.Override],A.prototype,"lexerActionExecutor",null),e([a.Override],A.prototype,"hasPassedThroughNonGreedyDecision",null),A=e([t(1,a.NotNull),t(2,a.NotNull)],A),Tl}var z0={},rI;function of(){if(rI)return z0;rI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(z0,"__esModule",{value:!0}),z0.BitSet=void 0;const e=fg(),t=pr(),n=new Uint16Array(0);function r(m){return m>>>4}function s(m){return m*16}function a(m){let x=1;for(let b=0;b<16;b++){if((m&x)!==0)return b;x=x<<1>>>0}throw new RangeError("No specified bit found")}function l(m){let x=32768;for(let b=15;b>=0;b--){if((m&x)!==0)return b;x=x>>>1}throw new RangeError("No specified bit found")}function f(m,x){return m&=15,x&=15,m===x?1<<m>>>0:65535>>>15-x^65535>>>16-m}const d=new Uint8Array(65536);for(let m=0;m<16;m++){const x=1<<m>>>0;let b=0;for(;b<d.length;){b+=x;for(let A=0;A<x;A++)d[b]++,b++}}let g=class sv{constructor(x){if(!x)this.data=n;else if(typeof x=="number"){if(x<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(r(x-1)+1)}else if(x instanceof sv)this.data=x.data.slice(0);else{let b=-1;for(let A of x)b<A&&(b=A);this.data=new Uint16Array(r(b-1)+1);for(let A of x)this.set(A)}}and(x){const b=this.data,A=x.data,C=Math.min(b.length,A.length);let w=-1;for(let R=0;R<C;R++)(b[R]&=A[R])!==0&&(w=R);w===-1&&(this.data=n),w<b.length-1&&(this.data=b.slice(0,w+1))}andNot(x){const b=this.data,A=x.data,C=Math.min(b.length,A.length);let w=-1;for(let R=0;R<C;R++)(b[R]&=A[R]^65535)!==0&&(w=R);w===-1&&(this.data=n),w<b.length-1&&(this.data=b.slice(0,w+1))}cardinality(){if(this.isEmpty)return 0;const x=this.data,b=x.length;let A=0;for(let C=0;C<b;C++)A+=d[x[C]];return A}clear(x,b){x==null?this.data.fill(0):b==null?this.set(x,!1):this.set(x,b,!1)}flip(x,b){if(b==null&&(b=x),x<0||b<x)throw new RangeError;let A=r(x);const C=r(b);if(A===C)this.data[A]^=f(x,b);else{for(this.data[A++]^=f(x,15);A<C;)this.data[A++]^=65535;this.data[A++]^=f(0,b)}}get(x,b){if(b===void 0)return!!(this.data[r(x)]&f(x,x));{let A=new sv(b+1);for(let C=x;C<=b;C++)A.set(C,this.get(C));return A}}intersects(x){let b=Math.min(this.length(),x.length());if(b===0)return!1;let A=r(b-1);for(let C=0;C<=A;C++)if((this.data[C]&x.data[C])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(s(this.data.length)-1)+1:0}nextClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,A=b.length;let C=r(x);if(C>A)return-1;let w=65535^f(x,15);if((b[C]|w)===65535){for(C++,w=0;C<A&&b[C]===65535;C++);if(C===A)return-1}return s(C)+a((b[C]|w)^65535)}nextSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,A=b.length;let C=r(x);if(C>A)return-1;let w=f(x,15);if((b[C]&w)===0){for(C++,w=65535;C<A&&b[C]===0;C++);if(C>=A)return-1}return s(C)+a(b[C]&w)}or(x){const b=this.data,A=x.data,C=Math.min(b.length,A.length),w=Math.max(b.length,A.length),R=b.length===w?b:new Uint16Array(w);let N=-1;for(let D=0;D<C;D++)(R[D]=b[D]|A[D])!==0&&(N=D);const I=b.length>A.length?b:A;for(let D=C;D<w;D++)(R[D]=I[D])!==0&&(N=D);N===-1?this.data=n:R.length===N+1?this.data=R:this.data=R.slice(0,N)}previousClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,A=b.length;let C=r(x);C>=A&&(C=A-1);let w=65535^f(0,x);if((b[C]|w)===65535){for(w=0,C--;C>=0&&b[C]===65535;C--);if(C<0)return-1}return s(C)+l((b[C]|w)^65535)}previousSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,A=b.length;let C=r(x);C>=A&&(C=A-1);let w=f(0,x);if((b[C]&w)===0){for(C--,w=65535;C>=0&&b[C]===0;C--);if(C<0)return-1}return s(C)+l(b[C]&w)}set(x,b,A){if(b===void 0?(b=x,A=!0):typeof b=="boolean"&&(A=b,b=x),A===void 0&&(A=!0),x<0||x>b)throw new RangeError;let C=r(x),w=r(b);if(A&&w>=this.data.length){let R=new Uint16Array(w+1);this.data.forEach((N,I)=>R[I]=N),this.data=R}else if(!A){if(C>=this.data.length)return;w>=this.data.length&&(w=this.data.length-1,b=this.data.length*16-1)}if(C===w)this._setBits(C,A,f(x,b));else{for(this._setBits(C++,A,f(x,15));C<w;)this.data[C++]=A?65535:0;this._setBits(C,A,f(0,b))}}_setBits(x,b,A){b?this.data[x]|=A:this.data[x]&=65535^A}get size(){return this.data.byteLength*8}hashCode(){return t.MurmurHash.hashCode(this.data,22)}equals(x){if(x===this)return!0;if(!(x instanceof sv))return!1;const b=this.length();if(b!==x.length())return!1;if(b===0)return!0;let A=r(b-1);for(let C=0;C<=A;C++)if(this.data[C]!==x.data[C])return!1;return!0}toString(){let x="{",b=!0;for(let A=this.nextSetBit(0);A>=0;A=this.nextSetBit(A+1))b?b=!1:x+=", ",x+=A;return x+="}",x}xor(x){const b=this.data,A=x.data,C=Math.min(b.length,A.length),w=Math.max(b.length,A.length),R=b.length===w?b:new Uint16Array(w);let N=-1;for(let D=0;D<C;D++)(R[D]=b[D]^A[D])!==0&&(N=D);const I=b.length>A.length?b:A;for(let D=C;D<w;D++)(R[D]=I[D])!==0&&(N=D);N===-1?this.data=n:R.length===N+1?this.data=R:this.data=R.slice(0,N+1)}clone(){return new sv(this)}[Symbol.iterator](){return new p(this.data)}[e.inspect.custom](){return"BitSet "+this.toString()}};z0.BitSet=g;class p{constructor(x){this.data=x,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const x=this.data[this.index]&this.mask;if(x!==0){const b=s(this.index)+a(x);return this.mask=f(b+1,15),{done:!1,value:b}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}return z0}var iI;function Kv(){if(iI)return od;iI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=od&&od.__decorate||function(R,N,I,D){var F=arguments.length,k=F<3?N:D===null?D=Object.getOwnPropertyDescriptor(N,I):D,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(R,N,I,D);else for(var B=R.length-1;B>=0;B--)(V=R[B])&&(k=(F<3?V(k):F>3?V(N,I,k):V(N,I))||k);return F>3&&k&&Object.defineProperty(N,I,k),k};Object.defineProperty(od,"__esModule",{value:!0}),od.ATNConfigSet=void 0;const t=_g(),n=rf(),r=qS(),s=Va(),a=ZS(),l=of(),f=Ue(),d=za(),g=Ls(),p=eR(),m=Ng(),x=Ni(),b=Ou();class A{hashCode(N){return N.state^N.alt}equals(N,I){return N.state===I.state&&N.alt===I.alt}}A.INSTANCE=new A;function C(R){return R?new t.Array2DHashMap(R):new t.Array2DHashMap(A.INSTANCE)}let w=class ww{constructor(N,I){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,N?(I?(this.mergedConfigs=void 0,this.unmerged=void 0):N.isReadOnly?(this.mergedConfigs=C(),this.unmerged=[]):(this.mergedConfigs=C(N.mergedConfigs),this.unmerged=N.unmerged.slice(0)),this.configs=N.configs.slice(0),this._dipsIntoOuterContext=N._dipsIntoOuterContext,this._hasSemanticContext=N._hasSemanticContext,this.outermostConfigSet=N.outermostConfigSet,(I||!N.isReadOnly)&&(this._uniqueAlt=N._uniqueAlt,this._conflictInfo=N._conflictInfo)):(this.mergedConfigs=C(),this.unmerged=[],this.configs=[],this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let N=new l.BitSet;for(let I of this)N.set(I.alt);return N}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(N){if(this.outermostConfigSet&&!N)throw new Error("IllegalStateException");x(!N||!this._dipsIntoOuterContext),this.outermostConfigSet=N}getStates(){let N=new n.Array2DHashSet(d.ObjectEqualityComparator.INSTANCE);for(let I of this.configs)N.add(I.state);return N}optimizeConfigs(N){if(this.configs.length!==0)for(let I of this.configs)I.context=N.atn.getCachedContext(I.context)}clone(N){let I=new ww(this,N);return!N&&this.isReadOnly&&I.addAll(this.configs),I}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(N){if(!(N instanceof a.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let I=N,D=this.getKey(I),F=this.mergedConfigs.get(D);if(F!=null&&this.canMerge(I,D,F))return F.contains(I);for(let k of this.unmerged)if(k.contains(N))return!0}else for(let I of this.configs)if(I.contains(N))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(N,I){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");x(!this.outermostConfigSet||!N.reachesIntoOuterContext),I==null&&(I=p.PredictionContextCache.UNCACHED);let D,F=this.getKey(N),k=this.mergedConfigs.get(F);if(D=k==null,k!=null&&this.canMerge(N,F,k)){k.outerContextDepth=Math.max(k.outerContextDepth,N.outerContextDepth),N.isPrecedenceFilterSuppressed&&(k.isPrecedenceFilterSuppressed=!0);let V=g.PredictionContext.join(k.context,N.context,I);return this.updatePropertiesForMergedConfig(N),k.context===V?!1:(k.context=V,!0)}for(let V=0;V<this.unmerged.length;V++){let B=this.unmerged[V];if(this.canMerge(N,F,B)){B.outerContextDepth=Math.max(B.outerContextDepth,N.outerContextDepth),N.isPrecedenceFilterSuppressed&&(B.isPrecedenceFilterSuppressed=!0);let H=g.PredictionContext.join(B.context,N.context,I);return this.updatePropertiesForMergedConfig(N),B.context===H?!1:(B.context=H,D&&(this.mergedConfigs.put(F,B),this.unmerged.splice(V,1)),!0)}}return this.configs.push(N),D?this.mergedConfigs.put(F,N):this.unmerged.push(N),this.updatePropertiesForAddedConfig(N),!0}updatePropertiesForMergedConfig(N){this._dipsIntoOuterContext=this._dipsIntoOuterContext||N.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(N){this.configs.length===1?this._uniqueAlt=N.alt:this._uniqueAlt!==N.alt&&(this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!m.SemanticContext.NONE.equals(N.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||N.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(N,I,D){return N.state.stateNumber!==D.state.stateNumber||I.alt!==D.alt?!1:N.semanticContext.equals(D.semanticContext)}getKey(N){return{state:N.state.stateNumber,alt:N.alt}}containsAll(N){for(let I of N)if(!(I instanceof a.ATNConfig)||!this.contains(I))return!1;return!0}addAll(N,I){this.ensureWritable();let D=!1;for(let F of N)this.add(F,I)&&(D=!0);return D}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(N){return this===N?!0:N instanceof ww?this.outermostConfigSet===N.outermostConfigSet&&b.equals(this._conflictInfo,N._conflictInfo)&&r.ArrayEqualityComparator.INSTANCE.equals(this.configs,N.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let N=1;return N=5*N^(this.outermostConfigSet?1:0),N=5*N^r.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=N),N}toString(N){N==null&&(N=!1);let I="",D=this.configs.slice(0);D.sort((F,k)=>F.alt!==k.alt?F.alt-k.alt:F.state.stateNumber!==k.state.stateNumber?F.state.stateNumber-k.state.stateNumber:F.semanticContext.toString().localeCompare(k.semanticContext.toString())),I+="[";for(let F=0;F<D.length;F++)F>0&&(I+=", "),I+=D[F].toString(void 0,!0,N);return I+="]",this._hasSemanticContext&&(I+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==s.ATN.INVALID_ALT_NUMBER&&(I+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(I+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(I+="*")),this._dipsIntoOuterContext&&(I+=",dipsIntoOuterContext"),I.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(N){this.ensureWritable(),this._hasSemanticContext=N}get conflictInfo(){return this._conflictInfo}set conflictInfo(N){this.ensureWritable(),this._conflictInfo=N}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(N){return this.configs[N]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};return e([f.NotNull],w.prototype,"getRepresentedAlternatives",null),e([f.Override],w.prototype,"size",null),e([f.Override],w.prototype,"isEmpty",null),e([f.Override],w.prototype,"contains",null),e([f.Override],w.prototype,Symbol.iterator,null),e([f.Override],w.prototype,"toArray",null),e([f.Override],w.prototype,"containsAll",null),e([f.Override],w.prototype,"clear",null),e([f.Override],w.prototype,"equals",null),e([f.Override],w.prototype,"hashCode",null),od.ATNConfigSet=w,od}var ad={},ld={},ud={},oI;function JS(){return oI||(oI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=ud&&ud.__decorate||function(p,m,x,b){var A=arguments.length,C=A<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,m,x,b);else for(var R=p.length-1;R>=0;R--)(w=p[R])&&(C=(A<3?w(C):A>3?w(m,x,C):w(m,x))||C);return A>3&&C&&Object.defineProperty(m,x,C),C},n=ud&&ud.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DFAState=void 0;const r=Va(),s=of(),a=pr(),l=Ue(),f=Ls(),d=Ni();let g=class jF{constructor(m){this.stateNumber=-1,this.configs=m,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(m){return this.isContextSensitive?this.contextSymbols.get(m):!1}setContextSymbol(m){d(this.isContextSensitive),this.contextSymbols.set(m)}setContextSensitive(m){d(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new s.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(m){this._acceptStateInfo=m}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:r.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(m){return this.edges.get(m)}setTarget(m,x){this.edges.set(m,x)}getEdgeMap(){return this.edges}getContextTarget(m){return m===f.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.get(m)}setContextTarget(m,x){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");m===f.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.set(m,x)}getContextEdgeMap(){let m=new Map(this.contextEdges),x=m.get(-1);if(x!==void 0)if(m.size===1){let b=new Map;return b.set(f.PredictionContext.EMPTY_FULL_STATE_KEY,x),b}else m.delete(-1),m.set(f.PredictionContext.EMPTY_FULL_STATE_KEY,x);return m}hashCode(){let m=a.MurmurHash.initialize(7);return m=a.MurmurHash.update(m,this.configs.hashCode()),m=a.MurmurHash.finish(m,1),m}equals(m){if(this===m)return!0;if(!(m instanceof jF))return!1;let x=m;return this.configs.equals(x.configs)}toString(){let m="";return m+=this.stateNumber+":"+this.configs,this.isAcceptState&&(m+="=>",this.predicates?m+=this.predicates:m+=this.prediction),m.toString()}};t([l.NotNull],g.prototype,"configs",void 0),t([l.NotNull],g.prototype,"edges",void 0),t([l.NotNull],g.prototype,"contextEdges",void 0),t([l.Override],g.prototype,"hashCode",null),t([l.Override],g.prototype,"equals",null),t([l.Override],g.prototype,"toString",null),e.DFAState=g,function(p){let m=class{constructor(b,A){this.alt=A,this.pred=b}toString(){return"("+this.pred+", "+this.alt+")"}};t([l.NotNull],m.prototype,"pred",void 0),t([l.Override],m.prototype,"toString",null),m=t([n(0,l.NotNull)],m),p.PredPrediction=m}(g=e.DFAState||(e.DFAState={}))}(ud)),ud}var sI;function QS(){return sI||(sI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=ld&&ld.__decorate||function(d,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(d,g,p,m);else for(var C=d.length-1;C>=0;C--)(A=d[C])&&(b=(x<3?A(b):x>3?A(g,p,b):A(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},n=ld&&ld.__param||function(d,g){return function(p,m){g(p,m,d)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNSimulator=void 0;const r=Kv(),s=JS(),a=Ue(),l=Ls();let f=class av{constructor(g){this.atn=g}static get ERROR(){return av._ERROR||(av._ERROR=new s.DFAState(new r.ATNConfigSet),av._ERROR.stateNumber=l.PredictionContext.EMPTY_FULL_STATE_KEY),av._ERROR}clearDFA(){this.atn.clearDFA()}};t([a.NotNull],f.prototype,"atn",void 0),t([a.NotNull],f,"ERROR",null),f=t([n(0,a.NotNull)],f),e.ATNSimulator=f,f=e.ATNSimulator||(e.ATNSimulator={}),e.ATNSimulator=f}(ld)),ld}var Nl={},V0={},aI;function zF(){if(aI)return V0;aI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(V0,"__esModule",{value:!0}),V0.ConsoleErrorListener=void 0;let e=class{syntaxError(n,r,s,a,l,f){console.error(`line ${s}:${a} ${l}`)}};return V0.ConsoleErrorListener=e,e.INSTANCE=new e,V0}var _l={},lI;function tR(){if(lI)return _l;lI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_l&&_l.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g},t=_l&&_l.__param||function(s,a){return function(l,f){a(l,f,s)}};Object.defineProperty(_l,"__esModule",{value:!0}),_l.ProxyErrorListener=void 0;const n=Ue();let r=class{constructor(a){if(this.delegates=a,!a)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(a,l,f,d,g,p){this.delegates.forEach(m=>{m.syntaxError&&m.syntaxError(a,l,f,d,g,p)})}};return e([n.Override,t(0,n.NotNull),t(4,n.NotNull)],r.prototype,"syntaxError",null),_l.ProxyErrorListener=r,_l}var uI;function Xv(){if(uI)return Nl;uI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nl&&Nl.__decorate||function(d,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(d,g,p,m);else for(var C=d.length-1;C>=0;C--)(A=d[C])&&(b=(x<3?A(b):x>3?A(g,p,b):A(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},t=Nl&&Nl.__param||function(d,g){return function(p,m){g(p,m,d)}};Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.Recognizer=void 0;const n=zF(),r=tR(),s=Ue(),a=$n(),l=Ou();let f=class lv{constructor(){this._listeners=[n.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let g=this.vocabulary,p=lv.tokenTypeMapCache.get(g);if(p==null){let m=new Map;for(let x=0;x<=this.atn.maxTokenType;x++){let b=g.getLiteralName(x);b!=null&&m.set(b,x);let A=g.getSymbolicName(x);A!=null&&m.set(A,x)}m.set("EOF",a.Token.EOF),p=m,lv.tokenTypeMapCache.set(g,p)}return p}getRuleIndexMap(){let g=this.ruleNames;if(g==null)throw new Error("The current recognizer does not provide a list of rule names.");let p=lv.ruleIndexMapCache.get(g);return p==null&&(p=l.toMap(g),lv.ruleIndexMapCache.set(g,p)),p}getTokenType(g){let p=this.getTokenTypeMap().get(g);return p??a.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(g){this._interp=g}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(g){let p=g.getOffendingToken();if(!p)return"";let m=p.line,x=p.charPositionInLine;return"line "+m+":"+x}addErrorListener(g){if(!g)throw new TypeError("listener must not be null");this._listeners.push(g)}removeErrorListener(g){let p=this._listeners.indexOf(g);p!==-1&&this._listeners.splice(p,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new r.ProxyErrorListener(this.getErrorListeners())}sempred(g,p,m){return!0}precpred(g,p){return!0}action(g,p,m){}get state(){return this._stateNumber}set state(g){this._stateNumber=g}};return f.EOF=-1,f.tokenTypeMapCache=new WeakMap,f.ruleIndexMapCache=new WeakMap,e([s.SuppressWarnings("serial"),s.NotNull],f.prototype,"_listeners",void 0),e([s.NotNull],f.prototype,"getTokenTypeMap",null),e([s.NotNull],f.prototype,"getRuleIndexMap",null),e([s.NotNull],f.prototype,"serializedATN",null),e([s.NotNull],f.prototype,"atn",null),e([s.NotNull,t(0,s.NotNull)],f.prototype,"interpreter",null),e([s.NotNull,t(0,s.NotNull)],f.prototype,"getErrorHeader",null),e([t(0,s.NotNull)],f.prototype,"addErrorListener",null),e([t(0,s.NotNull)],f.prototype,"removeErrorListener",null),e([s.NotNull],f.prototype,"getErrorListeners",null),Nl.Recognizer=f,Nl}var cd={},cI;function vh(){if(cI)return cd;cI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=cd&&cd.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(cd,"__esModule",{value:!0}),cd.VocabularyImpl=void 0;const t=Ue(),n=$n();let r=class{constructor(a,l,f){this.literalNames=a,this.symbolicNames=l,this.displayNames=f,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(a){if(a>=0&&a<this.literalNames.length)return this.literalNames[a]}getSymbolicName(a){if(a>=0&&a<this.symbolicNames.length)return this.symbolicNames[a];if(a===n.Token.EOF)return"EOF"}getDisplayName(a){if(a>=0&&a<this.displayNames.length){let d=this.displayNames[a];if(d)return d}let l=this.getLiteralName(a);if(l)return l;let f=this.getSymbolicName(a);return f||String(a)}};return r.EMPTY_VOCABULARY=new r([],[],[]),e([t.NotNull],r.prototype,"literalNames",void 0),e([t.NotNull],r.prototype,"symbolicNames",void 0),e([t.NotNull],r.prototype,"displayNames",void 0),e([t.Override],r.prototype,"maxTokenType",null),e([t.Override],r.prototype,"getLiteralName",null),e([t.Override],r.prototype,"getSymbolicName",null),e([t.Override,t.NotNull],r.prototype,"getDisplayName",null),e([t.NotNull],r,"EMPTY_VOCABULARY",void 0),cd.VocabularyImpl=r,cd}var fI;function VF(){if(fI)return ad;fI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ad&&ad.__decorate||function(f,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(f,d,g,p);else for(var A=f.length-1;A>=0;A--)(b=f[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x};Object.defineProperty(ad,"__esModule",{value:!0}),ad.DFASerializer=void 0;const t=QS(),n=Ue(),r=Ls(),s=Xv(),a=vh();let l=class{constructor(d,g,p,m){g instanceof s.Recognizer?(p=g.ruleNames,m=g.atn,g=g.vocabulary):g||(g=a.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=d,this.vocabulary=g,this.ruleNames=p,this.atn=m}toString(){if(!this.dfa.s0)return"";let d="";if(this.dfa.states){let p=new Array(...this.dfa.states.toArray());p.sort((m,x)=>m.stateNumber-x.stateNumber);for(let m of p){let x=m.getEdgeMap(),b=[...x.keys()].sort((w,R)=>w-R),A=m.getContextEdgeMap(),C=[...A.keys()].sort((w,R)=>w-R);for(let w of b){let R=x.get(w);if((R==null||R===t.ATNSimulator.ERROR)&&!m.isContextSymbol(w))continue;let N=!1;d+=this.getStateString(m)+"-"+this.getEdgeLabel(w)+"->",m.isContextSymbol(w)&&(d+="!",N=!0);let I=R;I&&I.stateNumber!==t.ATNSimulator.ERROR.stateNumber?d+=this.getStateString(I)+`
`:N&&(d+=`ctx
`)}if(m.isContextSensitive)for(let w of C)d+=this.getStateString(m)+"-"+this.getContextLabel(w)+"->"+this.getStateString(A.get(w))+`
`}}let g=d;return g.length===0?"":g}getContextLabel(d){if(d===r.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(d===r.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&d>0&&d<=this.atn.states.length){let p=this.atn.states[d].ruleIndex;if(this.ruleNames&&p>=0&&p<this.ruleNames.length)return"ctx:"+String(d)+"("+this.ruleNames[p]+")"}return"ctx:"+String(d)}getEdgeLabel(d){return this.vocabulary.getDisplayName(d)}getStateString(d){if(d===t.ATNSimulator.ERROR)return"ERROR";let g=d.stateNumber,p="s"+g;if(d.isAcceptState&&(d.predicates?p=":s"+g+"=>"+d.predicates:p=":s"+g+"=>"+d.prediction),d.isContextSensitive){p+="*";for(let m of d.configs)if(m.reachesIntoOuterContext){p+="*";break}}return p}};return e([n.NotNull],l.prototype,"dfa",void 0),e([n.NotNull],l.prototype,"vocabulary",void 0),e([n.Override],l.prototype,"toString",null),ad.DFASerializer=l,ad}var Il={},dI;function bY(){if(dI)return Il;dI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Il&&Il.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},t=Il&&Il.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(Il,"__esModule",{value:!0}),Il.LexerDFASerializer=void 0;const n=VF(),r=Ue(),s=vh();let a=class extends n.DFASerializer{constructor(f){super(f,s.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(f){return"'"+String.fromCodePoint(f)+"'"}};return e([r.Override,r.NotNull],a.prototype,"getEdgeLabel",null),a=e([t(0,r.NotNull)],a),Il.LexerDFASerializer=a,Il}var fd={},hI;function nR(){if(hI)return fd;hI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=fd&&fd.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m};Object.defineProperty(fd,"__esModule",{value:!0}),fd.StarLoopEntryState=void 0;const t=Kr(),n=of(),r=mh(),s=Ue();let a=class extends r.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new n.BitSet}get stateType(){return t.ATNStateType.STAR_LOOP_ENTRY}};return e([s.Override],a.prototype,"stateType",null),fd.StarLoopEntryState=a,fd}var pI;function UF(){if(pI)return Rl;pI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Rl&&Rl.__decorate||function(x,b,A,C){var w=arguments.length,R=w<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,A):C,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,A,C);else for(var I=x.length-1;I>=0;I--)(N=x[I])&&(R=(w<3?N(R):w>3?N(b,A,R):N(b,A))||R);return w>3&&R&&Object.defineProperty(b,A,R),R},t=Rl&&Rl.__param||function(x,b){return function(A,C){b(A,C,x)}};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.DFA=void 0;const n=rf(),r=Kv(),s=VF(),a=JS(),l=bY(),f=Ue(),d=za(),g=nR(),p=vh();let m=class{constructor(b,A=0){if(this.states=new n.Array2DHashSet(d.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!b.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=b,this.atn=b.atn,this.decision=A;let C=!1;b instanceof g.StarLoopEntryState&&b.precedenceRuleDecision&&(C=!0,this.s0=new a.DFAState(new r.ATNConfigSet),this.s0full=new a.DFAState(new r.ATNConfigSet)),this.precedenceDfa=C}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(b,A){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return A?this.s0full.getTarget(b):this.s0.getTarget(b)}setPrecedenceStartState(b,A,C){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");b<0||(A?this.s0full.setTarget(b,C):this.s0.setTarget(b,C))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(b){return b.stateNumber=this.nextStateNumber++,this.states.getOrAdd(b)}toString(b,A){if(b||(b=p.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let C;return A?C=new s.DFASerializer(this,b,A,this.atnStartState.atn):C=new s.DFASerializer(this,b),C.toString()}toLexerString(){return this.s0?new l.LexerDFASerializer(this).toString():""}};return e([f.NotNull],m.prototype,"states",void 0),e([f.NotNull],m.prototype,"atnStartState",void 0),e([f.NotNull],m.prototype,"atn",void 0),m=e([t(0,f.NotNull)],m),Rl.DFA=m,Rl}var dd={},hd={},gI;function GF(){if(gI)return hd;gI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=hd&&hd.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(hd,"__esModule",{value:!0}),hd.BasicState=void 0;const t=Iu(),n=Kr(),r=Ue();let s=class extends t.ATNState{get stateType(){return n.ATNStateType.BASIC}};return e([r.Override],s.prototype,"stateType",null),hd.BasicState=s,hd}var mI;function $F(){if(mI)return dd;mI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=dd&&dd.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(dd,"__esModule",{value:!0}),dd.InvalidState=void 0;const t=Kr(),n=GF(),r=Ue();let s=class extends n.BasicState{get stateType(){return t.ATNStateType.INVALID_TYPE}};return e([r.Override],s.prototype,"stateType",null),dd.InvalidState=s,dd}var Ol={},Dl={},Pl={},vI;function rR(){if(vI)return Pl;vI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pl&&Pl.__decorate||function(f,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(f,d,g,p);else for(var A=f.length-1;A>=0;A--)(b=f[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x},t=Pl&&Pl.__param||function(f,d){return function(g,p){d(g,p,f)}};Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.SetTransition=void 0;const n=yh(),r=Ue(),s=$n(),a=nf();let l=class extends a.Transition{constructor(d,g){super(d),g==null&&(g=n.IntervalSet.of(s.Token.INVALID_TYPE)),this.set=g}get serializationType(){return 7}get label(){return this.set}matches(d,g,p){return this.set.contains(d)}toString(){return this.set.toString()}};return e([r.NotNull],l.prototype,"set",void 0),e([r.Override],l.prototype,"serializationType",null),e([r.Override,r.NotNull],l.prototype,"label",null),e([r.Override],l.prototype,"matches",null),e([r.Override,r.NotNull],l.prototype,"toString",null),l=e([t(0,r.NotNull),t(1,r.Nullable)],l),Pl.SetTransition=l,Pl}var yI;function iR(){if(yI)return Dl;yI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dl&&Dl.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=Dl&&Dl.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.NotSetTransition=void 0;const n=Ue(),r=rR();let s=class extends r.SetTransition{constructor(l,f){super(l,f)}get serializationType(){return 8}matches(l,f,d){return l>=f&&l<=d&&!super.matches(l,f,d)}toString(){return"~"+super.toString()}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"matches",null),e([n.Override],s.prototype,"toString",null),s=e([t(0,n.NotNull),t(1,n.Nullable)],s),Dl.NotSetTransition=s,Dl}var pd={},xI;function Zv(){if(xI)return pd;xI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pd&&pd.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(pd,"__esModule",{value:!0}),pd.RuleStopState=void 0;const t=Iu(),n=Kr(),r=Ue();let s=class extends t.ATNState{get nonStopStateNumber(){return-1}get stateType(){return n.ATNStateType.RULE_STOP}};return e([r.Override],s.prototype,"nonStopStateNumber",null),e([r.Override],s.prototype,"stateType",null),pd.RuleStopState=s,pd}var Ml={},bI;function oR(){if(bI)return Ml;bI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ml&&Ml.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=Ml&&Ml.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.RuleTransition=void 0;const n=Ue(),r=nf();let s=class extends r.Transition{constructor(l,f,d,g){super(l),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=f,this.precedence=d,this.followState=g}get serializationType(){return 3}get isEpsilon(){return!0}matches(l,f,d){return!1}};return e([n.NotNull],s.prototype,"followState",void 0),e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"isEpsilon",null),e([n.Override],s.prototype,"matches",null),s=e([t(0,n.NotNull),t(3,n.NotNull)],s),Ml.RuleTransition=s,Ml}var Ll={},SI;function HF(){if(SI)return Ll;SI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ll&&Ll.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=Ll&&Ll.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.WildcardTransition=void 0;const n=Ue(),r=nf();let s=class extends r.Transition{constructor(l){super(l)}get serializationType(){return 9}matches(l,f,d){return l>=f&&l<=d}toString(){return"."}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"matches",null),e([n.Override,n.NotNull],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),Ll.WildcardTransition=s,Ll}var EI;function SY(){if(EI)return Ol;EI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ol&&Ol.__decorate||function(w,R,N,I){var D=arguments.length,F=D<3?R:I===null?I=Object.getOwnPropertyDescriptor(R,N):I,k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(w,R,N,I);else for(var V=w.length-1;V>=0;V--)(k=w[V])&&(F=(D<3?k(F):D>3?k(R,N,F):k(R,N))||F);return D>3&&F&&Object.defineProperty(R,N,F),F},t=Ol&&Ol.__param||function(w,R){return function(N,I){R(N,I,w)}};Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.LL1Analyzer=void 0;const n=X2(),r=rf(),s=ZS(),a=of(),l=yh(),f=Ue(),d=iR(),g=za(),p=Ls(),m=Zv(),x=oR(),b=$n(),A=HF();let C=class Rw{constructor(R){this.atn=R}getDecisionLookahead(R){if(R==null)return;let N=new Array(R.numberOfTransitions);for(let I=0;I<R.numberOfTransitions;I++){let D=new l.IntervalSet;N[I]=D;let F=new r.Array2DHashSet(g.ObjectEqualityComparator.INSTANCE);this._LOOK(R.transition(I).target,void 0,p.PredictionContext.EMPTY_LOCAL,D,F,new a.BitSet,!1,!1),(D.size===0||D.contains(Rw.HIT_PRED))&&(D=void 0,N[I]=D)}return N}LOOK(R,N,I){if(I===void 0){if(R.atn==null)throw new Error("Illegal state");I=R.atn.ruleToStopState[R.ruleIndex]}else I===null&&(I=void 0);let D=new l.IntervalSet;return this._LOOK(R,I,N,D,new r.Array2DHashSet,new a.BitSet,!0,!0),D}_LOOK(R,N,I,D,F,k,V,B){let H=s.ATNConfig.create(R,0,I);if(!F.add(H))return;if(R===N){if(p.PredictionContext.isEmptyLocal(I)){D.add(b.Token.EPSILON);return}else if(I.isEmpty){B&&D.add(b.Token.EOF);return}}if(R instanceof m.RuleStopState){if(I.isEmpty&&!p.PredictionContext.isEmptyLocal(I)){B&&D.add(b.Token.EOF);return}let re=k.get(R.ruleIndex);try{k.clear(R.ruleIndex);for(let se=0;se<I.size;se++){if(I.getReturnState(se)===p.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let Ee=this.atn.states[I.getReturnState(se)];this._LOOK(Ee,N,I.getParent(se),D,F,k,V,B)}}finally{re&&k.set(R.ruleIndex)}}let te=R.numberOfTransitions;for(let re=0;re<te;re++){let se=R.transition(re);if(se instanceof x.RuleTransition){if(k.get(se.ruleIndex))continue;let Ee=I.getChild(se.followState.stateNumber);try{k.set(se.ruleIndex),this._LOOK(se.target,N,Ee,D,F,k,V,B)}finally{k.clear(se.ruleIndex)}}else if(se instanceof n.AbstractPredicateTransition)V?this._LOOK(se.target,N,I,D,F,k,V,B):D.add(Rw.HIT_PRED);else if(se.isEpsilon)this._LOOK(se.target,N,I,D,F,k,V,B);else if(se instanceof A.WildcardTransition)D.addAll(l.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let Ee=se.label;Ee!=null&&(se instanceof d.NotSetTransition&&(Ee=Ee.complement(l.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),D.addAll(Ee))}}}};return C.HIT_PRED=b.Token.INVALID_TYPE,e([f.NotNull],C.prototype,"atn",void 0),e([f.NotNull,t(0,f.NotNull),t(1,f.NotNull)],C.prototype,"LOOK",null),e([t(0,f.NotNull),t(2,f.NotNull),t(3,f.NotNull),t(4,f.NotNull),t(5,f.NotNull)],C.prototype,"_LOOK",null),C=e([t(0,f.NotNull)],C),Ol.LL1Analyzer=C,Ol}var AI;function Va(){return AI||(AI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=id&&id.__decorate||function(A,C,w,R){var N=arguments.length,I=N<3?C:R===null?R=Object.getOwnPropertyDescriptor(C,w):R,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(A,C,w,R);else for(var F=A.length-1;F>=0;F--)(D=A[F])&&(I=(N<3?D(I):N>3?D(C,w,I):D(C,w))||I);return N>3&&I&&Object.defineProperty(C,w,I),I},n=id&&id.__param||function(A,C){return function(w,R){C(w,R,A)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATN=void 0;const r=_g(),s=UF(),a=yh(),l=$F(),f=SY(),d=Ue(),g=za(),p=Ls(),m=$n(),x=Ni();let b=class{constructor(C,w){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new r.Array2DHashMap(g.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=C,this.maxTokenType=w}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let C=0;C<this.decisionToDFA.length;C++)this.decisionToDFA[C]=new s.DFA(this.decisionToState[C],C);this.modeToDFA=new Array(this.modeToStartState.length);for(let C=0;C<this.modeToDFA.length;C++)this.modeToDFA[C]=new s.DFA(this.modeToStartState[C]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(C){return p.PredictionContext.getCachedContext(C,this.contextCache,new p.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return x(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(C,w){return w?new f.LL1Analyzer(this).LOOK(C,w):(C.nextTokenWithinRule||(C.nextTokenWithinRule=this.nextTokens(C,p.PredictionContext.EMPTY_LOCAL),C.nextTokenWithinRule.setReadonly(!0)),C.nextTokenWithinRule)}addState(C){C.atn=this,C.stateNumber=this.states.length,this.states.push(C)}removeState(C){let w=new l.InvalidState;w.atn=this,w.stateNumber=C.stateNumber,this.states[C.stateNumber]=w}defineMode(C,w){this.modeNameToStartState.set(C,w),this.modeToStartState.push(w),this.modeToDFA.push(new s.DFA(w)),this.defineDecisionState(w)}defineDecisionState(C){return this.decisionToState.push(C),C.decision=this.decisionToState.length-1,this.decisionToDFA.push(new s.DFA(C,C.decision)),C.decision}getDecisionState(C){if(this.decisionToState.length>0)return this.decisionToState[C]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(C,w){if(C<0||C>=this.states.length)throw new RangeError("Invalid state number.");let R=w,N=this.states[C],I=this.nextTokens(N);if(!I.contains(m.Token.EPSILON))return I;let D=new a.IntervalSet;for(D.addAll(I),D.remove(m.Token.EPSILON);R!=null&&R.invokingState>=0&&I.contains(m.Token.EPSILON);){let k=this.states[R.invokingState].transition(0);I=this.nextTokens(k.followState),D.addAll(I),D.remove(m.Token.EPSILON),R=R._parent}return I.contains(m.Token.EPSILON)&&D.add(m.Token.EOF),D}};t([d.NotNull],b.prototype,"states",void 0),t([d.NotNull],b.prototype,"decisionToState",void 0),t([d.NotNull],b.prototype,"modeNameToStartState",void 0),t([d.NotNull],b.prototype,"modeToStartState",void 0),t([d.NotNull],b.prototype,"decisionToDFA",void 0),t([d.NotNull],b.prototype,"modeToDFA",void 0),t([d.NotNull],b.prototype,"nextTokens",null),t([n(0,d.NotNull)],b.prototype,"removeState",null),t([n(0,d.NotNull),n(1,d.NotNull)],b.prototype,"defineMode",null),t([n(0,d.NotNull)],b.prototype,"defineDecisionState",null),t([d.NotNull],b.prototype,"getExpectedTokens",null),b=t([n(0,d.NotNull)],b),e.ATN=b,function(A){A.INVALID_ALT_NUMBER=0}(b=e.ATN||(e.ATN={})),e.ATN=b}(id)),id}var Fl={},kl={},CI;function EY(){if(CI)return kl;CI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kl&&kl.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=kl&&kl.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(kl,"__esModule",{value:!0}),kl.LexerIndexedCustomAction=void 0;const n=pr(),r=Ue();let s=class YF{constructor(l,f){this._offset=l,this._action=f}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(l){this._action.execute(l)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this._offset),l=n.MurmurHash.update(l,this._action),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof YF?this._offset===l._offset&&this._action.equals(l._action):!1}};return e([r.NotNull],s.prototype,"action",null),e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),s=e([t(1,r.NotNull)],s),kl.LexerIndexedCustomAction=s,kl}var wI;function AY(){if(wI)return Fl;wI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Fl&&Fl.__decorate||function(f,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(f,d,g,p);else for(var A=f.length-1;A>=0;A--)(b=f[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x},t=Fl&&Fl.__param||function(f,d){return function(g,p){d(g,p,f)}};Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.LexerActionExecutor=void 0;const n=qS(),r=EY(),s=pr(),a=Ue();let l=class uv{constructor(d){this._lexerActions=d;let g=s.MurmurHash.initialize();for(let p of d)g=s.MurmurHash.update(g,p);this.cachedHashCode=s.MurmurHash.finish(g,d.length)}static append(d,g){if(!d)return new uv([g]);let p=d._lexerActions.slice(0);return p.push(g),new uv(p)}fixOffsetBeforeMatch(d){let g;for(let p=0;p<this._lexerActions.length;p++)this._lexerActions[p].isPositionDependent&&!(this._lexerActions[p]instanceof r.LexerIndexedCustomAction)&&(g||(g=this._lexerActions.slice(0)),g[p]=new r.LexerIndexedCustomAction(d,this._lexerActions[p]));return g?new uv(g):this}get lexerActions(){return this._lexerActions}execute(d,g,p){let m=!1,x=g.index;try{for(let b of this._lexerActions){if(b instanceof r.LexerIndexedCustomAction){let A=b.offset;g.seek(p+A),b=b.action,m=p+A!==x}else b.isPositionDependent&&(g.seek(x),m=!1);b.execute(d)}}finally{m&&g.seek(x)}}hashCode(){return this.cachedHashCode}equals(d){return d===this?!0:d instanceof uv?this.cachedHashCode===d.cachedHashCode&&n.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,d._lexerActions):!1}};return e([a.NotNull],l.prototype,"_lexerActions",void 0),e([a.NotNull],l.prototype,"lexerActions",null),e([t(0,a.NotNull)],l.prototype,"execute",null),e([a.Override],l.prototype,"hashCode",null),e([a.Override],l.prototype,"equals",null),e([a.NotNull,t(1,a.NotNull)],l,"append",null),l=e([t(0,a.NotNull)],l),Fl.LexerActionExecutor=l,Fl}var Bl={},RI;function eE(){if(RI)return Bl;RI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bl&&Bl.__decorate||function(f,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(f,d,g,p);else for(var A=f.length-1;A>=0;A--)(b=f[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x},t=Bl&&Bl.__param||function(f,d){return function(g,p){d(g,p,f)}};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.LexerNoViableAltException=void 0;const n=tf(),r=Ue(),s=Xi(),a=Ou();let l=class extends n.RecognitionException{constructor(d,g,p,m){super(d,g),this._startIndex=p,this._deadEndConfigs=m}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let d="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(d=this.inputStream.getText(s.Interval.of(this._startIndex,this._startIndex)),d=a.escapeWhitespace(d,!1)),`LexerNoViableAltException('${d}')`}};return e([r.Override],l.prototype,"inputStream",null),e([r.Override],l.prototype,"toString",null),l=e([t(1,r.NotNull)],l),Bl.LexerNoViableAltException=l,Bl}var gd={},TI;function CY(){if(TI)return gd;TI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gd&&gd.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(gd,"__esModule",{value:!0}),gd.OrderedATNConfigSet=void 0;const t=Kv(),n=Ue();let r=class WF extends t.ATNConfigSet{constructor(a,l){a!=null&&l!=null?super(a,l):super()}clone(a){let l=new WF(this,a);return!a&&this.isReadOnly&&l.addAll(this),l}getKey(a){return{state:0,alt:a.hashCode()}}canMerge(a,l,f){return a.equals(f)}};return e([n.Override],r.prototype,"clone",null),e([n.Override],r.prototype,"getKey",null),e([n.Override],r.prototype,"canMerge",null),gd.OrderedATNConfigSet=r,gd}var NI;function tE(){return NI||(NI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=rd&&rd.__decorate||function(F,k,V,B){var H=arguments.length,te=H<3?k:B===null?B=Object.getOwnPropertyDescriptor(k,V):B,re;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(F,k,V,B);else for(var se=F.length-1;se>=0;se--)(re=F[se])&&(te=(H<3?re(te):H>3?re(k,V,te):re(k,V))||te);return H>3&&te&&Object.defineProperty(k,V,te),te},n=rd&&rd.__param||function(F,k){return function(V,B){k(V,B,F)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerATNSimulator=void 0;const r=kF(),s=Va(),a=ZS(),l=Kv(),f=QS(),d=JS(),g=Xi(),p=ef(),m=sf(),x=AY(),b=eE(),A=Ue(),C=CY(),w=Ls(),R=Zv(),N=$n(),I=Ni();let D=class fo extends f.ATNSimulator{constructor(k,V){super(k),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE,this.prevAccept=new fo.SimState,this.recog=V}copyState(k){this._charPositionInLine=k.charPositionInLine,this._line=k._line,this.mode=k.mode,this.startIndex=k.startIndex}match(k,V){this.mode=V;let B=k.mark();try{this.startIndex=k.index,this.prevAccept.reset();let H=this.atn.modeToDFA[V].s0;return H==null?this.matchATN(k):this.execATN(k,H)}finally{k.release(B)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE}matchATN(k){let V=this.atn.modeToStartState[this.mode];fo.debug&&console.log(`matchATN mode ${this.mode} start: ${V}`);let B=this.mode,H=this.computeStartState(k,V),te=H.hasSemanticContext;te&&(H.hasSemanticContext=!1);let re=this.addDFAState(H);if(!te){let Ee=this.atn.modeToDFA[this.mode];Ee.s0?re=Ee.s0:Ee.s0=re}let se=this.execATN(k,re);return fo.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[B].toLexerString()}`),se}execATN(k,V){fo.debug&&console.log(`start state closure=${V.configs}`),V.isAcceptState&&this.captureSimState(this.prevAccept,k,V);let B=k.LA(1),H=V;for(;;){fo.debug&&console.log(`execATN loop starting closure: ${H.configs}`);let te=this.getExistingTargetState(H,B);if(te==null&&(te=this.computeTargetState(k,H,B)),te===f.ATNSimulator.ERROR||(B!==p.IntStream.EOF&&this.consume(k),te.isAcceptState&&(this.captureSimState(this.prevAccept,k,te),B===p.IntStream.EOF)))break;B=k.LA(1),H=te}return this.failOrAccept(this.prevAccept,k,H.configs,B)}getExistingTargetState(k,V){let B=k.getTarget(V);return fo.debug&&B!=null&&console.log("reuse state "+k.stateNumber+" edge to "+B.stateNumber),B}computeTargetState(k,V,B){let H=new C.OrderedATNConfigSet;return this.getReachableConfigSet(k,V.configs,H,B),H.isEmpty?(H.hasSemanticContext||this.addDFAEdge(V,B,f.ATNSimulator.ERROR),f.ATNSimulator.ERROR):this.addDFAEdge(V,B,H)}failOrAccept(k,V,B,H){if(k.dfaState!=null){let te=k.dfaState.lexerActionExecutor;return this.accept(V,te,this.startIndex,k.index,k.line,k.charPos),k.dfaState.prediction}else{if(H===p.IntStream.EOF&&V.index===this.startIndex)return N.Token.EOF;throw new b.LexerNoViableAltException(this.recog,V,this.startIndex,B)}}getReachableConfigSet(k,V,B,H){let te=s.ATN.INVALID_ALT_NUMBER;for(let re of V){let se=re.alt===te;if(se&&re.hasPassedThroughNonGreedyDecision)continue;fo.debug&&console.log(`testing ${this.getTokenName(H)} at ${re.toString(this.recog,!0)}`);let Ee=re.state.numberOfOptimizedTransitions;for(let ke=0;ke<Ee;ke++){let Me=re.state.getOptimizedTransition(ke),ie=this.getReachableTarget(Me,H);if(ie!=null){let we=re.lexerActionExecutor,de;we!=null?(we=we.fixOffsetBeforeMatch(k.index-this.startIndex),de=re.transform(ie,!0,we)):(I(re.lexerActionExecutor==null),de=re.transform(ie,!0));let ue=H===p.IntStream.EOF;if(this.closure(k,de,B,se,!0,ue)){te=re.alt;break}}}}}accept(k,V,B,H,te,re){fo.debug&&console.log(`ACTION ${V}`),k.seek(H),this._line=te,this._charPositionInLine=re,V!=null&&this.recog!=null&&V.execute(this.recog,k,B)}getReachableTarget(k,V){if(k.matches(V,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE))return k.target}computeStartState(k,V){let B=w.PredictionContext.EMPTY_FULL,H=new C.OrderedATNConfigSet;for(let te=0;te<V.numberOfTransitions;te++){let re=V.transition(te).target,se=a.ATNConfig.create(re,te+1,B);this.closure(k,se,H,!1,!1,!1)}return H}closure(k,V,B,H,te,re){if(fo.debug&&console.log("closure("+V.toString(this.recog,!0)+")"),V.state instanceof R.RuleStopState){fo.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[V.state.ruleIndex]} rule stop ${V}`):console.log(`closure at rule stop ${V}`));let Ee=V.context;if(Ee.isEmpty)return B.add(V),!0;Ee.hasEmpty&&(B.add(V.transform(V.state,!0,w.PredictionContext.EMPTY_FULL)),H=!0);for(let ke=0;ke<Ee.size;ke++){let Me=Ee.getReturnState(ke);if(Me===w.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let ie=Ee.getParent(ke),we=this.atn.states[Me],de=V.transform(we,!1,ie);H=this.closure(k,de,B,H,te,re)}return H}V.state.onlyHasEpsilonTransitions||(!H||!V.hasPassedThroughNonGreedyDecision)&&B.add(V);let se=V.state;for(let Ee=0;Ee<se.numberOfOptimizedTransitions;Ee++){let ke=se.getOptimizedTransition(Ee),Me=this.getEpsilonTarget(k,V,ke,B,te,re);Me!=null&&(H=this.closure(k,Me,B,H,te,re))}return H}getEpsilonTarget(k,V,B,H,te,re){let se;switch(B.serializationType){case 3:let Ee=B;if(this.optimize_tail_calls&&Ee.optimizedTailCall&&!V.context.hasEmpty)se=V.transform(B.target,!0);else{let Me=V.context.getChild(Ee.followState.stateNumber);se=V.transform(B.target,!0,Me)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let ke=B;fo.debug&&console.log("EVAL rule "+ke.ruleIndex+":"+ke.predIndex),H.hasSemanticContext=!0,this.evaluatePredicate(k,ke.ruleIndex,ke.predIndex,te)?se=V.transform(B.target,!0):se=void 0;break;case 6:if(V.context.hasEmpty){let Me=x.LexerActionExecutor.append(V.lexerActionExecutor,this.atn.lexerActions[B.actionIndex]);se=V.transform(B.target,!0,Me);break}else{se=V.transform(B.target,!0);break}case 1:se=V.transform(B.target,!0);break;case 5:case 2:case 7:if(re&&B.matches(p.IntStream.EOF,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE)){se=V.transform(B.target,!1);break}se=void 0;break;default:se=void 0;break}return se}evaluatePredicate(k,V,B,H){if(this.recog==null)return!0;if(!H)return this.recog.sempred(void 0,V,B);let te=this._charPositionInLine,re=this._line,se=k.index,Ee=k.mark();try{return this.consume(k),this.recog.sempred(void 0,V,B)}finally{this._charPositionInLine=te,this._line=re,k.seek(se),k.release(Ee)}}captureSimState(k,V,B){k.index=V.index,k.line=this._line,k.charPos=this._charPositionInLine,k.dfaState=B}addDFAEdge(k,V,B){if(B instanceof l.ATNConfigSet){let H=B.hasSemanticContext;H&&(B.hasSemanticContext=!1);let te=this.addDFAState(B);return H||this.addDFAEdge(k,V,te),te}else fo.debug&&console.log("EDGE "+k+" -> "+B+" upon "+String.fromCharCode(V)),k!=null&&k.setTarget(V,B)}addDFAState(k){I(!k.hasSemanticContext);let V=new d.DFAState(k),B=this.atn.modeToDFA[this.mode].states.get(V);if(B!=null)return B;k.optimizeConfigs(this);let H=new d.DFAState(k.clone(!0)),te;for(let re of k)if(re.state instanceof R.RuleStopState){te=re;break}if(te!=null){let re=this.atn.ruleToTokenType[te.state.ruleIndex],se=te.lexerActionExecutor;H.acceptStateInfo=new r.AcceptStateInfo(re,se)}return this.atn.modeToDFA[this.mode].addState(H)}getDFA(k){return this.atn.modeToDFA[k]}getText(k){return k.getText(g.Interval.of(this.startIndex,k.index-1))}get line(){return this._line}set line(k){this._line=k}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(k){this._charPositionInLine=k}consume(k){k.LA(1)===10?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,k.consume()}getTokenName(k){return k===-1?"EOF":"'"+String.fromCharCode(k)+"'"}};t([A.NotNull],D.prototype,"prevAccept",void 0),t([n(0,A.NotNull)],D.prototype,"copyState",null),t([n(0,A.NotNull)],D.prototype,"match",null),t([A.Override],D.prototype,"reset",null),t([n(0,A.NotNull)],D.prototype,"matchATN",null),t([n(0,A.NotNull),n(1,A.NotNull)],D.prototype,"execATN",null),t([n(0,A.NotNull)],D.prototype,"getExistingTargetState",null),t([A.NotNull,n(0,A.NotNull),n(1,A.NotNull)],D.prototype,"computeTargetState",null),t([n(0,A.NotNull),n(1,A.NotNull),n(2,A.NotNull)],D.prototype,"getReachableConfigSet",null),t([n(0,A.NotNull)],D.prototype,"accept",null),t([A.NotNull,n(0,A.NotNull),n(1,A.NotNull)],D.prototype,"computeStartState",null),t([n(0,A.NotNull),n(1,A.NotNull),n(2,A.NotNull)],D.prototype,"closure",null),t([n(0,A.NotNull),n(1,A.NotNull),n(2,A.NotNull),n(3,A.NotNull)],D.prototype,"getEpsilonTarget",null),t([n(0,A.NotNull)],D.prototype,"evaluatePredicate",null),t([n(0,A.NotNull),n(1,A.NotNull),n(2,A.NotNull)],D.prototype,"captureSimState",null),t([A.NotNull,n(0,A.NotNull)],D.prototype,"addDFAState",null),t([A.NotNull],D.prototype,"getDFA",null),t([A.NotNull,n(0,A.NotNull)],D.prototype,"getText",null),t([n(0,A.NotNull)],D.prototype,"consume",null),t([A.NotNull],D.prototype,"getTokenName",null),D=t([n(0,A.NotNull)],D),e.LexerATNSimulator=D,function(F){F.debug=!1,F.dfa_debug=!1;class k{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}F.SimState=k}(D=e.LexerATNSimulator||(e.LexerATNSimulator={})),e.LexerATNSimulator=D}(rd)),rd}var _I;function sf(){if(_I)return nd;_I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nd&&nd.__decorate||function(m,x,b,A){var C=arguments.length,w=C<3?x:A===null?A=Object.getOwnPropertyDescriptor(x,b):A,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(m,x,b,A);else for(var N=m.length-1;N>=0;N--)(R=m[N])&&(w=(C<3?R(w):C>3?R(x,b,w):R(x,b))||w);return C>3&&w&&Object.defineProperty(x,b,w),w};Object.defineProperty(nd,"__esModule",{value:!0}),nd.Lexer=void 0;const t=Q2(),n=FF(),r=Xi(),s=ef(),a=tE(),l=eE(),f=Ue(),d=Xv(),g=$n();let p=class _c extends d.Recognizer{constructor(x){super(),this._factory=t.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new n.IntegerStack,this._mode=_c.DEFAULT_MODE,this._input=x,this._tokenFactorySourcePair={source:this,stream:x}}static get DEFAULT_TOKEN_CHANNEL(){return g.Token.DEFAULT_CHANNEL}static get HIDDEN(){return g.Token.HIDDEN_CHANNEL}reset(x){(x===void 0||x)&&this._input.seek(0),this._token=void 0,this._type=g.Token.INVALID_TYPE,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=_c.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let x=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=g.Token.INVALID_TYPE;let b;try{b=this.interpreter.match(this._input,this._mode)}catch(A){if(A instanceof l.LexerNoViableAltException)this.notifyListeners(A),this.recover(A),b=_c.SKIP;else throw A}if(this._input.LA(1)===s.IntStream.EOF&&(this._hitEOF=!0),this._type===g.Token.INVALID_TYPE&&(this._type=b),this._type===_c.SKIP)continue e}while(this._type===_c.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(x)}}skip(){this._type=_c.SKIP}more(){this._type=_c.MORE}mode(x){this._mode=x}pushMode(x){a.LexerATNSimulator.debug&&console.log("pushMode "+x),this._modeStack.push(this._mode),this.mode(x)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return a.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(x){this._factory=x}get inputStream(){return this._input}set inputStream(x){this.reset(!1),this._input=x,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(x){return x||(x=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=x,x}emitEOF(){let x=this.charPositionInLine,b=this.line,A=this._factory.create(this._tokenFactorySourcePair,g.Token.EOF,void 0,g.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,b,x);return this.emit(A),A}get line(){return this.interpreter.line}set line(x){this.interpreter.line=x}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(x){this.interpreter.charPositionInLine=x}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(x){this._text=x}get token(){return this._token}set token(x){this._token=x}set type(x){this._type=x}get type(){return this._type}set channel(x){this._channel=x}get channel(){return this._channel}getAllTokens(){let x=[],b=this.nextToken();for(;b.type!==g.Token.EOF;)x.push(b),b=this.nextToken();return x}notifyListeners(x){let b=this._input.getText(r.Interval.of(this._tokenStartCharIndex,this._input.index)),A="token recognition error at: '"+this.getErrorDisplay(b)+"'",C=this.getErrorListenerDispatch();C.syntaxError&&C.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,A,x)}getErrorDisplay(x){if(typeof x=="number"){switch(x){case g.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(x)}return x.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(x){return"'"+this.getErrorDisplay(x)+"'"}recover(x){x instanceof l.LexerNoViableAltException?this._input.LA(1)!==s.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};return p.DEFAULT_MODE=0,p.MORE=-2,p.SKIP=-3,p.MIN_CHAR_VALUE=0,p.MAX_CHAR_VALUE=1114111,e([f.Override],p.prototype,"nextToken",null),e([f.Override],p.prototype,"tokenFactory",null),e([f.Override],p.prototype,"inputStream",null),e([f.Override],p.prototype,"sourceName",null),e([f.Override],p.prototype,"line",null),e([f.Override],p.prototype,"charPositionInLine",null),nd.Lexer=p,nd}var II;function yh(){if(II)return Cl;II=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cl&&Cl.__decorate||function(p,m,x,b){var A=arguments.length,C=A<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,m,x,b);else for(var R=p.length-1;R>=0;R--)(w=p[R])&&(C=(A<3?w(C):A>3?w(m,x,C):w(m,x))||C);return A>3&&C&&Object.defineProperty(m,x,C),C},t=Cl&&Cl.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.IntervalSet=void 0;const n=qS(),r=J2(),s=Xi(),a=sf(),l=pr(),f=Ue(),d=$n();let g=class pn{constructor(m){this.readonly=!1,m!=null?this._intervals=m.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return pn._COMPLETE_CHAR_SET===void 0&&(pn._COMPLETE_CHAR_SET=pn.of(a.Lexer.MIN_CHAR_VALUE,a.Lexer.MAX_CHAR_VALUE),pn._COMPLETE_CHAR_SET.setReadonly(!0)),pn._COMPLETE_CHAR_SET}static get EMPTY_SET(){return pn._EMPTY_SET==null&&(pn._EMPTY_SET=new pn,pn._EMPTY_SET.setReadonly(!0)),pn._EMPTY_SET}static of(m,x=m){let b=new pn;return b.add(m,x),b}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(m,x=m){this.addRange(s.Interval.of(m,x))}addRange(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(m.b<m.a)){for(let x=0;x<this._intervals.length;x++){let b=this._intervals[x];if(m.equals(b))return;if(m.adjacent(b)||!m.disjoint(b)){let A=m.union(b);for(this._intervals[x]=A;x<this._intervals.length-1;){x++;let C=this._intervals[x];if(!A.adjacent(C)&&A.disjoint(C))break;this._intervals.splice(x,1),x--,this._intervals[x]=A.union(C)}return}if(m.startsBeforeDisjoint(b)){this._intervals.splice(x,0,m);return}}this._intervals.push(m)}}static or(m){let x=new pn;for(let b of m)x.addAll(b);return x}addAll(m){if(m==null)return this;if(m instanceof pn){let x=m,b=x._intervals.length;for(let A=0;A<b;A++){let C=x._intervals[A];this.add(C.a,C.b)}}else for(let x of m.toArray())this.add(x);return this}complementRange(m,x){return this.complement(pn.of(m,x))}complement(m){if(m.isNil)return pn.EMPTY_SET;let x;return m instanceof pn?x=m:(x=new pn,x.addAll(m)),x.subtract(this)}subtract(m){if(m==null||m.isNil)return new pn(this._intervals);if(m instanceof pn)return pn.subtract(this,m);let x=new pn;return x.addAll(m),pn.subtract(this,x)}static subtract(m,x){if(m.isNil)return new pn;let b=new pn(m._intervals);if(x.isNil)return b;let A=0,C=0;for(;A<b._intervals.length&&C<x._intervals.length;){let w=b._intervals[A],R=x._intervals[C];if(R.b<w.a){C++;continue}if(R.a>w.b){A++;continue}let N,I;if(R.a>w.a&&(N=new s.Interval(w.a,R.a-1)),R.b<w.b&&(I=new s.Interval(R.b+1,w.b)),N)if(I){b._intervals[A]=N,b._intervals.splice(A+1,0,I),A++,C++;continue}else{b._intervals[A]=N,A++;continue}else if(I){b._intervals[A]=I,C++;continue}else{b._intervals.splice(A,1);continue}}return b}or(m){let x=new pn;return x.addAll(this),x.addAll(m),x}and(m){if(m.isNil)return new pn;let x=this._intervals,b=m._intervals,A,C=x.length,w=b.length,R=0,N=0;for(;R<C&&N<w;){let I=x[R],D=b[N];I.startsBeforeDisjoint(D)?R++:D.startsBeforeDisjoint(I)?N++:I.properlyContains(D)?(A||(A=new pn),A.addRange(I.intersection(D)),N++):D.properlyContains(I)?(A||(A=new pn),A.addRange(I.intersection(D)),R++):I.disjoint(D)||(A||(A=new pn),A.addRange(I.intersection(D)),I.startsAfterNonDisjoint(D)?N++:D.startsAfterNonDisjoint(I)&&R++)}return A||new pn}contains(m){let x=this._intervals.length,b=0,A=x-1;for(;b<=A;){let C=b+A>>1,w=this._intervals[C],R=w.a;if(w.b<m)b=C+1;else if(R>m)A=C-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let m=l.MurmurHash.initialize();for(let x of this._intervals)m=l.MurmurHash.update(m,x.a),m=l.MurmurHash.update(m,x.b);return m=l.MurmurHash.finish(m,this._intervals.length*2),m}equals(m){return m==null||!(m instanceof pn)?!1:n.ArrayEqualityComparator.INSTANCE.equals(this._intervals,m._intervals)}toString(m=!1){let x="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(x+="{");let b=!0;for(let A of this._intervals){b?b=!1:x+=", ";let C=A.a,w=A.b;C===w?C===d.Token.EOF?x+="<EOF>":m?x+="'"+String.fromCodePoint(C)+"'":x+=C:m?x+="'"+String.fromCodePoint(C)+"'..'"+String.fromCodePoint(w)+"'":x+=C+".."+w}return this.size>1&&(x+="}"),x}toStringVocabulary(m){if(this._intervals==null||this._intervals.length===0)return"{}";let x="";this.size>1&&(x+="{");let b=!0;for(let A of this._intervals){b?b=!1:x+=", ";let C=A.a,w=A.b;if(C===w)x+=this.elementName(m,C);else for(let R=C;R<=w;R++)R>C&&(x+=", "),x+=this.elementName(m,R)}return this.size>1&&(x+="}"),x}elementName(m,x){return x===d.Token.EOF?"<EOF>":x===d.Token.EPSILON?"<EPSILON>":m.getDisplayName(x)}get size(){let m=0,x=this._intervals.length;if(x===1){let b=this._intervals[0];return b.b-b.a+1}for(let b=0;b<x;b++){let A=this._intervals[b];m+=A.b-A.a+1}return m}toIntegerList(){let m=new r.IntegerList(this.size),x=this._intervals.length;for(let b=0;b<x;b++){let A=this._intervals[b],C=A.a,w=A.b;for(let R=C;R<=w;R++)m.add(R)}return m}toSet(){let m=new Set;for(let x of this._intervals){let b=x.a,A=x.b;for(let C=b;C<=A;C++)m.add(C)}return m}toArray(){let m=new Array,x=this._intervals.length;for(let b=0;b<x;b++){let A=this._intervals[b],C=A.a,w=A.b;for(let R=C;R<=w;R++)m.push(R)}return m}remove(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let x=this._intervals.length;for(let b=0;b<x;b++){let A=this._intervals[b],C=A.a,w=A.b;if(m<C)break;if(m===C&&m===w){this._intervals.splice(b,1);break}if(m===C){this._intervals[b]=s.Interval.of(A.a+1,A.b);break}if(m===w){this._intervals[b]=s.Interval.of(A.a,A.b-1);break}if(m>C&&m<w){let R=A.b;this._intervals[b]=s.Interval.of(A.a,m-1),this.add(m+1,R)}}}get isReadonly(){return this.readonly}setReadonly(m){if(this.readonly&&!m)throw new Error("can't alter readonly IntervalSet");this.readonly=m}};return e([f.Override],g.prototype,"addAll",null),e([f.Override],g.prototype,"complement",null),e([f.Override],g.prototype,"subtract",null),e([f.Override],g.prototype,"or",null),e([f.Override],g.prototype,"and",null),e([f.Override],g.prototype,"contains",null),e([f.Override],g.prototype,"isNil",null),e([f.Override],g.prototype,"hashCode",null),e([f.Override],g.prototype,"equals",null),e([t(0,f.NotNull)],g.prototype,"toStringVocabulary",null),e([f.NotNull,t(0,f.NotNull)],g.prototype,"elementName",null),e([f.Override],g.prototype,"size",null),e([f.Override],g.prototype,"remove",null),e([f.NotNull],g,"of",null),e([f.NotNull],g,"subtract",null),Cl.IntervalSet=g,Cl}var md={},As={},vd={},OI;function qF(){if(OI)return vd;OI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=vd&&vd.__decorate||function(r,s,a,l){var f=arguments.length,d=f<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,s,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(d=(f<3?g(d):f>3?g(s,a,d):g(s,a))||d);return f>3&&d&&Object.defineProperty(s,a,d),d};Object.defineProperty(vd,"__esModule",{value:!0}),vd.ATNDeserializationOptions=void 0;const t=Ue();let n=class zp{constructor(s){this.readOnly=!1,s?(this.verifyATN=s.verifyATN,this.generateRuleBypassTransitions=s.generateRuleBypassTransitions,this.optimize=s.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return zp._defaultOptions==null&&(zp._defaultOptions=new zp,zp._defaultOptions.makeReadOnly()),zp._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(s){this.throwIfReadOnly(),this.verifyATN=s}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(s){this.throwIfReadOnly(),this.generateRuleBypassTransitions=s}get isOptimize(){return this.optimize}set isOptimize(s){this.throwIfReadOnly(),this.optimize=s}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};return e([t.NotNull],n,"defaultOptions",null),vd.ATNDeserializationOptions=n,vd}var jl={},zl={},DI;function KF(){if(DI)return zl;DI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zl&&zl.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=zl&&zl.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(zl,"__esModule",{value:!0}),zl.ActionTransition=void 0;const n=Ue(),r=nf();let s=class extends r.Transition{constructor(l,f,d=-1,g=!1){super(l),this.ruleIndex=f,this.actionIndex=d,this.isCtxDependent=g}get serializationType(){return 6}get isEpsilon(){return!0}matches(l,f,d){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"isEpsilon",null),e([n.Override],s.prototype,"matches",null),e([n.Override],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),zl.ActionTransition=s,zl}var Vl={},PI;function XF(){if(PI)return Vl;PI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vl&&Vl.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},t=Vl&&Vl.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.AtomTransition=void 0;const n=yh(),r=Ue(),s=nf();let a=class extends s.Transition{constructor(f,d){super(f),this._label=d}get serializationType(){return 5}get label(){return n.IntervalSet.of(this._label)}matches(f,d,g){return this._label===f}toString(){return String(this.label)}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override,r.NotNull],a.prototype,"label",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),Vl.AtomTransition=a,Vl}var yd={},U0={},MI;function nE(){if(MI)return U0;MI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(U0,"__esModule",{value:!0}),U0.BlockStartState=void 0;const e=mh();let t=class extends e.DecisionState{};return U0.BlockStartState=t,U0}var LI;function wY(){if(LI)return yd;LI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yd&&yd.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(yd,"__esModule",{value:!0}),yd.BasicBlockStartState=void 0;const t=Kr(),n=nE(),r=Ue();let s=class extends n.BlockStartState{get stateType(){return t.ATNStateType.BLOCK_START}};return e([r.Override],s.prototype,"stateType",null),yd.BasicBlockStartState=s,yd}var xd={},FI;function RY(){if(FI)return xd;FI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xd&&xd.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(xd,"__esModule",{value:!0}),xd.BlockEndState=void 0;const t=Iu(),n=Kr(),r=Ue();let s=class extends t.ATNState{get stateType(){return n.ATNStateType.BLOCK_END}};return e([r.Override],s.prototype,"stateType",null),xd.BlockEndState=s,xd}var Ul={},kI;function TY(){if(kI)return Ul;kI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ul&&Ul.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=Ul&&Ul.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.EpsilonTransition=void 0;const n=Ue(),r=nf();let s=class extends r.Transition{constructor(l,f=-1){super(l),this._outermostPrecedenceReturn=f}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(l,f,d){return!1}toString(){return"epsilon"}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"isEpsilon",null),e([n.Override],s.prototype,"matches",null),e([n.Override,n.NotNull],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),Ul.EpsilonTransition=s,Ul}var Gl={},BI;function NY(){if(BI)return Gl;BI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gl&&Gl.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=Gl&&Gl.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.LexerChannelAction=void 0;const n=pr(),r=Ue();let s=class ZF{constructor(l){this._channel=l}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(l){l.channel=this._channel}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._channel),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof ZF?this._channel===l._channel:!1}toString(){return`channel(${this._channel})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Gl.LexerChannelAction=s,Gl}var $l={},jI;function _Y(){if(jI)return $l;jI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$l&&$l.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=$l&&$l.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty($l,"__esModule",{value:!0}),$l.LexerCustomAction=void 0;const n=pr(),r=Ue();let s=class JF{constructor(l,f){this._ruleIndex=l,this._actionIndex=f}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(l){l.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._ruleIndex),l=n.MurmurHash.update(l,this._actionIndex),n.MurmurHash.finish(l,3)}equals(l){return l===this?!0:l instanceof JF?this._ruleIndex===l._ruleIndex&&this._actionIndex===l._actionIndex:!1}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),$l.LexerCustomAction=s,$l}var Hl={},zI;function IY(){if(zI)return Hl;zI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hl&&Hl.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=Hl&&Hl.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.LexerModeAction=void 0;const n=pr(),r=Ue();let s=class QF{constructor(l){this._mode=l}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(l){l.mode(this._mode)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._mode),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof QF?this._mode===l._mode:!1}toString(){return`mode(${this._mode})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Hl.LexerModeAction=s,Hl}var bd={},VI;function OY(){return VI||(VI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=bd&&bd.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},n=bd&&bd.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerMoreAction=void 0;const r=pr(),s=Ue();let a=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(f){f.more()}hashCode(){let f=r.MurmurHash.initialize();return f=r.MurmurHash.update(f,this.actionType),r.MurmurHash.finish(f,1)}equals(f){return f===this}toString(){return"more"}};t([s.Override],a.prototype,"actionType",null),t([s.Override],a.prototype,"isPositionDependent",null),t([s.Override,n(0,s.NotNull)],a.prototype,"execute",null),t([s.Override],a.prototype,"hashCode",null),t([s.Override],a.prototype,"equals",null),t([s.Override],a.prototype,"toString",null),e.LexerMoreAction=a,function(l){l.INSTANCE=new l}(a=e.LexerMoreAction||(e.LexerMoreAction={}))}(bd)),bd}var Sd={},UI;function DY(){return UI||(UI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Sd&&Sd.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},n=Sd&&Sd.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerPopModeAction=void 0;const r=pr(),s=Ue();let a=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(f){f.popMode()}hashCode(){let f=r.MurmurHash.initialize();return f=r.MurmurHash.update(f,this.actionType),r.MurmurHash.finish(f,1)}equals(f){return f===this}toString(){return"popMode"}};t([s.Override],a.prototype,"actionType",null),t([s.Override],a.prototype,"isPositionDependent",null),t([s.Override,n(0,s.NotNull)],a.prototype,"execute",null),t([s.Override],a.prototype,"hashCode",null),t([s.Override],a.prototype,"equals",null),t([s.Override],a.prototype,"toString",null),e.LexerPopModeAction=a,function(l){l.INSTANCE=new l}(a=e.LexerPopModeAction||(e.LexerPopModeAction={}))}(Sd)),Sd}var Yl={},GI;function PY(){if(GI)return Yl;GI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yl&&Yl.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=Yl&&Yl.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.LexerPushModeAction=void 0;const n=pr(),r=Ue();let s=class ek{constructor(l){this._mode=l}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(l){l.pushMode(this._mode)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._mode),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof ek?this._mode===l._mode:!1}toString(){return`pushMode(${this._mode})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Yl.LexerPushModeAction=s,Yl}var Ed={},$I;function MY(){return $I||($I=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Ed&&Ed.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},n=Ed&&Ed.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerSkipAction=void 0;const r=pr(),s=Ue();let a=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(f){f.skip()}hashCode(){let f=r.MurmurHash.initialize();return f=r.MurmurHash.update(f,this.actionType),r.MurmurHash.finish(f,1)}equals(f){return f===this}toString(){return"skip"}};t([s.Override],a.prototype,"actionType",null),t([s.Override],a.prototype,"isPositionDependent",null),t([s.Override,n(0,s.NotNull)],a.prototype,"execute",null),t([s.Override],a.prototype,"hashCode",null),t([s.Override],a.prototype,"equals",null),t([s.Override],a.prototype,"toString",null),e.LexerSkipAction=a,function(l){l.INSTANCE=new l}(a=e.LexerSkipAction||(e.LexerSkipAction={}))}(Ed)),Ed}var Wl={},HI;function LY(){if(HI)return Wl;HI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wl&&Wl.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=Wl&&Wl.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.LexerTypeAction=void 0;const n=pr(),r=Ue();let s=class tk{constructor(l){this._type=l}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(l){l.type=this._type}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._type),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof tk?this._type===l._type:!1}toString(){return`type(${this._type})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Wl.LexerTypeAction=s,Wl}var Ad={},YI;function nk(){if(YI)return Ad;YI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ad&&Ad.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.LoopEndState=void 0;const t=Iu(),n=Kr(),r=Ue();let s=class extends t.ATNState{get stateType(){return n.ATNStateType.LOOP_END}};return e([r.Override],s.prototype,"stateType",null),Ad.LoopEndState=s,Ad}var ql={},Cd={},WI;function FY(){if(WI)return Cd;WI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cd&&Cd.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.ConflictInfo=void 0;const t=Ue(),n=Ou();let r=class rk{constructor(a,l){this._conflictedAlts=a,this.exact=l}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(a){return a===this?!0:a instanceof rk?this.isExact===a.isExact&&n.equals(this.conflictedAlts,a.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};return e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),Cd.ConflictInfo=r,Cd}var wd={},Rd={},Td={},qI;function Ig(){if(qI)return Td;qI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Td&&Td.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(Td,"__esModule",{value:!0}),Td.TerminalNode=void 0;const t=Xi(),n=Ue(),r=$n();let s=class{constructor(l){this._symbol=l}getChild(l){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(l){this._parent=l}get payload(){return this._symbol}get sourceInterval(){let l=this._symbol.tokenIndex;return new t.Interval(l,l)}get childCount(){return 0}accept(l){return l.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(l){return this.toString()}toString(){return this._symbol.type===r.Token.EOF?"<EOF>":this._symbol.text||""}};return e([n.Override],s.prototype,"getChild",null),e([n.Override],s.prototype,"parent",null),e([n.Override],s.prototype,"setParent",null),e([n.Override],s.prototype,"payload",null),e([n.Override],s.prototype,"sourceInterval",null),e([n.Override],s.prototype,"childCount",null),e([n.Override],s.prototype,"accept",null),e([n.Override],s.prototype,"text",null),e([n.Override],s.prototype,"toStringTree",null),e([n.Override],s.prototype,"toString",null),Td.TerminalNode=s,Td}var KI;function sR(){if(KI)return Rd;KI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Rd&&Rd.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.ErrorNode=void 0;const t=Ue(),n=Ig();let r=class extends n.TerminalNode{constructor(a){super(a)}accept(a){return a.visitErrorNode(this)}};return e([t.Override],r.prototype,"accept",null),Rd.ErrorNode=r,Rd}var Nd={},G0={},XI;function aR(){if(XI)return G0;XI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(G0,"__esModule",{value:!0}),G0.RuleNode=void 0;let e=class{};return G0.RuleNode=e,G0}var Kl={},ZI;function xh(){if(ZI)return Kl;ZI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kl&&Kl.__decorate||function(b,A,C,w){var R=arguments.length,N=R<3?A:w===null?w=Object.getOwnPropertyDescriptor(A,C):w,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,A,C,w);else for(var D=b.length-1;D>=0;D--)(I=b[D])&&(N=(R<3?I(N):R>3?I(A,C,N):I(A,C))||N);return R>3&&N&&Object.defineProperty(A,C,N),N},t=Kl&&Kl.__param||function(b,A){return function(C,w){A(C,w,b)}};Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.Trees=void 0;const n=Va(),r=qv(),s=sR(),a=Ue(),l=ey(),f=Fs(),d=aR(),g=Ig(),p=$n(),m=Ou();let x=class Ic{static toStringTree(A,C){let w;C instanceof l.Parser?w=C.ruleNames:w=C;let R=m.escapeWhitespace(this.getNodeText(A,w),!1);if(A.childCount===0)return R;let N="";N+="(",R=m.escapeWhitespace(this.getNodeText(A,w),!1),N+=R,N+=" ";for(let I=0;I<A.childCount;I++)I>0&&(N+=" "),N+=this.toStringTree(A.getChild(I),w);return N+=")",N}static getNodeText(A,C){let w;if(C instanceof l.Parser)w=C.ruleNames;else if(C)w=C;else{let R=A.payload;return typeof R.text=="string"?R.text:A.payload.toString()}if(A instanceof d.RuleNode){let R=A.ruleContext,N=R.ruleIndex,I=w[N],D=R.altNumber;return D!==n.ATN.INVALID_ALT_NUMBER?I+":"+D:I}else{if(A instanceof s.ErrorNode)return A.toString();if(A instanceof g.TerminalNode)return A.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(A){let C=[];for(let w=0;w<A.childCount;w++)C.push(A.getChild(w));return C}static getAncestors(A){let C=[],w=A.parent;for(;w;)C.unshift(w),w=w.parent;return C}static isAncestorOf(A,C){if(!A||!C||!A.parent)return!1;let w=C.parent;for(;w;){if(A===w)return!0;w=w.parent}return!1}static findAllTokenNodes(A,C){return Ic.findAllNodes(A,C,!0)}static findAllRuleNodes(A,C){return Ic.findAllNodes(A,C,!1)}static findAllNodes(A,C,w){let R=[];return Ic._findAllNodes(A,C,w,R),R}static _findAllNodes(A,C,w,R){w&&A instanceof g.TerminalNode?A.symbol.type===C&&R.push(A):!w&&A instanceof f.ParserRuleContext&&A.ruleIndex===C&&R.push(A);for(let N=0;N<A.childCount;N++)Ic._findAllNodes(A.getChild(N),C,w,R)}static getDescendants(A){let C=[];function w(R){C.push(R);const N=R.childCount;for(let I=0;I<N;I++)w(R.getChild(I))}return w(A),C}static getRootOfSubtreeEnclosingRegion(A,C,w){let R=A.childCount;for(let N=0;N<R;N++){let I=A.getChild(N),D=Ic.getRootOfSubtreeEnclosingRegion(I,C,w);if(D)return D}if(A instanceof f.ParserRuleContext){let N=A.stop;if(C>=A.start.tokenIndex&&(N==null||w<=N.tokenIndex))return A}}static stripChildrenOutOfRange(A,C,w,R){if(!A)return;let N=A.childCount;for(let I=0;I<N;I++){let D=A.getChild(I),F=D.sourceInterval;if(D instanceof f.ParserRuleContext&&(F.b<w||F.a>R)&&Ic.isAncestorOf(D,C)){let k=new r.CommonToken(p.Token.INVALID_TYPE,"...");A.children[I]=new g.TerminalNode(k)}}}static findNodeSuchThat(A,C){if(C(A))return A;let w=A.childCount;for(let R=0;R<w;R++){let N=Ic.findNodeSuchThat(A.getChild(R),C);if(N!==void 0)return N}}};return e([t(0,a.NotNull)],x,"toStringTree",null),e([a.NotNull,t(0,a.NotNull)],x,"getAncestors",null),e([t(0,a.NotNull)],x,"getRootOfSubtreeEnclosingRegion",null),Kl.Trees=x,Kl}var JI;function ok(){if(JI)return Nd;JI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nd&&Nd.__decorate||function(g,p,m,x){var b=arguments.length,A=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(A=(b<3?C(A):b>3?C(p,m,A):C(p,m))||A);return b>3&&A&&Object.defineProperty(p,m,A),A};Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.RuleContext=void 0;const t=Va(),n=Xv(),r=aR(),s=Xi(),a=Ue(),l=xh(),f=Fs();let d=class ik extends r.RuleNode{constructor(p,m){super(),this._parent=p,this.invokingState=m??-1}static getChildContext(p,m){return new ik(p,m)}depth(){let p=0,m=this;for(;m;)m=m._parent,p++;return p}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return s.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(p){this._parent=p}get payload(){return this}get text(){if(this.childCount===0)return"";let p="";for(let m=0;m<this.childCount;m++)p+=this.getChild(m).text;return p.toString()}get ruleIndex(){return-1}get altNumber(){return t.ATN.INVALID_ALT_NUMBER}set altNumber(p){}getChild(p){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(p){return p.visitChildren(this)}toStringTree(p){return l.Trees.toStringTree(this,p)}toString(p,m){const x=p instanceof n.Recognizer?p.ruleNames:p;m=m||f.ParserRuleContext.emptyContext();let b="",A=this;for(b+="[";A&&A!==m;){if(!x)A.isEmpty||(b+=A.invokingState);else{let C=A.ruleIndex,w=C>=0&&C<x.length?x[C]:C.toString();b+=w}A._parent&&(x||!A._parent.isEmpty)&&(b+=" "),A=A._parent}return b+="]",b.toString()}};return e([a.Override],d.prototype,"sourceInterval",null),e([a.Override],d.prototype,"ruleContext",null),e([a.Override],d.prototype,"parent",null),e([a.Override],d.prototype,"setParent",null),e([a.Override],d.prototype,"payload",null),e([a.Override],d.prototype,"text",null),e([a.Override],d.prototype,"getChild",null),e([a.Override],d.prototype,"childCount",null),e([a.Override],d.prototype,"accept",null),e([a.Override],d.prototype,"toStringTree",null),Nd.RuleContext=d,Nd}var QI;function Fs(){if(QI)return wd;QI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=wd&&wd.__decorate||function(f,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(f,d,g,p);else for(var A=f.length-1;A>=0;A--)(b=f[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x};Object.defineProperty(wd,"__esModule",{value:!0}),wd.ParserRuleContext=void 0;const t=sR(),n=Xi(),r=Ue(),s=ok(),a=Ig();let l=class Tw extends s.RuleContext{constructor(d,g){g==null?super():super(d,g)}static emptyContext(){return Tw.EMPTY}copyFrom(d){if(this._parent=d._parent,this.invokingState=d.invokingState,this._start=d._start,this._stop=d._stop,d.children){this.children=[];for(let g of d.children)g instanceof t.ErrorNode&&this.addChild(g)}}enterRule(d){}exitRule(d){}addAnyChild(d){return this.children?this.children.push(d):this.children=[d],d}addChild(d){if(d instanceof a.TerminalNode){d.setParent(this),this.addAnyChild(d);return}else if(d instanceof s.RuleContext){this.addAnyChild(d);return}else return d=new a.TerminalNode(d),this.addAnyChild(d),d.setParent(this),d}addErrorNode(d){if(d instanceof t.ErrorNode){const g=d;return g.setParent(this),this.addAnyChild(g)}else{const g=d;let p=new t.ErrorNode(g);return this.addAnyChild(p),p.setParent(this),p}}removeLastChild(){this.children&&this.children.pop()}get parent(){let d=super.parent;if(d===void 0||d instanceof Tw)return d;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(d,g){if(!this.children||d<0||d>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(g==null)return this.children[d];let p=this.tryGetChild(d,g);if(p===void 0)throw new Error("The specified node does not exist");return p}tryGetChild(d,g){if(!this.children||d<0||d>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof g&&(p++,p===d))return m}getToken(d,g){let p=this.tryGetToken(d,g);if(p===void 0)throw new Error("The specified token does not exist");return p}tryGetToken(d,g){if(!this.children||g<0||g>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof a.TerminalNode&&m.symbol.type===d&&(p++,p===g))return m}getTokens(d){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof a.TerminalNode&&p.symbol.type===d&&g.push(p);return g}get ruleContext(){return this}getRuleContext(d,g){return this.getChild(d,g)}tryGetRuleContext(d,g){return this.tryGetChild(d,g)}getRuleContexts(d){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof d&&g.push(p);return g}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?n.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):n.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):n.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(d){return"ParserRuleContext"+d.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}};return l.EMPTY=new l,e([r.Override],l.prototype,"parent",null),e([r.Override],l.prototype,"childCount",null),e([r.Override],l.prototype,"sourceInterval",null),wd.ParserRuleContext=l,wd}var $0={},eO;function kY(){return eO||(eO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=$0&&$0.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionMode=void 0;const n=_g(),r=pr(),s=Ue(),a=Zv();(function(l){l[l.SLL=0]="SLL",l[l.LL=1]="LL",l[l.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(e.PredictionMode||(e.PredictionMode={})),function(l){class f extends n.Array2DHashMap{constructor(){super(d.INSTANCE)}}class d{AltAndContextConfigEqualityComparator(){}hashCode(x){let b=r.MurmurHash.initialize(7);return b=r.MurmurHash.update(b,x.state.stateNumber),b=r.MurmurHash.update(b,x.context),b=r.MurmurHash.finish(b,2),b}equals(x,b){return x===b?!0:x==null||b==null?!1:x.state.stateNumber===b.state.stateNumber&&x.context.equals(b.context)}}d.INSTANCE=new d,t([s.Override],d.prototype,"hashCode",null),t([s.Override],d.prototype,"equals",null);function g(m){for(let x of m)if(x.state instanceof a.RuleStopState)return!0;return!1}l.hasConfigInRuleStopState=g;function p(m){for(let x of m)if(!(x.state instanceof a.RuleStopState))return!1;return!0}l.allConfigsInRuleStopStates=p}(e.PredictionMode||(e.PredictionMode={}))}($0)),$0}var Xl={},tO;function sk(){if(tO)return Xl;tO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xl&&Xl.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=Xl&&Xl.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.SimulatorState=void 0;const n=Ue(),r=Fs();let s=class{constructor(l,f,d,g){this.outerContext=l??r.ParserRuleContext.emptyContext(),this.s0=f,this.useContext=d,this.remainingOuterContext=g}};return s=e([t(1,n.NotNull)],s),Xl.SimulatorState=s,Xl}var nO;function Jv(){if(nO)return ql;nO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ql&&ql.__decorate||function(he,j,z,G){var Y=arguments.length,J=Y<3?j:G===null?G=Object.getOwnPropertyDescriptor(j,z):G,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(he,j,z,G);else for(var Z=he.length-1;Z>=0;Z--)(X=he[Z])&&(J=(Y<3?X(J):Y>3?X(j,z,J):X(j,z))||J);return Y>3&&J&&Object.defineProperty(j,z,J),J},t=ql&&ql.__param||function(he,j){return function(z,G){j(z,G,he)}};Object.defineProperty(ql,"__esModule",{value:!0}),ql.ParserATNSimulator=void 0;const n=kF(),r=KF(),s=rf(),a=Z2(),l=Va(),f=ZS(),d=Kv(),g=QS(),p=Kr(),m=XF(),x=of(),b=FY(),A=mh(),C=JS(),w=J2(),R=Xi(),N=ef(),I=Ue(),D=iR(),F=rE(),k=za(),V=Fs(),B=Ls(),H=eR(),te=kY(),re=Zv(),se=oR(),Ee=Ng(),ke=rR(),Me=sk(),ie=$n(),we=vh(),de=Ni(),ue=65535,K=-2147483648;let ne=class zt extends g.ATNSimulator{constructor(j,z){super(j),this.predictionMode=te.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=z}getPredictionMode(){return this.predictionMode}setPredictionMode(j){this.predictionMode=j}reset(){}adaptivePredict(j,z,G,Y){Y===void 0&&(Y=!1);let J=this.atn.decisionToDFA[z];if(de(J!=null),this.optimize_ll1&&!J.isPrecedenceDfa&&!J.isEmpty){let ye=j.LA(1);if(ye>=0&&ye<=65535){let xe=(z<<16>>>0)+ye,ae=this.atn.LL1Table.get(xe);if(ae!=null)return ae}}this.dfa=J,this.force_global_context?Y=!0:this.always_try_local_context||(Y=Y||J.isContextSensitive),this.userWantsCtxSensitive=Y||this.predictionMode!==te.PredictionMode.SLL&&G!=null&&!this.atn.decisionToState[z].sll,G==null&&(G=V.ParserRuleContext.emptyContext());let X;J.isEmpty||(X=this.getStartState(J,j,G,Y)),X==null&&(G==null&&(G=V.ParserRuleContext.emptyContext()),zt.debug&&console.log("ATN decision "+J.decision+" exec LA(1)=="+this.getLookaheadName(j)+", outerContext="+G.toString(this._parser)),X=this.computeStartState(J,G,Y));let Z=j.mark(),oe=j.index;try{let ye=this.execDFA(J,j,oe,X);return zt.debug&&console.log("DFA after predictATN: "+J.toString(this._parser.vocabulary,this._parser.ruleNames)),ye}finally{this.dfa=void 0,j.seek(oe),j.release(Z)}}getStartState(j,z,G,Y){if(!Y)if(j.isPrecedenceDfa){let Z=j.getPrecedenceStartState(this._parser.precedence,!1);return Z==null?void 0:new Me.SimulatorState(G,Z,!1,G)}else return j.s0==null?void 0:new Me.SimulatorState(G,j.s0,!1,G);if(!this.enable_global_context_dfa)return;let J=G;de(G!=null);let X;for(j.isPrecedenceDfa?X=j.getPrecedenceStartState(this._parser.precedence,!0):X=j.s0full;J!=null&&X!=null&&X.isContextSensitive;)J=this.skipTailCalls(J),X=X.getContextTarget(this.getReturnState(J)),J.isEmpty?de(X==null||!X.isContextSensitive):J=J.parent;if(X!=null)return new Me.SimulatorState(G,X,Y,J)}execDFA(j,z,G,Y){let J=Y.outerContext;zt.dfa_debug&&console.log("DFA decision "+j.decision+" exec LA(1)=="+this.getLookaheadName(z)+", outerContext="+J.toString(this._parser)),zt.dfa_debug&&console.log(j.toString(this._parser.vocabulary,this._parser.ruleNames));let X=Y.s0,Z=z.LA(1),oe=Y.remainingOuterContext;for(;;){if(zt.dfa_debug&&console.log("DFA state "+X.stateNumber+" LA(1)=="+this.getLookaheadName(z)),Y.useContext)for(;X.isContextSymbol(Z);){let ae;if(oe!=null&&(oe=this.skipTailCalls(oe),ae=X.getContextTarget(this.getReturnState(oe))),ae==null){let le=new Me.SimulatorState(Y.outerContext,X,Y.useContext,oe);return this.execATN(j,z,G,le)}de(oe!=null),oe=oe.parent,X=ae}if(this.isAcceptState(X,Y.useContext)){X.predicates!=null?zt.dfa_debug&&console.log("accept "+X):zt.dfa_debug&&console.log("accept; predict "+X.prediction+" in state "+X.stateNumber);break}de(!this.isAcceptState(X,Y.useContext));let xe=this.getExistingTargetState(X,Z);if(xe==null){zt.dfa_debug&&Z>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(Z));let ae;if(zt.dfa_debug){let Ae=R.Interval.of(G,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(Ae)+" at DFA state "+X.stateNumber)}let le=new Me.SimulatorState(J,X,Y.useContext,oe);return ae=this.execATN(j,z,G,le),zt.dfa_debug&&console.log("back from DFA update, alt="+ae+`, dfa=
`+j.toString(this._parser.vocabulary,this._parser.ruleNames)),zt.dfa_debug&&console.log("DFA decision "+j.decision+" predicts "+ae),ae}else if(xe===g.ATNSimulator.ERROR){let ae=new Me.SimulatorState(J,X,Y.useContext,oe);return this.handleNoViableAlt(z,G,ae)}X=xe,!this.isAcceptState(X,Y.useContext)&&Z!==N.IntStream.EOF&&(z.consume(),Z=z.LA(1))}if(!Y.useContext&&X.configs.conflictInfo!=null&&j.atnStartState instanceof A.DecisionState&&!(!this.userWantsCtxSensitive||!X.configs.dipsIntoOuterContext&&X.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&z.index===G)){de(!Y.useContext);let xe,ae=X.predicates;if(ae!=null){let le=z.index;if(le!==G&&z.seek(G),xe=this.evalSemanticContext(ae,J,!0),xe.cardinality()===1)return xe.nextSetBit(0);le!==G&&z.seek(le)}if(this.reportAmbiguities){let le=new Me.SimulatorState(J,X,Y.useContext,oe);this.reportAttemptingFullContext(j,xe,le,G,z.index)}return z.seek(G),this.adaptivePredict(z,j.decision,J,!0)}let ye=X.predicates;if(ye!=null){let xe=z.index;G!==xe&&z.seek(G);let ae=this.evalSemanticContext(ye,J,this.reportAmbiguities&&this.predictionMode===te.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(ae.cardinality()){case 0:throw this.noViableAlt(z,J,X.configs,G);case 1:return ae.nextSetBit(0);default:return G!==xe&&z.seek(xe),this.reportAmbiguity(j,X,G,xe,X.configs.isExactConflict,ae,X.configs),ae.nextSetBit(0)}}return zt.dfa_debug&&console.log("DFA decision "+j.decision+" predicts "+X.prediction),X.prediction}isAcceptState(j,z){return j.isAcceptState?j.configs.conflictingAlts==null?!0:z&&this.predictionMode===te.PredictionMode.LL_EXACT_AMBIG_DETECTION?j.configs.isExactConflict:!0:!1}execATN(j,z,G,Y){zt.debug&&console.log("execATN decision "+j.decision+" exec LA(1)=="+this.getLookaheadName(z));let J=Y.outerContext,X=Y.useContext,Z=z.LA(1),oe=Y,ye=new H.PredictionContextCache;for(;;){let xe=this.computeReachSet(j,oe,Z,ye);if(xe==null)return this.setDFAEdge(oe.s0,z.LA(1),g.ATNSimulator.ERROR),this.handleNoViableAlt(z,G,oe);let ae=xe.s0;if(de(ae.isAcceptState||ae.prediction===l.ATN.INVALID_ALT_NUMBER),de(ae.isAcceptState||ae.configs.conflictInfo==null),this.isAcceptState(ae,X)){let le=ae.configs.conflictingAlts,Ae=le==null?ae.prediction:l.ATN.INVALID_ALT_NUMBER;if(Ae!==l.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&z.index===G&&!j.isPrecedenceDfa&&xe.outerContext===xe.remainingOuterContext&&j.decision>=0&&!ae.configs.hasSemanticContext&&Z>=0&&Z<=ue){let je=(j.decision<<16>>>0)+Z;this.atn.LL1Table.set(je,Ae)}X&&this.always_try_local_context&&this.reportContextSensitivity(j,Ae,xe,G,z.index)}Ae=ae.prediction;let Ie=le!=null&&this.userWantsCtxSensitive;if(Ie&&(Ie=!X&&(ae.configs.dipsIntoOuterContext||!ae.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||z.index!==G)),ae.configs.hasSemanticContext){let je=ae.predicates;if(je!=null){let Ve=z.index;switch(Ve!==G&&z.seek(G),le=this.evalSemanticContext(je,J,Ie||this.reportAmbiguities),le.cardinality()){case 0:throw this.noViableAlt(z,J,ae.configs,G);case 1:return le.nextSetBit(0)}Ve!==G&&z.seek(Ve)}}if(Ie){de(!X),de(this.isAcceptState(ae,!1)),zt.debug&&console.log("RETRY with outerContext="+J);let je=this.computeStartState(j,J,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(j,le,xe,G,z.index),z.seek(G),this.execATN(j,z,G,je)}else return le!=null&&(this.reportAmbiguities&&le.cardinality()>1&&this.reportAmbiguity(j,ae,G,z.index,ae.configs.isExactConflict,le,ae.configs),Ae=le.nextSetBit(0)),Ae}oe=xe,Z!==N.IntStream.EOF&&(z.consume(),Z=z.LA(1))}}handleNoViableAlt(j,z,G){if(G.s0!=null){let Y=new x.BitSet,J=0;for(let X of G.s0.configs)(X.reachesIntoOuterContext||X.state instanceof re.RuleStopState)&&(Y.set(X.alt),J=Math.max(J,X.alt));switch(Y.cardinality()){case 0:break;case 1:return Y.nextSetBit(0);default:if(!G.s0.configs.hasSemanticContext)return Y.nextSetBit(0);let X=new d.ATNConfigSet;for(let oe of G.s0.configs)(oe.reachesIntoOuterContext||oe.state instanceof re.RuleStopState)&&X.add(oe);let Z=this.getPredsForAmbigAlts(Y,X,J);if(Z!=null){let oe=this.getPredicatePredictions(Y,Z);if(oe!=null){let ye=j.index;try{j.seek(z);let xe=this.evalSemanticContext(oe,G.outerContext,!1);if(!xe.isEmpty)return xe.nextSetBit(0)}finally{j.seek(ye)}}}return Y.nextSetBit(0)}}throw this.noViableAlt(j,G.outerContext,G.s0.configs,z)}computeReachSet(j,z,G,Y){let J=z.useContext,X=z.remainingOuterContext,Z=z.s0;if(J)for(;Z.isContextSymbol(G);){let xe;if(X!=null&&(X=this.skipTailCalls(X),xe=Z.getContextTarget(this.getReturnState(X))),xe==null)break;de(X!=null),X=X.parent,Z=xe}if(de(!this.isAcceptState(Z,J)),this.isAcceptState(Z,J))return new Me.SimulatorState(z.outerContext,Z,J,X);let oe=Z,ye=this.getExistingTargetState(oe,G);if(ye==null){let xe=this.computeTargetState(j,oe,X,G,J,Y);ye=xe[0],X=xe[1]}if(ye!==g.ATNSimulator.ERROR)return de(!J||!ye.configs.dipsIntoOuterContext),new Me.SimulatorState(z.outerContext,ye,J,X)}getExistingTargetState(j,z){return j.getTarget(z)}computeTargetState(j,z,G,Y,J,X){let Z=z.configs.toArray(),oe,ye=new d.ATNConfigSet,xe;do{let le=!J||G!=null;le||(ye.isOutermostConfigSet=!0);let Ae=new d.ATNConfigSet,Ie;for(let me of Z){if(zt.debug&&console.log("testing "+this.getTokenName(Y)+" at "+me.toString()),me.state instanceof re.RuleStopState){de(me.context.isEmpty),(J&&!me.reachesIntoOuterContext||Y===N.IntStream.EOF)&&(Ie==null&&(Ie=[]),Ie.push(me));continue}let De=me.state.numberOfOptimizedTransitions;for(let Ze=0;Ze<De;Ze++){let ht=me.state.getOptimizedTransition(Ze),pt=this.getReachableTarget(me,ht,Y);pt!=null&&Ae.add(me.transform(pt,!1),X)}}if(this.optimize_unique_closure&&Ie==null&&Y!==ie.Token.EOF&&Ae.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER){Ae.isOutermostConfigSet=ye.isOutermostConfigSet,ye=Ae;break}let je=!1,Ve=Y===ie.Token.EOF;if(this.closure(Ae,ye,je,le,X,Ve),xe=ye.dipsIntoOuterContext,Y===N.IntStream.EOF&&(ye=this.removeAllConfigsNotInRuleStopState(ye,X)),Ie!=null&&(!J||!te.PredictionMode.hasConfigInRuleStopState(ye))){de(Ie.length>0);for(let me of Ie)ye.add(me,X)}if(J&&xe){ye.clear(),G=G,G=this.skipTailCalls(G);let me=this.getReturnState(G);if(oe==null&&(oe=new w.IntegerList),G.isEmpty?G=void 0:G=G.parent,oe.add(me),me!==B.PredictionContext.EMPTY_FULL_STATE_KEY)for(let De=0;De<Z.length;De++)Z[De]=Z[De].appendContext(me,X)}}while(J&&xe);return ye.isEmpty?(this.setDFAEdge(z,Y,g.ATNSimulator.ERROR),[g.ATNSimulator.ERROR,G]):[this.addDFAEdge(j,z,Y,oe,ye,X),G]}removeAllConfigsNotInRuleStopState(j,z){if(te.PredictionMode.allConfigsInRuleStopStates(j))return j;let G=new d.ATNConfigSet;for(let Y of j)Y.state instanceof re.RuleStopState&&G.add(Y,z);return G}computeStartState(j,z,G){let Y=j.isPrecedenceDfa?j.getPrecedenceStartState(this._parser.precedence,G):G?j.s0full:j.s0;if(Y!=null){if(!G)return new Me.SimulatorState(z,Y,G,z);Y.setContextSensitive(this.atn)}j.decision;let J=j.atnStartState,X=0,Z=z,oe=G?B.PredictionContext.EMPTY_FULL:B.PredictionContext.EMPTY_LOCAL,ye=new H.PredictionContextCache;if(G){if(!this.enable_global_context_dfa)for(;Z!=null;)Z.isEmpty?(X=B.PredictionContext.EMPTY_FULL_STATE_KEY,Z=void 0):(X=this.getReturnState(Z),oe=oe.appendSingleContext(X,ye),Z=Z.parent);for(;Y!=null&&Y.isContextSensitive&&Z!=null;){let ae;if(Z=this.skipTailCalls(Z),Z.isEmpty?(ae=Y.getContextTarget(B.PredictionContext.EMPTY_FULL_STATE_KEY),X=B.PredictionContext.EMPTY_FULL_STATE_KEY,Z=void 0):(X=this.getReturnState(Z),ae=Y.getContextTarget(X),oe=oe.appendSingleContext(X,ye),Z=Z.parent),ae==null)break;Y=ae}}if(Y!=null&&!Y.isContextSensitive)return new Me.SimulatorState(z,Y,G,Z);let xe=new d.ATNConfigSet;for(;;){let ae=new d.ATNConfigSet,le=J.numberOfTransitions;for(let De=0;De<le;De++){let Ze=J.transition(De).target;ae.add(f.ATNConfig.create(Ze,De+1,oe))}let Ae=Z!=null;Ae||(xe.isOutermostConfigSet=!0),this.closure(ae,xe,!0,Ae,ye,!1);let je=xe.dipsIntoOuterContext,Ve;if(G&&!this.enable_global_context_dfa){Y=this.addDFAState(j,xe,ye);break}else Y==null?j.isPrecedenceDfa?(xe=this.applyPrecedenceFilter(xe,z,ye),Ve=this.addDFAState(j,xe,ye),j.setPrecedenceStartState(this._parser.precedence,G,Ve)):(Ve=this.addDFAState(j,xe,ye),G?j.s0full?Ve=j.s0full:j.s0full=Ve:j.s0?Ve=j.s0:j.s0=Ve):(j.isPrecedenceDfa&&(xe=this.applyPrecedenceFilter(xe,z,ye)),Ve=this.addDFAState(j,xe,ye),Y.setContextTarget(X,Ve));if(Y=Ve,!G||!je)break;Ve.setContextSensitive(this.atn),Z=Z,xe.clear(),Z=this.skipTailCalls(Z);let me=this.getReturnState(Z);Z.isEmpty?Z=void 0:Z=Z.parent,me!==B.PredictionContext.EMPTY_FULL_STATE_KEY&&(oe=oe.appendSingleContext(me,ye)),X=me}return new Me.SimulatorState(z,Y,G,Z)}applyPrecedenceFilter(j,z,G){let Y=new Map,J=new d.ATNConfigSet;for(let X of j){if(X.alt!==1)continue;let Z=X.semanticContext.evalPrecedence(this._parser,z);Z!=null&&(Y.set(X.state.stateNumber,X.context),Z!==X.semanticContext?J.add(X.transform(X.state,!1,Z),G):J.add(X,G))}for(let X of j)if(X.alt!==1){if(!X.isPrecedenceFilterSuppressed){let Z=Y.get(X.state.stateNumber);if(Z!=null&&Z.equals(X.context))continue}J.add(X,G)}return J}getReachableTarget(j,z,G){if(z.matches(G,0,this.atn.maxTokenType))return z.target}predicateDFAState(j,z,G){let Y=this.getConflictingAltsFromConfigSet(z);if(!Y)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");zt.debug&&console.log("predicateDFAState "+j);let J=this.getPredsForAmbigAlts(Y,z,G),X;return J!=null&&(X=this.getPredicatePredictions(Y,J),j.predicates=X),X}getPredsForAmbigAlts(j,z,G){let Y=new Array(G+1),J=Y.length;for(let oe of z)j.get(oe.alt)&&(Y[oe.alt]=Ee.SemanticContext.or(Y[oe.alt],oe.semanticContext));let X=0;for(let oe=0;oe<J;oe++)Y[oe]==null?Y[oe]=Ee.SemanticContext.NONE:Y[oe]!==Ee.SemanticContext.NONE&&X++;let Z=Y;return X===0&&(Z=void 0),zt.debug&&console.log("getPredsForAmbigAlts result "+(Z?a.Arrays.toString(Z):"undefined")),Z}getPredicatePredictions(j,z){let G=[],Y=!1;for(let J=1;J<z.length;J++){let X=z[J];de(X!=null),j!=null&&j.get(J)&&X===Ee.SemanticContext.NONE?G.push(new C.DFAState.PredPrediction(X,J)):X!==Ee.SemanticContext.NONE&&(Y=!0,G.push(new C.DFAState.PredPrediction(X,J)))}if(Y)return G}evalSemanticContext(j,z,G){let Y=new x.BitSet;for(let J of j){if(J.pred===Ee.SemanticContext.NONE){if(Y.set(J.alt),!G)break;continue}let X=this.evalSemanticContextImpl(J.pred,z,J.alt);if((zt.debug||zt.dfa_debug)&&console.log("eval pred "+J+"="+X),X&&((zt.debug||zt.dfa_debug)&&console.log("PREDICT "+J.alt),Y.set(J.alt),!G))break}return Y}evalSemanticContextImpl(j,z,G){return j.eval(this._parser,z)}closure(j,z,G,Y,J,X){J==null&&(J=H.PredictionContextCache.UNCACHED);let Z=j,oe=new s.Array2DHashSet(k.ObjectEqualityComparator.INSTANCE);for(;Z.size>0;){let ye=new d.ATNConfigSet;for(let xe of Z)this.closureImpl(xe,z,ye,oe,G,Y,J,0,X);Z=ye}}closureImpl(j,z,G,Y,J,X,Z,oe,ye){if(zt.debug&&console.log("closure("+j.toString(this._parser,!0)+")"),j.state instanceof re.RuleStopState)if(j.context.isEmpty)if(X)zt.debug&&console.log("FALLING off rule "+this.getRuleName(j.state.ruleIndex)),j.context===B.PredictionContext.EMPTY_FULL?j=j.transform(j.state,!1,B.PredictionContext.EMPTY_LOCAL):!j.reachesIntoOuterContext&&B.PredictionContext.isEmptyLocal(j.context)&&z.add(j,Z);else{z.add(j,Z);return}else{let ae=j.context.hasEmpty,le=j.context.size-(ae?1:0);for(let Ae=0;Ae<le;Ae++){let Ie=j.context.getParent(Ae),je=this.atn.states[j.context.getReturnState(Ae)],Ve=f.ATNConfig.create(je,j.alt,Ie,j.semanticContext);Ve.outerContextDepth=j.outerContextDepth,Ve.isPrecedenceFilterSuppressed=j.isPrecedenceFilterSuppressed,de(oe>K),this.closureImpl(Ve,z,G,Y,J,X,Z,oe-1,ye)}if(!ae||!X)return;j=j.transform(j.state,!1,B.PredictionContext.EMPTY_LOCAL)}let xe=j.state;xe.onlyHasEpsilonTransitions||(z.add(j,Z),zt.debug&&console.log("added config "+z));for(let ae=0;ae<xe.numberOfOptimizedTransitions;ae++){if(ae===0&&xe.stateType===p.ATNStateType.STAR_LOOP_ENTRY&&xe.precedenceRuleDecision&&!j.context.hasEmpty){let je=xe,Ve=!0;for(let me=0;me<j.context.size;me++)if(!je.precedenceLoopbackStates.get(j.context.getReturnState(me))){Ve=!1;break}if(Ve)continue}let le=xe.getOptimizedTransition(ae),Ae=!(le instanceof r.ActionTransition)&&J,Ie=this.getEpsilonTarget(j,le,Ae,oe===0,Z,ye);if(Ie!=null){if(le instanceof se.RuleTransition&&G!=null&&!J){G.add(Ie,Z);continue}let je=oe;if(j.state instanceof re.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&le.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(Ie.isPrecedenceFilterSuppressed=!0),Ie.outerContextDepth=Ie.outerContextDepth+1,!Y.add(Ie))continue;de(je>K),je--,zt.debug&&console.log("dips into outer ctx: "+Ie)}else if(le instanceof se.RuleTransition)this.optimize_tail_calls&&le.optimizedTailCall&&(!this.tail_call_preserves_sll||!B.PredictionContext.isEmptyLocal(j.context))?(de(Ie.context===j.context),je===0&&(je--,!this.tail_call_preserves_sll&&B.PredictionContext.isEmptyLocal(j.context)&&(Ie.outerContextDepth=Ie.outerContextDepth+1))):je>=0&&je++;else if(!le.isEpsilon&&!Y.add(Ie))continue;this.closureImpl(Ie,z,G,Y,Ae,X,Z,je,ye)}}}getRuleName(j){return this._parser!=null&&j>=0?this._parser.ruleNames[j]:"<rule "+j+">"}getEpsilonTarget(j,z,G,Y,J,X){switch(z.serializationType){case 3:return this.ruleTransition(j,z,J);case 10:return this.precedenceTransition(j,z,G,Y);case 4:return this.predTransition(j,z,G,Y);case 6:return this.actionTransition(j,z);case 1:return j.transform(z.target,!1);case 5:case 2:case 7:return X&&z.matches(ie.Token.EOF,0,1)?j.transform(z.target,!1):void 0;default:return}}actionTransition(j,z){return zt.debug&&console.log("ACTION edge "+z.ruleIndex+":"+z.actionIndex),j.transform(z.target,!1)}precedenceTransition(j,z,G,Y){zt.debug&&(console.log("PRED (collectPredicates="+G+") "+z.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let J;if(G&&Y){let X=Ee.SemanticContext.and(j.semanticContext,z.predicate);J=j.transform(z.target,!1,X)}else J=j.transform(z.target,!1);return zt.debug&&console.log("config from pred transition="+J),J}predTransition(j,z,G,Y){zt.debug&&(console.log("PRED (collectPredicates="+G+") "+z.ruleIndex+":"+z.predIndex+", ctx dependent="+z.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let J;if(G&&(!z.isCtxDependent||z.isCtxDependent&&Y)){let X=Ee.SemanticContext.and(j.semanticContext,z.predicate);J=j.transform(z.target,!1,X)}else J=j.transform(z.target,!1);return zt.debug&&console.log("config from pred transition="+J),J}ruleTransition(j,z,G){zt.debug&&console.log("CALL rule "+this.getRuleName(z.target.ruleIndex)+", ctx="+j.context);let Y=z.followState,J;return this.optimize_tail_calls&&z.optimizedTailCall&&(!this.tail_call_preserves_sll||!B.PredictionContext.isEmptyLocal(j.context))?J=j.context:G!=null?J=G.getChild(j.context,Y.stateNumber):J=j.context.getChild(Y.stateNumber),j.transform(z.target,!1,J)}isConflicted(j,z){if(j.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER||j.size<=1)return;let G=j.toArray();G.sort(zt.STATE_ALT_SORT_COMPARATOR);let Y=!j.dipsIntoOuterContext,J=new x.BitSet,X=G[0].alt;J.set(X);let Z=G[0].state.nonStopStateNumber;for(let le of G){let Ae=le.state.nonStopStateNumber;if(Ae!==Z){if(le.alt!==X)return;Z=Ae}}let oe;if(Y){Z=G[0].state.nonStopStateNumber,oe=new x.BitSet;let le=X;for(let Ie of G){if(Ie.state.nonStopStateNumber!==Z)break;let je=Ie.alt;oe.set(je),le=je}Z=G[0].state.nonStopStateNumber;let Ae=X;for(let Ie of G){let je=Ie.state.nonStopStateNumber,Ve=Ie.alt;if(je!==Z){if(Ae!==le){Y=!1;break}Z=je,Ae=X}else if(Ve!==Ae){if(Ve!==oe.nextSetBit(Ae+1)){Y=!1;break}Ae=Ve}}}Z=G[0].state.nonStopStateNumber;let ye=0,xe=0,ae=G[0].context;for(let le=1;le<G.length;le++){let Ae=G[le];if(Ae.alt!==X||Ae.state.nonStopStateNumber!==Z)break;xe=le,ae=z.join(ae,G[le].context)}for(let le=xe+1;le<G.length;le++){let Ae=G[le],Ie=Ae.state;if(J.set(Ae.alt),Ie.nonStopStateNumber!==Z){Z=Ie.nonStopStateNumber,ye=le,xe=le,ae=Ae.context;for(let Ze=ye+1;Ze<G.length;Ze++){let ht=G[Ze];if(ht.alt!==X||ht.state.nonStopStateNumber!==Z)break;xe=Ze,ae=z.join(ae,ht.context)}le=xe;continue}let je=Ae.context,Ve=Ae.alt,me=le;for(let Ze=me+1;Ze<G.length;Ze++){let ht=G[Ze];if(ht.alt!==Ve||ht.state.nonStopStateNumber!==Z)break;me=Ze,je=z.join(je,ht.context)}le=me;let De=z.join(ae,je);if(!ae.equals(De))return;Y=Y&&ae.equals(je)}return new b.ConflictInfo(J,Y)}getConflictingAltsFromConfigSet(j){let z=j.conflictingAlts;return z==null&&j.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER&&(z=new x.BitSet,z.set(j.uniqueAlt)),z}getTokenName(j){if(j===ie.Token.EOF)return"EOF";let G=(this._parser!=null?this._parser.vocabulary:we.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(j);return G===String(j)?G:G+"<"+j+">"}getLookaheadName(j){return this.getTokenName(j.LA(1))}dumpDeadEndConfigs(j){console.log("dead end configs: ");let z=j.deadEndConfigs;if(z)for(let G of z){let Y="no edges";if(G.state.numberOfOptimizedTransitions>0){let J=G.state.getOptimizedTransition(0);J instanceof m.AtomTransition?Y="Atom "+this.getTokenName(J._label):J instanceof ke.SetTransition&&(Y=(J instanceof D.NotSetTransition?"~":"")+"Set "+J.set.toString())}console.log(G.toString(this._parser,!0)+":"+Y)}}noViableAlt(j,z,G,Y){return new F.NoViableAltException(this._parser,j,j.get(Y),j.LT(1),G,z)}getUniqueAlt(j){let z=l.ATN.INVALID_ALT_NUMBER;for(let G of j)if(z===l.ATN.INVALID_ALT_NUMBER)z=G.alt;else if(G.alt!==z)return l.ATN.INVALID_ALT_NUMBER;return z}configWithAltAtStopState(j,z){for(let G of j)if(G.alt===z&&G.state instanceof re.RuleStopState)return!0;return!1}addDFAEdge(j,z,G,Y,J,X){de(Y==null||Y.isEmpty||j.isContextSensitive);let Z=z,oe=this.addDFAState(j,J,X);if(Y!=null)for(let ye of Y.toArray()){if(ye===B.PredictionContext.EMPTY_FULL_STATE_KEY&&Z.configs.isOutermostConfigSet)continue;Z.setContextSensitive(this.atn),Z.setContextSymbol(G);let xe=Z.getContextTarget(ye);if(xe!=null){Z=xe;continue}xe=this.addDFAContextState(j,Z.configs,ye,X),de(ye!==B.PredictionContext.EMPTY_FULL_STATE_KEY||xe.configs.isOutermostConfigSet),Z.setContextTarget(ye,xe),Z=xe}return zt.debug&&console.log("EDGE "+Z+" -> "+oe+" upon "+this.getTokenName(G)),this.setDFAEdge(Z,G,oe),zt.debug&&console.log(`DFA=
`+j.toString(this._parser!=null?this._parser.vocabulary:we.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),oe}setDFAEdge(j,z,G){j!=null&&j.setTarget(z,G)}addDFAContextState(j,z,G,Y){if(G!==B.PredictionContext.EMPTY_FULL_STATE_KEY){let J=new d.ATNConfigSet;for(let X of z)J.add(X.appendContext(G,Y));return this.addDFAState(j,J,Y)}else return de(!z.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),z=z.clone(!0),z.isOutermostConfigSet=!0,this.addDFAState(j,z,Y)}addDFAState(j,z,G){let Y=this.enable_global_context_dfa||!z.isOutermostConfigSet;if(Y){z.isReadOnly||z.optimizeConfigs(this);let ye=this.createDFAState(j,z),xe=j.states.get(ye);if(xe!=null)return xe}z.isReadOnly||z.conflictInfo==null&&(z.conflictInfo=this.isConflicted(z,G));let J=this.createDFAState(j,z.clone(!0)),X=this.atn.getDecisionState(j.decision),Z=this.getUniqueAlt(z);if(Z!==l.ATN.INVALID_ALT_NUMBER)J.acceptStateInfo=new n.AcceptStateInfo(Z);else if(z.conflictingAlts!=null){let ye=z.conflictingAlts;ye&&(J.acceptStateInfo=new n.AcceptStateInfo(ye.nextSetBit(0)))}if(J.isAcceptState&&z.hasSemanticContext&&this.predicateDFAState(J,z,X.numberOfTransitions),!Y)return J;let oe=j.addState(J);return zt.debug&&oe===J&&console.log("adding new DFA state: "+J),oe}createDFAState(j,z){return new C.DFAState(z)}reportAttemptingFullContext(j,z,G,Y,J){if(zt.debug||zt.retry_debug){let X=R.Interval.of(Y,J);console.log("reportAttemptingFullContext decision="+j.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(X))}if(this._parser!=null){let X=this._parser.getErrorListenerDispatch();X.reportAttemptingFullContext&&X.reportAttemptingFullContext(this._parser,j,Y,J,z,G)}}reportContextSensitivity(j,z,G,Y,J){if(zt.debug||zt.retry_debug){let X=R.Interval.of(Y,J);console.log("reportContextSensitivity decision="+j.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(X))}if(this._parser!=null){let X=this._parser.getErrorListenerDispatch();X.reportContextSensitivity&&X.reportContextSensitivity(this._parser,j,Y,J,z,G)}}reportAmbiguity(j,z,G,Y,J,X,Z){if(zt.debug||zt.retry_debug){let oe=R.Interval.of(G,Y);console.log("reportAmbiguity "+X+":"+Z+", input="+this._parser.inputStream.getText(oe))}if(this._parser!=null){let oe=this._parser.getErrorListenerDispatch();oe.reportAmbiguity&&oe.reportAmbiguity(this._parser,j,G,Y,J,X,Z)}}getReturnState(j){return j.isEmpty?B.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[j.invokingState].transition(0).followState.stateNumber}skipTailCalls(j){if(!this.optimize_tail_calls)return j;for(;!j.isEmpty;){let z=this.atn.states[j.invokingState];if(de(z.numberOfTransitions===1&&z.transition(0).serializationType===3),!z.transition(0).tailCall)break;j=j.parent}return j}get parser(){return this._parser}};return ne.debug=!1,ne.dfa_debug=!1,ne.retry_debug=!1,ne.STATE_ALT_SORT_COMPARATOR=(he,j)=>{let z=he.state.nonStopStateNumber-j.state.nonStopStateNumber;return z!==0||(z=he.alt-j.alt,z!==0)?z:0},e([I.NotNull],ne.prototype,"predictionMode",void 0),e([I.NotNull],ne.prototype,"getPredictionMode",null),e([t(0,I.NotNull)],ne.prototype,"setPredictionMode",null),e([I.Override],ne.prototype,"reset",null),e([t(0,I.NotNull)],ne.prototype,"adaptivePredict",null),e([t(0,I.NotNull),t(1,I.NotNull),t(2,I.NotNull)],ne.prototype,"getStartState",null),e([t(0,I.NotNull),t(1,I.NotNull),t(3,I.NotNull)],ne.prototype,"execDFA",null),e([t(0,I.NotNull),t(1,I.NotNull),t(3,I.NotNull)],ne.prototype,"execATN",null),e([t(0,I.NotNull),t(2,I.NotNull)],ne.prototype,"handleNoViableAlt",null),e([t(0,I.NotNull)],ne.prototype,"getExistingTargetState",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"computeTargetState",null),e([I.NotNull,t(0,I.NotNull)],ne.prototype,"removeAllConfigsNotInRuleStopState",null),e([I.NotNull],ne.prototype,"computeStartState",null),e([I.NotNull,t(0,I.NotNull)],ne.prototype,"applyPrecedenceFilter",null),e([t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"getReachableTarget",null),e([t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"getPredsForAmbigAlts",null),e([t(0,I.NotNull)],ne.prototype,"evalSemanticContext",null),e([t(0,I.NotNull)],ne.prototype,"evalSemanticContextImpl",null),e([t(1,I.NotNull),t(4,I.Nullable)],ne.prototype,"closure",null),e([t(0,I.NotNull),t(1,I.NotNull),t(2,I.Nullable),t(3,I.NotNull),t(6,I.NotNull)],ne.prototype,"closureImpl",null),e([I.NotNull],ne.prototype,"getRuleName",null),e([t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"getEpsilonTarget",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"actionTransition",null),e([I.Nullable,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"precedenceTransition",null),e([I.Nullable,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"predTransition",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull),t(2,I.Nullable)],ne.prototype,"ruleTransition",null),e([t(0,I.NotNull)],ne.prototype,"isConflicted",null),e([I.NotNull],ne.prototype,"getTokenName",null),e([t(0,I.NotNull)],ne.prototype,"dumpDeadEndConfigs",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull),t(2,I.NotNull)],ne.prototype,"noViableAlt",null),e([t(0,I.NotNull)],ne.prototype,"getUniqueAlt",null),e([t(0,I.NotNull)],ne.prototype,"configWithAltAtStopState",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull),t(4,I.NotNull)],ne.prototype,"addDFAEdge",null),e([t(0,I.Nullable),t(2,I.Nullable)],ne.prototype,"setDFAEdge",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"addDFAContextState",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"addDFAState",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"createDFAState",null),e([t(0,I.NotNull),t(2,I.NotNull)],ne.prototype,"reportAttemptingFullContext",null),e([t(0,I.NotNull),t(2,I.NotNull)],ne.prototype,"reportContextSensitivity",null),e([t(0,I.NotNull),t(5,I.NotNull),t(6,I.NotNull)],ne.prototype,"reportAmbiguity",null),ne=e([t(0,I.NotNull)],ne),ql.ParserATNSimulator=ne,ql}var _d={},rO;function BY(){if(rO)return _d;rO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_d&&_d.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(_d,"__esModule",{value:!0}),_d.PlusBlockStartState=void 0;const t=Kr(),n=nE(),r=Ue();let s=class extends n.BlockStartState{get stateType(){return t.ATNStateType.PLUS_BLOCK_START}};return e([r.Override],s.prototype,"stateType",null),_d.PlusBlockStartState=s,_d}var Id={},iO;function jY(){if(iO)return Id;iO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Id&&Id.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(Id,"__esModule",{value:!0}),Id.PlusLoopbackState=void 0;const t=Kr(),n=mh(),r=Ue();let s=class extends n.DecisionState{get stateType(){return t.ATNStateType.PLUS_LOOP_BACK}};return e([r.Override],s.prototype,"stateType",null),Id.PlusLoopbackState=s,Id}var Zl={},oO;function zY(){if(oO)return Zl;oO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zl&&Zl.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},t=Zl&&Zl.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.PrecedencePredicateTransition=void 0;const n=X2(),r=Ue(),s=Ng();let a=class extends n.AbstractPredicateTransition{constructor(f,d){super(f),this.precedence=d}get serializationType(){return 10}get isEpsilon(){return!0}matches(f,d,g){return!1}get predicate(){return new s.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override],a.prototype,"isEpsilon",null),e([r.Override],a.prototype,"matches",null),e([r.Override],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),Zl.PrecedencePredicateTransition=a,Zl}var Jl={},sO;function VY(){if(sO)return Jl;sO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jl&&Jl.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},t=Jl&&Jl.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.RangeTransition=void 0;const n=yh(),r=Ue(),s=nf();let a=class extends s.Transition{constructor(f,d,g){super(f),this.from=d,this.to=g}get serializationType(){return 2}get label(){return n.IntervalSet.of(this.from,this.to)}matches(f,d,g){return f>=this.from&&f<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override,r.NotNull],a.prototype,"label",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),Jl.RangeTransition=a,Jl}var Od={},aO;function UY(){if(aO)return Od;aO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Od&&Od.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(Od,"__esModule",{value:!0}),Od.RuleStartState=void 0;const t=Iu(),n=Kr(),r=Ue();let s=class extends t.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return n.ATNStateType.RULE_START}};return e([r.Override],s.prototype,"stateType",null),Od.RuleStartState=s,Od}var Dd={},lO;function GY(){if(lO)return Dd;lO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dd&&Dd.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.StarBlockStartState=void 0;const t=Kr(),n=nE(),r=Ue();let s=class extends n.BlockStartState{get stateType(){return t.ATNStateType.STAR_BLOCK_START}};return e([r.Override],s.prototype,"stateType",null),Dd.StarBlockStartState=s,Dd}var Pd={},uO;function $Y(){if(uO)return Pd;uO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pd&&Pd.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.StarLoopbackState=void 0;const t=Iu(),n=Kr(),r=Ue();let s=class extends t.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return n.ATNStateType.STAR_LOOP_BACK}};return e([r.Override],s.prototype,"stateType",null),Pd.StarLoopbackState=s,Pd}var Md={},cO;function HY(){if(cO)return Md;cO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Md&&Md.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(Md,"__esModule",{value:!0}),Md.TokensStartState=void 0;const t=Kr(),n=mh(),r=Ue();let s=class extends n.DecisionState{get stateType(){return t.ATNStateType.TOKEN_START}};return e([r.Override],s.prototype,"stateType",null),Md.TokensStartState=s,Md}var H0={},fO;function YY(){if(fO)return H0;fO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(H0,"__esModule",{value:!0}),H0.UUID=void 0;const e=pr();let t=class Nw{constructor(r,s,a,l){this.data=new Uint32Array(4),this.data[0]=r,this.data[1]=s,this.data[2]=a,this.data[3]=l}static fromString(r){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(r))throw new Error("Incorrectly formatted UUID");let s=r.split("-"),a=parseInt(s[0],16),l=(parseInt(s[1],16)<<16>>>0)+parseInt(s[2],16),f=(parseInt(s[3],16)<<16>>>0)+parseInt(s[4].substr(0,4),16),d=parseInt(s[4].substr(-8),16);return new Nw(a,l,f,d)}hashCode(){return e.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(r){return r===this?!0:r instanceof Nw?this.data[0]===r.data[0]&&this.data[1]===r.data[1]&&this.data[2]===r.data[2]&&this.data[3]===r.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};return H0.UUID=t,H0}var dO;function lR(){if(dO)return jl;dO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jl&&jl.__decorate||function(xe,ae,le,Ae){var Ie=arguments.length,je=Ie<3?ae:Ae===null?Ae=Object.getOwnPropertyDescriptor(ae,le):Ae,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(xe,ae,le,Ae);else for(var me=xe.length-1;me>=0;me--)(Ve=xe[me])&&(je=(Ie<3?Ve(je):Ie>3?Ve(ae,le,je):Ve(ae,le))||je);return Ie>3&&je&&Object.defineProperty(ae,le,je),je},t=jl&&jl.__param||function(xe,ae){return function(le,Ae){ae(le,Ae,xe)}};Object.defineProperty(jl,"__esModule",{value:!0}),jl.ATNDeserializer=void 0;const n=KF(),r=rf(),s=Va(),a=qF(),l=Kr(),f=XF(),d=wY(),g=GF(),p=of(),m=RY(),x=nE(),b=mh(),A=UF(),C=TY(),w=yh(),R=$F(),N=NY(),I=_Y(),D=IY(),F=OY(),k=DY(),V=PY(),B=MY(),H=LY(),te=nk(),re=Ue(),se=iR(),Ee=Jv(),ke=BY(),Me=jY(),ie=zY(),we=MF(),de=VY(),ue=UY(),K=Zv(),ne=oR(),he=rR(),j=GY(),z=$Y(),G=nR(),Y=$n(),J=HY(),X=YY(),Z=HF();var oe;(function(xe){xe[xe.UNICODE_BMP=0]="UNICODE_BMP",xe[xe.UNICODE_SMP=1]="UNICODE_SMP"})(oe||(oe={}));let ye=class dt{constructor(ae){ae===void 0&&(ae=a.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=ae}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(ae,le){let Ae=dt.SUPPORTED_UUIDS.findIndex(Ie=>Ie.equals(ae));return Ae<0?!1:dt.SUPPORTED_UUIDS.findIndex(Ie=>Ie.equals(le))>=Ae}static getUnicodeDeserializer(ae){return ae===0?{readUnicode:(le,Ae)=>dt.toInt(le[Ae]),size:1}:{readUnicode:(le,Ae)=>dt.toInt32(le,Ae),size:2}}deserialize(ae){ae=ae.slice(0);for(let Fe=1;Fe<ae.length;Fe++)ae[Fe]=ae[Fe]-2&65535;let le=0,Ae=dt.toInt(ae[le++]);if(Ae!==dt.SERIALIZED_VERSION){let Fe=`Could not deserialize ATN with version ${Ae} (expected ${dt.SERIALIZED_VERSION}).`;throw new Error(Fe)}let Ie=dt.toUUID(ae,le);if(le+=8,dt.SUPPORTED_UUIDS.findIndex(Fe=>Fe.equals(Ie))<0){let Fe=`Could not deserialize ATN with UUID ${Ie} (expected ${dt.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(Fe)}let je=dt.isFeatureSupported(dt.ADDED_LEXER_ACTIONS,Ie),Ve=dt.toInt(ae[le++]),me=dt.toInt(ae[le++]),De=new s.ATN(Ve,me),Ze=[],ht=[],pt=dt.toInt(ae[le++]);for(let Fe=0;Fe<pt;Fe++){let nt=dt.toInt(ae[le++]);if(nt===l.ATNStateType.INVALID_TYPE){De.addState(new R.InvalidState);continue}let gt=dt.toInt(ae[le++]);gt===65535&&(gt=-1);let St=this.stateFactory(nt,gt);if(nt===l.ATNStateType.LOOP_END){let Dt=dt.toInt(ae[le++]);Ze.push([St,Dt])}else if(St instanceof x.BlockStartState){let Dt=dt.toInt(ae[le++]);ht.push([St,Dt])}De.addState(St)}for(let Fe of Ze)Fe[0].loopBackState=De.states[Fe[1]];for(let Fe of ht)Fe[0].endState=De.states[Fe[1]];let ge=dt.toInt(ae[le++]);for(let Fe=0;Fe<ge;Fe++){let nt=dt.toInt(ae[le++]);De.states[nt].nonGreedy=!0}let Ne=dt.toInt(ae[le++]);for(let Fe=0;Fe<Ne;Fe++){let nt=dt.toInt(ae[le++]);De.states[nt].sll=!0}let qe=dt.toInt(ae[le++]);for(let Fe=0;Fe<qe;Fe++){let nt=dt.toInt(ae[le++]);De.states[nt].isPrecedenceRule=!0}let Ye=dt.toInt(ae[le++]);De.grammarType===0&&(De.ruleToTokenType=new Int32Array(Ye)),De.ruleToStartState=new Array(Ye);for(let Fe=0;Fe<Ye;Fe++){let nt=dt.toInt(ae[le++]),gt=De.states[nt];if(gt.leftFactored=dt.toInt(ae[le++])!==0,De.ruleToStartState[Fe]=gt,De.grammarType===0){let St=dt.toInt(ae[le++]);St===65535&&(St=Y.Token.EOF),De.ruleToTokenType[Fe]=St,dt.isFeatureSupported(dt.ADDED_LEXER_ACTIONS,Ie)||dt.toInt(ae[le++])}}De.ruleToStopState=new Array(Ye);for(let Fe of De.states)Fe instanceof K.RuleStopState&&(De.ruleToStopState[Fe.ruleIndex]=Fe,De.ruleToStartState[Fe.ruleIndex].stopState=Fe);let tt=dt.toInt(ae[le++]);for(let Fe=0;Fe<tt;Fe++){let nt=dt.toInt(ae[le++]);De.modeToStartState.push(De.states[nt])}De.modeToDFA=new Array(tt);for(let Fe=0;Fe<tt;Fe++)De.modeToDFA[Fe]=new A.DFA(De.modeToStartState[Fe]);let at=[];le=this.deserializeSets(ae,le,at,dt.getUnicodeDeserializer(0)),dt.isFeatureSupported(dt.ADDED_UNICODE_SMP,Ie)&&(le=this.deserializeSets(ae,le,at,dt.getUnicodeDeserializer(1)));let yt=dt.toInt(ae[le++]);for(let Fe=0;Fe<yt;Fe++){let nt=dt.toInt(ae[le]),gt=dt.toInt(ae[le+1]),St=dt.toInt(ae[le+2]),Dt=dt.toInt(ae[le+3]),mn=dt.toInt(ae[le+4]),Fn=dt.toInt(ae[le+5]),Hn=this.edgeFactory(De,St,nt,gt,Dt,mn,Fn,at);De.states[nt].addTransition(Hn),le+=6}let Rt=new r.Array2DHashSet({hashCode:Fe=>Fe.stopState^Fe.returnState^Fe.outermostPrecedenceReturn,equals:(Fe,nt)=>Fe.stopState===nt.stopState&&Fe.returnState===nt.returnState&&Fe.outermostPrecedenceReturn===nt.outermostPrecedenceReturn}),It=[];for(let Fe of De.states){let nt=Fe.ruleIndex>=0&&De.ruleToStartState[Fe.ruleIndex].leftFactored;for(let gt=0;gt<Fe.numberOfTransitions;gt++){let St=Fe.transition(gt);if(!(St instanceof ne.RuleTransition))continue;let Dt=St;if(!De.ruleToStartState[Dt.target.ruleIndex].leftFactored&&nt)continue;let Fn=-1;De.ruleToStartState[Dt.target.ruleIndex].isPrecedenceRule&&Dt.precedence===0&&(Fn=Dt.target.ruleIndex);let Hn={stopState:Dt.target.ruleIndex,returnState:Dt.followState.stateNumber,outermostPrecedenceReturn:Fn};Rt.add(Hn)&&It.push(Hn)}}for(let Fe of It){let nt=new C.EpsilonTransition(De.states[Fe.returnState],Fe.outermostPrecedenceReturn);De.ruleToStopState[Fe.stopState].addTransition(nt)}for(let Fe of De.states){if(Fe instanceof x.BlockStartState){if(Fe.endState===void 0)throw new Error("IllegalStateException");if(Fe.endState.startState!==void 0)throw new Error("IllegalStateException");Fe.endState.startState=Fe}if(Fe instanceof Me.PlusLoopbackState){let nt=Fe;for(let gt=0;gt<nt.numberOfTransitions;gt++){let St=nt.transition(gt).target;St instanceof ke.PlusBlockStartState&&(St.loopBackState=nt)}}else if(Fe instanceof z.StarLoopbackState){let nt=Fe;for(let gt=0;gt<nt.numberOfTransitions;gt++){let St=nt.transition(gt).target;St instanceof G.StarLoopEntryState&&(St.loopBackState=nt)}}}let on=dt.toInt(ae[le++]);for(let Fe=1;Fe<=on;Fe++){let nt=dt.toInt(ae[le++]),gt=De.states[nt];De.decisionToState.push(gt),gt.decision=Fe-1}if(De.grammarType===0)if(je){De.lexerActions=new Array(dt.toInt(ae[le++]));for(let Fe=0;Fe<De.lexerActions.length;Fe++){let nt=dt.toInt(ae[le++]),gt=dt.toInt(ae[le++]);gt===65535&&(gt=-1);let St=dt.toInt(ae[le++]);St===65535&&(St=-1);let Dt=this.lexerActionFactory(nt,gt,St);De.lexerActions[Fe]=Dt}}else{let Fe=[];for(let nt of De.states)for(let gt=0;gt<nt.numberOfTransitions;gt++){let St=nt.transition(gt);if(!(St instanceof n.ActionTransition))continue;let Dt=St.ruleIndex,mn=St.actionIndex,Fn=new I.LexerCustomAction(Dt,mn);nt.setTransition(gt,new n.ActionTransition(St.target,Dt,Fe.length,!1)),Fe.push(Fn)}De.lexerActions=Fe}this.markPrecedenceDecisions(De),De.decisionToDFA=new Array(on);for(let Fe=0;Fe<on;Fe++)De.decisionToDFA[Fe]=new A.DFA(De.decisionToState[Fe],Fe);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(De),this.deserializationOptions.isGenerateRuleBypassTransitions&&De.grammarType===1){De.ruleToTokenType=new Int32Array(De.ruleToStartState.length);for(let Fe=0;Fe<De.ruleToStartState.length;Fe++)De.ruleToTokenType[Fe]=De.maxTokenType+Fe+1;for(let Fe=0;Fe<De.ruleToStartState.length;Fe++){let nt=new d.BasicBlockStartState;nt.ruleIndex=Fe,De.addState(nt);let gt=new m.BlockEndState;gt.ruleIndex=Fe,De.addState(gt),nt.endState=gt,De.defineDecisionState(nt),gt.startState=nt;let St,Dt;if(De.ruleToStartState[Fe].isPrecedenceRule){St=void 0;for(let Fn of De.states){if(Fn.ruleIndex!==Fe||!(Fn instanceof G.StarLoopEntryState))continue;let Hn=Fn.transition(Fn.numberOfTransitions-1).target;if(Hn instanceof te.LoopEndState&&Hn.epsilonOnlyTransitions&&Hn.transition(0).target instanceof K.RuleStopState){St=Fn;break}}if(!St)throw new Error("Couldn't identify final state of the precedence rule prefix section.");Dt=St.loopBackState.transition(0)}else St=De.ruleToStopState[Fe];for(let Fn of De.states)for(let Hn=0;Hn<Fn.numberOfTransitions;Hn++){let sn=Fn.transition(Hn);sn!==Dt&&sn.target===St&&(sn.target=gt)}for(;De.ruleToStartState[Fe].numberOfTransitions>0;){let Fn=De.ruleToStartState[Fe].removeTransition(De.ruleToStartState[Fe].numberOfTransitions-1);nt.addTransition(Fn)}De.ruleToStartState[Fe].addTransition(new C.EpsilonTransition(nt)),gt.addTransition(new C.EpsilonTransition(St));let mn=new g.BasicState;De.addState(mn),mn.addTransition(new f.AtomTransition(gt,De.ruleToTokenType[Fe])),nt.addTransition(new C.EpsilonTransition(mn))}this.deserializationOptions.isVerifyATN&&this.verifyATN(De)}if(this.deserializationOptions.isOptimize){for(;;){let Fe=0;Fe+=dt.inlineSetRules(De),Fe+=dt.combineChainedEpsilons(De);let nt=De.grammarType===0;if(Fe+=dt.optimizeSets(De,nt),Fe===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(De)}return dt.identifyTailCalls(De),De}deserializeSets(ae,le,Ae,Ie){let je=dt.toInt(ae[le++]);for(let Ve=0;Ve<je;Ve++){let me=dt.toInt(ae[le]);le++;let De=new w.IntervalSet;Ae.push(De),dt.toInt(ae[le++])!==0&&De.add(-1);for(let ht=0;ht<me;ht++){let pt=Ie.readUnicode(ae,le);le+=Ie.size;let ge=Ie.readUnicode(ae,le);le+=Ie.size,De.add(pt,ge)}}return le}markPrecedenceDecisions(ae){let le=new Map;for(let Ae of ae.states)if(Ae instanceof G.StarLoopEntryState&&ae.ruleToStartState[Ae.ruleIndex].isPrecedenceRule){let Ie=Ae.transition(Ae.numberOfTransitions-1).target;Ie instanceof te.LoopEndState&&Ie.epsilonOnlyTransitions&&Ie.transition(0).target instanceof K.RuleStopState&&(le.set(Ae.ruleIndex,Ae),Ae.precedenceRuleDecision=!0,Ae.precedenceLoopbackStates=new p.BitSet(ae.states.length))}for(let Ae of le)for(let Ie of ae.ruleToStopState[Ae[0]].getTransitions())Ie.serializationType!==1||Ie.outermostPrecedenceReturn!==-1||Ae[1].precedenceLoopbackStates.set(Ie.target.stateNumber)}verifyATN(ae){for(let le of ae.states)if(this.checkCondition(le!==void 0,"ATN states should not be undefined."),le.stateType!==l.ATNStateType.INVALID_TYPE){if(this.checkCondition(le.onlyHasEpsilonTransitions||le.numberOfTransitions<=1),le instanceof ke.PlusBlockStartState&&this.checkCondition(le.loopBackState!==void 0),le instanceof G.StarLoopEntryState){let Ae=le;if(this.checkCondition(Ae.loopBackState!==void 0),this.checkCondition(Ae.numberOfTransitions===2),Ae.transition(0).target instanceof j.StarBlockStartState)this.checkCondition(Ae.transition(1).target instanceof te.LoopEndState),this.checkCondition(!Ae.nonGreedy);else if(Ae.transition(0).target instanceof te.LoopEndState)this.checkCondition(Ae.transition(1).target instanceof j.StarBlockStartState),this.checkCondition(Ae.nonGreedy);else throw new Error("IllegalStateException")}if(le instanceof z.StarLoopbackState&&(this.checkCondition(le.numberOfTransitions===1),this.checkCondition(le.transition(0).target instanceof G.StarLoopEntryState)),le instanceof te.LoopEndState&&this.checkCondition(le.loopBackState!==void 0),le instanceof ue.RuleStartState&&this.checkCondition(le.stopState!==void 0),le instanceof x.BlockStartState&&this.checkCondition(le.endState!==void 0),le instanceof m.BlockEndState&&this.checkCondition(le.startState!==void 0),le instanceof b.DecisionState){let Ae=le;this.checkCondition(Ae.numberOfTransitions<=1||Ae.decision>=0)}else this.checkCondition(le.numberOfTransitions<=1||le instanceof K.RuleStopState)}}checkCondition(ae,le){if(!ae)throw new Error("IllegalStateException: "+le)}static inlineSetRules(ae){let le=0,Ae=new Array(ae.ruleToStartState.length);for(let Ie=0;Ie<ae.ruleToStartState.length;Ie++){let Ve=ae.ruleToStartState[Ie];for(;Ve.onlyHasEpsilonTransitions&&Ve.numberOfOptimizedTransitions===1&&Ve.getOptimizedTransition(0).serializationType===1;)Ve=Ve.getOptimizedTransition(0).target;if(Ve.numberOfOptimizedTransitions!==1)continue;let me=Ve.getOptimizedTransition(0),De=me.target;if(!(me.isEpsilon||!De.onlyHasEpsilonTransitions||De.numberOfOptimizedTransitions!==1||!(De.getOptimizedTransition(0).target instanceof K.RuleStopState)))switch(me.serializationType){case 5:case 2:case 7:Ae[Ie]=me;break;case 8:case 9:continue;default:continue}}for(let Ie of ae.states){if(Ie.ruleIndex<0)continue;let je;for(let Ve=0;Ve<Ie.numberOfOptimizedTransitions;Ve++){let me=Ie.getOptimizedTransition(Ve);if(!(me instanceof ne.RuleTransition)){je!==void 0&&je.push(me);continue}let De=me,Ze=Ae[De.target.ruleIndex];if(Ze===void 0){je!==void 0&&je.push(me);continue}if(je===void 0){je=[];for(let ge=0;ge<Ve;ge++)je.push(Ie.getOptimizedTransition(Ve))}le++;let ht=De.followState,pt=new g.BasicState;switch(pt.setRuleIndex(ht.ruleIndex),ae.addState(pt),je.push(new C.EpsilonTransition(pt)),Ze.serializationType){case 5:pt.addTransition(new f.AtomTransition(ht,Ze._label));break;case 2:pt.addTransition(new de.RangeTransition(ht,Ze.from,Ze.to));break;case 7:pt.addTransition(new he.SetTransition(ht,Ze.label));break;default:throw new Error("UnsupportedOperationException")}}if(je!==void 0){if(Ie.isOptimized)for(;Ie.numberOfOptimizedTransitions>0;)Ie.removeOptimizedTransition(Ie.numberOfOptimizedTransitions-1);for(let Ve of je)Ie.addOptimizedTransition(Ve)}}return Ee.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+le+" rule invocations by inlining sets."),le}static combineChainedEpsilons(ae){let le=0;for(let Ae of ae.states){if(!Ae.onlyHasEpsilonTransitions||Ae instanceof K.RuleStopState)continue;let Ie;e:for(let je=0;je<Ae.numberOfOptimizedTransitions;je++){let Ve=Ae.getOptimizedTransition(je),me=Ve.target;if(Ve.serializationType!==1||Ve.outermostPrecedenceReturn!==-1||me.stateType!==l.ATNStateType.BASIC||!me.onlyHasEpsilonTransitions){Ie!==void 0&&Ie.push(Ve);continue e}for(let De=0;De<me.numberOfOptimizedTransitions;De++)if(me.getOptimizedTransition(De).serializationType!==1||me.getOptimizedTransition(De).outermostPrecedenceReturn!==-1){Ie!==void 0&&Ie.push(Ve);continue e}if(le++,Ie===void 0){Ie=[];for(let De=0;De<je;De++)Ie.push(Ae.getOptimizedTransition(De))}for(let De=0;De<me.numberOfOptimizedTransitions;De++){let Ze=me.getOptimizedTransition(De).target;Ie.push(new C.EpsilonTransition(Ze))}}if(Ie!==void 0){if(Ae.isOptimized)for(;Ae.numberOfOptimizedTransitions>0;)Ae.removeOptimizedTransition(Ae.numberOfOptimizedTransitions-1);for(let je of Ie)Ae.addOptimizedTransition(je)}}return Ee.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+le+" transitions by combining chained epsilon transitions."),le}static optimizeSets(ae,le){if(le)return 0;let Ae=0,Ie=ae.decisionToState;for(let je of Ie){let Ve=new w.IntervalSet;for(let ge=0;ge<je.numberOfOptimizedTransitions;ge++){let Ne=je.getOptimizedTransition(ge);if(!(Ne instanceof C.EpsilonTransition)||Ne.target.numberOfOptimizedTransitions!==1)continue;let qe=Ne.target.getOptimizedTransition(0);qe.target instanceof m.BlockEndState&&(qe instanceof se.NotSetTransition||(qe instanceof f.AtomTransition||qe instanceof de.RangeTransition||qe instanceof he.SetTransition)&&Ve.add(ge))}if(Ve.size<=1)continue;let me=[];for(let ge=0;ge<je.numberOfOptimizedTransitions;ge++)Ve.contains(ge)||me.push(je.getOptimizedTransition(ge));let De=je.getOptimizedTransition(Ve.minElement).target.getOptimizedTransition(0).target,Ze=new w.IntervalSet;for(let ge of Ve.intervals)for(let Ne=ge.a;Ne<=ge.b;Ne++){let qe=je.getOptimizedTransition(Ne).target.getOptimizedTransition(0);if(qe instanceof se.NotSetTransition)throw new Error("Not yet implemented.");Ze.addAll(qe.label)}let ht;if(Ze.intervals.length===1)if(Ze.size===1)ht=new f.AtomTransition(De,Ze.minElement);else{let ge=Ze.intervals[0];ht=new de.RangeTransition(De,ge.a,ge.b)}else ht=new he.SetTransition(De,Ze);let pt=new g.BasicState;if(pt.setRuleIndex(je.ruleIndex),ae.addState(pt),pt.addTransition(ht),me.push(new C.EpsilonTransition(pt)),Ae+=je.numberOfOptimizedTransitions-me.length,je.isOptimized)for(;je.numberOfOptimizedTransitions>0;)je.removeOptimizedTransition(je.numberOfOptimizedTransitions-1);for(let ge of me)je.addOptimizedTransition(ge)}return Ee.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+Ae+" paths by collapsing sets."),Ae}static identifyTailCalls(ae){for(let le of ae.states){for(let Ae=0;Ae<le.numberOfTransitions;Ae++){let Ie=le.transition(Ae);Ie instanceof ne.RuleTransition&&(Ie.tailCall=this.testTailCall(ae,Ie,!1),Ie.optimizedTailCall=this.testTailCall(ae,Ie,!0))}if(le.isOptimized)for(let Ae=0;Ae<le.numberOfOptimizedTransitions;Ae++){let Ie=le.getOptimizedTransition(Ae);Ie instanceof ne.RuleTransition&&(Ie.tailCall=this.testTailCall(ae,Ie,!1),Ie.optimizedTailCall=this.testTailCall(ae,Ie,!0))}}}static testTailCall(ae,le,Ae){if(!Ae&&le.tailCall||Ae&&le.optimizedTailCall)return!0;let Ie=new p.BitSet(ae.states.length),je=[];for(je.push(le.followState);;){let Ve=je.pop();if(!Ve)break;if(Ie.get(Ve.stateNumber)||Ve instanceof K.RuleStopState)continue;if(!Ve.onlyHasEpsilonTransitions)return!1;let me=Ae?Ve.numberOfOptimizedTransitions:Ve.numberOfTransitions;for(let De=0;De<me;De++){let Ze=Ae?Ve.getOptimizedTransition(De):Ve.transition(De);if(Ze.serializationType!==1)return!1;je.push(Ze.target)}}return!0}static toInt(ae){return ae}static toInt32(ae,le){return(ae[le]|ae[le+1]<<16)>>>0}static toUUID(ae,le){let Ae=dt.toInt32(ae,le),Ie=dt.toInt32(ae,le+2),je=dt.toInt32(ae,le+4),Ve=dt.toInt32(ae,le+6);return new X.UUID(Ve,je,Ie,Ae)}edgeFactory(ae,le,Ae,Ie,je,Ve,me,De){let Ze=ae.states[Ie];switch(le){case 1:return new C.EpsilonTransition(Ze);case 2:return me!==0?new de.RangeTransition(Ze,Y.Token.EOF,Ve):new de.RangeTransition(Ze,je,Ve);case 3:return new ne.RuleTransition(ae.states[je],Ve,me,Ze);case 4:return new we.PredicateTransition(Ze,je,Ve,me!==0);case 10:return new ie.PrecedencePredicateTransition(Ze,je);case 5:return me!==0?new f.AtomTransition(Ze,Y.Token.EOF):new f.AtomTransition(Ze,je);case 6:return new n.ActionTransition(Ze,je,Ve,me!==0);case 7:return new he.SetTransition(Ze,De[je]);case 8:return new se.NotSetTransition(Ze,De[je]);case 9:return new Z.WildcardTransition(Ze)}throw new Error("The specified transition type is not valid.")}stateFactory(ae,le){let Ae;switch(ae){case l.ATNStateType.INVALID_TYPE:return new R.InvalidState;case l.ATNStateType.BASIC:Ae=new g.BasicState;break;case l.ATNStateType.RULE_START:Ae=new ue.RuleStartState;break;case l.ATNStateType.BLOCK_START:Ae=new d.BasicBlockStartState;break;case l.ATNStateType.PLUS_BLOCK_START:Ae=new ke.PlusBlockStartState;break;case l.ATNStateType.STAR_BLOCK_START:Ae=new j.StarBlockStartState;break;case l.ATNStateType.TOKEN_START:Ae=new J.TokensStartState;break;case l.ATNStateType.RULE_STOP:Ae=new K.RuleStopState;break;case l.ATNStateType.BLOCK_END:Ae=new m.BlockEndState;break;case l.ATNStateType.STAR_LOOP_BACK:Ae=new z.StarLoopbackState;break;case l.ATNStateType.STAR_LOOP_ENTRY:Ae=new G.StarLoopEntryState;break;case l.ATNStateType.PLUS_LOOP_BACK:Ae=new Me.PlusLoopbackState;break;case l.ATNStateType.LOOP_END:Ae=new te.LoopEndState;break;default:let Ie=`The specified state type ${ae} is not valid.`;throw new Error(Ie)}return Ae.ruleIndex=le,Ae}lexerActionFactory(ae,le,Ae){switch(ae){case 0:return new N.LexerChannelAction(le);case 1:return new I.LexerCustomAction(le,Ae);case 2:return new D.LexerModeAction(le);case 3:return F.LexerMoreAction.INSTANCE;case 4:return k.LexerPopModeAction.INSTANCE;case 5:return new V.LexerPushModeAction(le);case 6:return B.LexerSkipAction.INSTANCE;case 7:return new H.LexerTypeAction(le);default:let Ie=`The specified lexer action type ${ae} is not valid.`;throw new Error(Ie)}}};return ye.BASE_SERIALIZED_UUID=X.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),ye.ADDED_LEXER_ACTIONS=X.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),ye.ADDED_UNICODE_SMP=X.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),ye.SUPPORTED_UUIDS=[ye.BASE_SERIALIZED_UUID,ye.ADDED_LEXER_ACTIONS,ye.ADDED_UNICODE_SMP],ye.SERIALIZED_UUID=ye.ADDED_UNICODE_SMP,e([re.NotNull],ye.prototype,"deserializationOptions",void 0),e([t(0,re.NotNull)],ye.prototype,"deserialize",null),e([t(0,re.NotNull)],ye.prototype,"markPrecedenceDecisions",null),e([re.NotNull,t(0,re.NotNull)],ye.prototype,"edgeFactory",null),jl.ATNDeserializer=ye,jl}var Ql={},hO;function WY(){if(hO)return Ql;hO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ql&&Ql.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g},t=Ql&&Ql.__param||function(s,a){return function(l,f){a(l,f,s)}};Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.ParseInfo=void 0;const n=Ue();let r=class{constructor(a){this.atnSimulator=a}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let a=this.atnSimulator.getDecisionInfo(),l=[];for(let f=0;f<a.length;f++)a[f].LL_Fallback>0&&l.push(f);return l}getTotalTimeInPrediction(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let f of a)l+=f.timeInPrediction;return l}getTotalSLLLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let f of a)l+=f.SLL_TotalLook;return l}getTotalLLLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let f of a)l+=f.LL_TotalLook;return l}getTotalSLLATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let f of a)l+=f.SLL_ATNTransitions;return l}getTotalLLATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let f of a)l+=f.LL_ATNTransitions;return l}getTotalATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let f of a)l+=f.SLL_ATNTransitions,l+=f.LL_ATNTransitions;return l}getDFASize(a){if(a)return this.atnSimulator.atn.decisionToDFA[a].states.size;{let l=0,f=this.atnSimulator.atn.decisionToDFA;for(let d=0;d<f.length;d++)l+=this.getDFASize(d);return l}}};return e([n.NotNull],r.prototype,"getDecisionInfo",null),e([n.NotNull],r.prototype,"getLLDecisions",null),r=e([t(0,n.NotNull)],r),Ql.ParseInfo=r,Ql}var Ld={},pO;function ak(){if(pO)return Ld;pO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ld&&Ld.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.ProxyParserErrorListener=void 0;const t=tR(),n=Ue();let r=class extends t.ProxyErrorListener{constructor(a){super(a)}reportAmbiguity(a,l,f,d,g,p,m){this.getDelegates().forEach(x=>{x.reportAmbiguity&&x.reportAmbiguity(a,l,f,d,g,p,m)})}reportAttemptingFullContext(a,l,f,d,g,p){this.getDelegates().forEach(m=>{m.reportAttemptingFullContext&&m.reportAttemptingFullContext(a,l,f,d,g,p)})}reportContextSensitivity(a,l,f,d,g,p){this.getDelegates().forEach(m=>{m.reportContextSensitivity&&m.reportContextSensitivity(a,l,f,d,g,p)})}};return e([n.Override],r.prototype,"reportAmbiguity",null),e([n.Override],r.prototype,"reportAttemptingFullContext",null),e([n.Override],r.prototype,"reportContextSensitivity",null),Ld.ProxyParserErrorListener=r,Ld}var Fd={},pC={},gC={},eu={},gO;function qY(){if(gO)return eu;gO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(eu,"__esModule",{value:!0}),eu.isSupplementaryCodePoint=eu.isLowSurrogate=eu.isHighSurrogate=void 0;function e(r){return r>=55296&&r<=56319}eu.isHighSurrogate=e;function t(r){return r>=56320&&r<=57343}eu.isLowSurrogate=t;function n(r){return r>=65536}return eu.isSupplementaryCodePoint=n,eu}var mO;function lk(){return mO||(mO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CodePointBuffer=void 0;const t=Ni(),n=qY();class r{constructor(a,l){this.buffer=a,this._position=0,this._size=l}static withArray(a){return new r(a,a.length)}get position(){return this._position}set position(a){if(a<0||a>this._size)throw new RangeError;this._position=a}get remaining(){return this._size-this.position}get(a){return this.buffer[a]}array(){return this.buffer.slice(0,this._size)}static builder(a){return new r.Builder(a)}}e.CodePointBuffer=r,function(s){let a;(function(f){f[f.BYTE=0]="BYTE",f[f.CHAR=1]="CHAR",f[f.INT=2]="INT"})(a||(a={}));class l{constructor(d){this.type=0,this.buffer=new Uint8Array(d),this.prevHighSurrogate=-1,this.position=0}build(){return new s(this.buffer,this.position)}static roundUpToNextPowerOfTwo(d){let g=32-Math.clz32(d-1);return Math.pow(2,g)}ensureRemaining(d){switch(this.type){case 0:if(this.buffer.length-this.position<d){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+d),p=new Uint8Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 1:if(this.buffer.length-this.position<d){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+d),p=new Uint16Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 2:if(this.buffer.length-this.position<d){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+d),p=new Int32Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break}}append(d){this.ensureRemaining(d.length),this.appendArray(d)}appendArray(d){switch(this.type){case 0:this.appendArrayByte(d);break;case 1:this.appendArrayChar(d);break;case 2:this.appendArrayInt(d);break}}appendArrayByte(d){t(this.prevHighSurrogate===-1);let g=d,p=0,m=d.length,x=this.buffer,b=this.position;for(;p<m;){let A=g[p];if(A<=255)x[b]=A;else if(d=d.subarray(p,m),this.position=b,n.isHighSurrogate(A)){this.byteToIntBuffer(d.length),this.appendArrayInt(d);return}else{this.byteToCharBuffer(d.length),this.appendArrayChar(d);return}p++,b++}this.position=b}appendArrayChar(d){t(this.prevHighSurrogate===-1);let g=d,p=0,m=d.length,x=this.buffer,b=this.position;for(;p<m;){let A=g[p];if(!n.isHighSurrogate(A))x[b]=A;else{d=d.subarray(p,m),this.position=b,this.charToIntBuffer(d.length),this.appendArrayInt(d);return}p++,b++}this.position=b}appendArrayInt(d){let g=d,p=0,m=d.length,x=this.buffer,b=this.position;for(;p<m;){let A=g[p];p++,this.prevHighSurrogate!==-1?n.isLowSurrogate(A)?(x[b]=String.fromCharCode(this.prevHighSurrogate,A).codePointAt(0),b++,this.prevHighSurrogate=-1):(x[b]=this.prevHighSurrogate,b++,n.isHighSurrogate(A)?this.prevHighSurrogate=A:(x[b]=A,b++,this.prevHighSurrogate=-1)):n.isHighSurrogate(A)?this.prevHighSurrogate=A:(x[b]=A,b++)}this.prevHighSurrogate!==-1&&(x[b]=this.prevHighSurrogate,b++),this.position=b}byteToCharBuffer(d){let g=new Uint16Array(Math.max(this.position+d,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=g}byteToIntBuffer(d){let g=new Int32Array(Math.max(this.position+d,this.buffer.length>>2));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}charToIntBuffer(d){let g=new Int32Array(Math.max(this.position+d,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}}s.Builder=l}(r=e.CodePointBuffer||(e.CodePointBuffer={}))}(gC)),gC}var kd={},vO;function ck(){if(vO)return kd;vO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kd&&kd.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m};Object.defineProperty(kd,"__esModule",{value:!0}),kd.CodePointCharStream=void 0;const t=Ni(),n=ef(),r=Xi(),s=Ue();let a=class uk{constructor(f,d,g,p){t(d===0),this._array=f,this._size=g,this._name=p,this._position=0}get internalStorage(){return this._array}static fromBuffer(f,d){return(d===void 0||d.length===0)&&(d=n.IntStream.UNKNOWN_SOURCE_NAME),new uk(f.array(),f.position,f.remaining,d)}consume(){if(this._size-this._position===0)throw t(this.LA(1)===n.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(f){}seek(f){this._position=f}get sourceName(){return this._name}toString(){return this.getText(r.Interval.of(0,this.size-1))}LA(f){let d;switch(Math.sign(f)){case-1:return d=this.index+f,d<0?n.IntStream.EOF:this._array[d];case 0:return 0;case 1:return d=this.index+f-1,d>=this.size?n.IntStream.EOF:this._array[d]}throw new RangeError("Not reached")}getText(f){const d=Math.min(f.a,this.size),g=Math.min(f.b-f.a+1,this.size-d);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(d,d+g))):String.fromCharCode(...Array.from(this._array.subarray(d,d+g)))}};return e([s.Override],a.prototype,"consume",null),e([s.Override],a.prototype,"index",null),e([s.Override],a.prototype,"size",null),e([s.Override],a.prototype,"mark",null),e([s.Override],a.prototype,"release",null),e([s.Override],a.prototype,"seek",null),e([s.Override],a.prototype,"sourceName",null),e([s.Override],a.prototype,"toString",null),e([s.Override],a.prototype,"LA",null),e([s.Override],a.prototype,"getText",null),kd.CodePointCharStream=a,kd}var yO;function uR(){return yO||(yO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CharStreams=void 0;const t=lk(),n=ck(),r=ef();(function(s){function a(l,f){(f===void 0||f.length===0)&&(f=r.IntStream.UNKNOWN_SOURCE_NAME);let d=t.CodePointBuffer.builder(l.length),g=new Uint16Array(l.length);for(let p=0;p<l.length;p++)g[p]=l.charCodeAt(p);return d.append(g),n.CodePointCharStream.fromBuffer(d.build(),f)}s.fromString=a})(e.CharStreams||(e.CharStreams={}))}(pC)),pC}var tu={},nu={},xO;function fk(){if(xO)return nu;xO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nu&&nu.__decorate||function(g,p,m,x){var b=arguments.length,A=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(A=(b<3?C(A):b>3?C(p,m,A):C(p,m))||A);return b>3&&A&&Object.defineProperty(p,m,A),A},t=nu&&nu.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(nu,"__esModule",{value:!0}),nu.BufferedTokenStream=void 0;const n=Ni(),r=qv(),s=Xi(),a=sf(),l=Ue(),f=$n();let d=class{constructor(p){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,p==null)throw new Error("tokenSource cannot be null");this._tokenSource=p}get tokenSource(){return this._tokenSource}set tokenSource(p){this._tokenSource=p,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(p){}seek(p){this.lazyInit(),this.p=this.adjustSeekIndex(p)}get size(){return this.tokens.length}consume(){let p;if(this.p>=0?this.fetchedEOF?p=this.p<this.tokens.length-1:p=this.p<this.tokens.length:p=!1,!p&&this.LA(1)===f.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(p){n(p>=0);let m=p-this.tokens.length+1;return m>0?this.fetch(m)>=m:!0}fetch(p){if(this.fetchedEOF)return 0;for(let m=0;m<p;m++){let x=this.tokenSource.nextToken();if(this.isWritableToken(x)&&(x.tokenIndex=this.tokens.length),this.tokens.push(x),x.type===f.Token.EOF)return this.fetchedEOF=!0,m+1}return p}get(p){if(p<0||p>=this.tokens.length)throw new RangeError("token index "+p+" out of range 0.."+(this.tokens.length-1));return this.tokens[p]}getRange(p,m){if(p<0||m<0)return[];this.lazyInit();let x=new Array;m>=this.tokens.length&&(m=this.tokens.length-1);for(let b=p;b<=m;b++){let A=this.tokens[b];if(A.type===f.Token.EOF)break;x.push(A)}return x}LA(p){let m=this.LT(p);return m?m.type:f.Token.INVALID_TYPE}tryLB(p){if(!(this.p-p<0))return this.tokens[this.p-p]}LT(p){let m=this.tryLT(p);if(m===void 0)throw new RangeError("requested lookback index out of range");return m}tryLT(p){if(this.lazyInit(),p===0)throw new RangeError("0 is not a valid lookahead index");if(p<0)return this.tryLB(-p);let m=this.p+p-1;return this.sync(m),m>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[m]}adjustSeekIndex(p){return p}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(p,m,x){if(this.lazyInit(),p===void 0)return n(m===void 0&&x===void 0),this.tokens;if(m===void 0&&(m=this.tokens.length-1),p<0||m>=this.tokens.length||m<0||p>=this.tokens.length)throw new RangeError("start "+p+" or stop "+m+" not in 0.."+(this.tokens.length-1));if(p>m)return[];if(x===void 0)return this.tokens.slice(p,m+1);typeof x=="number"&&(x=new Set().add(x));let b=x,A=this.tokens.slice(p,m+1);return A=A.filter(C=>b.has(C.type)),A}nextTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;let x=this.tokens[p];for(;x.channel!==m;){if(x.type===f.Token.EOF)return p;p++,this.sync(p),x=this.tokens[p]}return p}previousTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;for(;p>=0;){let x=this.tokens[p];if(x.type===f.Token.EOF||x.channel===m)return p;p--}return p}getHiddenTokensToRight(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));let x=this.nextTokenOnChannel(p+1,a.Lexer.DEFAULT_TOKEN_CHANNEL),b,A=p+1;return x===-1?b=this.size-1:b=x,this.filterForChannel(A,b,m)}getHiddenTokensToLeft(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));if(p===0)return[];let x=this.previousTokenOnChannel(p-1,a.Lexer.DEFAULT_TOKEN_CHANNEL);if(x===p-1)return[];let b=x+1,A=p-1;return this.filterForChannel(b,A,m)}filterForChannel(p,m,x){let b=new Array;for(let A=p;A<=m;A++){let C=this.tokens[A];x===-1?C.channel!==a.Lexer.DEFAULT_TOKEN_CHANNEL&&b.push(C):C.channel===x&&b.push(C)}return b}get sourceName(){return this.tokenSource.sourceName}getText(p){p===void 0?p=s.Interval.of(0,this.size-1):p instanceof s.Interval||(p=p.sourceInterval);let m=p.a,x=p.b;if(m<0||x<0)return"";this.fill(),x>=this.tokens.length&&(x=this.tokens.length-1);let b="";for(let A=m;A<=x;A++){let C=this.tokens[A];if(C.type===f.Token.EOF)break;b+=C.text}return b.toString()}getTextFromRange(p,m){return this.isToken(p)&&this.isToken(m)?this.getText(s.Interval.of(p.tokenIndex,m.tokenIndex)):""}fill(){this.lazyInit();const p=1e3;for(;;)if(this.fetch(p)<p)return}isWritableToken(p){return p instanceof r.CommonToken}isToken(p){return p instanceof r.CommonToken}};return e([l.NotNull],d.prototype,"_tokenSource",void 0),e([l.Override],d.prototype,"tokenSource",null),e([l.Override],d.prototype,"index",null),e([l.Override],d.prototype,"mark",null),e([l.Override],d.prototype,"release",null),e([l.Override],d.prototype,"seek",null),e([l.Override],d.prototype,"size",null),e([l.Override],d.prototype,"consume",null),e([l.Override],d.prototype,"get",null),e([l.Override],d.prototype,"LA",null),e([l.NotNull,l.Override],d.prototype,"LT",null),e([l.Override],d.prototype,"sourceName",null),e([l.NotNull,l.Override],d.prototype,"getText",null),e([l.NotNull,l.Override],d.prototype,"getTextFromRange",null),d=e([t(0,l.NotNull)],d),nu.BufferedTokenStream=d,nu}var bO;function cR(){if(bO)return tu;bO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=tu&&tu.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},t=tu&&tu.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(tu,"__esModule",{value:!0}),tu.CommonTokenStream=void 0;const n=fk(),r=Ue(),s=$n();let a=class extends n.BufferedTokenStream{constructor(f,d=s.Token.DEFAULT_CHANNEL){super(f),this.channel=d}adjustSeekIndex(f){return this.nextTokenOnChannel(f,this.channel)}tryLB(f){if(this.p-f<0)return;let d=this.p,g=1;for(;g<=f&&d>0;)d=this.previousTokenOnChannel(d-1,this.channel),g++;if(!(d<0))return this.tokens[d]}tryLT(f){if(this.lazyInit(),f===0)throw new RangeError("0 is not a valid lookahead index");if(f<0)return this.tryLB(-f);let d=this.p,g=1;for(;g<f;)this.sync(d+1)&&(d=this.nextTokenOnChannel(d+1,this.channel)),g++;return this.tokens[d]}getNumberOfOnChannelTokens(){let f=0;this.fill();for(let d of this.tokens)if(d.channel===this.channel&&f++,d.type===s.Token.EOF)break;return f}};return e([r.Override],a.prototype,"adjustSeekIndex",null),e([r.Override],a.prototype,"tryLB",null),e([r.Override],a.prototype,"tryLT",null),a=e([t(0,r.NotNull)],a),tu.CommonTokenStream=a,tu}var ru={},SO;function dk(){if(SO)return ru;SO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ru&&ru.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},t=ru&&ru.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(ru,"__esModule",{value:!0}),ru.ListTokenSource=void 0;const n=Q2(),r=Ue(),s=$n();let a=class{constructor(f,d){if(this.i=0,this._factory=n.CommonTokenFactory.DEFAULT,f==null)throw new Error("tokens cannot be null");this.tokens=f,this._sourceName=d}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let f=this.tokens[this.tokens.length-1],d=f.text;if(d!=null){let g=d.lastIndexOf(`
`);if(g>=0)return d.length-g-1}return f.charPositionInLine+f.stopIndex-f.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let d=-1;if(this.tokens.length>0){let p=this.tokens[this.tokens.length-1].stopIndex;p!==-1&&(d=p+1)}let g=Math.max(-1,d-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},s.Token.EOF,"EOF",s.Token.DEFAULT_CHANNEL,d,g,this.line,this.charPositionInLine)}return this.eofToken}let f=this.tokens[this.i];return this.i===this.tokens.length-1&&f.type===s.Token.EOF&&(this.eofToken=f),this.i++,f}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let f=this.tokens[this.tokens.length-1],d=f.line,g=f.text;if(g!=null)for(let p=0;p<g.length;p++)g.charAt(p)===`
`&&d++;return d}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let f=this.inputStream;return f!=null?f.sourceName:"List"}set tokenFactory(f){this._factory=f}get tokenFactory(){return this._factory}};return e([r.Override],a.prototype,"charPositionInLine",null),e([r.Override],a.prototype,"nextToken",null),e([r.Override],a.prototype,"line",null),e([r.Override],a.prototype,"inputStream",null),e([r.Override],a.prototype,"sourceName",null),e([r.Override,r.NotNull,t(0,r.NotNull)],a.prototype,"tokenFactory",null),a=e([t(0,r.NotNull)],a),ru.ListTokenSource=a,ru}var Y0={},EO;function KY(){if(EO)return Y0;EO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.MultiMap=void 0;let e=class extends Map{constructor(){super()}map(n,r){let s=super.get(n);s||(s=[],super.set(n,s)),s.push(r)}getPairs(){let n=[];return this.forEach((r,s)=>{r.forEach(a=>{n.push([s,a])})}),n}};return Y0.MultiMap=e,Y0}var W0={},AO;function hk(){if(AO)return W0;AO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(W0,"__esModule",{value:!0}),W0.ParseCancellationException=void 0;let e=class extends Error{constructor(n){super(n.message),this.cause=n,this.stack=n.stack}getCause(){return this.cause}};return W0.ParseCancellationException=e,W0}var iu={},Bd={},CO;function pk(){if(CO)return Bd;CO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bd&&Bd.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.InterpreterRuleContext=void 0;const t=Ue(),n=Fs();let r=class extends n.ParserRuleContext{constructor(a,l,f){f!==void 0?super(l,f):super(),this._ruleIndex=a}get ruleIndex(){return this._ruleIndex}};return e([t.Override],r.prototype,"ruleIndex",null),Bd.InterpreterRuleContext=r,Bd}var wO;function gk(){if(wO)return iu;wO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=iu&&iu.__decorate||function(R,N,I,D){var F=arguments.length,k=F<3?N:D===null?D=Object.getOwnPropertyDescriptor(N,I):D,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(R,N,I,D);else for(var B=R.length-1;B>=0;B--)(V=R[B])&&(k=(F<3?V(k):F>3?V(N,I,k):V(N,I))||k);return F>3&&k&&Object.defineProperty(N,I,k),k},t=iu&&iu.__param||function(R,N){return function(I,D){N(I,D,R)}};Object.defineProperty(iu,"__esModule",{value:!0}),iu.ParserInterpreter=void 0;const n=Iu(),r=Kr(),s=of(),a=KS(),l=XS(),f=pk(),d=nk(),g=Ue(),p=Ue(),m=ey(),x=Jv(),b=tf(),A=nR(),C=$n();let w=class _w extends m.Parser{constructor(N,I,D,F,k){if(super(N instanceof _w?N.inputStream:k),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,N instanceof _w){let V=N;this._grammarFileName=V._grammarFileName,this._atn=V._atn,this.pushRecursionContextStates=V.pushRecursionContextStates,this._ruleNames=V._ruleNames,this._vocabulary=V._vocabulary,this.interpreter=new x.ParserATNSimulator(this._atn,this)}else{I=I,D=D,F=F,this._grammarFileName=N,this._atn=F,this._ruleNames=D.slice(0),this._vocabulary=I,this.pushRecursionContextStates=new s.BitSet(F.states.length);for(let V of F.states)V instanceof A.StarLoopEntryState&&V.precedenceRuleDecision&&this.pushRecursionContextStates.set(V.stateNumber);this.interpreter=new x.ParserATNSimulator(F,this)}}reset(N){N===void 0?super.reset():super.reset(N),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(N){let I=this._atn.ruleToStartState[N];for(this._rootContext=this.createInterpreterRuleContext(void 0,n.ATNState.INVALID_STATE_NUMBER,N),I.isPrecedenceRule?this.enterRecursionRule(this._rootContext,I.stateNumber,N,0):this.enterRule(this._rootContext,I.stateNumber,N);;){let D=this.atnState;switch(D.stateType){case r.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(I.isPrecedenceRule){let F=this._ctx,k=this._parentContextStack.pop();return this.unrollRecursionContexts(k[0]),F}else return this.exitRule(),this._rootContext;this.visitRuleStopState(D);break;default:try{this.visitState(D)}catch(F){if(F instanceof b.RecognitionException)this.state=this._atn.ruleToStopState[D.ruleIndex].stateNumber,this.context.exception=F,this.errorHandler.reportError(this,F),this.recover(F);else throw F}break}}}enterRecursionRule(N,I,D,F){this._parentContextStack.push([this._ctx,N.invokingState]),super.enterRecursionRule(N,I,D,F)}get atnState(){return this._atn.states[this.state]}visitState(N){let I=1;N.numberOfTransitions>1&&(I=this.visitDecisionState(N));let D=N.transition(I-1);switch(D.serializationType){case 1:if(this.pushRecursionContextStates.get(N.stateNumber)&&!(D.target instanceof d.LoopEndState)){let te=this._parentContextStack[this._parentContextStack.length-1],re=this.createInterpreterRuleContext(te[0],te[1],this._ctx.ruleIndex);this.pushNewRecursionContext(re,this._atn.ruleToStartState[N.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(D._label);break;case 2:case 7:case 8:D.matches(this._input.LA(1),C.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let F=D.target,k=F.ruleIndex,V=this.createInterpreterRuleContext(this._ctx,N.stateNumber,k);F.isPrecedenceRule?this.enterRecursionRule(V,F.stateNumber,k,D.precedence):this.enterRule(V,D.target.stateNumber,k);break;case 4:let B=D;if(!this.sempred(this._ctx,B.ruleIndex,B.predIndex))throw new a.FailedPredicateException(this);break;case 6:let H=D;this.action(this._ctx,H.ruleIndex,H.actionIndex);break;case 10:if(!this.precpred(this._ctx,D.precedence)){let te=D.precedence;throw new a.FailedPredicateException(this,`precpred(_ctx, ${te})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=D.target.stateNumber}visitDecisionState(N){let I;this.errorHandler.sync(this);let D=N.decision;return D===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(I=this.overrideDecisionAlt,this.overrideDecisionReached=!0):I=this.interpreter.adaptivePredict(this._input,D,this._ctx),I}createInterpreterRuleContext(N,I,D){return new f.InterpreterRuleContext(D,N,I)}visitRuleStopState(N){if(this._atn.ruleToStartState[N.ruleIndex].isPrecedenceRule){let F=this._parentContextStack.pop();this.unrollRecursionContexts(F[0]),this.state=F[1]}else this.exitRule();let D=this._atn.states[this.state].transition(0);this.state=D.followState.stateNumber}addDecisionOverride(N,I,D){this.overrideDecision=N,this.overrideDecisionInputIndex=I,this.overrideDecisionAlt=D}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(N){let I=this._input.index;if(this.errorHandler.recover(this,N),this._input.index===I){let D=N.getOffendingToken();if(!D)throw new Error("Expected exception to have an offending token");let F=D.tokenSource,k=F!==void 0?F.inputStream:void 0,V={source:F,stream:k};if(N instanceof l.InputMismatchException){let B=N.expectedTokens;if(B===void 0)throw new Error("Expected the exception to provide expected tokens");let H=C.Token.INVALID_TYPE;B.isNil||(H=B.minElement);let te=this.tokenFactory.create(V,H,D.text,C.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,te))}else{D.tokenSource;let B=this.tokenFactory.create(V,C.Token.INVALID_TYPE,D.text,C.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,B))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};return e([g.NotNull],w.prototype,"_vocabulary",void 0),e([p.Override],w.prototype,"reset",null),e([p.Override],w.prototype,"atn",null),e([p.Override],w.prototype,"vocabulary",null),e([p.Override],w.prototype,"ruleNames",null),e([p.Override],w.prototype,"grammarFileName",null),e([p.Override],w.prototype,"enterRecursionRule",null),w=e([t(1,g.NotNull)],w),iu.ParserInterpreter=w,iu}var ou={},RO;function XY(){if(RO)return ou;RO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ou&&ou.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g},t=ou&&ou.__param||function(s,a){return function(l,f){a(l,f,s)}};Object.defineProperty(ou,"__esModule",{value:!0}),ou.ParseTreeMatch=void 0;const n=Ue();let r=class{constructor(a,l,f,d){if(!a)throw new Error("tree cannot be null");if(!l)throw new Error("pattern cannot be null");if(!f)throw new Error("labels cannot be null");this._tree=a,this._pattern=l,this._labels=f,this._mismatchedNode=d}get(a){let l=this._labels.get(a);if(!(!l||l.length===0))return l[l.length-1]}getAll(a){const l=this._labels.get(a);return l||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};return e([n.NotNull,t(0,n.NotNull)],r.prototype,"getAll",null),e([n.NotNull],r.prototype,"labels",null),e([n.NotNull],r.prototype,"pattern",null),e([n.NotNull],r.prototype,"tree",null),e([n.Override],r.prototype,"toString",null),r=e([t(0,n.NotNull),t(1,n.NotNull),t(2,n.NotNull)],r),ou.ParseTreeMatch=r,ou}var su={},q0={},K0={},TO;function ZY(){if(TO)return K0;TO=1,Object.defineProperty(K0,"__esModule",{value:!0}),K0.XPathLexer=void 0;const e=lR(),t=sf(),n=tE(),r=vh(),s=Ou();let a=class ho extends t.Lexer{constructor(f){super(f),this._interp=new n.LexerATNSimulator(ho._ATN,this)}get vocabulary(){return ho.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return ho.ruleNames}get serializedATN(){return ho._serializedATN}get channelNames(){return ho.channelNames}get modeNames(){return ho.modeNames}action(f,d,g){switch(d){case 4:this.ID_action(f,g);break}}ID_action(f,d){switch(d){case 0:let g=this.text;g.charAt(0)===g.charAt(0).toUpperCase()?this.type=ho.TOKEN_REF:this.type=ho.RULE_REF;break}}static get _ATN(){return ho.__ATN||(ho.__ATN=new e.ATNDeserializer().deserialize(s.toCharArray(ho._serializedATN))),ho.__ATN}};return K0.XPathLexer=a,a.TOKEN_REF=1,a.RULE_REF=2,a.ANYWHERE=3,a.ROOT=4,a.WILDCARD=5,a.BANG=6,a.ID=7,a.STRING=8,a.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],a.modeNames=["DEFAULT_MODE"],a.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],a._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],a._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],a.VOCABULARY=new r.VocabularyImpl(a._LITERAL_NAMES,a._SYMBOLIC_NAMES,[]),a._serializedATNSegments=2,a._serializedATNSegment0=`
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r

2;C\\aac|\r(*<>?AOR_\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1"C\\c|\r(*<>?AOR_`,a._serializedATNSegment1=`1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`,a._serializedATN=s.join([a._serializedATNSegment0,a._serializedATNSegment1],""),K0}var jd={},NO;function JY(){if(NO)return jd;NO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jd&&jd.__decorate||function(r,s,a,l){var f=arguments.length,d=f<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,s,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(d=(f<3?g(d):f>3?g(s,a,d):g(s,a))||d);return f>3&&d&&Object.defineProperty(s,a,d),d};Object.defineProperty(jd,"__esModule",{value:!0}),jd.XPathLexerErrorListener=void 0;const t=Ue();let n=class{syntaxError(s,a,l,f,d,g){}};return e([t.Override],n.prototype,"syntaxError",null),jd.XPathLexerErrorListener=n,jd}var zd={},Vd={},_O;function Og(){if(_O)return Vd;_O=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vd&&Vd.__decorate||function(r,s,a,l){var f=arguments.length,d=f<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,s,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(d=(f<3?g(d):f>3?g(s,a,d):g(s,a))||d);return f>3&&d&&Object.defineProperty(s,a,d),d};Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.XPathElement=void 0;const t=Ue();let n=class{constructor(s){this.nodeName=s,this.invert=!1}toString(){let s=this.invert?"!":"";return Object.constructor.name+"["+s+this.nodeName+"]"}};return e([t.Override],n.prototype,"toString",null),Vd.XPathElement=n,Vd}var IO;function QY(){if(IO)return zd;IO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zd&&zd.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(zd,"__esModule",{value:!0}),zd.XPathRuleAnywhereElement=void 0;const t=Ue(),n=xh(),r=Og();let s=class extends r.XPathElement{constructor(l,f){super(l),this.ruleIndex=f}evaluate(l){return n.Trees.findAllRuleNodes(l,this.ruleIndex)}};return e([t.Override],s.prototype,"evaluate",null),zd.XPathRuleAnywhereElement=s,zd}var Ud={},OO;function eW(){if(OO)return Ud;OO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ud&&Ud.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m};Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.XPathRuleElement=void 0;const t=Fs(),n=Ue(),r=xh(),s=Og();let a=class extends s.XPathElement{constructor(f,d){super(f),this.ruleIndex=d}evaluate(f){let d=[];for(let g of r.Trees.getChildren(f))g instanceof t.ParserRuleContext&&(g.ruleIndex===this.ruleIndex&&!this.invert||g.ruleIndex!==this.ruleIndex&&this.invert)&&d.push(g);return d}};return e([n.Override],a.prototype,"evaluate",null),Ud.XPathRuleElement=a,Ud}var Gd={},DO;function tW(){if(DO)return Gd;DO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gd&&Gd.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.XPathTokenAnywhereElement=void 0;const t=Ue(),n=xh(),r=Og();let s=class extends r.XPathElement{constructor(l,f){super(l),this.tokenType=f}evaluate(l){return n.Trees.findAllTokenNodes(l,this.tokenType)}};return e([t.Override],s.prototype,"evaluate",null),Gd.XPathTokenAnywhereElement=s,Gd}var $d={},PO;function nW(){if(PO)return $d;PO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$d&&$d.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m};Object.defineProperty($d,"__esModule",{value:!0}),$d.XPathTokenElement=void 0;const t=Ue(),n=Ig(),r=xh(),s=Og();let a=class extends s.XPathElement{constructor(f,d){super(f),this.tokenType=d}evaluate(f){let d=[];for(let g of r.Trees.getChildren(f))g instanceof n.TerminalNode&&(g.symbol.type===this.tokenType&&!this.invert||g.symbol.type!==this.tokenType&&this.invert)&&d.push(g);return d}};return e([t.Override],a.prototype,"evaluate",null),$d.XPathTokenElement=a,$d}var Hd={},MO;function rW(){if(MO)return Hd;MO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hd&&Hd.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m};Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.XPathWildcardAnywhereElement=void 0;const t=Ue(),n=xh(),r=fR(),s=Og();let a=class extends s.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(f){return this.invert?[]:n.Trees.getDescendants(f)}};return e([t.Override],a.prototype,"evaluate",null),Hd.XPathWildcardAnywhereElement=a,Hd}var Yd={},LO;function iW(){if(LO)return Yd;LO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yd&&Yd.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m};Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.XPathWildcardElement=void 0;const t=Ue(),n=xh(),r=fR(),s=Og();let a=class extends s.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(f){let d=[];if(this.invert)return d;for(let g of n.Trees.getChildren(f))d.push(g);return d}};return e([t.Override],a.prototype,"evaluate",null),Yd.XPathWildcardElement=a,Yd}var FO;function fR(){if(FO)return q0;FO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(q0,"__esModule",{value:!0}),q0.XPath=void 0;const e=uR(),t=cR(),n=eE(),r=Fs(),s=$n(),a=ZY(),l=JY(),f=QY(),d=eW(),g=tW(),p=nW(),m=rW(),x=iW();let b=class mk{constructor(C,w){this.parser=C,this.path=w,this.elements=this.split(w)}split(C){let w=new a.XPathLexer(e.CharStreams.fromString(C));w.recover=k=>{throw k},w.removeErrorListeners(),w.addErrorListener(new l.XPathLexerErrorListener);let R=new t.CommonTokenStream(w);try{R.fill()}catch(k){if(k instanceof n.LexerNoViableAltException){let B="Invalid tokens or characters at index "+w.charPositionInLine+" in path '"+C+"' -- "+k.message;throw new RangeError(B)}throw k}let N=R.getTokens(),I=[],D=N.length,F=0;e:for(;F<D;){let k=N[F],V;switch(k.type){case a.XPathLexer.ROOT:case a.XPathLexer.ANYWHERE:let B=k.type===a.XPathLexer.ANYWHERE;F++,V=N[F];let H=V.type===a.XPathLexer.BANG;H&&(F++,V=N[F]);let te=this.getXPathElement(V,B);te.invert=H,I.push(te),F++;break;case a.XPathLexer.TOKEN_REF:case a.XPathLexer.RULE_REF:case a.XPathLexer.WILDCARD:I.push(this.getXPathElement(k,!1)),F++;break;case s.Token.EOF:break e;default:throw new Error("Unknowth path element "+k)}}return I}getXPathElement(C,w){if(C.type===s.Token.EOF)throw new Error("Missing path element at end of path");let R=C.text;if(R==null)throw new Error("Expected wordToken to have text content.");let N=this.parser.getTokenType(R),I=this.parser.getRuleIndex(R);switch(C.type){case a.XPathLexer.WILDCARD:return w?new m.XPathWildcardAnywhereElement:new x.XPathWildcardElement;case a.XPathLexer.TOKEN_REF:case a.XPathLexer.STRING:if(N===s.Token.INVALID_TYPE)throw new Error(R+" at index "+C.startIndex+" isn't a valid token name");return w?new g.XPathTokenAnywhereElement(R,N):new p.XPathTokenElement(R,N);default:if(I===-1)throw new Error(R+" at index "+C.startIndex+" isn't a valid rule name");return w?new f.XPathRuleAnywhereElement(R,I):new d.XPathRuleElement(R,I)}}static findAll(C,w,R){return new mk(R,w).evaluate(C)}evaluate(C){let w=new r.ParserRuleContext;w.addChild(C);let R=new Set([w]),N=0;for(;N<this.elements.length;){let I=new Set;for(let D of R)D.childCount>0&&this.elements[N].evaluate(D).forEach(I.add,I);N++,R=I}return R}};return q0.XPath=b,b.WILDCARD="*",b.NOT="!",q0}var kO;function oW(){if(kO)return su;kO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=su&&su.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=su&&su.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(su,"__esModule",{value:!0}),su.ParseTreePattern=void 0;const n=Ue(),r=fR();let s=class{constructor(l,f,d,g){this._matcher=l,this._patternRuleIndex=d,this._pattern=f,this._patternTree=g}match(l){return this._matcher.match(l,this)}matches(l){return this._matcher.match(l,this).succeeded}findAll(l,f){let d=r.XPath.findAll(l,f,this._matcher.parser),g=[];for(let p of d){let m=this.match(p);m.succeeded&&g.push(m)}return g}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};return e([n.NotNull],s.prototype,"_pattern",void 0),e([n.NotNull],s.prototype,"_patternTree",void 0),e([n.NotNull],s.prototype,"_matcher",void 0),e([n.NotNull,t(0,n.NotNull)],s.prototype,"match",null),e([t(0,n.NotNull)],s.prototype,"matches",null),e([n.NotNull,t(0,n.NotNull),t(1,n.NotNull)],s.prototype,"findAll",null),e([n.NotNull],s.prototype,"matcher",null),e([n.NotNull],s.prototype,"pattern",null),e([n.NotNull],s.prototype,"patternTree",null),s=e([t(0,n.NotNull),t(1,n.NotNull),t(3,n.NotNull)],s),su.ParseTreePattern=s,su}var au={},BO;function sW(){if(BO)return au;BO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=au&&au.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=au&&au.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(au,"__esModule",{value:!0}),au.RuleTagToken=void 0;const n=Ue(),r=$n();let s=class{constructor(l,f,d){if(l==null||l.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=l,this.bypassTokenType=f,this._label=d}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return r.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};return e([n.NotNull],s.prototype,"ruleName",null),e([n.Override],s.prototype,"channel",null),e([n.Override],s.prototype,"text",null),e([n.Override],s.prototype,"type",null),e([n.Override],s.prototype,"line",null),e([n.Override],s.prototype,"charPositionInLine",null),e([n.Override],s.prototype,"tokenIndex",null),e([n.Override],s.prototype,"startIndex",null),e([n.Override],s.prototype,"stopIndex",null),e([n.Override],s.prototype,"tokenSource",null),e([n.Override],s.prototype,"inputStream",null),e([n.Override],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),au.RuleTagToken=s,au}var Wd={},X0={},jO;function vk(){if(jO)return X0;jO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(X0,"__esModule",{value:!0}),X0.Chunk=void 0;let e=class{};return X0.Chunk=e,X0}var zO;function aW(){if(zO)return Wd;zO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wd&&Wd.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.TagChunk=void 0;const t=vk(),n=Ue();let r=class extends t.Chunk{constructor(a,l){if(super(),a==null||a.length===0)throw new Error("tag cannot be null or empty");this._tag=a,this._label=l}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};return e([n.NotNull],r.prototype,"tag",null),e([n.Override],r.prototype,"toString",null),Wd.TagChunk=r,Wd}var lu={},VO;function lW(){if(VO)return lu;VO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=lu&&lu.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=lu&&lu.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(lu,"__esModule",{value:!0}),lu.TextChunk=void 0;const n=vk(),r=Ue();let s=class extends n.Chunk{constructor(l){if(super(),l==null)throw new Error("text cannot be null");this._text=l}get text(){return this._text}toString(){return"'"+this._text+"'"}};return e([r.NotNull],s.prototype,"_text",void 0),e([r.NotNull],s.prototype,"text",null),e([r.Override],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),lu.TextChunk=s,lu}var uu={},UO;function uW(){if(UO)return uu;UO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=uu&&uu.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=uu&&uu.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(uu,"__esModule",{value:!0}),uu.TokenTagToken=void 0;const n=qv(),r=Ue();let s=class extends n.CommonToken{constructor(l,f,d){super(f),this._tokenName=l,this._label=d}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};return e([r.NotNull],s.prototype,"_tokenName",void 0),e([r.NotNull],s.prototype,"tokenName",null),e([r.Override],s.prototype,"text",null),e([r.Override],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),uu.TokenTagToken=s,uu}var GO;function cW(){return GO||(GO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Fd&&Fd.__decorate||function(V,B,H,te){var re=arguments.length,se=re<3?B:te===null?te=Object.getOwnPropertyDescriptor(B,H):te,Ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(V,B,H,te);else for(var ke=V.length-1;ke>=0;ke--)(Ee=V[ke])&&(se=(re<3?Ee(se):re>3?Ee(B,H,se):Ee(B,H))||se);return re>3&&se&&Object.defineProperty(B,H,se),se},n=Fd&&Fd.__param||function(V,B){return function(H,te){B(H,te,V)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreePatternMatcher=void 0;const r=yk(),s=uR(),a=cR(),l=dk(),f=KY(),d=Ue(),g=hk(),p=gk(),m=Fs(),x=XY(),b=oW(),A=tf(),C=aR(),w=sW(),R=aW(),N=Ig(),I=lW(),D=$n(),F=uW();let k=class Iw{constructor(B,H){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=B,this._parser=H}setDelimiters(B,H,te){if(!B)throw new Error("start cannot be null or empty");if(!H)throw new Error("stop cannot be null or empty");this.start=B,this.stop=H,this.escape=te,this.escapeRE=new RegExp(te.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(B,H,te=0){if(typeof H=="string"){let re=this.compile(H,te);return this.matches(B,re)}else{let re=new f.MultiMap;return!this.matchImpl(B,H.patternTree,re)}}match(B,H,te=0){if(typeof H=="string"){let re=this.compile(H,te);return this.match(B,re)}else{let re=new f.MultiMap,se=this.matchImpl(B,H.patternTree,re);return new x.ParseTreeMatch(B,H,re,se)}}compile(B,H){let te=this.tokenize(B),re=new l.ListTokenSource(te),se=new a.CommonTokenStream(re);const Ee=this._parser;let ke=new p.ParserInterpreter(Ee.grammarFileName,Ee.vocabulary,Ee.ruleNames,Ee.getATNWithBypassAlts(),se),Me;try{ke.errorHandler=new r.BailErrorStrategy,Me=ke.parse(H)}catch(ie){throw ie instanceof g.ParseCancellationException?ie.getCause():ie instanceof A.RecognitionException?ie:ie instanceof Error?new Iw.CannotInvokeStartRule(ie):ie}if(se.LA(1)!==D.Token.EOF)throw new Iw.StartRuleDoesNotConsumeFullPattern;return new b.ParseTreePattern(this,B,H,Me)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(B,H,te){if(!B)throw new TypeError("tree cannot be null");if(!H)throw new TypeError("patternTree cannot be null");if(B instanceof N.TerminalNode&&H instanceof N.TerminalNode){let re;if(B.symbol.type===H.symbol.type)if(H.symbol instanceof F.TokenTagToken){let se=H.symbol;te.map(se.tokenName,B);const Ee=se.label;Ee&&te.map(Ee,B)}else B.text===H.text||re||(re=B);else re||(re=B);return re}if(B instanceof m.ParserRuleContext&&H instanceof m.ParserRuleContext){let re,se=this.getRuleTagToken(H);if(se){if(B.ruleContext.ruleIndex===H.ruleContext.ruleIndex){te.map(se.ruleName,B);const ke=se.label;ke&&te.map(ke,B)}else re||(re=B);return re}if(B.childCount!==H.childCount)return re||(re=B),re;let Ee=B.childCount;for(let ke=0;ke<Ee;ke++){let Me=this.matchImpl(B.getChild(ke),H.getChild(ke),te);if(Me)return Me}return re}return B}getRuleTagToken(B){if(B instanceof C.RuleNode&&B.childCount===1&&B.getChild(0)instanceof N.TerminalNode){let H=B.getChild(0);if(H.symbol instanceof w.RuleTagToken)return H.symbol}}tokenize(B){let H=this.split(B),te=[];for(let re of H)if(re instanceof R.TagChunk){let se=re;const Ee=se.tag.substr(0,1);if(Ee===Ee.toUpperCase()){let ke=this._parser.getTokenType(se.tag);if(ke===D.Token.INVALID_TYPE)throw new Error("Unknown token "+se.tag+" in pattern: "+B);let Me=new F.TokenTagToken(se.tag,ke,se.label);te.push(Me)}else if(Ee===Ee.toLowerCase()){let ke=this._parser.getRuleIndex(se.tag);if(ke===-1)throw new Error("Unknown rule "+se.tag+" in pattern: "+B);let Me=this._parser.getATNWithBypassAlts().ruleToTokenType[ke];te.push(new w.RuleTagToken(se.tag,Me,se.label))}else throw new Error("invalid tag: "+se.tag+" in pattern: "+B)}else{let se=re;this._lexer.inputStream=s.CharStreams.fromString(se.text);let Ee=this._lexer.nextToken();for(;Ee.type!==D.Token.EOF;)te.push(Ee),Ee=this._lexer.nextToken()}return te}split(B){let H=0,te=B.length,re=[],se=[],Ee=[];for(;H<te;)H===B.indexOf(this.escape+this.start,H)?H+=this.escape.length+this.start.length:H===B.indexOf(this.escape+this.stop,H)?H+=this.escape.length+this.stop.length:H===B.indexOf(this.start,H)?(se.push(H),H+=this.start.length):H===B.indexOf(this.stop,H)?(Ee.push(H),H+=this.stop.length):H++;if(se.length>Ee.length)throw new Error("unterminated tag in pattern: "+B);if(se.length<Ee.length)throw new Error("missing start tag in pattern: "+B);let ke=se.length;for(let Me=0;Me<ke;Me++)if(se[Me]>=Ee[Me])throw new Error("tag delimiters out of order in pattern: "+B);if(ke===0){let Me=B.substring(0,te);re.push(new I.TextChunk(Me))}if(ke>0&&se[0]>0){let Me=B.substring(0,se[0]);re.push(new I.TextChunk(Me))}for(let Me=0;Me<ke;Me++){let ie=B.substring(se[Me]+this.start.length,Ee[Me]),we=ie,de,ue=ie.indexOf(":");if(ue>=0&&(de=ie.substring(0,ue),we=ie.substring(ue+1,ie.length)),re.push(new R.TagChunk(we,de)),Me+1<ke){let K=B.substring(Ee[Me]+this.stop.length,se[Me+1]);re.push(new I.TextChunk(K))}}if(ke>0){let Me=Ee[ke-1]+this.stop.length;if(Me<te){let ie=B.substring(Me,te);re.push(new I.TextChunk(ie))}}for(let Me=0;Me<re.length;Me++){let ie=re[Me];if(ie instanceof I.TextChunk){let we=ie.text.replace(this.escapeRE,"");we.length<ie.text.length&&(re[Me]=new I.TextChunk(we))}}return re}};t([d.NotNull,n(1,d.NotNull)],k.prototype,"match",null),t([d.NotNull],k.prototype,"lexer",null),t([d.NotNull],k.prototype,"parser",null),t([n(0,d.NotNull),n(1,d.NotNull),n(2,d.NotNull)],k.prototype,"matchImpl",null),e.ParseTreePatternMatcher=k,function(V){class B extends Error{constructor(re){super(`CannotInvokeStartRule: ${re}`),this.error=re}}V.CannotInvokeStartRule=B;class H extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}V.StartRuleDoesNotConsumeFullPattern=H}(k=e.ParseTreePatternMatcher||(e.ParseTreePatternMatcher={}))}(Fd)),Fd}var cu={},fu={},du={},$O;function Qv(){if($O)return du;$O=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=du&&du.__decorate||function(s,a,l,f){var d=arguments.length,g=d<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,f);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g},t=du&&du.__param||function(s,a){return function(l,f){a(l,f,s)}};Object.defineProperty(du,"__esModule",{value:!0}),du.DecisionEventInfo=void 0;const n=Ue();let r=class{constructor(a,l,f,d,g,p){this.decision=a,this.fullCtx=p,this.stopIndex=g,this.input=f,this.startIndex=d,this.state=l}};return e([n.NotNull],r.prototype,"input",void 0),r=e([t(2,n.NotNull)],r),du.DecisionEventInfo=r,du}var HO;function fW(){if(HO)return fu;HO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=fu&&fu.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=fu&&fu.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(fu,"__esModule",{value:!0}),fu.AmbiguityInfo=void 0;const n=Qv(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(l,f,d,g,p,m){super(l,f,g,p,m,f.useContext),this.ambigAlts=d}get ambiguousAlternatives(){return this.ambigAlts}};return e([r.NotNull],s.prototype,"ambigAlts",void 0),e([r.NotNull],s.prototype,"ambiguousAlternatives",null),s=e([t(1,r.NotNull),t(2,r.NotNull),t(3,r.NotNull)],s),fu.AmbiguityInfo=s,fu}var hu={},YO;function dW(){if(YO)return hu;YO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=hu&&hu.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=hu&&hu.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(hu,"__esModule",{value:!0}),hu.ContextSensitivityInfo=void 0;const n=Qv(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(l,f,d,g,p){super(l,f,d,g,p,!0)}};return s=e([t(1,r.NotNull),t(2,r.NotNull)],s),hu.ContextSensitivityInfo=s,hu}var qd={},WO;function hW(){if(WO)return qd;WO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=qd&&qd.__decorate||function(r,s,a,l){var f=arguments.length,d=f<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,s,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(d=(f<3?g(d):f>3?g(s,a,d):g(s,a))||d);return f>3&&d&&Object.defineProperty(s,a,d),d};Object.defineProperty(qd,"__esModule",{value:!0}),qd.DecisionInfo=void 0;const t=Ue();let n=class{constructor(s){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=s}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};return e([t.Override],n.prototype,"toString",null),qd.DecisionInfo=n,qd}var pu={},qO;function pW(){if(qO)return pu;qO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pu&&pu.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=pu&&pu.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(pu,"__esModule",{value:!0}),pu.ErrorInfo=void 0;const n=Qv(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(l,f,d,g,p){super(l,f,d,g,p,f.useContext)}};return s=e([t(1,r.NotNull),t(2,r.NotNull)],s),pu.ErrorInfo=s,pu}var gu={},KO;function gW(){if(KO)return gu;KO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gu&&gu.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=gu&&gu.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(gu,"__esModule",{value:!0}),gu.LookaheadEventInfo=void 0;const n=Qv(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(l,f,d,g,p,m,x){super(l,f,g,p,m,x),this.predictedAlt=d}};return s=e([t(3,r.NotNull)],s),gu.LookaheadEventInfo=s,gu}var mu={},XO;function mW(){if(XO)return mu;XO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=mu&&mu.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p},t=mu&&mu.__param||function(a,l){return function(f,d){l(f,d,a)}};Object.defineProperty(mu,"__esModule",{value:!0}),mu.PredicateEvalInfo=void 0;const n=Qv(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(l,f,d,g,p,m,x,b){super(f,l,d,g,p,l.useContext),this.semctx=m,this.evalResult=x,this.predictedAlt=b}};return s=e([t(0,r.NotNull),t(2,r.NotNull),t(5,r.NotNull)],s),mu.PredicateEvalInfo=s,mu}var ZO;function JO(){if(ZO)return cu;ZO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=cu&&cu.__decorate||function(C,w,R,N){var I=arguments.length,D=I<3?w:N===null?N=Object.getOwnPropertyDescriptor(w,R):N,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,w,R,N);else for(var k=C.length-1;k>=0;k--)(F=C[k])&&(D=(I<3?F(D):I>3?F(w,R,D):F(w,R))||D);return I>3&&D&&Object.defineProperty(w,R,D),D},t=cu&&cu.__param||function(C,w){return function(R,N){w(R,N,C)}};Object.defineProperty(cu,"__esModule",{value:!0}),cu.ProfilingATNSimulator=void 0;const n=fW(),r=Va(),s=QS(),a=dW(),l=hW(),f=pW(),d=Ue(),g=gW(),p=Jv(),m=mW(),x=Ng(),b=sk();let A=class extends p.ParserATNSimulator{constructor(w){super(w.interpreter.atn,w),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let R=0;R<this.numDecisions;R++)this.decisions.push(new l.DecisionInfo(R))}adaptivePredict(w,R,N,I){if(I!==void 0)return super.adaptivePredict(w,R,N,I);try{this._input=w,this._startIndex=w.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=R,this.currentState=void 0,this.conflictingAltResolvedBySLL=r.ATN.INVALID_ALT_NUMBER;let D=process.hrtime(),F=super.adaptivePredict(w,R,N),k=process.hrtime(),V=(k[0]-D[0])*1e9;V===0?V=k[1]-D[1]:V+=1e9-D[1]+k[1],this.decisions[R].timeInPrediction+=V,this.decisions[R].invocations++;let B=this._sllStopIndex-this._startIndex+1;if(this.decisions[R].SLL_TotalLook+=B,this.decisions[R].SLL_MinLook=this.decisions[R].SLL_MinLook===0?B:Math.min(this.decisions[R].SLL_MinLook,B),B>this.decisions[R].SLL_MaxLook&&(this.decisions[R].SLL_MaxLook=B,this.decisions[R].SLL_MaxLookEvent=new g.LookaheadEventInfo(R,void 0,F,w,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let H=this._llStopIndex-this._startIndex+1;this.decisions[R].LL_TotalLook+=H,this.decisions[R].LL_MinLook=this.decisions[R].LL_MinLook===0?H:Math.min(this.decisions[R].LL_MinLook,H),H>this.decisions[R].LL_MaxLook&&(this.decisions[R].LL_MaxLook=H,this.decisions[R].LL_MaxLookEvent=new g.LookaheadEventInfo(R,void 0,F,w,this._startIndex,this._llStopIndex,!0))}return F}finally{this._input=void 0,this.currentDecision=-1}}getStartState(w,R,N,I){let D=super.getStartState(w,R,N,I);return this.currentState=D,D}computeStartState(w,R,N){let I=super.computeStartState(w,R,N);return this.currentState=I,I}computeReachSet(w,R,N,I){if(this._input===void 0)throw new Error("Invalid state");let D=super.computeReachSet(w,R,N,I);return D==null&&this.decisions[this.currentDecision].errors.push(new f.ErrorInfo(this.currentDecision,R,this._input,this._startIndex,this._input.index)),this.currentState=D,D}getExistingTargetState(w,R){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let N=super.getExistingTargetState(w,R);if(N!=null&&(this.currentState=new b.SimulatorState(this.currentState.outerContext,N,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,N===s.ATNSimulator.ERROR)){let I=new b.SimulatorState(this.currentState.outerContext,w,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new f.ErrorInfo(this.currentDecision,I,this._input,this._startIndex,this._input.index))}return N}computeTargetState(w,R,N,I,D,F){let k=super.computeTargetState(w,R,N,I,D,F);return D?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,k}evalSemanticContextImpl(w,R,N){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let I=super.evalSemanticContextImpl(w,R,N);if(!(w instanceof x.SemanticContext.PrecedencePredicate)){let F=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new m.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,F,w,I,N))}return I}reportContextSensitivity(w,R,N,I,D){if(this._input===void 0)throw new Error("Invalid state");R!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new a.ContextSensitivityInfo(this.currentDecision,N,this._input,I,D)),super.reportContextSensitivity(w,R,N,I,D)}reportAttemptingFullContext(w,R,N,I,D){R!=null?this.conflictingAltResolvedBySLL=R.nextSetBit(0):this.conflictingAltResolvedBySLL=N.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(w,R,N,I,D)}reportAmbiguity(w,R,N,I,D,F,k){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let V;F!=null?V=F.nextSetBit(0):V=k.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==r.ATN.INVALID_ALT_NUMBER&&V!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new a.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,N,I)),this.decisions[this.currentDecision].ambiguities.push(new n.AmbiguityInfo(this.currentDecision,this.currentState,F,this._input,N,I)),super.reportAmbiguity(w,R,N,I,D,F,k)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};return e([d.Override,t(0,d.NotNull)],A.prototype,"adaptivePredict",null),e([d.Override],A.prototype,"getStartState",null),e([d.Override],A.prototype,"computeStartState",null),e([d.Override],A.prototype,"computeReachSet",null),e([d.Override],A.prototype,"getExistingTargetState",null),e([d.Override],A.prototype,"computeTargetState",null),e([d.Override],A.prototype,"evalSemanticContextImpl",null),e([d.Override],A.prototype,"reportContextSensitivity",null),e([d.Override],A.prototype,"reportAttemptingFullContext",null),e([d.Override,t(0,d.NotNull),t(5,d.NotNull),t(6,d.NotNull)],A.prototype,"reportAmbiguity",null),cu.ProfilingATNSimulator=A,cu}var QO;function ey(){if(QO)return As;QO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=As&&As.__decorate||function(I,D,F,k){var V=arguments.length,B=V<3?D:k===null?k=Object.getOwnPropertyDescriptor(D,F):k,H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(I,D,F,k);else for(var te=I.length-1;te>=0;te--)(H=I[te])&&(B=(V<3?H(B):V>3?H(D,F,B):H(D,F))||B);return V>3&&B&&Object.defineProperty(D,F,B),B},t=As&&As.__param||function(I,D){return function(F,k){D(F,k,I)}},n=As&&As.__awaiter||function(I,D,F,k){function V(B){return B instanceof F?B:new F(function(H){H(B)})}return new(F||(F=Promise))(function(B,H){function te(Ee){try{se(k.next(Ee))}catch(ke){H(ke)}}function re(Ee){try{se(k.throw(Ee))}catch(ke){H(ke)}}function se(Ee){Ee.done?B(Ee.value):V(Ee.value).then(te,re)}se((k=k.apply(I,D||[])).next())})};Object.defineProperty(As,"__esModule",{value:!0}),As.Parser=void 0;const r=Ou(),s=qF(),a=lR(),l=dR(),f=sR(),d=FF(),g=sf(),p=Ue(),m=WY(),x=Jv(),b=ak(),A=Xv(),C=Ig(),w=$n();class R{constructor(D,F){this.ruleNames=D,this.tokenStream=F}enterEveryRule(D){console.log("enter   "+this.ruleNames[D.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(D){console.log("exit    "+this.ruleNames[D.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(D){}visitTerminal(D){let F=D.parent.ruleContext,k=D.symbol;console.log("consume "+k+" rule "+this.ruleNames[F.ruleIndex])}}e([p.Override],R.prototype,"enterEveryRule",null),e([p.Override],R.prototype,"exitEveryRule",null),e([p.Override],R.prototype,"visitErrorNode",null),e([p.Override],R.prototype,"visitTerminal",null);let N=class Wb extends A.Recognizer{constructor(D){super(),this._errHandler=new l.DefaultErrorStrategy,this._precedenceStack=new d.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=D}reset(D){(D===void 0||D)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let F=this.interpreter;F!=null&&F.reset()}match(D){let F=this.currentToken;return F.type===D?(D===w.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(F=this._errHandler.recoverInline(this),this._buildParseTrees&&F.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,F))),F}matchWildcard(){let D=this.currentToken;return D.type>0?(this._errHandler.reportMatch(this),this.consume()):(D=this._errHandler.recoverInline(this),this._buildParseTrees&&D.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,D))),D}set buildParseTree(D){this._buildParseTrees=D}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(D){if(D==null)throw new TypeError("listener cannot be null");this._parseListeners.push(D)}removeParseListener(D){let F=this._parseListeners.findIndex(k=>k===D);F!==-1&&this._parseListeners.splice(F,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let D of this._parseListeners)D.enterEveryRule&&D.enterEveryRule(this._ctx),this._ctx.enterRule(D)}triggerExitRuleEvent(){for(let D=this._parseListeners.length-1;D>=0;D--){let F=this._parseListeners[D];this._ctx.exitRule(F),F.exitEveryRule&&F.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let D=this.serializedATN;if(D==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let F=Wb.bypassAltsAtnCache.get(D);if(F==null){let k=new s.ATNDeserializationOptions;k.isGenerateRuleBypassTransitions=!0,F=new a.ATNDeserializer(k).deserialize(r.toCharArray(D)),Wb.bypassAltsAtnCache.set(D,F)}return F}compileParseTreePattern(D,F,k){return n(this,void 0,void 0,function*(){if(!k){if(this.inputStream){let te=this.inputStream.tokenSource;te instanceof g.Lexer&&(k=te)}if(!k)throw new Error("Parser can't discover a lexer to use")}let V=k,B=yield Promise.resolve().then(()=>cW());return new B.ParseTreePatternMatcher(V,this).compile(D,F)})}get errorHandler(){return this._errHandler}set errorHandler(D){this._errHandler=D}get inputStream(){return this._input}set inputStream(D){this.reset(!1),this._input=D}get currentToken(){return this._input.LT(1)}notifyErrorListeners(D,F,k){F===void 0?F=this.currentToken:F===null&&(F=void 0),this._syntaxErrors++;let V=-1,B=-1;F!=null&&(V=F.line,B=F.charPositionInLine);let H=this.getErrorListenerDispatch();H.syntaxError&&H.syntaxError(this,F,V,B,D,k)}consume(){let D=this.currentToken;D.type!==Wb.EOF&&this.inputStream.consume();let F=this._parseListeners.length!==0;if(this._buildParseTrees||F)if(this._errHandler.inErrorRecoveryMode(this)){let k=this._ctx.addErrorNode(this.createErrorNode(this._ctx,D));if(F)for(let V of this._parseListeners)V.visitErrorNode&&V.visitErrorNode(k)}else{let k=this.createTerminalNode(this._ctx,D);if(this._ctx.addChild(k),F)for(let V of this._parseListeners)V.visitTerminal&&V.visitTerminal(k)}return D}createTerminalNode(D,F){return new C.TerminalNode(F)}createErrorNode(D,F){return new f.ErrorNode(F)}addContextToParseTree(){let D=this._ctx._parent;D!=null&&D.addChild(this._ctx)}enterRule(D,F,k){this.state=F,this._ctx=D,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(D,F,k){if(this.state=F,this._buildParseTrees){let V=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),V._parent=D,D.addChild(V)}this._ctx=D,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(D,F){if(D.altNumber=F,this._buildParseTrees&&this._ctx!==D){let k=this._ctx._parent;k!=null&&(k.removeLastChild(),k.addChild(D))}this._ctx=D}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(D,F,k,V){this.state=F,this._precedenceStack.push(V),this._ctx=D,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(D,F,k){let V=this._ctx;V._parent=D,V.invokingState=F,V._stop=this._input.tryLT(-1),this._ctx=D,this._ctx._start=V._start,this._buildParseTrees&&this._ctx.addChild(V),this.triggerEnterRuleEvent()}unrollRecursionContexts(D){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let F=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==D;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=D;F._parent=D,this._buildParseTrees&&D!=null&&D.addChild(F)}getInvokingContext(D){let F=this._ctx;for(;F&&F.ruleIndex!==D;)F=F._parent;return F}get context(){return this._ctx}set context(D){this._ctx=D}precpred(D,F){return F>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new b.ProxyParserErrorListener(this.getErrorListeners())}inContext(D){return!1}isExpectedToken(D){let F=this.interpreter.atn,k=this._ctx,V=F.states[this.state],B=F.nextTokens(V);if(B.contains(D))return!0;if(!B.contains(w.Token.EPSILON))return!1;for(;k!=null&&k.invokingState>=0&&B.contains(w.Token.EPSILON);){let te=F.states[k.invokingState].transition(0);if(B=F.nextTokens(te.followState),B.contains(D))return!0;k=k._parent}return!!(B.contains(w.Token.EPSILON)&&D===w.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let D=this.interpreter.atn,F=D.states[this.state];return D.nextTokens(F)}getRuleIndex(D){let F=this.getRuleIndexMap().get(D);return F??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(D=this._ctx){let F=D,k=this.ruleNames,V=[];for(;F!=null;){let B=F.ruleIndex;B<0?V.push("n/a"):V.push(k[B]),F=F._parent}return V}getDFAStrings(){let D=[];for(let F of this._interp.atn.decisionToDFA)D.push(F.toString(this.vocabulary,this.ruleNames));return D}dumpDFA(){let D=!1;for(let F of this._interp.atn.decisionToDFA)F.isEmpty||(D&&console.log(),console.log("Decision "+F.decision+":"),process.stdout.write(F.toString(this.vocabulary,this.ruleNames)),D=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>JO()).then(D=>{let F=this.interpreter;if(F instanceof D.ProfilingATNSimulator)return new m.ParseInfo(F)})}setProfile(D){return n(this,void 0,void 0,function*(){let F=yield Promise.resolve().then(()=>JO()),k=this.interpreter;D?k instanceof F.ProfilingATNSimulator||(this.interpreter=new F.ProfilingATNSimulator(this)):k instanceof F.ProfilingATNSimulator&&(this.interpreter=new x.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(k.getPredictionMode())})}set isTrace(D){D?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new R(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};return N.bypassAltsAtnCache=new Map,e([p.NotNull],N.prototype,"_errHandler",void 0),e([p.NotNull],N.prototype,"match",null),e([p.NotNull],N.prototype,"matchWildcard",null),e([p.NotNull],N.prototype,"getParseListeners",null),e([t(0,p.NotNull)],N.prototype,"addParseListener",null),e([p.NotNull],N.prototype,"getATNWithBypassAlts",null),e([p.NotNull,t(0,p.NotNull)],N.prototype,"errorHandler",null),e([p.Override],N.prototype,"inputStream",null),e([p.NotNull],N.prototype,"currentToken",null),e([t(0,p.NotNull)],N.prototype,"enterRule",null),e([p.Override,t(0,p.Nullable)],N.prototype,"precpred",null),e([p.Override],N.prototype,"getErrorListenerDispatch",null),e([p.NotNull],N.prototype,"getExpectedTokens",null),e([p.NotNull],N.prototype,"getExpectedTokensWithinCurrentRule",null),e([p.Override],N.prototype,"parseInfo",null),As.Parser=N,As}var eD;function rE(){if(eD)return md;eD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=md&&md.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(md,"__esModule",{value:!0}),md.NoViableAltException=void 0;const t=ey(),n=tf(),r=Ue();let s=class extends n.RecognitionException{constructor(l,f,d,g,p,m){l instanceof t.Parser&&(f===void 0&&(f=l.inputStream),d===void 0&&(d=l.currentToken),g===void 0&&(g=l.currentToken),m===void 0&&(m=l.context)),super(l,f,m),this._deadEndConfigs=p,this._startToken=d,this.setOffendingToken(l,g)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};return e([r.NotNull],s.prototype,"_startToken",void 0),md.NoViableAltException=s,md}var tD;function dR(){if(tD)return yl;tD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yl&&yl.__decorate||function(x,b,A,C){var w=arguments.length,R=w<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,A):C,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,A,C);else for(var I=x.length-1;I>=0;I--)(N=x[I])&&(R=(w<3?N(R):w>3?N(b,A,R):N(b,A))||R);return w>3&&R&&Object.defineProperty(b,A,R),R},t=yl&&yl.__param||function(x,b){return function(A,C){b(A,C,x)}};Object.defineProperty(yl,"__esModule",{value:!0}),yl.DefaultErrorStrategy=void 0;const n=Iu(),r=Kr(),s=KS(),a=XS(),l=yh(),f=rE(),d=Ls(),g=$n(),p=Ue();let m=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER}reset(b){this.endErrorCondition(b)}beginErrorCondition(b){this.errorRecoveryMode=!0}inErrorRecoveryMode(b){return this.errorRecoveryMode}endErrorCondition(b){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(b){this.endErrorCondition(b)}reportError(b,A){this.inErrorRecoveryMode(b)||(this.beginErrorCondition(b),A instanceof f.NoViableAltException?this.reportNoViableAlternative(b,A):A instanceof a.InputMismatchException?this.reportInputMismatch(b,A):A instanceof s.FailedPredicateException?this.reportFailedPredicate(b,A):(console.error(`unknown recognition error type: ${A}`),this.notifyErrorListeners(b,A.toString(),A)))}notifyErrorListeners(b,A,C){let w=C.getOffendingToken(b);w===void 0&&(w=null),b.notifyErrorListeners(A,w,C)}recover(b,A){this.lastErrorIndex===b.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(b.state)&&b.consume(),this.lastErrorIndex=b.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new l.IntervalSet),this.lastErrorStates.add(b.state);let C=this.getErrorRecoverySet(b);this.consumeUntil(b,C)}sync(b){let A=b.interpreter.atn.states[b.state];if(this.inErrorRecoveryMode(b))return;let w=b.inputStream.LA(1),R=b.atn.nextTokens(A);if(R.contains(w)){this.nextTokensContext=void 0,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER;return}if(R.contains(g.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=b.context,this.nextTokensState=b.state);return}switch(A.stateType){case r.ATNStateType.BLOCK_START:case r.ATNStateType.STAR_BLOCK_START:case r.ATNStateType.PLUS_BLOCK_START:case r.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(b))return;throw new a.InputMismatchException(b);case r.ATNStateType.PLUS_LOOP_BACK:case r.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(b);let I=b.getExpectedTokens().or(this.getErrorRecoverySet(b));this.consumeUntil(b,I);break}}reportNoViableAlternative(b,A){let C=b.inputStream,w;C?A.startToken.type===g.Token.EOF?w="<EOF>":w=C.getTextFromRange(A.startToken,A.getOffendingToken()):w="<unknown input>";let R="no viable alternative at input "+this.escapeWSAndQuote(w);this.notifyErrorListeners(b,R,A)}reportInputMismatch(b,A){let C=A.expectedTokens,w=C?C.toStringVocabulary(b.vocabulary):"",R="mismatched input "+this.getTokenErrorDisplay(A.getOffendingToken(b))+" expecting "+w;this.notifyErrorListeners(b,R,A)}reportFailedPredicate(b,A){let w="rule "+b.ruleNames[b.context.ruleIndex]+" "+A.message;this.notifyErrorListeners(b,w,A)}reportUnwantedToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let A=b.currentToken,C=this.getTokenErrorDisplay(A),w=this.getExpectedTokens(b),R="extraneous input "+C+" expecting "+w.toStringVocabulary(b.vocabulary);b.notifyErrorListeners(R,A,void 0)}reportMissingToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let A=b.currentToken,w="missing "+this.getExpectedTokens(b).toStringVocabulary(b.vocabulary)+" at "+this.getTokenErrorDisplay(A);b.notifyErrorListeners(w,A,void 0)}recoverInline(b){let A=this.singleTokenDeletion(b);if(A)return b.consume(),A;if(this.singleTokenInsertion(b))return this.getMissingSymbol(b);throw this.nextTokensContext===void 0?new a.InputMismatchException(b):new a.InputMismatchException(b,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(b){let A=b.inputStream.LA(1),w=b.interpreter.atn.states[b.state].transition(0).target,R=b.interpreter.atn;return R.nextTokens(w,d.PredictionContext.fromRuleContext(R,b.context)).contains(A)?(this.reportMissingToken(b),!0):!1}singleTokenDeletion(b){let A=b.inputStream.LA(2);if(this.getExpectedTokens(b).contains(A)){this.reportUnwantedToken(b),b.consume();let w=b.currentToken;return this.reportMatch(b),w}}getMissingSymbol(b){let A=b.currentToken,C=this.getExpectedTokens(b),w=g.Token.INVALID_TYPE;C.isNil||(w=C.minElement);let R;w===g.Token.EOF?R="<missing EOF>":R="<missing "+b.vocabulary.getDisplayName(w)+">";let N=A,I=b.inputStream.tryLT(-1);return N.type===g.Token.EOF&&I!=null&&(N=I),this.constructToken(b.inputStream.tokenSource,w,R,N)}constructToken(b,A,C,w){let R=b.tokenFactory,N=w.tokenSource,I=N?N.inputStream:void 0;return R.create({source:b,stream:I},A,C,g.Token.DEFAULT_CHANNEL,-1,-1,w.line,w.charPositionInLine)}getExpectedTokens(b){return b.getExpectedTokens()}getTokenErrorDisplay(b){if(!b)return"<no token>";let A=this.getSymbolText(b);return A||(this.getSymbolType(b)===g.Token.EOF?A="<EOF>":A=`<${this.getSymbolType(b)}>`),this.escapeWSAndQuote(A)}getSymbolText(b){return b.text}getSymbolType(b){return b.type}escapeWSAndQuote(b){return b=b.replace(`
`,"\\n"),b=b.replace("\r","\\r"),b=b.replace("	","\\t"),"'"+b+"'"}getErrorRecoverySet(b){let A=b.interpreter.atn,C=b.context,w=new l.IntervalSet;for(;C&&C.invokingState>=0;){let N=A.states[C.invokingState].transition(0),I=A.nextTokens(N.followState);w.addAll(I),C=C._parent}return w.remove(g.Token.EPSILON),w}consumeUntil(b,A){let C=b.inputStream.LA(1);for(;C!==g.Token.EOF&&!A.contains(C);)b.consume(),C=b.inputStream.LA(1)}};return e([p.Override],m.prototype,"reset",null),e([t(0,p.NotNull)],m.prototype,"beginErrorCondition",null),e([p.Override],m.prototype,"inErrorRecoveryMode",null),e([t(0,p.NotNull)],m.prototype,"endErrorCondition",null),e([p.Override],m.prototype,"reportMatch",null),e([p.Override],m.prototype,"reportError",null),e([t(0,p.NotNull)],m.prototype,"notifyErrorListeners",null),e([p.Override],m.prototype,"recover",null),e([p.Override],m.prototype,"sync",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportNoViableAlternative",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportInputMismatch",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportFailedPredicate",null),e([t(0,p.NotNull)],m.prototype,"reportUnwantedToken",null),e([t(0,p.NotNull)],m.prototype,"reportMissingToken",null),e([p.Override],m.prototype,"recoverInline",null),e([t(0,p.NotNull)],m.prototype,"singleTokenInsertion",null),e([t(0,p.NotNull)],m.prototype,"singleTokenDeletion",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getMissingSymbol",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getExpectedTokens",null),e([t(0,p.NotNull)],m.prototype,"getSymbolText",null),e([t(0,p.NotNull)],m.prototype,"getSymbolType",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"escapeWSAndQuote",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getErrorRecoverySet",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"consumeUntil",null),yl.DefaultErrorStrategy=m,yl}var nD;function yk(){if(nD)return Kf;nD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kf&&Kf.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m};Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.BailErrorStrategy=void 0;const t=dR(),n=XS(),r=Ue(),s=hk();let a=class extends t.DefaultErrorStrategy{recover(f,d){for(let g=f.context;g;g=g.parent)g.exception=d;throw new s.ParseCancellationException(d)}recoverInline(f){let d=new n.InputMismatchException(f);for(let g=f.context;g;g=g.parent)g.exception=d;throw new s.ParseCancellationException(d)}sync(f){}};return e([r.Override],a.prototype,"recover",null),e([r.Override],a.prototype,"recoverInline",null),e([r.Override],a.prototype,"sync",null),Kf.BailErrorStrategy=a,Kf}var mC={},rD;function vW(){if(rD)return mC;rD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(mC,"__esModule",{value:!0}),mC}var vC={},iD;function yW(){return iD||(iD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Dependents=void 0,function(t){t[t.SELF=0]="SELF",t[t.PARENTS=1]="PARENTS",t[t.CHILDREN=2]="CHILDREN",t[t.ANCESTORS=3]="ANCESTORS",t[t.DESCENDANTS=4]="DESCENDANTS",t[t.SIBLINGS=5]="SIBLINGS",t[t.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",t[t.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",t[t.PRECEEDING=8]="PRECEEDING",t[t.FOLLOWING=9]="FOLLOWING"}(e.Dependents||(e.Dependents={}))}(vC)),vC}var vu={},oD;function xW(){if(oD)return vu;oD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=vu&&vu.__decorate||function(l,f,d,g){var p=arguments.length,m=p<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,f,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(f,d,m):x(f,d))||m);return p>3&&m&&Object.defineProperty(f,d,m),m},t=vu&&vu.__param||function(l,f){return function(d,g){f(d,g,l)}};Object.defineProperty(vu,"__esModule",{value:!0}),vu.DiagnosticErrorListener=void 0;const n=of(),r=Ue(),s=Xi();let a=class{constructor(f=!0){this.exactOnly=f,this.exactOnly=f}syntaxError(f,d,g,p,m,x){}reportAmbiguity(f,d,g,p,m,x,b){if(this.exactOnly&&!m)return;let A=this.getDecisionDescription(f,d),C=this.getConflictingAlts(x,b),w=f.inputStream.getText(s.Interval.of(g,p)),R=`reportAmbiguity d=${A}: ambigAlts=${C}, input='${w}'`;f.notifyErrorListeners(R)}reportAttemptingFullContext(f,d,g,p,m,x){let b=this.getDecisionDescription(f,d),A=f.inputStream.getText(s.Interval.of(g,p)),C=`reportAttemptingFullContext d=${b}, input='${A}'`;f.notifyErrorListeners(C)}reportContextSensitivity(f,d,g,p,m,x){let b=this.getDecisionDescription(f,d),A=f.inputStream.getText(s.Interval.of(g,p)),C=`reportContextSensitivity d=${b}, input='${A}'`;f.notifyErrorListeners(C)}getDecisionDescription(f,d){let g=d.decision,p=d.atnStartState.ruleIndex,m=f.ruleNames;if(p<0||p>=m.length)return g.toString();let x=m[p];return x?`${g} (${x})`:g.toString()}getConflictingAlts(f,d){if(f!=null)return f;let g=new n.BitSet;for(let p of d)g.set(p.alt);return g}};return e([r.Override],a.prototype,"syntaxError",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(6,r.NotNull)],a.prototype,"reportAmbiguity",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],a.prototype,"reportAttemptingFullContext",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],a.prototype,"reportContextSensitivity",null),e([t(0,r.NotNull),t(1,r.NotNull)],a.prototype,"getDecisionDescription",null),e([r.NotNull,t(1,r.NotNull)],a.prototype,"getConflictingAlts",null),vu.DiagnosticErrorListener=a,vu}var yu={},sD;function bW(){if(sD)return yu;sD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yu&&yu.__decorate||function(f,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(f,d,g,p);else for(var A=f.length-1;A>=0;A--)(b=f[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x},t=yu&&yu.__param||function(f,d){return function(g,p){d(g,p,f)}};Object.defineProperty(yu,"__esModule",{value:!0}),yu.LexerInterpreter=void 0;const n=sf(),r=tE(),s=Ue(),a=Ue();let l=class extends n.Lexer{constructor(d,g,p,m,x,b,A){if(super(A),b.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=d,this._atn=b,this._ruleNames=p.slice(0),this._channelNames=m.slice(0),this._modeNames=x.slice(0),this._vocabulary=g,this._interp=new r.LexerATNSimulator(b,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};return e([s.NotNull],l.prototype,"_vocabulary",void 0),e([a.Override],l.prototype,"atn",null),e([a.Override],l.prototype,"grammarFileName",null),e([a.Override],l.prototype,"ruleNames",null),e([a.Override],l.prototype,"channelNames",null),e([a.Override],l.prototype,"modeNames",null),e([a.Override],l.prototype,"vocabulary",null),l=e([t(1,s.NotNull)],l),yu.LexerInterpreter=l,yu}var yC={},aD;function SW(){if(aD)return yC;aD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(yC,"__esModule",{value:!0}),yC}var Kd={},lD;function EW(){if(lD)return Kd;lD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kd&&Kd.__decorate||function(a,l,f,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,f,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,f,p):m(l,f))||p);return g>3&&p&&Object.defineProperty(l,f,p),p};Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.RuleContextWithAltNum=void 0;const t=Va(),n=Ue(),r=Fs();let s=class extends r.ParserRuleContext{constructor(l,f){f!==void 0?super(l,f):super(),this._altNumber=t.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(l){this._altNumber=l}};return e([n.Override],s.prototype,"altNumber",null),Kd.RuleContextWithAltNum=s,Kd}var Z0={},uD;function AW(){if(uD)return Z0;uD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.RuleDependency=void 0;function e(t){return(n,r,s)=>{}}return Z0.RuleDependency=e,Z0}var J0={},cD;function CW(){if(cD)return J0;cD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(J0,"__esModule",{value:!0}),J0.RuleVersion=void 0;function e(t){return(n,r,s)=>{}}return J0.RuleVersion=e,J0}var xC={},fD;function wW(){if(fD)return xC;fD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(xC,"__esModule",{value:!0}),xC}var bC={},dD;function RW(){if(dD)return bC;dD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(bC,"__esModule",{value:!0}),bC}var SC={},hD;function TW(){if(hD)return SC;hD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(SC,"__esModule",{value:!0}),SC}var xu={},pD;function NW(){if(pD)return xu;pD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xu&&xu.__decorate||function(g,p,m,x){var b=arguments.length,A=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(A=(b<3?C(A):b>3?C(p,m,A):C(p,m))||A);return b>3&&A&&Object.defineProperty(p,m,A),A};Object.defineProperty(xu,"__esModule",{value:!0}),xu.RewriteOperation=xu.TokenStreamRewriter=void 0;const t=Xi(),n=Ue(),r=$n();let s=class jo{constructor(p){this.tokens=p,this.programs=new Map,this.programs.set(jo.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(p,m=jo.DEFAULT_PROGRAM_NAME){let x=this.programs.get(m);x!=null&&this.programs.set(m,x.slice(jo.MIN_TOKEN_INDEX,p))}deleteProgram(p=jo.DEFAULT_PROGRAM_NAME){this.rollback(jo.MIN_TOKEN_INDEX,p)}insertAfter(p,m,x=jo.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let A=this.getProgram(x),C=new f(this.tokens,b,A.length,m);A.push(C)}insertBefore(p,m,x=jo.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let A=this.getProgram(x),C=new l(this.tokens,b,A.length,m);A.push(C)}replaceSingle(p,m){typeof p=="number"?this.replace(p,p,m):this.replace(p,p,m)}replace(p,m,x,b=jo.DEFAULT_PROGRAM_NAME){if(typeof p!="number"&&(p=p.tokenIndex),typeof m!="number"&&(m=m.tokenIndex),p>m||p<0||m<0||m>=this.tokens.size)throw new RangeError(`replace: range invalid: ${p}..${m}(size=${this.tokens.size})`);let A=this.getProgram(b),C=new d(this.tokens,p,m,A.length,x);A.push(C)}delete(p,m,x=jo.DEFAULT_PROGRAM_NAME){m===void 0&&(m=p),typeof p=="number"?this.replace(p,m,"",x):this.replace(p,m,"",x)}getLastRewriteTokenIndex(p=jo.DEFAULT_PROGRAM_NAME){let m=this.lastRewriteTokenIndexes.get(p);return m??-1}setLastRewriteTokenIndex(p,m){this.lastRewriteTokenIndexes.set(p,m)}getProgram(p){let m=this.programs.get(p);return m==null&&(m=this.initializeProgram(p)),m}initializeProgram(p){let m=[];return this.programs.set(p,m),m}getText(p,m=jo.DEFAULT_PROGRAM_NAME){let x;p instanceof t.Interval?x=p:x=t.Interval.of(0,this.tokens.size-1),typeof p=="string"&&(m=p);let b=this.programs.get(m),A=x.a,C=x.b;if(C>this.tokens.size-1&&(C=this.tokens.size-1),A<0&&(A=0),b==null||b.length===0)return this.tokens.getText(x);let w=[],R=this.reduceToSingleOperationPerIndex(b),N=A;for(;N<=C&&N<this.tokens.size;){let I=R.get(N);R.delete(N);let D=this.tokens.get(N);I==null?(D.type!==r.Token.EOF&&w.push(String(D.text)),N++):N=I.execute(w)}if(C===this.tokens.size-1)for(let I of R.values())I.index>=this.tokens.size-1&&w.push(I.text.toString());return w.join("")}reduceToSingleOperationPerIndex(p){for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof d))continue;let A=b,C=this.getKindOfOps(p,l,x);for(let R of C)R.index===A.index?(p[R.instructionIndex]=void 0,A.text=R.text.toString()+(A.text!=null?A.text.toString():"")):R.index>A.index&&R.index<=A.lastIndex&&(p[R.instructionIndex]=void 0);let w=this.getKindOfOps(p,d,x);for(let R of w){if(R.index>=A.index&&R.lastIndex<=A.lastIndex){p[R.instructionIndex]=void 0;continue}let N=R.lastIndex<A.index||R.index>A.lastIndex;if(R.text==null&&A.text==null&&!N)p[R.instructionIndex]=void 0,A.index=Math.min(R.index,A.index),A.lastIndex=Math.max(R.lastIndex,A.lastIndex);else if(!N)throw new Error(`replace op boundaries of ${A} overlap with previous ${R}`)}}for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof l))continue;let A=b,C=this.getKindOfOps(p,l,x);for(let R of C)R.index===A.index&&(R instanceof f?(A.text=this.catOpText(R.text,A.text),p[R.instructionIndex]=void 0):R instanceof l&&(A.text=this.catOpText(A.text,R.text),p[R.instructionIndex]=void 0));let w=this.getKindOfOps(p,d,x);for(let R of w){if(A.index===R.index){R.text=this.catOpText(A.text,R.text),p[x]=void 0;continue}if(A.index>=R.index&&A.index<=R.lastIndex)throw new Error(`insert op ${A} within boundaries of previous ${R}`)}}let m=new Map;for(let x of p)if(x!=null){if(m.get(x.index)!=null)throw new Error("should only be one op per index");m.set(x.index,x)}return m}catOpText(p,m){let x="",b="";return p!=null&&(x=p.toString()),m!=null&&(b=m.toString()),x+b}getKindOfOps(p,m,x){let b=[];for(let A=0;A<x&&A<p.length;A++){let C=p[A];C!=null&&C instanceof m&&b.push(C)}return b}};xu.TokenStreamRewriter=s,s.DEFAULT_PROGRAM_NAME="default",s.PROGRAM_INIT_SIZE=100,s.MIN_TOKEN_INDEX=0;class a{constructor(p,m,x,b){this.tokens=p,this.instructionIndex=x,this.index=m,this.text=b===void 0?"":b}execute(p){return this.index}toString(){let p=this.constructor.name,m=p.indexOf("$");return p=p.substring(m+1,p.length),"<"+p+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}e([n.Override],a.prototype,"toString",null),xu.RewriteOperation=a;class l extends a{constructor(p,m,x,b){super(p,m,x,b)}execute(p){return p.push(this.text.toString()),this.tokens.get(this.index).type!==r.Token.EOF&&p.push(String(this.tokens.get(this.index).text)),this.index+1}}e([n.Override],l.prototype,"execute",null);class f extends l{constructor(p,m,x,b){super(p,m+1,x,b)}}class d extends a{constructor(p,m,x,b,A){super(p,m,b,A),this.lastIndex=x}execute(p){return this.text!=null&&p.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}return e([n.Override],d.prototype,"execute",null),e([n.Override],d.prototype,"toString",null),xu}var EC={},gD;function _W(){if(gD)return EC;gD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(EC,"__esModule",{value:!0}),EC}var AC={},mD;function IW(){if(mD)return AC;mD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(AC,"__esModule",{value:!0}),AC}var vD;function OW(){return vD||(vD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Wf&&Wf.__createBinding||(Object.create?function(r,s,a,l){l===void 0&&(l=a),Object.defineProperty(r,l,{enumerable:!0,get:function(){return s[a]}})}:function(r,s,a,l){l===void 0&&(l=a),r[l]=s[a]}),n=Wf&&Wf.__exportStar||function(r,s){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&t(s,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(NH(),e),n(_H(),e),n(yY(),e),n(yk(),e),n(fk(),e),n(vW(),e),n(uR(),e),n(lk(),e),n(ck(),e),n(qv(),e),n(Q2(),e),n(cR(),e),n(zF(),e),n(dR(),e),n(yW(),e),n(xW(),e),n(KS(),e),n(XS(),e),n(pk(),e),n(ef(),e),n(sf(),e),n(bW(),e),n(eE(),e),n(dk(),e),n(rE(),e),n(ey(),e),n(SW(),e),n(gk(),e),n(Fs(),e),n(tR(),e),n(ak(),e),n(tf(),e),n(Xv(),e),n(ok(),e),n(EW(),e),n(AW(),e),n(CW(),e),n($n(),e),n(wW(),e),n(RW(),e),n(TW(),e),n(NW(),e),n(_W(),e),n(vh(),e),n(IW(),e)}(Wf)),Wf}var dg=OW(),xk=lR(),DW=sf(),PW=tE(),bk=vh(),Sk=Ou();const kt=class kt extends DW.Lexer{get vocabulary(){return kt.VOCABULARY}constructor(t){super(t),this._interp=new PW.LexerATNSimulator(kt._ATN,this)}get grammarFileName(){return"Formula.g4"}get ruleNames(){return kt.ruleNames}get serializedATN(){return kt._serializedATN}get channelNames(){return kt.channelNames}get modeNames(){return kt.modeNames}action(t,n,r){switch(n){case 6:this.REF_action(t,r);break}}REF_action(t,n){}static get _ATN(){return kt.__ATN||(kt.__ATN=new xk.ATNDeserializer().deserialize(Sk.toCharArray(kt._serializedATN))),kt.__ATN}};q(kt,"T__0",1),q(kt,"T__1",2),q(kt,"T__2",3),q(kt,"REFERENCE",4),q(kt,"REF",5),q(kt,"REFRANGE",6),q(kt,"BOOL",7),q(kt,"STRING",8),q(kt,"NUM",9),q(kt,"FUNCNAME",10),q(kt,"WS",11),q(kt,"MUL",12),q(kt,"DIV",13),q(kt,"ADD",14),q(kt,"SUB",15),q(kt,"EQ",16),q(kt,"NEQ",17),q(kt,"LTE",18),q(kt,"GTE",19),q(kt,"LT",20),q(kt,"GT",21),q(kt,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),q(kt,"modeNames",["DEFAULT_MODE"]),q(kt,"ruleNames",["T__0","T__1","T__2","REFERENCE","SHEET_NAME","QUOTED_SHEET_NAME","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),q(kt,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),q(kt,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),q(kt,"VOCABULARY",new bk.VocabularyImpl(kt._LITERAL_NAMES,kt._SYMBOLIC_NAMES,[])),q(kt,"_serializedATN",`\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r											J
\x07N
\fQ\v\x07\x07\x07U
\x07\r\x07\x07V\x07\x07\b\b\\
\b\b\b\b\ba
\b\b\b\x07\be
\b\f\b\bh\v\b				




















\v\v\x07\v
\v\f\v\v\v\v\v\v\f\f
\f\r\f\f\f\f\f
\f\r\f\f\f
\f\r\r\x07\r
\r\f\r\r\v\r
\r\x07	\v\r\x07\b	
\v\f\x1B\r!#%')+-/	C\\c|2;C\\c|))3;2;$$\v\v""\x07	\x1B!#%')+-/13\x075	I\vK\rR[i\x1B!#%')+-/12\x07*234\x07+456\x07.6\b78\r\x0789\x07#9:	:J;<\r\x07<=\x07#=>\b>J?@\v@A\x07#AB	BJCD\vDE\x07#EF\bFJGJ	HJ\bI7I;I?ICIGIHJ
KO	LN	MLNQOMOPP\fQORT\x07)SU
TSUVVTVWWXXY\x07)YZ\\\x07&[Z[\\\\]]^	^\`\b\b_a\x07&\`_\`aabbf	ce	dcehfdfgghfij\bjk\x07<kl\blmn\x07Vno\x07Top\x07Wp\x07Gqr\x07Hrs\x07Cst\x07Ntu\x07Uu\x07Gvw\x07vwx\x07txy\x07wy\x07gz{\x07h{|\x07c|}\x07n}~\x07u~\x07gmqvz\x07$
\x07\x07$	\x070				\b\b\x07,\x071 \x07-"\x07/$\x07?&\x07>\x07@(\x07>\x07?*\x07@\x07?,\x07>.\x07@0IOV[\`f\b\b`),q(kt,"__ATN");let hg=kt;var MW=Va(),LW=KS(),FW=rE(),kW=ey(),hR=Fs(),BW=Jv(),CC=tf(),wC=$n();const Qe=class Qe extends kW.Parser{get vocabulary(){return Qe.VOCABULARY}get grammarFileName(){return"Formula.g4"}get ruleNames(){return Qe.ruleNames}get serializedATN(){return Qe._serializedATN}createFailedPredicateException(t,n){return new LW.FailedPredicateException(this,t,n)}constructor(t){super(t),this._interp=new BW.ParserATNSimulator(Qe._ATN,this)}formula(){let t=new jW(this._ctx,this.state);this.enterRule(t,0,Qe.RULE_formula);let n;try{this.enterOuterAlt(t,1);{this.state=7,this._errHandler.sync(this),n=this._input.LA(1);do this.state=6,this.expr(0),this.state=9,this._errHandler.sync(this),n=this._input.LA(1);while((n&-32)===0&&(1<<n&(1<<Qe.T__0|1<<Qe.REFERENCE|1<<Qe.BOOL|1<<Qe.STRING|1<<Qe.NUM|1<<Qe.FUNCNAME))!==0)}}catch(r){if(r instanceof CC.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}expr(t){t===void 0&&(t=0);let n=this._ctx,r=this.state,s=new Kn(this._ctx,r),a=s,l=2;this.enterRecursionRule(s,2,Qe.RULE_expr,t);let f;try{let d;this.enterOuterAlt(s,1);{switch(this.state=26,this._errHandler.sync(this),this._input.LA(1)){case Qe.FUNCNAME:s=new zW(s),this._ctx=s,a=s,this.state=12,this.match(Qe.FUNCNAME),this.state=13,this.match(Qe.T__0),this.state=15,this._errHandler.sync(this),f=this._input.LA(1),(f&-32)===0&&(1<<f&(1<<Qe.T__0|1<<Qe.REFERENCE|1<<Qe.BOOL|1<<Qe.STRING|1<<Qe.NUM|1<<Qe.FUNCNAME))!==0&&(this.state=14,this.args()),this.state=17,this.match(Qe.T__1);break;case Qe.NUM:s=new $W(s),this._ctx=s,a=s,this.state=18,this.match(Qe.NUM);break;case Qe.BOOL:s=new HW(s),this._ctx=s,a=s,this.state=19,this.match(Qe.BOOL);break;case Qe.STRING:s=new YW(s),this._ctx=s,a=s,this.state=20,this.match(Qe.STRING);break;case Qe.REFERENCE:s=new WW(s),this._ctx=s,a=s,this.state=21,this.match(Qe.REFERENCE);break;case Qe.T__0:s=new qW(s),this._ctx=s,a=s,this.state=22,this.match(Qe.T__0),this.state=23,this.expr(0),this.state=24,this.match(Qe.T__1);break;default:throw new FW.NoViableAltException(this)}for(this._ctx._stop=this._input.tryLT(-1),this.state=39,this._errHandler.sync(this),d=this.interpreter.adaptivePredict(this._input,4,this._ctx);d!==2&&d!==MW.ATN.INVALID_ALT_NUMBER;){if(d===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),a=s,this.state=37,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:{if(s=new VW(new Kn(n,r)),this.pushNewRecursionContext(s,l,Qe.RULE_expr),this.state=28,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=29,s._op=this._input.LT(1),f=this._input.LA(1),f===Qe.MUL||f===Qe.DIV?(this._input.LA(1)===wC.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=30,this.expr(9)}break;case 2:{if(s=new UW(new Kn(n,r)),this.pushNewRecursionContext(s,l,Qe.RULE_expr),this.state=31,!this.precpred(this._ctx,7))throw this.createFailedPredicateException("this.precpred(this._ctx, 7)");this.state=32,s._op=this._input.LT(1),f=this._input.LA(1),f===Qe.ADD||f===Qe.SUB?(this._input.LA(1)===wC.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=33,this.expr(8)}break;case 3:{if(s=new GW(new Kn(n,r)),this.pushNewRecursionContext(s,l,Qe.RULE_expr),this.state=34,!this.precpred(this._ctx,6))throw this.createFailedPredicateException("this.precpred(this._ctx, 6)");this.state=35,s._op=this._input.LT(1),f=this._input.LA(1),(f&-32)===0&&(1<<f&(1<<Qe.EQ|1<<Qe.NEQ|1<<Qe.LTE|1<<Qe.GTE|1<<Qe.LT|1<<Qe.GT))!==0?(this._input.LA(1)===wC.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=36,this.expr(7)}break}this.state=41,this._errHandler.sync(this),d=this.interpreter.adaptivePredict(this._input,4,this._ctx)}}}catch(d){if(d instanceof CC.RecognitionException)s.exception=d,this._errHandler.reportError(this,d),this._errHandler.recover(this,d);else throw d}finally{this.unrollRecursionContexts(n)}return s}args(){let t=new Ek(this._ctx,this.state);this.enterRule(t,4,Qe.RULE_args);let n;try{for(this.enterOuterAlt(t,1),this.state=42,this.expr(0),this.state=47,this._errHandler.sync(this),n=this._input.LA(1);n===Qe.T__2;)this.state=43,this.match(Qe.T__2),this.state=44,this.expr(0),this.state=49,this._errHandler.sync(this),n=this._input.LA(1)}catch(r){if(r instanceof CC.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}sempred(t,n,r){switch(n){case 1:return this.expr_sempred(t,r)}return!0}expr_sempred(t,n){switch(n){case 0:return this.precpred(this._ctx,8);case 1:return this.precpred(this._ctx,7);case 2:return this.precpred(this._ctx,6)}return!0}static get _ATN(){return Qe.__ATN||(Qe.__ATN=new xk.ATNDeserializer().deserialize(Sk.toCharArray(Qe._serializedATN))),Qe.__ATN}};q(Qe,"T__0",1),q(Qe,"T__1",2),q(Qe,"T__2",3),q(Qe,"REFERENCE",4),q(Qe,"REF",5),q(Qe,"REFRANGE",6),q(Qe,"BOOL",7),q(Qe,"STRING",8),q(Qe,"NUM",9),q(Qe,"FUNCNAME",10),q(Qe,"WS",11),q(Qe,"MUL",12),q(Qe,"DIV",13),q(Qe,"ADD",14),q(Qe,"SUB",15),q(Qe,"EQ",16),q(Qe,"NEQ",17),q(Qe,"LTE",18),q(Qe,"GTE",19),q(Qe,"LT",20),q(Qe,"GT",21),q(Qe,"RULE_formula",0),q(Qe,"RULE_expr",1),q(Qe,"RULE_args",2),q(Qe,"ruleNames",["formula","expr","args"]),q(Qe,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),q(Qe,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),q(Qe,"VOCABULARY",new bk.VocabularyImpl(Qe._LITERAL_NAMES,Qe._SYMBOLIC_NAMES,[])),q(Qe,"_serializedATN",`5			

\r\v

\x07(
\f+\v\x070
\f3\v<	,\b
	\b
\v\v	\v\f\f\r\b\x07\f\x07\x07\x07\v\x07	\x07
\x07\x07\x1B\x07\x1B\r)\f
 	 (\v!"\f	"#	#(
$%\f\b%&	&(	''!'$(+)')**+),1-.\x07.0/-031/122\x0731\b\v')1`),q(Qe,"__ATN");let _n=Qe;class jW extends hR.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Kn):this.getRuleContext(t,Kn)}constructor(t,n){super(t,n)}get ruleIndex(){return _n.RULE_formula}enterRule(t){t.enterFormula&&t.enterFormula(this)}exitRule(t){t.exitFormula&&t.exitFormula(this)}accept(t){return t.visitFormula?t.visitFormula(this):t.visitChildren(this)}}class Kn extends hR.ParserRuleContext{constructor(t,n){super(t,n)}get ruleIndex(){return _n.RULE_expr}copyFrom(t){super.copyFrom(t)}}class zW extends Kn{FUNCNAME(){return this.getToken(_n.FUNCNAME,0)}args(){return this.tryGetRuleContext(0,Ek)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterFunction&&t.enterFunction(this)}exitRule(t){t.exitFunction&&t.exitFunction(this)}accept(t){return t.visitFunction?t.visitFunction(this):t.visitChildren(this)}}class VW extends Kn{constructor(n){super(n.parent,n.invokingState);q(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Kn):this.getRuleContext(n,Kn)}MUL(){return this.tryGetToken(_n.MUL,0)}DIV(){return this.tryGetToken(_n.DIV,0)}enterRule(n){n.enterMulDiv&&n.enterMulDiv(this)}exitRule(n){n.exitMulDiv&&n.exitMulDiv(this)}accept(n){return n.visitMulDiv?n.visitMulDiv(this):n.visitChildren(this)}}class UW extends Kn{constructor(n){super(n.parent,n.invokingState);q(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Kn):this.getRuleContext(n,Kn)}ADD(){return this.tryGetToken(_n.ADD,0)}SUB(){return this.tryGetToken(_n.SUB,0)}enterRule(n){n.enterAddSub&&n.enterAddSub(this)}exitRule(n){n.exitAddSub&&n.exitAddSub(this)}accept(n){return n.visitAddSub?n.visitAddSub(this):n.visitChildren(this)}}class GW extends Kn{constructor(n){super(n.parent,n.invokingState);q(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Kn):this.getRuleContext(n,Kn)}EQ(){return this.tryGetToken(_n.EQ,0)}NEQ(){return this.tryGetToken(_n.NEQ,0)}LT(){return this.tryGetToken(_n.LT,0)}GT(){return this.tryGetToken(_n.GT,0)}LTE(){return this.tryGetToken(_n.LTE,0)}GTE(){return this.tryGetToken(_n.GTE,0)}enterRule(n){n.enterComparison&&n.enterComparison(this)}exitRule(n){n.exitComparison&&n.exitComparison(this)}accept(n){return n.visitComparison?n.visitComparison(this):n.visitChildren(this)}}class $W extends Kn{NUM(){return this.getToken(_n.NUM,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterNumber&&t.enterNumber(this)}exitRule(t){t.exitNumber&&t.exitNumber(this)}accept(t){return t.visitNumber?t.visitNumber(this):t.visitChildren(this)}}class HW extends Kn{BOOL(){return this.getToken(_n.BOOL,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterBoolean&&t.enterBoolean(this)}exitRule(t){t.exitBoolean&&t.exitBoolean(this)}accept(t){return t.visitBoolean?t.visitBoolean(this):t.visitChildren(this)}}class YW extends Kn{STRING(){return this.getToken(_n.STRING,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterStr&&t.enterStr(this)}exitRule(t){t.exitStr&&t.exitStr(this)}accept(t){return t.visitStr?t.visitStr(this):t.visitChildren(this)}}class WW extends Kn{REFERENCE(){return this.getToken(_n.REFERENCE,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterReference&&t.enterReference(this)}exitRule(t){t.exitReference&&t.exitReference(this)}accept(t){return t.visitReference?t.visitReference(this):t.visitChildren(this)}}class qW extends Kn{expr(){return this.getRuleContext(0,Kn)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterParentheses&&t.enterParentheses(this)}exitRule(t){t.exitParentheses&&t.exitParentheses(this)}accept(t){return t.visitParentheses?t.visitParentheses(this):t.visitChildren(this)}}class Ek extends hR.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Kn):this.getRuleContext(t,Kn)}constructor(t,n){super(t,n)}get ruleIndex(){return _n.RULE_args}enterRule(t){t.enterArgs&&t.enterArgs(this)}exitRule(t){t.exitArgs&&t.exitArgs(this)}accept(t){return t.visitArgs?t.visitArgs(this):t.visitChildren(this)}}function*yD(e){const[t,n]=e;for(let r=t.r;r<=n.r;r++)for(let s=t.c;s<=n.c;s++)yield{r,c:s}}function qb(e,t){const[n,r]=t;return n.r<=e.r&&e.r<=r.r&&n.c<=e.c&&e.c<=r.c}function KW(e,t){const[n,r]=e,[s,a]=t;return s.r<=n.r&&r.r<=a.r&&s.c<=n.c&&r.c<=a.c}function xD(e,t){return[{r:Math.min(e.r,t.r),c:Math.min(e.c,t.c)},{r:Math.max(e.r,t.r),c:Math.max(e.c,t.c)}]}function Tb(e){return[bD(e[0]),bD(e[1])]}function XW(e,t){return fv(e[0],t[0])&&fv(e[1],t[1])}function ZW(e,t){const n=[];return e[0].r>t[0].r&&n.push([{r:e[0].r-1,c:e[0].c},{r:e[0].r-1,c:e[1].c}]),e[1].r<t[1].r&&n.push([{r:e[1].r+1,c:e[0].c},{r:e[1].r+1,c:e[1].c}]),e[0].c>t[0].c&&n.push([{r:e[0].r,c:e[0].c-1},{r:e[1].r,c:e[0].c-1}]),e[1].c<t[1].c&&n.push([{r:e[0].r,c:e[1].c+1},{r:e[1].r,c:e[1].c+1}]),n}function JW(e,t){const[n,r]=e,[s,a]=t;return[{r:Math.min(n.r,s.r),c:Math.min(n.c,s.c)},{r:Math.max(r.r,a.r),c:Math.max(r.c,a.c)}]}function fv(e,t){return e.r===t.r&&e.c===t.c}function bD(e){return{r:e.r,c:e.c}}function bh(e){return e.includes(":")}function sh(e){return e.includes("!")}function Ak(e){const t=e.indexOf("!");if(t===-1)throw new Error(`Not a cross-sheet reference: ${e}`);let n=e.substring(0,t);n.startsWith("'")&&n.endsWith("'")&&(n=n.slice(1,-1));const r=e.substring(t+1);return{sheetName:n,localRef:r}}function*$c(e){for(const t of e){if(sh(t)){const{sheetName:n,localRef:r}=Ak(t);if(r.includes(":")){const s=Ow(r);for(const a of yD(s))yield`${n}!${wt(a)}`}else yield t;continue}if(bh(t)){const n=Ow(t);for(const r of yD(n))yield wt(r);continue}yield t}}function wt(e){return Ev(e.c)+e.r}function QW(e){const[t,n]=e;return`${wt(t)}:${wt(n)}`}function Ev(e){let t="";for(;e>0;){const n=e%26;n===0?(t="Z"+t,e=Math.floor(e/26)-1):(t=String.fromCharCode(n+64)+t,e=Math.floor(e/26))}return t}function gn(e){const t=e.replace(/\$/g,"");let n=0;for(let a=0;a<t.length;a++){const l=t.charCodeAt(a);if(48<=l&&l<=57){n=a;break}}if(n===0)throw new Error("Invalid Reference");const r=parseInt(t.substring(n)),s=t.substring(0,n).split("").reverse().reduce((a,l,f)=>a+Math.pow(26,f)*(l.charCodeAt(0)-65+1),0);if(isNaN(r)||isNaN(s))throw new Error("Invalid Reference");return{r,c:s}}function Ow(e){const[t,n]=e.split(":");return[gn(t),gn(n)]}class ty{constructor(){q(this,"ref");q(this,"bool");q(this,"num");q(this,"str")}static create(){return new ty}setRef(t){return this.ref=t,this}setBool(t){return this.bool=t,this}setNum(t){return this.num=t,this}setStr(t){return this.str=t,this}map(t,n){return t.t==="bool"&&this.bool?this.bool(t):t.t==="num"&&this.num?this.num(t):t.t==="str"&&this.str?this.str(t):t.t==="ref"&&this.ref&&n?this.ref(t,n):t}*iterate(t,n,r){for(const s of t.expr()){const a=n(s);if(a.t==="ref"&&r)for(const l of $c([a.v]))yield this.ref({t:"ref",v:l},r);else yield this.map(a)}}}function e7(e){return{t:"num",v:e.v?1:0}}function t7(e){const t=Number(e);return{t:"num",v:isNaN(t)?0:t}}function n7(e,t){var s;if(bh(e.v))return{t:"err",v:"#VALUE!"};const n=((s=t.get(e.v))==null?void 0:s.v)||"",r=Number(n);return{t:"num",v:isNaN(r)?0:r}}const qi=ty.create().setRef(n7).setBool(e7).setStr(t7);function r7(e){return{t:"bool",v:e.v!==0}}function i7(e,t){var s;if(bh(e.v))return{t:"err",v:"#VALUE!"};const n=((s=t.get(e.v))==null?void 0:s.v)||"";if(n==="TRUE"||n==="true")return{t:"bool",v:!0};if(n==="FALSE"||n==="false"||n==="")return{t:"bool",v:!1};const r=Number(n);return isNaN(r)?{t:"err",v:"#VALUE!"}:{t:"bool",v:r!==0}}const iE=ty.create().setRef(i7).setNum(r7).setStr(()=>({t:"err",v:"#VALUE!"}));function o7(e){return{t:"str",v:e.v.toString()}}function s7(e){return{t:"str",v:e.v?"TRUE":"FALSE"}}function Ck(e,t){var r;return bh(e.v)?{t:"err",v:"#VALUE!"}:{t:"str",v:((r=t.get(e.v))==null?void 0:r.v)||""}}ty.create().setRef(Ck).setNum(o7).setBool(s7);const SD=new Map([["SUM",a7],["IF",l7],["AND",u7],["OR",c7],["NOT",f7],["AVERAGE",d7],["MIN",h7],["MAX",p7],["COUNT",g7],["COUNTA",m7],["TRIM",v7],["LEN",y7],["LEFT",x7],["RIGHT",b7],["MID",S7],["CONCATENATE",E7],["TODAY",A7],["NOW",C7],["YEAR",w7],["MONTH",R7],["DAY",T7],["IFERROR",N7]]);function a7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0;for(const a of qi.iterate(r,t,n)){if(a.t==="err")return a;s+=a.v}return{t:"num",v:s}}function l7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<2||s.length>3)return{t:"err",v:"#N/A!"};const a=iE.map(t(s[0]),n);return a.t==="err"?a:a.v?t(s[1]):s.length===3?t(s[2]):{t:"bool",v:!1}}function u7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const s of iE.iterate(r,t,n)){if(s.t==="err")return s;if(!s.v)return{t:"bool",v:!1}}return{t:"bool",v:!0}}function c7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const s of iE.iterate(r,t,n)){if(s.t==="err")return s;if(s.v)return{t:"bool",v:!0}}return{t:"bool",v:!1}}function f7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=iE.map(t(s[0]),n);return a.t==="err"?a:{t:"bool",v:!a.v}}function d7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0,a=0;for(const l of qi.iterate(r,t,n)){if(l.t==="err")return l;s+=l.v,a++}return a===0?{t:"err",v:"#VALUE!"}:{t:"num",v:s/a}}function h7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=1/0;for(const a of qi.iterate(r,t,n)){if(a.t==="err")return a;a.v<s&&(s=a.v)}return{t:"num",v:s}}function p7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=-1/0;for(const a of qi.iterate(r,t,n)){if(a.t==="err")return a;a.v>s&&(s=a.v)}return{t:"num",v:s}}function g7(e,t,n){var a,l;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0;for(const f of r.expr()){const d=t(f);if(d.t==="num")s++;else if(d.t==="bool")s++;else if(d.t==="ref"&&n)if(bh(d.v))for(const g of $c([d.v])){const p=((a=n.get(g))==null?void 0:a.v)||"";p!==""&&!isNaN(Number(p))&&s++}else{const g=((l=n.get(d.v))==null?void 0:l.v)||"";g!==""&&!isNaN(Number(g))&&s++}}return{t:"num",v:s}}function m7(e,t,n){var a,l;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0;for(const f of r.expr()){const d=t(f);if(d.t==="num"||d.t==="bool")s++;else if(d.t==="str")d.v!==""&&s++;else if(d.t==="ref"&&n)if(bh(d.v))for(const g of $c([d.v]))(((a=n.get(g))==null?void 0:a.v)||"")!==""&&s++;else(((l=n.get(d.v))==null?void 0:l.v)||"")!==""&&s++}return{t:"num",v:s}}function Sh(e,t){return e.t==="err"||e.t==="str"?e:e.t==="num"?{t:"str",v:e.v.toString()}:e.t==="bool"?{t:"str",v:e.v?"TRUE":"FALSE"}:e.t==="ref"&&t?Ck(e,t):{t:"err",v:"#VALUE!"}}function v7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=Sh(t(s[0]),n);return a.t==="err"?a:{t:"str",v:a.v.trim()}}function y7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=Sh(t(s[0]),n);return a.t==="err"?a:{t:"num",v:a.v.length}}function x7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<1||s.length>2)return{t:"err",v:"#N/A!"};const a=Sh(t(s[0]),n);if(a.t==="err")return a;let l=1;if(s.length===2){const f=qi.map(t(s[1]),n);if(f.t==="err")return f;l=f.v}return{t:"str",v:a.v.slice(0,l)}}function b7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<1||s.length>2)return{t:"err",v:"#N/A!"};const a=Sh(t(s[0]),n);if(a.t==="err")return a;let l=1;if(s.length===2){const f=qi.map(t(s[1]),n);if(f.t==="err")return f;l=f.v}return{t:"str",v:a.v.slice(-l)}}function S7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==3)return{t:"err",v:"#N/A!"};const a=Sh(t(s[0]),n);if(a.t==="err")return a;const l=qi.map(t(s[1]),n);if(l.t==="err")return l;const f=qi.map(t(s[2]),n);if(f.t==="err")return f;const d=l.v-1;return{t:"str",v:a.v.slice(d,d+f.v)}}function E7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<2)return{t:"err",v:"#N/A!"};let a="";for(const l of s){const f=Sh(t(l),n);if(f.t==="err")return f;a+=f.v}return{t:"str",v:a}}function A7(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const s=new Date,a=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0"),f=String(s.getDate()).padStart(2,"0");return{t:"str",v:`${a}-${l}-${f}`}}function C7(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const s=new Date,a=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0"),f=String(s.getDate()).padStart(2,"0"),d=String(s.getHours()).padStart(2,"0"),g=String(s.getMinutes()).padStart(2,"0"),p=String(s.getSeconds()).padStart(2,"0");return{t:"str",v:`${a}-${l}-${f} ${d}:${g}:${p}`}}function pR(e,t){const n=Sh(e,t);if(n.t==="err")return n;const r=new Date(n.v);return isNaN(r.getTime())?{t:"err",v:"#VALUE!"}:r}function w7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=pR(t(s[0]),n);return a instanceof Date?{t:"num",v:a.getFullYear()}:a}function R7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=pR(t(s[0]),n);return a instanceof Date?{t:"num",v:a.getMonth()+1}:a}function T7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=pR(t(s[0]),n);return a instanceof Date?{t:"num",v:a.getDate()}:a}function N7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==2)return{t:"err",v:"#N/A!"};const a=t(s[0]);return a.t==="err"?t(s[1]):a}function dv(e){const t=dg.CharStreams.fromString(e.slice(1)),n=new hg(t),r=new dg.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const s=new Set;for(const a of r.getTokens())a.type===_n.REFERENCE&&s.add(a.text.toUpperCase());return s}function af(e){const t=dg.CharStreams.fromString(e.slice(1)),n=new hg(t),r=new dg.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const s=[];for(const f of r.getTokens())f.type!=hg.EOF&&s.push({type:n.vocabulary.getSymbolicName(f.type)||"STRING",start:f.startIndex,stop:f.stopIndex,text:f.text});const a=[];let l;for(const f of s)!l&&f.start>0?a.push({type:"STRING",start:0,stop:f.start-1,text:e.slice(1,f.start+1)}):l&&l.stop+1!==f.start&&a.push({type:"STRING",start:l.stop+1,stop:f.start-1,text:e.slice(l.stop+2,f.start+1)}),a.push(f),l=f;return l&&l.stop+2<e.length&&a.push({type:"STRING",start:l.stop+1,stop:e.length-1,text:e.slice(l.stop+2)}),a}function Nb(e){const t=af(e),n=[];for(const r of t)if(r.type==="REFERENCE")try{const s=r.text.toUpperCase();if(sh(s))continue;if(s.includes(":"))n.push({text:s,range:Ow(s)});else{const a=gn(s);n.push({text:s,range:[a,a]})}}catch{}return n}function _7(e,t){if(!e.startsWith("=")||t<=0)return!1;if(t===1)return!0;const n=af(e);for(const f of n){const d=f.start+1,g=f.stop+2;if(f.type==="REFERENCE"&&t>=d&&t<=g)return!0}const s=e.slice(0,t).trimEnd();if(s.length===0)return!1;const a=s[s.length-1];return new Set(["=","(",",","+","-","*","/","<",">",":"]).has(a)}function ED(e,t){if(!e.startsWith("="))return;const n=af(e);for(const r of n){if(r.type!=="REFERENCE")continue;const s=r.start+1,a=r.stop+2;if(t>=s&&t<=a)return{start:s,end:a,text:r.text}}}function I7(e,t){var n;try{const r=dg.CharStreams.fromString(e.slice(1)),s=new hg(r),a=new dg.CommonTokenStream(s),l=new _n(a),f=l.expr(),d=new O7(t);s.removeErrorListeners(),l.removeErrorListeners();const g=d.visit(f);return g.t==="ref"&&t?bh(g.v)?"#VALUE!":((n=t.get(g.v))==null?void 0:n.v)||"":g.v.toString()}catch{return"#ERROR!"}}class O7{constructor(t){q(this,"grid");this.visit=this.visit.bind(this),this.grid=t}visitChildren(){throw new Error("Method not implemented.")}visitTerminal(){throw new Error("Method not implemented.")}visitErrorNode(){throw new Error("Method not implemented.")}visitFormula(){throw new Error("Method not implemented.")}visitExpr(){throw new Error("Method not implemented.")}visitArgs(){throw new Error("Method not implemented.")}visit(t){return t.accept(this)}visitFunction(t){const n=t.FUNCNAME().text.toUpperCase();if(SD.has(n))return SD.get(n)(t,this.visit,this.grid);throw new Error("Function not implemented.")}visitReference(t){return this.grid?{t:"ref",v:t.text.toUpperCase()}:{t:"err",v:"#REF!"}}visitParentheses(t){return this.visit(t.expr())}visitNumber(t){return{t:"num",v:Number(t.text)}}visitBoolean(t){return{t:"bool",v:t.text==="TRUE"||t.text==="true"}}visitAddSub(t){const n=qi.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=qi.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===_n.ADD?{t:"num",v:n.v+r.v}:{t:"num",v:n.v-r.v}}visitMulDiv(t){const n=qi.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=qi.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===_n.MUL?{t:"num",v:n.v*r.v}:{t:"num",v:n.v/r.v}}visitComparison(t){const n=qi.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=qi.map(this.visit(t.expr(1)),this.grid);if(r.t==="err")return r;switch(t._op.type){case _n.EQ:return{t:"bool",v:n.v===r.v};case _n.NEQ:return{t:"bool",v:n.v!==r.v};case _n.LT:return{t:"bool",v:n.v<r.v};case _n.GT:return{t:"bool",v:n.v>r.v};case _n.LTE:return{t:"bool",v:n.v<=r.v};case _n.GTE:return{t:"bool",v:n.v>=r.v};default:return{t:"err",v:"#ERROR!"}}}visitStr(t){return{t:"str",v:t.text.slice(1,-1)}}}function pg(e,t,n,r){const s=t+n;return r<=t?e>=t&&e<s?r+(e-t):e>=r&&e<t?e+n:e:e>=t&&e<s?r-n+(e-t):e>=s&&e<r?e-n:e}function Hc(e,t,n,r,s){return t==="row"?{r:pg(e.r,n,r,s),c:e.c}:{r:e.r,c:pg(e.c,n,r,s)}}function wk(e,t,n,r,s){const a=af(e);let l="=";for(const f of a)if(f.type==="REFERENCE"){const d=f.text;if(d.includes("!"))l+=d;else if(d.includes(":")){const[g,p]=d.split(":"),m=gn(g.toUpperCase()),x=gn(p.toUpperCase()),b=Hc(m,t,n,r,s),A=Hc(x,t,n,r,s);l+=wt(b)+":"+wt(A)}else{const g=gn(d.toUpperCase()),p=Hc(g,t,n,r,s);l+=wt(p)}}else l+=f.text;return l}function D7(e,t,n,r,s){const a=new Map;for(const[l,f]of e){const d=gn(l),g=Hc(d,t,n,r,s),p=wt(g);let m;f.f?m={...f,f:wk(f.f,t,n,r,s)}:m={...f},a.set(p,m)}return a}function Up(e,t,n,r){const s=new Map;for(const[a,l]of e)s.set(pg(a,t,n,r),l);return s}function P7(e,t,n){const r=af(e);let s="=";for(const a of r)if(a.type==="REFERENCE"){const l=a.text;if(l.includes("!"))s+=l;else if(l.includes(":")){const[f,d]=l.split(":"),g=gn(f.toUpperCase()),p=gn(d.toUpperCase()),m={r:g.r+t,c:g.c+n},x={r:p.r+t,c:p.c+n};m.r<1||m.c<1||x.r<1||x.c<1?s+="#REF!":s+=wt(m)+":"+wt(x)}else{const f=gn(l.toUpperCase()),d={r:f.r+t,c:f.c+n};d.r<1||d.c<1?s+="#REF!":s+=wt(d)}}else s+=a.text;return s}function Kb(e,t,n,r){const s=t==="row"?e.r:e.c;if(r>0)return s>=n?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e;const a=Math.abs(r);return s>=n&&s<n+a?null:s>=n+a?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e}function Rk(e,t,n,r){const s=gn(e),a=Kb(s,t,n,r);return a?wt(a):null}function Tk(e,t,n,r){const s=af(e);let a="=";for(const l of s)if(l.type==="REFERENCE"){const f=l.text;if(f.includes("!"))a+=f;else if(f.includes(":")){const[d,g]=f.split(":"),p=gn(d.toUpperCase()),m=gn(g.toUpperCase()),x=Kb(p,t,n,r),b=Kb(m,t,n,r);!x||!b?a+="#REF!":a+=wt(x)+":"+wt(b)}else{const d=gn(f.toUpperCase()),g=Kb(d,t,n,r);g?a+=wt(g):a+="#REF!"}}else a+=l.text;return a}function Gp(e,t,n){const r=new Map;for(const[s,a]of e)if(n>0)s>=t?r.set(s+n,a):r.set(s,a);else{const l=Math.abs(n);s>=t&&s<t+l||(s>=t+l?r.set(s+n,a):r.set(s,a))}return r}function M7(e,t,n,r){const s=new Map;for(const[a,l]of e){const f=Rk(a,t,n,r);if(f===null)continue;let d;l.f?d={...l,f:Tk(l.f,t,n,r)}:d={...l},s.set(f,d)}return s}class AD{constructor(t){q(this,"customSizes");q(this,"defaultSize");this.defaultSize=t,this.customSizes=new Map}getSize(t){return this.customSizes.get(t)??this.defaultSize}setSize(t,n){n===this.defaultSize?this.customSizes.delete(t):this.customSizes.set(t,n)}getDefaultSize(){return this.defaultSize}getOffset(t){let n=(t-1)*this.defaultSize;for(const[r,s]of this.customSizes)r<t&&(n+=s-this.defaultSize);return n}findIndex(t){if(this.customSizes.size===0)return Math.floor(t/this.defaultSize)+1;const n=Array.from(this.customSizes.entries()).sort((a,l)=>a[0]-l[0]);let r=0,s=0;for(const[a,l]of n){const f=a-1-s,d=r+f*this.defaultSize;if(t<d)return s+Math.floor((t-r)/this.defaultSize)+1;if(r=d,t<r+l)return a;r+=l,s=a}return s+Math.floor((t-r)/this.defaultSize)+1}shift(t,n){const r=new Map;for(const[s,a]of this.customSizes)if(n>0)s>=t?r.set(s+n,a):r.set(s,a);else{const l=Math.abs(n);s>=t&&s<t+l||(s>=t+l?r.set(s+n,a):r.set(s,a))}this.customSizes=r}move(t,n,r){const s=new Map;for(const[a,l]of this.customSizes)s.set(pg(a,t,n,r),l);this.customSizes=s}clear(){this.customSizes.clear()}hasCustomSizes(){return this.customSizes.size>0}}class gR{constructor(){q(this,"rowIndex",new Map);q(this,"colIndex",new Map)}add(t,n){let r=this.rowIndex.get(t);r||(r=new Set,this.rowIndex.set(t,r)),r.add(n);let s=this.colIndex.get(n);s||(s=new Set,this.colIndex.set(n,s)),s.add(t)}remove(t,n){const r=this.rowIndex.get(t);r&&(r.delete(n),r.size===0&&this.rowIndex.delete(t));const s=this.colIndex.get(n);s&&(s.delete(t),s.size===0&&this.colIndex.delete(n))}has(t,n){const r=this.rowIndex.get(t);return r!==void 0&&r.has(n)}clear(){this.rowIndex.clear(),this.colIndex.clear()}rebuild(t){this.clear();for(const[n,r]of t)this.add(n,r)}*cellsInRange(t){const[n,r]=t;for(const[s,a]of this.rowIndex)if(!(s<n.r||s>r.r))for(const l of a)l>=n.c&&l<=r.c&&(yield[s,l])}hasAnyInRange(t){return!this.cellsInRange(t).next().done}getOccupiedColsInRow(t){return this.rowIndex.get(t)}getOccupiedRowsInCol(t){return this.colIndex.get(t)}get size(){let t=0;for(const n of this.rowIndex.values())t+=n.size;return t}}function mR(e,t,n,r,s){const a=n==="left"||n==="right",l=n==="down"||n==="right",f=a?t.c:t.r,d=a?r[0].c:r[0].r,g=a?r[1].c:r[1].r,p=a?e.getOccupiedColsInRow(t.r):e.getOccupiedRowsInCol(t.c);let m;if(p&&s){const R=new Set;for(const N of p){const I=a?t.r:N,D=a?N:t.c;s(I,D)&&R.add(N)}m=R.size>0?R:void 0}else m=p;if(!m||m.size===0)return CD(t,n,r);const x=Array.from(m).sort((R,N)=>R-N);l||x.reverse();const b=l?x.filter(R=>R>f):x.filter(R=>R<f),A=m.has(f),C=l?f+1:f-1,w=qb(a?{r:t.r,c:C}:{r:C,c:t.c},r)&&m.has(C);if(A&&w){let R=f,N=C;for(;(l?N<=g:N>=d)&&m.has(N);)R=N,N=l?N+1:N-1;return a?{r:t.r,c:R}:{r:R,c:t.c}}if(b.length>0){const R=b[0];return a?{r:t.r,c:R}:{r:R,c:t.c}}return CD(t,n,r)}function CD(e,t,n){switch(t){case"up":return{r:n[0].r,c:e.c};case"down":return{r:n[1].r,c:e.c};case"left":return{r:e.r,c:n[0].c};case"right":return{r:e.r,c:n[1].c}}}class L7{constructor(){q(this,"grid",new Map);q(this,"cellIndex",new gR)}loadQueryResults(t,n){this.grid.clear();for(let r=0;r<t.length;r++){const s=wt({r:1,c:r+1});this.grid.set(s,{v:t[r].name,s:{b:!0}})}for(let r=0;r<n.length;r++){const s=n[r];for(let a=0;a<t.length;a++){const l=s[t[a].name];if(l==null)continue;const f=wt({r:r+2,c:a+1});this.grid.set(f,{v:String(l)})}}this.rebuildIndex()}async set(t,n){}async get(t){return this.grid.get(wt(t))}async has(t){return this.grid.has(wt(t))}async delete(t){return!1}async deleteRange(t){return new Set}async setGrid(t){}async getGrid(t){const n=new Map;for(const[r,s]of this.cellIndex.cellsInRange(t)){const a=wt({r,c:s}),l=this.grid.get(a);l!==void 0&&n.set(a,l)}return n}async findEdge(t,n,r){return mR(this.cellIndex,t,n,r,(s,a)=>{const l=this.grid.get(wt({r:s,c:a}));return l!==void 0&&(!!l.v||!!l.f)})}async shiftCells(t,n,r){}async moveCells(t,n,r,s){}async buildDependantsMap(t){return new Map}async getFormulaGrid(){return new Map}getPresences(){return[]}updateActiveCell(t){}async setDimensionSize(t,n,r){}async getDimensionSizes(t){return new Map}async setColumnStyle(t,n){}async getColumnStyles(){return new Map}async setRowStyle(t,n){}async getRowStyles(){return new Map}async setSheetStyle(t){}async getSheetStyle(){}async setFreezePane(t,n){}async getFreezePane(){return{frozenRows:0,frozenCols:0}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=gn(t);return[n.r,n.c]}))}}async function jp(e,t,n){const[r,s]=F7(t,n);for(const a of r){const l=gn(a);if(!await e.hasFormula(l))continue;const f=await e.getCell(l);if(s.has(a)){await e.setCell(l,{v:"#REF!",f:f.f,s:f.s});continue}const d=dv(f.f),g=await e.fetchGridByReferences(d),p=await I7(f.f,g);await e.setCell(l,{v:p,f:f.f,s:f.s})}}function F7(e,t){const n=[],r=new Set,s=new Set,a=new Set,l=f=>{if(a.has(f))for(const d of a)r.add(d);if(a.add(f),!s.has(f)){if(s.add(f),e.has(f))for(const d of e.get(f))l(d);n.push(f)}a.delete(f)};for(const f of t)l(f);return[n.reverse(),r]}function k7(e){let t=1/0,n=1/0,r=0,s=0;for(const[l]of e.entries()){const{r:f,c:d}=gn(l);t=Math.min(t,f),n=Math.min(n,d),r=Math.max(r,f),s=Math.max(s,d)}const a=Array.from({length:r-t+1},()=>Array(s-n+1).fill(""));for(const[l,f]of e.entries()){const{r:d,c:g}=gn(l);a[d-t][g-n]=f.v||f.f||""}return a.map(l=>l.join("	")).join(`
`)}function B7(e,t){let n=e.r,r=e.c;const s=new Map,a=t.split(`
`);for(const l of a){const f=l.split("	");for(const d of f)s.set(wt({r:n,c:r}),{v:d}),r+=1;n+=1,r=e.c}return s}function wD(e){const t=e.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);if(!t)return;const n=parseInt(t[1],10),r=parseInt(t[2],10),s=parseInt(t[3],10);if(!(n===255&&r===255&&s===255))return"#"+n.toString(16).padStart(2,"0")+r.toString(16).padStart(2,"0")+s.toString(16).padStart(2,"0")}function j7(e){return e.includes("google-sheets-html-origin")||e.includes("data-sheets-value")||e.includes("urn:schemas-microsoft-com:office:excel")||e.includes('xmlns:x="urn:schemas-microsoft-com:office:excel"')}function z7(e,t){const s=new DOMParser().parseFromString(e,"text/html").querySelector("table");if(!s)return new Map;const a=new Map,l=s.querySelectorAll("tr");for(let f=0;f<l.length;f++){const d=l[f].querySelectorAll("td, th");for(let g=0;g<d.length;g++){const p=d[g],m=p.textContent||"";if(!m&&!p.style.cssText)continue;const x={v:m},b={};let A=!1;const C=p.style.fontWeight;if((C==="bold"||C==="700")&&(b.b=!0,A=!0),p.style.fontStyle==="italic"&&(b.i=!0,A=!0),p.style.backgroundColor){const w=wD(p.style.backgroundColor);w&&(b.bg=w,A=!0)}if(p.style.color){const w=wD(p.style.color);w&&(b.tc=w,A=!0)}if(p.style.textAlign){const w=p.style.textAlign;(w==="left"||w==="center"||w==="right")&&(b.al=w,A=!0)}A&&(x.s=b),a.set(wt({r:t.r+f,c:t.c+g}),x)}}return a}function Nk(e,t,n){if(!t||t==="plain"||e==="")return e;const r=Number(e);if(isNaN(r))return e;const s=n??2;switch(t){case"number":return r.toLocaleString("en-US",{minimumFractionDigits:s,maximumFractionDigits:s});case"currency":return r.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:s,maximumFractionDigits:s});case"percent":return(r/100).toLocaleString("en-US",{style:"percent",minimumFractionDigits:s,maximumFractionDigits:s});default:return e}}const V7={rows:1e6,columns:18278};class U7{constructor(t){q(this,"store");q(this,"dimension");q(this,"activeCell");q(this,"range");q(this,"selectionType","cell");q(this,"rowDimensions");q(this,"colDimensions");q(this,"frozenRows",0);q(this,"frozenCols",0);q(this,"colStyles",new Map);q(this,"rowStyles",new Map);q(this,"sheetStyle");q(this,"copyBuffer");q(this,"gridResolver");this.store=t,this.dimension={...V7},this.activeCell={r:1,c:1}}get dimensionRange(){return[{r:1,c:1},{r:this.dimension.rows,c:this.dimension.columns}]}getDimension(){return this.dimension}setDimensions(t,n){this.rowDimensions=t,this.colDimensions=n}getRowDimensions(){return this.rowDimensions}getColDimensions(){return this.colDimensions}setRowHeight(t,n){var r;(r=this.rowDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("row",t,n)}setColumnWidth(t,n){var r;(r=this.colDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("column",t,n)}async loadDimensions(){if(this.rowDimensions){this.rowDimensions.clear();const t=await this.store.getDimensionSizes("row");for(const[n,r]of t)this.rowDimensions.setSize(n,r)}if(this.colDimensions){this.colDimensions.clear();const t=await this.store.getDimensionSizes("column");for(const[n,r]of t)this.colDimensions.setSize(n,r)}}getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n,await this.store.setFreezePane(t,n)}async loadFreezePane(){const{frozenRows:t,frozenCols:n}=await this.store.getFreezePane();this.frozenRows=t,this.frozenCols=n}async loadStyles(){this.colStyles=await this.store.getColumnStyles(),this.rowStyles=await this.store.getRowStyles(),this.sheetStyle=await this.store.getSheetStyle()}getColStyles(){return this.colStyles}getRowStyles(){return this.rowStyles}getSheetStyle(){return this.sheetStyle}resolveEffectiveStyle(t,n,r){const s=this.sheetStyle,a=this.colStyles.get(n),l=this.rowStyles.get(t);if(!(!s&&!a&&!l&&!r))return{...s,...a,...l,...r}}async getCell(t){return this.store.get(t)}async setCell(t,n){await this.store.set(t,n)}async setGrid(t){await this.store.setGrid(t)}async hasFormula(t){const n=await this.store.get(t);return!!(n&&n.f)}async toInputString(t){const n=await this.store.get(t);return n?n.f?n.f:n.v||"":""}async toDisplayString(t){const n=await this.store.get(t);if(!n||!n.v)return"";const r=this.resolveEffectiveStyle(t.r,t.c,n.s);return Nk(n.v,r==null?void 0:r.nf,r==null?void 0:r.dp)}async setData(t,n){this.store.beginBatch();try{const r=await this.store.get(t),s=n.startsWith("=")?{f:n}:{v:n},a=r!=null&&r.s?{...s,s:r.s}:s;this.isEmptyCell(a)?await this.store.delete(t):await this.store.set(t,a);const l=await this.store.buildDependantsMap([wt(t)]);await jp(this,l,[wt(t)])}finally{this.store.endBatch()}}async removeData(){this.store.beginBatch();try{const t=this.range?this.range:[this.activeCell,this.activeCell],n=await this.store.getGrid(t),r=new Set;for(const[a,l]of n){const f=gn(a);l.s&&Object.keys(l.s).length>0?await this.store.set(f,{s:l.s}):await this.store.delete(f),r.add(a)}if(r.size===0)return!1;const s=await this.store.buildDependantsMap(r);return await jp(this,s,r),!0}finally{this.store.endBatch()}}async insertRows(t,n=1){await this.shiftCells("row",t,n)}async deleteRows(t,n=1){await this.shiftCells("row",t,-n)}async insertColumns(t,n=1){await this.shiftCells("column",t,n)}async deleteColumns(t,n=1){await this.shiftCells("column",t,-n)}async moveRows(t,n,r){await this.moveCells("row",t,n,r)}async moveColumns(t,n,r){await this.moveCells("column",t,n,r)}async shiftCells(t,n,r){var a,l;await this.store.shiftCells(t,n,r),t==="row"?((a=this.rowDimensions)==null||a.shift(n,r),this.rowStyles=Gp(this.rowStyles,n,r)):((l=this.colDimensions)==null||l.shift(n,r),this.colStyles=Gp(this.colStyles,n,r));const s=t==="row"?this.activeCell.r:this.activeCell.c;if(r>0&&s>=n)t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r};else if(r<0){const f=Math.abs(r);s>=n&&s<n+f?t==="row"?this.activeCell={r:Math.max(1,n),c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:Math.max(1,n)}:s>=n+f&&(t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r})}this.store.beginBatch();try{const f=t==="row"?this.frozenRows:this.frozenCols;if(f>0){if(r>0&&n<=f){const m=f+r;t==="row"?this.frozenRows=m:this.frozenCols=m,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}else if(r<0){const m=Math.abs(r);if(n<=f){const x=Math.min(m,f-n+1),b=Math.max(0,f-x);t==="row"?this.frozenRows=b:this.frozenCols=b,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}}}const d=new Set,g=[{r:1,c:1},{r:1e3,c:100}],p=await this.store.getGrid(g);for(const[m,x]of p)x.f&&d.add(m);if(d.size>0){const m=await this.store.buildDependantsMap(d);await jp(this,m,d)}}finally{this.store.endBatch()}}async moveCells(t,n,r,s){var a,l;if(!(s>=n&&s<=n+r)){await this.store.moveCells(t,n,r,s),t==="row"?((a=this.rowDimensions)==null||a.move(n,r,s),this.rowStyles=Up(this.rowStyles,n,r,s)):((l=this.colDimensions)==null||l.move(n,r,s),this.colStyles=Up(this.colStyles,n,r,s)),this.activeCell=Hc(this.activeCell,t,n,r,s),this.range&&(this.range=[Hc(this.range[0],t,n,r,s),Hc(this.range[1],t,n,r,s)]),this.store.beginBatch();try{const f=new Set,d=[{r:1,c:1},{r:1e3,c:100}],g=await this.store.getGrid(d);for(const[p,m]of g)m.f&&f.add(p);if(f.size>0){const p=await this.store.buildDependantsMap(f);await jp(this,p,f)}}finally{this.store.endBatch()}}}async fetchGrid(t){return this.store.getGrid(t)}isEmptyCell(t){const n=t.v!==void 0&&t.v!==""&&t.v!==null,r=!!t.f,s=t.s!==void 0&&Object.keys(t.s).length>0;return!n&&!r&&!s}getCopyRange(){var t;return(t=this.copyBuffer)==null?void 0:t.sourceRange}clearCopyBuffer(){this.copyBuffer=void 0}async copy(){const t=this.range||[this.activeCell,this.activeCell],n=await this.fetchGrid(t),r=k7(n);return this.copyBuffer={sourceRange:t,grid:n,text:r},{text:r}}async paste(t){const{text:n,html:r}=t;let s;if(this.copyBuffer&&n===this.copyBuffer.text)s=this.relocateGrid(this.copyBuffer.grid,this.copyBuffer.sourceRange,this.activeCell);else if(r&&j7(r))s=z7(r,this.activeCell);else if(n)s=B7(this.activeCell,n);else return;this.store.beginBatch();try{await this.setGrid(s);const a=new Set;for(const[l,f]of s)f.f&&a.add(l);if(a.size>0){const l=await this.store.buildDependantsMap(a);await jp(this,l,a)}}finally{this.store.endBatch()}this.selectPastedRange(s)}selectPastedRange(t){if(t.size===0)return;let n=1/0,r=-1/0,s=1/0,a=-1/0;for(const l of t.keys()){const f=gn(l);f.r<n&&(n=f.r),f.r>r&&(r=f.r),f.c<s&&(s=f.c),f.c>a&&(a=f.c)}n===r&&s===a?this.selectStart({r:n,c:s}):(this.selectionType="cell",this.activeCell={r:n,c:s},this.range=[{r:n,c:s},{r,c:a}],this.store.updateActiveCell(this.activeCell))}relocateGrid(t,n,r){const s=r.r-n[0].r,a=r.c-n[0].c,l=new Map;for(const[f,d]of t){const g=gn(f),p={r:g.r+s,c:g.c+a},m=wt(p);if(d.f){const x=P7(d.f,s,a);l.set(m,{f:x,s:d.s})}else l.set(m,{...d})}return l}async hasContents(t){return(await this.store.getGrid(t)).size>0}async fetchGridByReferences(t){const n=new Map,r=new Map;for(const s of $c(t))if(sh(s)){const{sheetName:a,localRef:l}=Ak(s);r.has(a.toUpperCase())||r.set(a.toUpperCase(),new Set),r.get(a.toUpperCase()).add(l)}else{const a=await this.store.get(gn(s));a&&n.set(s,a)}if(this.gridResolver&&r.size>0)for(const[s,a]of r){const l=this.gridResolver(s,a);if(l)for(const[f,d]of l)n.set(`${s}!${f}`,d)}return n}setGridResolver(t){this.gridResolver=t}async recalculateCrossSheetFormulas(){const t=await this.store.getFormulaGrid(),n=new Set;for(const[r]of t)n.add(r);if(n.size!==0){this.store.beginBatch();try{const r=await this.store.buildDependantsMap(n);await jp(this,r,n)}finally{this.store.endBatch()}}}getActiveCell(){return this.activeCell}setActiveCell(t){this.activeCell=t,this.store.updateActiveCell(t)}getRange(){return this.range}getPresences(){return this.store.getPresences()}getRangeOrActiveCell(){return this.range||[this.activeCell,this.activeCell]}getSelectionType(){return this.selectionType}selectRow(t){this.selectionType="row",this.activeCell={r:t,c:1},this.range=[{r:t,c:1},{r:t,c:this.dimension.columns}],this.store.updateActiveCell(this.activeCell)}selectColumn(t){this.selectionType="column",this.activeCell={r:1,c:t},this.range=[{r:1,c:t},{r:this.dimension.rows,c:t}],this.store.updateActiveCell(this.activeCell)}selectRowRange(t,n){this.selectionType="row";const r=Math.min(t,n),s=Math.max(t,n);this.range=[{r,c:1},{r:s,c:this.dimension.columns}]}selectColumnRange(t,n){this.selectionType="column";const r=Math.min(t,n),s=Math.max(t,n);this.range=[{r:1,c:r},{r:this.dimension.rows,c:s}]}selectAllCells(){this.selectionType="all",this.activeCell={r:1,c:1},this.range=Tb(this.dimensionRange),this.store.updateActiveCell(this.activeCell)}getSelectedIndices(){return this.selectionType==="cell"||this.selectionType==="all"||!this.range?null:this.selectionType==="row"?{axis:"row",from:this.range[0].r,to:this.range[1].r}:{axis:"column",from:this.range[0].c,to:this.range[1].c}}selectStart(t){qb(t,this.dimensionRange)&&(this.selectionType="cell",this.setActiveCell(t),this.range=void 0)}selectEnd(t){if(qb(t,this.dimensionRange)){if(fv(this.activeCell,t)){this.range=void 0;return}this.range=xD(this.activeCell,t)}}hasRange(){return!!this.range}async selectAll(){let t=this.getRangeOrActiveCell(),n=Tb(t),r=!0;for(;r;){r=!1;for(const s of ZW(n,this.dimensionRange))await this.hasContents(s)&&(n=JW(n,s),r=!0)}if(XW(t,n)){this.range=Tb(this.dimensionRange);return}this.range=n}async moveToEdge(t){const n=await this.store.findEdge(this.activeCell,t,this.dimensionRange);return fv(this.activeCell,n)?!1:(this.range=void 0,this.setActiveCell(n),!0)}move(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let s=this.activeCell.r+n,a=this.activeCell.c+r;return!qb({r:s,c:a},this.dimensionRange)||fv(this.activeCell,{r:s,c:a})?!1:(this.range=void 0,this.setActiveCell({r:s,c:a}),!0)}resizeRange(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let s=Tb(this.range||[this.activeCell,this.activeCell]);return this.activeCell.r===s[1].r?s[0].r+=n:s[1].r+=n,this.activeCell.c===s[1].c?s[0].c+=r:s[1].c+=r,s=xD(s[0],s[1]),KW(s,this.dimensionRange)?(this.range=s,!0):!1}async getStyle(t){const n=await this.store.get(t);return this.resolveEffectiveStyle(t.r,t.c,n==null?void 0:n.s)}async setStyle(t,n){const r=await this.store.get(t)||{},s={...r.s,...n};for(const l of Object.keys(s))(s[l]===void 0||s[l]==="")&&delete s[l];const a=Object.keys(s).length>0?{...r,s}:{v:r.v,f:r.f};await this.store.set(t,a)}async setRangeStyle(t){this.store.beginBatch();try{if(this.selectionType==="column"){const r=this.getRangeOrActiveCell();for(let s=r[0].c;s<=r[1].c;s++){const l={...this.colStyles.get(s)||{},...t};for(const f of Object.keys(l))!l[f]&&l[f]!==0&&delete l[f];this.colStyles.set(s,l),await this.store.setColumnStyle(s,l)}return}if(this.selectionType==="row"){const r=this.getRangeOrActiveCell();for(let s=r[0].r;s<=r[1].r;s++){const l={...this.rowStyles.get(s)||{},...t};for(const f of Object.keys(l))!l[f]&&l[f]!==0&&delete l[f];this.rowStyles.set(s,l),await this.store.setRowStyle(s,l)}return}if(this.selectionType==="all"){const s={...this.sheetStyle||{},...t};for(const a of Object.keys(s))!s[a]&&s[a]!==0&&delete s[a];this.sheetStyle=s,await this.store.setSheetStyle(s);return}const n=this.getRangeOrActiveCell();for(let r=n[0].r;r<=n[1].r;r++)for(let s=n[0].c;s<=n[1].c;s++)await this.setStyle({r,c:s},t)}finally{this.store.endBatch()}}async toggleRangeStyle(t){const n=await this.getStyle(this.activeCell),r=!(n!=null&&n[t]);await this.setRangeStyle({[t]:r})}async getActiveDecimalPlaces(){const t=await this.getStyle(this.activeCell);return(t==null?void 0:t.dp)??2}async undo(){const t=await this.store.undo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}async redo(){const t=await this.store.redo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}moveInRange(t,n){const r=this.range||this.dimensionRange;let s=this.activeCell.r,a=this.activeCell.c;const l=r[1].r-r[0].r+1,f=r[1].c-r[0].c+1;t!==0&&(s+t>r[1].r?(s=r[0].r,a=(a+1-r[0].c+f)%f+r[0].c):s+t<r[0].r?(s=r[1].r,a=(a-1-r[0].c+f)%f+r[0].c):s+=t),n!==0&&(a+n>r[1].c?(a=r[0].c,s=(s+1-r[0].r+l)%l+r[0].r):a+n<r[0].c?(a=r[1].c,s=(s-1-r[0].r+l)%l+r[0].r):a+=n),this.setActiveCell({r:s,c:a})}}class G7{constructor(t){q(this,"grid");q(this,"cellIndex",new gR);q(this,"rowHeights",new Map);q(this,"colWidths",new Map);q(this,"colStyles",new Map);q(this,"rowStyles",new Map);q(this,"sheetStyle");q(this,"frozenRows",0);q(this,"frozenCols",0);this.grid=t||new Map,this.rebuildIndex()}async set(t,n){this.grid.set(wt(t),n),this.cellIndex.add(t.r,t.c)}async get(t){return this.grid.get(wt(t))}async has(t){return this.grid.has(wt(t))}async delete(t){const n=this.grid.delete(wt(t));return n&&this.cellIndex.remove(t.r,t.c),n}async deleteRange(t){const n=new Set,r=[];for(const[s,a]of this.cellIndex.cellsInRange(t)){const l=wt({r:s,c:a});this.grid.delete(l),n.add(l),r.push([s,a])}for(const[s,a]of r)this.cellIndex.remove(s,a);return n}async setGrid(t){for(const[n,r]of t){this.grid.set(n,r);const s=gn(n);this.cellIndex.add(s.r,s.c)}}async getGrid(t){const n=new Map;for(const[r,s]of this.cellIndex.cellsInRange(t)){const a=wt({r,c:s}),l=this.grid.get(a);l!==void 0&&n.set(a,l)}return n}async findEdge(t,n,r){return mR(this.cellIndex,t,n,r,(s,a)=>{const l=this.grid.get(wt({r:s,c:a}));return l!==void 0&&(!!l.v||!!l.f)})}async shiftCells(t,n,r){this.grid=M7(this.grid,t,n,r),this.rebuildIndex(),t==="row"?(this.rowHeights=Gp(this.rowHeights,n,r),this.rowStyles=Gp(this.rowStyles,n,r)):(this.colWidths=Gp(this.colWidths,n,r),this.colStyles=Gp(this.colStyles,n,r))}async moveCells(t,n,r,s){this.grid=D7(this.grid,t,n,r,s),this.rebuildIndex(),t==="row"?(this.rowHeights=Up(this.rowHeights,n,r,s),this.rowStyles=Up(this.rowStyles,n,r,s)):(this.colWidths=Up(this.colWidths,n,r,s),this.colStyles=Up(this.colStyles,n,r,s))}async getFormulaGrid(){const t=new Map;for(const[n,r]of this.grid)r.f&&t.set(n,r);return t}async buildDependantsMap(t){const n=Array.from(this.grid.entries()),r=new Map;for(const[s,a]of n)if(a.f)for(const l of $c(dv(a.f)))sh(l)||(r.has(l)||r.set(l,new Set),r.get(l).add(s));return r}getPresences(){return[]}async setDimensionSize(t,n,r){(t==="row"?this.rowHeights:this.colWidths).set(n,r)}async getDimensionSizes(t){return new Map(t==="row"?this.rowHeights:this.colWidths)}updateActiveCell(t){}async setColumnStyle(t,n){this.colStyles.set(t,n)}async getColumnStyles(){return new Map(this.colStyles)}async setRowStyle(t,n){this.rowStyles.set(t,n)}async getRowStyles(){return new Map(this.rowStyles)}async setSheetStyle(t){this.sheetStyle=t}async getSheetStyle(){return this.sheetStyle?{...this.sheetStyle}:void 0}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n}async getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=gn(t);return[n.r,n.c]}))}}const $7={cellBorderColor:"#D3D3D3",cellBGColor:"#FFFFFF",cellTextColor:"#000000",activeCellColor:"#E6C746",selectionBGColor:"rgba(230, 199, 70, 0.1)",headerBGColor:"#F0F0F0",headerActiveBGColor:"#E6C746","tokens.REFERENCE":"#E6C746","tokens.NUM":"#4DA6FF",peerCursor1:"#FF6B6B",peerCursor2:"#4ECDC4",peerCursor3:"#45B7D1",peerCursor4:"#96CEB4",peerCursor5:"#FFEAA7",peerCursor6:"#DDA0DD",peerCursor7:"#98D8C8",peerCursor8:"#F7DC6F",resizeHandleColor:"#1A73E8",headerSelectedBGColor:"rgba(26, 115, 232, 0.3)",dropIndicatorColor:"#1A73E8",freezeLineColor:"#BBBBBB",freezeHandleColor:"#9E9E9E",freezeHandleHoverColor:"#5F6368",formulaRange1:"#1A73E8",formulaRange2:"#E84C3D",formulaRange3:"#9B59B6",formulaRange4:"#27AE60",formulaRange5:"#F39C12",formulaRange6:"#00ACC1"},H7={cellBorderColor:"#4A4A4A",cellBGColor:"#1E1E1E",cellTextColor:"#FFFFFF",activeCellColor:"#D4B73E",selectionBGColor:"rgba(212, 183, 62, 0.1)",headerBGColor:"#2D2D2D",headerActiveBGColor:"#D4B73E","tokens.REFERENCE":"#D4B73E","tokens.NUM":"#4DA6FF",peerCursor1:"#FF7979",peerCursor2:"#55EFC4",peerCursor3:"#74B9FF",peerCursor4:"#A4D4C4",peerCursor5:"#FDCB6E",peerCursor6:"#E17055",peerCursor7:"#81ECEC",peerCursor8:"#F8D84F",resizeHandleColor:"#8AB4F8",headerSelectedBGColor:"rgba(138, 180, 248, 0.3)",dropIndicatorColor:"#8AB4F8",freezeLineColor:"#5A5A5A",freezeHandleColor:"#8E8E8E",freezeHandleHoverColor:"#CCCCCC",formulaRange1:"#8AB4F8",formulaRange2:"#FF7979",formulaRange3:"#BB86FC",formulaRange4:"#66BB6A",formulaRange5:"#FFB74D",formulaRange6:"#4DD0E1"};function hr(e,t){return e==="light"?$7[t]:H7[t]}const RD=["formulaRange1","formulaRange2","formulaRange3","formulaRange4","formulaRange5","formulaRange6"];function dS(e,t){return hr(e,RD[t%RD.length])}function TD(e,t){const n=["peerCursor1","peerCursor2","peerCursor3","peerCursor4","peerCursor5","peerCursor6","peerCursor7","peerCursor8"];let r=0;for(let a=0;a<t.length;a++){const l=t.charCodeAt(a);r=(r<<5)-r+l,r=r&r}const s=Math.abs(r)%n.length;return hr(e,n[s])}function Zd(e){const t=window.getSelection();if(t.rangeCount===0)return;const n=t.getRangeAt(0);if(!e.contains(n.commonAncestorContainer))return;let r=0,s=0,a=0;function l(f){if(f.nodeType===Node.TEXT_NODE){const d=f.textContent;f===n.startContainer&&(s=r+n.startOffset),f===n.endContainer&&(a=r+n.endOffset),r+=d.length}for(const d of f.childNodes)l(d)}return l(e),{start:s,end:a}}function qp(e,t){let n=0,r=null,s=null;const a=document.createRange();function l(d){if(d.nodeType===Node.TEXT_NODE){const g=d.textContent;r===null&&n+g.length>=t.start&&(r=d,a.setStart(d,t.start-n)),s===null&&n+g.length>=t.end&&(s=d,a.setEnd(d,t.end-n)),n+=g.length}for(const g of d.childNodes)l(g)}l(e);const f=window.getSelection();f.removeAllRanges(),f.addRange(a),e.focus()}function _k(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#039;"),e=e.replace(/\n/g,"<br>"),e=e.replace(/ /g,"&nbsp;"),e}const Ik=23,Ok=10;class Y7{constructor(t="light"){q(this,"sheet");q(this,"theme");q(this,"container");q(this,"cellLabel");q(this,"formulaInput");q(this,"boundRenderInput");this.theme=t,this.container=document.createElement("div"),this.container.style.height=`${Ik}px`,this.container.style.margin=`${Ok}px 0px`,this.container.style.display="flex",this.container.style.alignItems="center",this.container.style.borderTop=`1px solid ${hr(this.theme,"cellBorderColor")}`,this.container.style.borderBottom=`1px solid ${hr(this.theme,"cellBorderColor")}`,this.container.style.justifyContent="flex-start",this.cellLabel=document.createElement("div"),this.cellLabel.style.width="120px",this.cellLabel.style.textAlign="center",this.cellLabel.style.font="12px Arial",this.cellLabel.style.borderRight=`1px solid ${hr(this.theme,"cellBorderColor")}`,this.container.appendChild(this.cellLabel),this.formulaInput=document.createElement("div"),this.formulaInput.contentEditable="true",this.formulaInput.style.margin="0 20px",this.formulaInput.style.width="100%",this.formulaInput.style.height="12px",this.formulaInput.style.border="none",this.formulaInput.style.font="12px Arial",this.formulaInput.style.outline="none",this.formulaInput.style.overflow="hidden",this.formulaInput.style.whiteSpace="nowrap",this.formulaInput.style.lineHeight="12px",this.container.appendChild(this.formulaInput),this.boundRenderInput=this.renderInput.bind(this),this.formulaInput.addEventListener("input",this.boundRenderInput)}getContainer(){return this.container}initialize(t){this.sheet=t}cleanup(){this.formulaInput.removeEventListener("input",this.boundRenderInput),this.sheet=void 0,this.container.remove()}async render(){if(!this.sheet)return;const t=this.sheet.getActiveCell(),n=this.sheet.getSelectionType(),r=this.sheet.getSelectedIndices();let s;if(n==="row"&&r)s=`${r.from}:${r.to}`;else if(n==="column"&&r){const a=Ev(r.from),l=Ev(r.to);s=`${a}:${l}`}else{const a=this.sheet.getRange();s=a?QW(a):wt(t)}this.cellLabel.textContent=s,this.formulaInput.innerText=await this.sheet.toInputString(t),this.renderInput()}getFormulaInput(){return this.formulaInput}getValue(){return this.formulaInput.innerText}setValue(t){this.formulaInput.innerText=t,this.renderInput()}focus(){this.formulaInput.focus()}blur(){this.formulaInput.blur()}isFocused(){return document.activeElement===this.formulaInput}renderInput(){const t=this.formulaInput.innerText;if(!t.startsWith("="))return;const n=af(t),r=[];let s=0;for(const l of n){if(l.type==="REFERENCE"){r.push(`<span style="color: ${dS(this.theme,s)}">${l.text}</span>`),s++;continue}if(l.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${l.text}</span>`);continue}r.push(_k(l.text))}const a=Zd(this.formulaInput);this.formulaInput.innerHTML="="+r.join(""),a&&qp(this.formulaInput,a)}getThemeColor(t){return hr(this.theme,t)}}const Oa=100,et=23,it=50,Dc=13,hS=1.5,RC=4,Dw=5,TC=.5,W7="center",q7=10,ND=10,Dk=4,K7=10;function jn(e,t={left:0,top:0},n,r){const s=r?r.getOffset(e.c):(e.c-1)*Oa,a=n?n.getOffset(e.r):(e.r-1)*et,l=r?r.getSize(e.c):Oa,f=n?n.getSize(e.r):et;return{left:s+it-t.left,top:a+et-t.top,width:l,height:f}}function Q0(e,t){const n=Math.min(e.left,t.left),r=Math.min(e.top,t.top),s=Math.max(e.left+e.width,t.left+t.width),a=Math.max(e.top+e.height,t.top+t.height);return{left:n,top:r,width:s-n,height:a-r}}const oE={frozenRows:0,frozenCols:0,frozenWidth:0,frozenHeight:0};function X7(e,t,n,r){return e===0&&t===0?oE:{frozenRows:e,frozenCols:t,frozenWidth:t>0?r.getOffset(t+1):0,frozenHeight:e>0?n.getOffset(e+1):0}}function Z7(e,t,n,r){const s=n?n.findIndex(t-et):Math.floor(t/et),a=r?r.findIndex(e-it):Math.floor((e+it)/Oa);return{r:s,c:a}}function J7(e,t,n,r,s,a){const l=a.frozenCols>0&&e<it+a.frozenWidth,f=a.frozenRows>0&&t<et+a.frozenHeight,d=l?e-it:e-it-a.frozenWidth+s.getOffset(a.frozenCols+1)+n.left,g=f?t-et:t-et-a.frozenHeight+r.getOffset(a.frozenRows+1)+n.top,p=s.findIndex(d),m=r.findIndex(g);return{r:Math.max(1,m),c:Math.max(1,p)}}function Q7(e,t,n,r,s){const a=r.getOffset(e.c),l=n.getOffset(e.r),f=r.getSize(e.c),d=n.getSize(e.r),g=s.frozenCols>0&&e.c<=s.frozenCols,p=s.frozenRows>0&&e.r<=s.frozenRows,m=g?a+it:a+it-t.left-r.getOffset(s.frozenCols+1)+s.frozenWidth,x=p?l+et:l+et-t.top-n.getOffset(s.frozenRows+1)+s.frozenHeight;return{left:m,top:x,width:f,height:d}}class eq{constructor(t="light"){q(this,"container");q(this,"input");q(this,"theme");q(this,"boundHandleInput");q(this,"minWidth",Oa);q(this,"minHeight",et);q(this,"maxWidth",1/0);q(this,"maxHeight",1/0);q(this,"composing",!1);this.theme=t,this.container=document.createElement("div"),this.container.style.position="absolute",this.container.style.left="-1000px",this.container.style.width=Oa+"px",this.container.style.height=et+"px",this.container.style.zIndex="1",this.container.style.margin="0px",this.container.style.pointerEvents="none",this.input=document.createElement("div"),this.input.contentEditable="true",this.input.style.border="none",this.input.style.outline=`2px solid ${this.getThemeColor("activeCellColor")}`,this.input.style.fontFamily="Arial, sans-serif",this.input.style.fontSize=Dc+"px",this.input.style.fontWeight="normal",this.input.style.lineHeight=String(hS),this.input.style.color=this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=this.getThemeColor("cellBGColor"),this.input.style.whiteSpace="pre",this.input.style.overflow="hidden",this.container.appendChild(this.input),this.boundHandleInput=this.handleInput.bind(this),this.input.addEventListener("input",this.boundHandleInput),this.input.addEventListener("compositionstart",()=>{this.composing=!0}),this.input.addEventListener("compositionend",()=>{this.composing=!1,this.adjustSize()})}cleanup(){this.input.removeEventListener("input",this.boundHandleInput),this.container.remove()}getContainer(){return this.container}getInput(){return this.input}show(t,n,r="",s=!0,a,l,f,d){this.minWidth=a??Oa,this.minHeight=l??et,this.maxWidth=f??1/0,this.maxHeight=d??1/0,this.container.style.left=t+"px",this.container.style.top=n+"px",this.container.style.pointerEvents="auto",this.input.innerText=r,this.renderInput(),this.adjustSize(),s&&(qp(this.input,{start:this.input.innerText.length,end:this.input.innerText.length}),this.input.focus())}hide(){this.container.style.left="-1000px",this.container.style.pointerEvents="none",this.input.innerText="",this.input.blur()}isShown(){return this.container.style.left!=="-1000px"}isFocused(){return document.activeElement===this.input}getValue(){return this.input.innerText}setValue(t){this.input.innerText=t,this.renderInput(),this.adjustSize()}hasFormula(){return this.input.innerText.startsWith("=")}applyStyle(t){this.input.style.fontWeight=t!=null&&t.b?"bold":"normal",this.input.style.fontStyle=t!=null&&t.i?"italic":"normal";const n=[];t!=null&&t.u&&n.push("underline"),t!=null&&t.st&&n.push("line-through"),this.input.style.textDecoration=n.length?n.join(" "):"none",this.input.style.color=(t==null?void 0:t.tc)||this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=(t==null?void 0:t.bg)||this.getThemeColor("cellBGColor"),this.input.style.textAlign=(t==null?void 0:t.al)||"left";const r=(t==null?void 0:t.va)||"top";this.container.style.display="flex",this.container.style.alignItems=r==="middle"?"center":r==="bottom"?"flex-end":"flex-start"}handleInput(){this.renderInput(),this.composing||this.adjustSize()}adjustSize(){this.input.style.width=this.minWidth+"px",this.input.style.height=this.minHeight+"px";const t=Math.min(Math.max(this.minWidth,this.input.scrollWidth),this.maxWidth),n=Math.min(Math.max(this.minHeight,this.input.scrollHeight),this.maxHeight);this.container.style.width=t+"px",this.container.style.height=n+"px",this.input.style.width=t+"px",this.input.style.height=n+"px",this.input.style.overflowY=this.input.scrollHeight>this.maxHeight?"auto":"hidden"}renderInput(){const t=this.input.innerText;if(!t.startsWith("="))return;const n=af(t),r=[];let s=0;for(const l of n){if(l.type==="REFERENCE"){r.push(`<span style="color: ${dS(this.theme,s)}">${l.text}</span>`),s++;continue}if(l.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${l.text}</span>`);continue}r.push(_k(l.text))}const a=Zd(this.input);this.input.innerHTML="="+r.join(""),a&&qp(this.input,a)}getThemeColor(t){return hr(this.theme,t)}}class tq{constructor(t="light"){q(this,"canvas");q(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="1",this.canvas.style.pointerEvents="none"}cleanup(){this.canvas.remove()}getContainer(){return this.canvas}render(t,n,r,s,a,l,f,d,g,p,m,x=oE,b,A){this.canvas.width=0,this.canvas.height=0;const C=this.canvas.getContext("2d"),w=window.devicePixelRatio||1;if(this.canvas.width=t.width*w,this.canvas.height=t.height*w,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",C.scale(w,w),!(x.frozenRows>0||x.frozenCols>0))this.renderActiveCellSimple(C,r,n,l,f),this.renderSelectionSimple(C,t,n,a,g,l,f),this.renderPeerCursorsSimple(C,t,s,n,l,f),this.renderFormulaRangesSimple(C,m,n,l,f),this.renderCopyRangeSimple(C,A,n,l,f);else{const N=this.buildQuadrants(t,n,x,l,f);this.renderSelectionFrozen(C,t,n,a,g,l,f,x,N);for(const I of N){C.save(),C.beginPath(),C.rect(I.x,I.y,I.width,I.height),C.clip();const D=jn(r,{left:I.scrollLeft,top:I.scrollTop},l,f);C.strokeStyle=this.getThemeColor("activeCellColor"),C.lineWidth=2,C.strokeRect(D.left,D.top,D.width,D.height),C.restore()}for(const{clientID:I,presence:D}of s){if(!D.activeCell)continue;const F=gn(D.activeCell),k=TD(this.theme,I);for(const V of N){C.save(),C.beginPath(),C.rect(V.x,V.y,V.width,V.height),C.clip();const B=jn(F,{left:V.scrollLeft,top:V.scrollTop},l,f);B.left>=-B.width&&B.left<t.width&&B.top>=-B.height&&B.top<t.height&&(C.strokeStyle=k,C.lineWidth=2,C.strokeRect(B.left,B.top,B.width,B.height)),C.restore()}}if(m&&m.length>0)for(let I=0;I<m.length;I++){const D=m[I],F=dS(this.theme,I);for(const k of N){C.save(),C.beginPath(),C.rect(k.x,k.y,k.width,k.height),C.clip();const V={left:k.scrollLeft,top:k.scrollTop},B=Q0(jn(D[0],V,l,f),jn(D[1],V,l,f));C.strokeStyle=F,C.lineWidth=2,C.strokeRect(B.left,B.top,B.width,B.height),C.fillStyle=F+"20",C.fillRect(B.left,B.top,B.width,B.height),C.restore()}}if(A)for(const I of N){C.save(),C.beginPath(),C.rect(I.x,I.y,I.width,I.height),C.clip();const D={left:I.scrollLeft,top:I.scrollTop};this.drawCopyRangeBorder(C,A,D,l,f),C.restore()}}d&&f&&l&&this.renderResizeHover(C,t,n,d,l,f,x),p&&f&&l&&this.renderDragMoveIndicator(C,t,n,p,l,f,x),b&&f&&l&&this.renderFreezeDragPreview(C,t,b,l,f)}buildQuadrants(t,n,r,s,a){const l=r.frozenWidth,f=r.frozenHeight,d=s?s.getOffset(r.frozenRows+1):0,g=a?a.getOffset(r.frozenCols+1):0,p=[];return p.push({x:it+l,y:et+f,width:t.width-it-l,height:t.height-et-f,scrollLeft:n.left+g-l,scrollTop:n.top+d-f}),r.frozenRows>0&&p.push({x:it+l,y:et,width:t.width-it-l,height:f,scrollLeft:n.left+g-l,scrollTop:0}),r.frozenCols>0&&p.push({x:it,y:et+f,width:l,height:t.height-et-f,scrollLeft:0,scrollTop:n.top+d-f}),r.frozenRows>0&&r.frozenCols>0&&p.push({x:it,y:et,width:l,height:f,scrollLeft:0,scrollTop:0}),p}renderActiveCellSimple(t,n,r,s,a){const l=jn(n,r,s,a);t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.strokeRect(l.left,l.top,l.width,l.height)}renderSelectionSimple(t,n,r,s,a,l,f){if(a==="all")t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,et,n.width-it,n.height-et);else if(s)if(a==="row"){const d=jn(s[0],r,l,f),g=jn(s[1],r,l,f),p=d.top,m=g.top+g.height-d.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,p,n.width-it,m),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(it,p,n.width-it,m)}else if(a==="column"){const d=jn(s[0],r,l,f),g=jn(s[1],r,l,f),p=d.left,m=g.left+g.width-d.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(p,et,m,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(p,et,m,n.height-et)}else{const d=Q0(jn(s[0],r,l,f),jn(s[1],r,l,f));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(d.left,d.top,d.width,d.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(d.left,d.top,d.width,d.height)}}renderPeerCursorsSimple(t,n,r,s,a,l){for(const{clientID:f,presence:d}of r){if(!d.activeCell)continue;const g=gn(d.activeCell),p=jn(g,s,a,l);if(p.left>=-p.width&&p.left<n.width&&p.top>=-p.height&&p.top<n.height){const m=TD(this.theme,f);t.strokeStyle=m,t.lineWidth=2,t.strokeRect(p.left,p.top,p.width,p.height)}}}renderFormulaRangesSimple(t,n,r,s,a){if(!(!n||n.length===0))for(let l=0;l<n.length;l++){const f=n[l],d=Q0(jn(f[0],r,s,a),jn(f[1],r,s,a)),g=dS(this.theme,l);t.strokeStyle=g,t.lineWidth=2,t.strokeRect(d.left,d.top,d.width,d.height),t.fillStyle=g+"20",t.fillRect(d.left,d.top,d.width,d.height)}}renderCopyRangeSimple(t,n,r,s,a){n&&this.drawCopyRangeBorder(t,n,r,s,a)}drawCopyRangeBorder(t,n,r,s,a){const l=Q0(jn(n[0],r,s,a),jn(n[1],r,s,a));t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.setLineDash([5,3]),t.strokeRect(l.left,l.top,l.width,l.height),t.setLineDash([])}renderSelectionFrozen(t,n,r,s,a,l,f,d,g){if(a==="all"){t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,et,n.width-it,n.height-et);return}if(s)for(const p of g){t.save(),t.beginPath(),t.rect(p.x,p.y,p.width,p.height),t.clip();const m={left:p.scrollLeft,top:p.scrollTop};if(a==="row"){const x=jn(s[0],m,l,f),b=jn(s[1],m,l,f),A=x.top,C=b.top+b.height-x.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,A,n.width-it,C),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(it,A,n.width-it,C)}else if(a==="column"){const x=jn(s[0],m,l,f),b=jn(s[1],m,l,f),A=x.left,C=b.left+b.width-x.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(A,et,C,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(A,et,C,n.height-et)}else{const x=Q0(jn(s[0],m,l,f),jn(s[1],m,l,f));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(x.left,x.top,x.width,x.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(x.left,x.top,x.width,x.height)}t.restore()}}renderResizeHover(t,n,r,s,a,l,f){if(t.strokeStyle=this.getThemeColor("resizeHandleColor"),t.lineWidth=2,s.axis==="column"){const g=f.frozenCols>0&&s.index<=f.frozenCols?0:r.left+l.getOffset(f.frozenCols+1)-f.frozenWidth,p=it+l.getOffset(s.index)+l.getSize(s.index)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=f.frozenRows>0&&s.index<=f.frozenRows?0:r.top+a.getOffset(f.frozenRows+1)-f.frozenHeight,p=et+a.getOffset(s.index)+a.getSize(s.index)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderDragMoveIndicator(t,n,r,s,a,l,f){if(t.strokeStyle=this.getThemeColor("dropIndicatorColor"),t.lineWidth=3,s.axis==="column"){const g=f.frozenCols>0&&s.dropIndex<=f.frozenCols?0:r.left+l.getOffset(f.frozenCols+1)-f.frozenWidth,p=it+l.getOffset(s.dropIndex)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=f.frozenRows>0&&s.dropIndex<=f.frozenRows?0:r.top+a.getOffset(f.frozenRows+1)-f.frozenHeight,p=et+a.getOffset(s.dropIndex)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderFreezeDragPreview(t,n,r,s,a){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,r.axis==="row"){const l=r.targetIndex===0?et:et+s.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(0,l),t.lineTo(n.width,l),t.stroke()}else{const l=r.targetIndex===0?it:it+a.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(l,0),t.lineTo(l,n.height),t.stroke()}}getThemeColor(t){return hr(this.theme,t)}}const _b=1e7;class nq{constructor(t="light"){q(this,"container");q(this,"scrollContainer");q(this,"dummyContainer");q(this,"actualWidth",0);q(this,"actualHeight",0);this.createContainers()}createContainers(){this.container=document.createElement("div"),this.container.style.position="relative",this.container.style.width="100%",this.container.style.height=`calc(100% - ${Ik+Ok*2}px)`,this.scrollContainer=document.createElement("div"),this.scrollContainer.style.position="absolute",this.scrollContainer.style.overflow="auto",this.scrollContainer.style.width="100%",this.scrollContainer.style.height="100%",this.scrollContainer.style.zIndex="1",this.dummyContainer=document.createElement("div"),this.dummyContainer.style.margin="0px",this.dummyContainer.style.padding="0px",this.dummyContainer.style.pointerEvents="none",this.scrollContainer.appendChild(this.dummyContainer),this.container.appendChild(this.scrollContainer)}getContainer(){return this.container}getScrollContainer(){return this.scrollContainer}getDummyContainer(){return this.dummyContainer}updateDummySize(t,n){this.actualWidth=t,this.actualHeight=n;const r=Math.min(t,_b),s=Math.min(n,_b);this.dummyContainer.style.width=r+"px",this.dummyContainer.style.height=s+"px"}appendChild(t){this.container.appendChild(t)}getViewport(){return this.scrollContainer.getBoundingClientRect()}getScrollPosition(){const t=this.scrollContainer.scrollLeft,n=this.scrollContainer.scrollTop,r=this.scrollContainer.getBoundingClientRect();return{left:this.toLogical(t,this.actualWidth,r.width),top:this.toLogical(n,this.actualHeight,r.height)}}setScrollPosition(t){const n=this.scrollContainer.getBoundingClientRect();t.left!==void 0&&(this.scrollContainer.scrollLeft=this.toPhysical(t.left,this.actualWidth,n.width)),t.top!==void 0&&(this.scrollContainer.scrollTop=this.toPhysical(t.top,this.actualHeight,n.height))}scrollBy(t,n){const r=this.scrollContainer.getBoundingClientRect(),s=this.needsRemap(this.actualWidth,r.width)?t*this.physicalMax(this.actualWidth,r.width)/this.logicalMax(this.actualWidth,r.width):t,a=this.needsRemap(this.actualHeight,r.height)?n*this.physicalMax(this.actualHeight,r.height)/this.logicalMax(this.actualHeight,r.height):n;this.scrollContainer.scrollBy(s,a)}addEventListener(t,n,r){this.scrollContainer.addEventListener(t,n,r)}removeEventListener(t,n,r){this.scrollContainer.removeEventListener(t,n,r)}cleanup(){this.container.remove()}needsRemap(t,n){return t>_b&&n<t}cappedSize(t){return Math.min(t,_b)}physicalMax(t,n){return this.cappedSize(t)-n}logicalMax(t,n){return t-n}toLogical(t,n,r){if(!this.needsRemap(n,r))return t;const s=this.physicalMax(n,r);if(s<=0)return 0;const a=this.logicalMax(n,r);return t*a/s}toPhysical(t,n,r){if(!this.needsRemap(n,r))return t;const s=this.logicalMax(n,r);if(s<=0)return 0;const a=this.physicalMax(n,r);return t*a/s}}class rq{constructor(t="light"){q(this,"canvas");q(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.pointerEvents="none"}getCanvas(){return this.canvas}render(t,n,r,s,a,l,f,d,g,p=oE,m=null,x,b,A){this.canvas.width=0,this.canvas.height=0;const C=this.canvas.getContext("2d"),w=window.devicePixelRatio||1;this.canvas.width=t.width*w,this.canvas.height=t.height*w,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",C.scale(w,w);const[R,N]=r;if(!(p.frozenRows>0||p.frozenCols>0))this.renderQuadrantCells(C,R.r,N.r+1,R.c,N.c+1,a,n,l,f,x,b,A),this.renderColumnHeaders(C,R.c,N.c,n.left,it,t.width,s,d,g,l,f),this.renderRowHeaders(C,R.r,N.r,n.top,et,t.height,s,d,g,l,f);else{const F=p.frozenWidth,k=p.frozenHeight,V=p.frozenRows,B=p.frozenCols,H=l?l.getOffset(V+1):V*et,te=f?f.getOffset(B+1):B*Oa;C.save(),C.beginPath(),C.rect(it+F,et+k,t.width-it-F,t.height-et-k),C.clip(),this.renderQuadrantCells(C,R.r,N.r+1,R.c,N.c+1,a,{left:n.left+te-F,top:n.top+H-k},l,f,x,b,A),C.restore(),V>0&&(C.save(),C.beginPath(),C.rect(it+F,et,t.width-it-F,k),C.clip(),this.renderQuadrantCells(C,1,V+1,R.c,N.c+1,a,{left:n.left+te-F,top:0},l,f,x,b,A),C.restore()),B>0&&(C.save(),C.beginPath(),C.rect(it,et+k,F,t.height-et-k),C.clip(),this.renderQuadrantCells(C,R.r,N.r+1,1,B+1,a,{left:0,top:n.top+H-k},l,f,x,b,A),C.restore()),V>0&&B>0&&(C.save(),C.beginPath(),C.rect(it,et,F,k),C.clip(),this.renderQuadrantCells(C,1,V+1,1,B+1,a,{left:0,top:0},l,f,x,b,A),C.restore()),B>0&&this.renderColumnHeaders(C,1,B,0,it,it+F,s,d,g,l,f),this.renderColumnHeaders(C,R.c,N.c,n.left+te-F,it+F,t.width,s,d,g,l,f),V>0&&this.renderRowHeaders(C,1,V,0,et,et+k,s,d,g,l,f),this.renderRowHeaders(C,R.r,N.r,n.top+H-k,et+k,t.height,s,d,g,l,f),this.renderFreezeLines(C,t,F,k)}const D=d==="all";C.fillStyle=D?this.getThemeColor("headerSelectedBGColor"):this.getThemeColor("headerBGColor"),C.fillRect(0,0,it,et),C.strokeStyle=this.getThemeColor("cellBorderColor"),C.lineWidth=TC,C.strokeRect(0,0,it,et),this.renderFreezeHandles(C,p,m)}renderQuadrantCells(t,n,r,s,a,l,f,d,g,p,m,x){for(let b=n;b<=r;b++){const A=m==null?void 0:m.get(b);for(let C=s;C<=a;C++){const w=l==null?void 0:l.get(wt({r:b,c:C})),R=p==null?void 0:p.get(C);let N;(x||R||A||w!=null&&w.s)&&(N={...x,...R,...A,...w==null?void 0:w.s}),this.renderCellBackground(t,{r:b,c:C},w,f,d,g,N)}}for(let b=n;b<=r;b++){const A=m==null?void 0:m.get(b);for(let C=s;C<=a;C++){const w=l==null?void 0:l.get(wt({r:b,c:C})),R=p==null?void 0:p.get(C);let N;(x||R||A||w!=null&&w.s)&&(N={...x,...R,...A,...w==null?void 0:w.s}),this.renderCellContent(t,{r:b,c:C},w,f,d,g,N,l,a)}}}renderColumnHeaders(t,n,r,s,a,l,f,d,g,p,m){t.save(),t.beginPath(),t.rect(a,0,l-a,et),t.clip();for(let x=n;x<=r;x++){const b=m?m.getOffset(x):Oa*(x-1),A=m?m.getSize(x):Oa,C=it+b-s,w=0,R=d==="all"||d==="column"&&g&&x>=g[0].c&&x<=g[1].c;this.renderHeader(t,C,w,A,et,Ev(x),f.c===x,R||!1)}t.restore()}renderRowHeaders(t,n,r,s,a,l,f,d,g,p,m){t.save(),t.beginPath(),t.rect(0,a,it,l-a),t.clip();for(let x=n;x<=r;x++){const b=p?p.getOffset(x):et*(x-1),A=p?p.getSize(x):et,C=0,w=b+et-s,R=d==="all"||d==="row"&&g&&x>=g[0].r&&x<=g[1].r;this.renderHeader(t,C,w,it,A,String(x),f.r===x,R||!1)}t.restore()}renderFreezeLines(t,n,r,s){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,s>0){const a=et+s;t.beginPath(),t.moveTo(0,a),t.lineTo(n.width,a),t.stroke()}if(r>0){const a=it+r;t.beginPath(),t.moveTo(a,0),t.lineTo(a,n.height),t.stroke()}}renderFreezeHandles(t,n,r){const s=n.frozenRows>0||n.frozenCols>0,a=Dk,l=s&&n.frozenRows>0?et+n.frozenHeight-a/2:et-a,f=r==="row";t.fillStyle=f?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(0,l,it,a);const d=s&&n.frozenCols>0?it+n.frozenWidth-a/2:it-a,g=r==="column";t.fillStyle=g?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(d,0,a,et)}renderHeader(t,n,r,s,a,l,f,d=!1){t.fillStyle=d?this.getThemeColor("headerSelectedBGColor"):f?this.getThemeColor("headerActiveBGColor"):this.getThemeColor("headerBGColor"),t.fillRect(n,r,s,a),t.strokeStyle=this.getThemeColor("cellBorderColor"),t.lineWidth=TC,t.strokeRect(n,r,s,a),t.fillStyle=this.getThemeColor("cellTextColor"),t.textAlign=W7,t.font=f||d?"bold 10px Arial":"10px Arial",t.fillText(l,n+s/2,r+Math.min(15,a-4))}renderCellBackground(t,n,r,s,a,l,f){const d=jn(n,s,a,l),g=f??(r==null?void 0:r.s);t.strokeStyle=this.getThemeColor("cellTextColor"),t.lineWidth=TC,t.strokeRect(d.left,d.top,d.width,d.height),t.fillStyle=(g==null?void 0:g.bg)||this.getThemeColor("cellBGColor"),t.fillRect(d.left,d.top,d.width,d.height)}renderCellContent(t,n,r,s,a,l,f,d,g){const p=jn(n,s,a,l),m=f??(r==null?void 0:r.s),x=(r==null?void 0:r.v)||"";if(x){const b=Nk(x,m==null?void 0:m.nf,m==null?void 0:m.dp),A=b.split(`
`),C=[];m!=null&&m.b&&C.push("bold"),m!=null&&m.i&&C.push("italic"),C.push(`${Dc}px Arial`);const w=C.join(" ");let R=p.width;const N=(m==null?void 0:m.al)||"left";if(A.length===1&&N==="left"&&d&&l&&g){t.save(),t.font=w;const V=t.measureText(b).width+RC*2;if(t.restore(),V>p.width){let B=0;for(let H=n.c+1;H<=g;H++){const te=d.get(wt({r:n.r,c:H}));if(te&&(te.v||te.f))break;const re=l.getSize(H);if(B+=re,p.width+B>=V)break}R=p.width+B}}t.save(),t.beginPath(),t.rect(p.left,p.top,R,p.height),t.clip(),t.fillStyle=(m==null?void 0:m.tc)||this.getThemeColor("cellTextColor"),t.font=w,t.textBaseline="top";let I;N==="center"?(t.textAlign="center",I=p.left+p.width/2):N==="right"?(t.textAlign="right",I=p.left+p.width-RC):(t.textAlign="left",I=p.left+RC);const D=(m==null?void 0:m.va)||"top",F=A.length*Dc*hS;let k;D==="middle"?k=p.top+(p.height-F)/2:D==="bottom"?k=p.top+p.height-F-Dw:k=p.top+Dw;for(let V=0;V<A.length;V++){const B=k+V*(Dc*hS);if(t.fillText(A[V],I,B),m!=null&&m.u){const H=t.measureText(A[V]),te=B+Dc+1;let re;N==="center"?re=I-H.width/2:N==="right"?re=I-H.width:re=I,t.beginPath(),t.strokeStyle=(m==null?void 0:m.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(re,te),t.lineTo(re+H.width,te),t.stroke()}if(m!=null&&m.st){const H=t.measureText(A[V]),te=B+Dc/2;let re;N==="center"?re=I-H.width/2:N==="right"?re=I-H.width:re=I,t.beginPath(),t.strokeStyle=(m==null?void 0:m.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(re,te),t.lineTo(re+H.width,te),t.stroke()}}t.restore()}}getThemeColor(t){return hr(this.theme,t)}cleanup(){this.canvas.remove()}}class iq{constructor(t="light"){q(this,"container");q(this,"theme");this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="160px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.applyTheme(),this.handleDocumentClick=this.handleDocumentClick.bind(this)}getContainer(){return this.container}show(t,n,r){this.container.innerHTML="";for(const s of r){const a=document.createElement("div");a.textContent=s.label,a.style.padding="6px 16px",a.style.cursor="pointer",a.style.color=hr(this.theme,"cellTextColor"),a.addEventListener("mouseenter",()=>{a.style.backgroundColor=hr(this.theme,"selectionBGColor")}),a.addEventListener("mouseleave",()=>{a.style.backgroundColor="transparent"}),a.addEventListener("mousedown",l=>{l.preventDefault(),l.stopPropagation(),this.hide(),s.action()}),this.container.appendChild(a)}this.container.style.left=`${t}px`,this.container.style.top=`${n}px`,this.container.style.display="block",document.addEventListener("mousedown",this.handleDocumentClick)}hide(){this.container.style.display="none",document.removeEventListener("mousedown",this.handleDocumentClick)}cleanup(){this.hide(),this.container.remove()}handleDocumentClick(t){this.container.contains(t.target)||this.hide()}applyTheme(){this.container.style.backgroundColor=hr(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${hr(this.theme,"cellBorderColor")}`}}const Pk=[{name:"SUM",description:"Returns the sum of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"IF",description:"Returns one value if true and another if false",args:[{name:"condition"},{name:"value_if_true"},{name:"value_if_false",optional:!0}]},{name:"AND",description:"Returns TRUE if all arguments are true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"OR",description:"Returns TRUE if any argument is true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"NOT",description:"Returns the opposite of a logical value",args:[{name:"logical"}]},{name:"AVERAGE",description:"Returns the average of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MIN",description:"Returns the smallest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MAX",description:"Returns the largest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"COUNT",description:"Counts the number of numeric values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"COUNTA",description:"Counts the number of non-empty values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"TRIM",description:"Removes leading and trailing whitespace from text",args:[{name:"text"}]},{name:"LEN",description:"Returns the number of characters in a text string",args:[{name:"text"}]},{name:"LEFT",description:"Returns the leftmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"RIGHT",description:"Returns the rightmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"MID",description:"Returns characters from the middle of a text string",args:[{name:"text"},{name:"start_num"},{name:"num_chars"}]},{name:"CONCATENATE",description:"Joins two or more text strings into one",args:[{name:"text1"},{name:"text2"},{name:"text3",optional:!0,repeating:!0}]},{name:"TODAY",description:"Returns the current date",args:[]},{name:"NOW",description:"Returns the current date and time",args:[]},{name:"YEAR",description:"Returns the year from a date",args:[{name:"date"}]},{name:"MONTH",description:"Returns the month from a date (1-12)",args:[{name:"date"}]},{name:"DAY",description:"Returns the day of the month from a date (1-31)",args:[{name:"date"}]},{name:"IFERROR",description:"Returns a value if no error, otherwise returns an alternate value",args:[{name:"value"},{name:"value_if_error"}]}];function oq(e){const t=e.toUpperCase();return Pk.filter(n=>n.name.startsWith(t))}function sq(e){const t=e.toUpperCase();return Pk.find(n=>n.name===t)}function aq(e){const t=e.args.map(n=>{let r=n.optional?`[${n.name}]`:n.name;return n.repeating&&(r+=", ..."),r});return`${e.name}(${t.join(", ")})`}function lq(e,t){if(!e.startsWith("="))return{type:"none"};const n=e.slice(1,t);let r=0,s=0;for(let l=n.length-1;l>=0;l--){const f=n[l];if(f===")")r++;else if(f==="(")if(r>0)r--;else{const d=n.slice(0,l).match(/([A-Za-z_]\w*)$/);return d?{type:"argument",funcName:d[1].toUpperCase(),argIndex:s}:{type:"none"}}else f===","&&r===0&&s++}const a=n.match(/([A-Za-z_]\w*)$/);return a?{type:"function-name",prefix:a[1]}:{type:"none"}}class uq{constructor(t="light"){q(this,"container");q(this,"theme");q(this,"selectedIndex",0);q(this,"matches",[]);q(this,"mode","hidden");q(this,"currentHint",null);this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="220px",this.container.style.maxWidth="360px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.container.style.overflow="hidden",this.applyTheme()}getContainer(){return this.container}showList(t,n){if(this.matches=oq(t),this.matches.length===0){this.hide();return}this.mode="list",this.selectedIndex=0,this.renderList(),this.positionAt(n),this.container.style.display="block"}showHint(t,n,r){const s=sq(t);if(!s){this.hide();return}this.mode="hint",this.currentHint={info:s,argIndex:n},this.renderHint(),this.positionAt(r),this.container.style.display="block"}hide(){this.mode="hidden",this.matches=[],this.currentHint=null,this.container.style.display="none",this.container.innerHTML=""}moveUp(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex-1+this.matches.length)%this.matches.length,this.renderList())}moveDown(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex+1)%this.matches.length,this.renderList())}getSelectedFunction(){if(this.mode==="list")return this.matches[this.selectedIndex]}isListVisible(){return this.mode==="list"}isHintVisible(){return this.mode==="hint"}cleanup(){this.hide(),this.container.remove()}positionAt(t){this.container.style.left=`${t.left}px`,this.container.style.top=`${t.top}px`}renderList(){this.container.innerHTML="";const t=hr(this.theme,"cellBGColor"),n=hr(this.theme,"cellTextColor"),r=hr(this.theme,"selectionBGColor"),s=hr(this.theme,"activeCellColor");for(let a=0;a<this.matches.length;a++){const l=this.matches[a],f=document.createElement("div");f.style.padding="4px 10px",f.style.cursor="pointer",f.style.display="flex",f.style.flexDirection="column",f.style.gap="1px",f.style.backgroundColor=a===this.selectedIndex?r:t;const d=document.createElement("div");d.style.fontWeight="600",d.style.color=a===this.selectedIndex?s:n,d.textContent=l.name;const g=document.createElement("div");g.style.fontSize="11px",g.style.opacity="0.7",g.style.color=n,g.textContent=l.description,f.appendChild(d),f.appendChild(g),f.addEventListener("mouseenter",()=>{this.selectedIndex=a,this.renderList()}),f.addEventListener("mousedown",p=>{p.preventDefault(),p.stopPropagation()}),this.container.appendChild(f)}}renderHint(){if(this.container.innerHTML="",!this.currentHint)return;const{info:t,argIndex:n}=this.currentHint,r=hr(this.theme,"cellTextColor"),s=hr(this.theme,"activeCellColor"),a=document.createElement("div");a.style.padding="6px 10px",a.style.color=r,a.style.whiteSpace="nowrap";const l=document.createElement("span");l.style.fontWeight="600",l.textContent=t.name+"(",a.appendChild(l);for(let d=0;d<t.args.length;d++){d>0&&a.appendChild(document.createTextNode(", "));const g=t.args[d];let p=g.optional?`[${g.name}]`:g.name;g.repeating&&(p+=", ...");const m=document.createElement("span");(d===n||d===t.args.length-1&&g.repeating&&n>=d)&&(m.style.fontWeight="700",m.style.color=s),m.textContent=p,a.appendChild(m)}a.appendChild(document.createTextNode(")"));const f=document.createElement("div");f.style.fontSize="11px",f.style.opacity="0.7",f.style.color=r,f.style.padding="2px 10px 4px",f.textContent=aq(t)+"  "+t.description,this.container.appendChild(a),this.container.appendChild(f)}applyTheme(){this.container.style.backgroundColor=hr(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${hr(this.theme,"cellBorderColor")}`}}const Ib=4,cq=10,_D=20;class fq{constructor(t,n="light",r=!1){q(this,"sheet");q(this,"container");q(this,"formulaBar");q(this,"cellInput");q(this,"overlay");q(this,"gridContainer");q(this,"gridCanvas");q(this,"contextMenu");q(this,"autocomplete");q(this,"rowDim");q(this,"colDim");q(this,"listeners",[]);q(this,"resizeObserver");q(this,"boundRender");q(this,"boundHandleGridKeydown");q(this,"boundHandleFormulaKeydown");q(this,"boundHandleCellInputKeydown");q(this,"boundHandleMouseDown");q(this,"boundHandleDblClick");q(this,"boundHandleKeyDown");q(this,"boundHandleKeyUp");q(this,"boundHandleMouseMove");q(this,"boundHandleContextMenu");q(this,"resizeHover",null);q(this,"dragMove",null);q(this,"editMode",!1);q(this,"manuallyResizedRows",new Set);q(this,"formulaRanges",[]);q(this,"freezeState",oE);q(this,"freezeHandleHover",null);q(this,"freezeDrag",null);q(this,"onRenderCallback");q(this,"readOnly");q(this,"formulaRangeAnchor",null);q(this,"activeFormulaInput",null);q(this,"formulaRefInsertPos",null);q(this,"lastFormulaRefTarget",null);this.container=t,this.readOnly=r,this.formulaBar=new Y7(n),this.gridContainer=new nq(n),this.overlay=new tq(n),this.gridCanvas=new rq(n),this.cellInput=new eq(n),this.contextMenu=new iq(n),this.autocomplete=new uq(n),this.rowDim=new AD(et),this.colDim=new AD(Oa),this.gridContainer.appendChild(this.overlay.getContainer()),this.gridContainer.appendChild(this.gridCanvas.getCanvas()),this.gridContainer.appendChild(this.cellInput.getContainer()),this.container.appendChild(this.formulaBar.getContainer()),this.container.appendChild(this.gridContainer.getContainer()),this.container.appendChild(this.contextMenu.getContainer()),this.container.appendChild(this.autocomplete.getContainer()),this.boundRender=this.render.bind(this),this.boundHandleGridKeydown=this.handleGridKeydown.bind(this),this.boundHandleFormulaKeydown=this.handleFormulaKeydown.bind(this),this.boundHandleCellInputKeydown=this.handleCellInputKeydown.bind(this),this.boundHandleMouseDown=this.handleMouseDown.bind(this),this.boundHandleDblClick=this.handleDblClick.bind(this),this.boundHandleKeyDown=this.handleKeyDown.bind(this),this.boundHandleKeyUp=this.handleKeyUp.bind(this),this.boundHandleMouseMove=this.handleMouseMove.bind(this),this.boundHandleContextMenu=this.handleContextMenu.bind(this),this.resizeObserver=new ResizeObserver(()=>this.boundRender())}async initialize(t){this.sheet=t,this.sheet.setDimensions(this.rowDim,this.colDim),await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadFreezePane(),this.updateFreezeState(),this.formulaBar.initialize(t),this.addEventListeners(),this.resizeObserver.observe(this.container),this.render()}updateFreezeState(){const{frozenRows:t,frozenCols:n}=this.sheet.getFreezePane();this.freezeState=X7(t,n,this.rowDim,this.colDim)}async setFreezePane(t,n){await this.sheet.setFreezePane(t,n),this.updateFreezeState(),this.render()}async reloadFreezePane(){await this.sheet.loadFreezePane(),this.updateFreezeState()}cleanup(){this.removeAllEventListeners(),this.resizeObserver.disconnect(),this.formulaBar.cleanup(),this.cellInput.cleanup(),this.overlay.cleanup(),this.gridCanvas.cleanup(),this.gridContainer.cleanup(),this.contextMenu.cleanup(),this.autocomplete.cleanup(),this.sheet=void 0,this.container.innerHTML=""}addEventListener(t,n,r,s){t.addEventListener(n,r,s),this.listeners.push({element:t,type:n,handler:r})}removeAllEventListeners(){for(const{element:t,type:n,handler:r}of this.listeners)t.removeEventListener(n,r);this.listeners=[]}focusGrid(){var t;this.formulaBar.blur(),this.cellInput.hide(),this.autocomplete.hide(),this.formulaRanges=[],this.resetFormulaRangeState(),(t=window.getSelection())==null||t.removeAllRanges()}async finishEditing(){this.autocomplete.hide();const t=this.sheet.getActiveCell();if(this.formulaBar.isFocused())await this.sheet.setData(t,this.formulaBar.getValue()),this.formulaBar.blur(),this.cellInput.hide();else if(this.cellInput.isFocused())await this.sheet.setData(t,this.cellInput.getValue()),this.cellInput.hide();else return;this.formulaRanges=[],this.resetFormulaRangeState(),await this.autoResizeRow(t.r)}isExternalInput(t){if(!t||this.container.contains(t))return!1;const n=t.tagName;return!!(n==="INPUT"||n==="TEXTAREA"||n==="SELECT"||t.isContentEditable)}handleKeyDown(t){if(!this.isExternalInput(t.target)){if(this.formulaBar.isFocused()){this.boundHandleFormulaKeydown(t);return}else if(this.cellInput.isFocused()){this.boundHandleCellInputKeydown(t);return}this.boundHandleGridKeydown(t)}}handleKeyUp(t){if(this.isExternalInput(t.target))return;const r=(t.key==="ArrowDown"||t.key==="ArrowUp"||t.key==="Escape"||t.key==="Enter"||t.key==="Tab")&&(this.autocomplete.isListVisible()||this.autocomplete.isHintVisible());let s,a;this.formulaBar.isFocused()?(s=this.formulaBar.getValue(),a=this.formulaBar.getFormulaInput(),this.cellInput.setValue(s)):this.cellInput.isFocused()&&(s=this.cellInput.getValue(),a=this.cellInput.getInput(),this.formulaBar.setValue(s)),s!==void 0&&s.startsWith("=")?(this.formulaRanges=Nb(s).map(l=>l.range),this.renderOverlay()):s!==void 0&&(this.formulaRanges=[],this.renderOverlay()),!r&&(a&&s!==void 0?this.updateAutocomplete(s,a):this.autocomplete.hide())}updateAutocomplete(t,n){if(!t.startsWith("=")){this.autocomplete.hide();return}const r=Zd(n);if(!r){this.autocomplete.hide();return}const s=r.end,a=lq(t,s),l=n.getBoundingClientRect(),f={left:l.left,top:l.bottom+2};a.type==="function-name"?this.autocomplete.showList(a.prefix,f):a.type==="argument"?this.autocomplete.showHint(a.funcName,a.argIndex,f):this.autocomplete.hide()}insertFunctionCompletion(t,n){const r=n.innerText,s=Zd(n);if(!s)return;const a=s.end,f=r.slice(0,a).match(/([A-Za-z_]\w*)$/);if(!f)return;const d=a-f[1].length,g=r.slice(a),p=r.slice(0,d)+t+"("+g;this.formulaBar.setValue(p),this.cellInput.setValue(p);const m=d+t.length+1;qp(n,{start:m,end:m}),this.autocomplete.hide(),this.updateAutocomplete(p,n)}isInFormulaRangeMode(){let t,n;if(this.cellInput.isFocused()?(t=this.cellInput.getValue(),n=this.cellInput.getInput()):this.formulaBar.isFocused()&&(t=this.formulaBar.getValue(),n=this.formulaBar.getFormulaInput()),!t||!n||!t.startsWith("="))return!1;const r=Zd(n);return r?_7(t,r.end):!1}insertReferenceAtCursor(t,n){const r=this.cellInput.isFocused(),s=this.formulaBar.isFocused();if(!r&&!s)return;const a=r?this.cellInput.getInput():this.formulaBar.getFormulaInput(),l=a.innerText,f=Zd(a);if(!f)return;const d=n&&(t.r!==n.r||t.c!==n.c)?wt(t)+":"+wt(n):wt(t);let g,p;if(this.formulaRefInsertPos){const{start:m,end:x}=this.formulaRefInsertPos;g=l.slice(0,m)+d+l.slice(x),p=m+d.length,this.formulaRefInsertPos={start:m,end:p}}else{const m=ED(l,f.end);m?(g=l.slice(0,m.start)+d+l.slice(m.end),p=m.start+d.length,this.formulaRefInsertPos={start:m.start,end:p}):f.start!==f.end?(g=l.slice(0,f.start)+d+l.slice(f.end),p=f.start+d.length,this.formulaRefInsertPos={start:f.start,end:p}):(g=l.slice(0,f.end)+d+l.slice(f.end),p=f.end+d.length,this.formulaRefInsertPos={start:f.end,end:p})}this.formulaBar.setValue(g),this.cellInput.setValue(g),qp(a,{start:p,end:p}),g.startsWith("=")&&(this.formulaRanges=Nb(g).map(m=>m.range),this.renderOverlay()),this.lastFormulaRefTarget=n||t}toggleAbsoluteReference(t){const n=t.innerText;if(!n.startsWith("="))return;const r=Zd(t);if(!r)return;const s=ED(n,r.end);if(!s)return;const a=s.text,l=a.startsWith("$"),f=a.replace(/\$/g,"");let d=0;for(let w=0;w<f.length;w++)if(f.charCodeAt(w)>=48&&f.charCodeAt(w)<=57){d=w;break}const g=f.slice(0,d),p=f.slice(d),m=a.indexOf(p,a.lastIndexOf(g)+g.length),x=m>0&&a[m-1]==="$";let b;!l&&!x?b="$"+g+"$"+p:l&&x?b=g+"$"+p:!l&&x?b="$"+g+p:b=g+p;const A=n.slice(0,s.start)+b+n.slice(s.end),C=s.start+b.length;this.formulaBar.setValue(A),this.cellInput.setValue(A),qp(t,{start:C,end:C}),A.startsWith("=")&&(this.formulaRanges=Nb(A).map(w=>w.range),this.renderOverlay())}resetFormulaRangeState(){this.formulaRangeAnchor=null,this.activeFormulaInput=null,this.formulaRefInsertPos=null,this.lastFormulaRefTarget=null}handleDblClick(t){if(this.readOnly)return;const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n){t.preventDefault();const s=this.sheet.getFreezePane();n==="row"?this.setFreezePane(s.frozenRows>0?0:1,s.frozenCols):this.setFreezePane(s.frozenRows,s.frozenCols>0?0:1);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r){t.preventDefault(),this.autoFitSize(r.axis,r.index);return}this.showCellInput(),t.preventDefault()}handleContextMenu(t){if(this.readOnly)return;const n=t.offsetX,r=t.offsetY,s=n<it,a=r<et;if(!(!s&&!a)){if(t.preventDefault(),s){const l=this.toRowFromMouse(r);if(l<1)return;const f=this.sheet.getSelectedIndices(),d=f&&f.axis==="row"&&l>=f.from&&l<=f.to,g=d?f.from:l,p=d?f.to-f.from+1:1,m=p>1?`${p} rows`:"row";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} above`,action:()=>{this.sheet.insertRows(g,p).then(()=>this.render())}},{label:`Insert ${m} below`,action:()=>{this.sheet.insertRows(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteRows(g,p).then(()=>this.render())}}])}else if(a){const l=this.toColFromMouse(n);if(l<1)return;const f=this.sheet.getSelectedIndices(),d=f&&f.axis==="column"&&l>=f.from&&l<=f.to,g=d?f.from:l,p=d?f.to-f.from+1:1,m=p>1?`${p} columns`:"column";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} left`,action:()=>{this.sheet.insertColumns(g,p).then(()=>this.render())}},{label:`Insert ${m} right`,action:()=>{this.sheet.insertColumns(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteColumns(g,p).then(()=>this.render())}}])}}}addEventListeners(){this.addEventListener(window,"resize",this.boundRender),this.gridContainer.addEventListener("scroll",this.boundRender),this.gridContainer.addEventListener("mousedown",this.boundHandleMouseDown),this.gridContainer.addEventListener("mousemove",this.boundHandleMouseMove),this.gridContainer.addEventListener("dblclick",this.boundHandleDblClick),this.gridContainer.addEventListener("contextmenu",this.boundHandleContextMenu),this.addEventListener(document,"keydown",this.boundHandleKeyDown),this.addEventListener(document,"keyup",this.boundHandleKeyUp)}detectResizeEdge(t,n){const r=this.scroll,s=this.freezeState;if(n<et&&t>it){const l=s.frozenCols>0&&t<it+s.frozenWidth?t-it:t-it-s.frozenWidth+this.colDim.getOffset(s.frozenCols+1)+r.left,f=this.colDim.findIndex(l),d=this.colDim.getOffset(f)+this.colDim.getSize(f);if(Math.abs(l-d)<Ib)return{axis:"column",index:f};if(f>1){const g=this.colDim.getOffset(f-1)+this.colDim.getSize(f-1);if(Math.abs(l-g)<Ib)return{axis:"column",index:f-1}}}if(t<it&&n>et){const l=s.frozenRows>0&&n<et+s.frozenHeight?n-et:n-et-s.frozenHeight+this.rowDim.getOffset(s.frozenRows+1)+r.top,f=this.rowDim.findIndex(l),d=this.rowDim.getOffset(f)+this.rowDim.getSize(f);if(Math.abs(l-d)<Ib)return{axis:"row",index:f};if(f>1){const g=this.rowDim.getOffset(f-1)+this.rowDim.getSize(f-1);if(Math.abs(l-g)<Ib)return{axis:"row",index:f-1}}}return null}detectFreezeHandle(t,n){const r=this.freezeState,s=r.frozenRows>0||r.frozenCols>0,a=Dk,l=K7,f=s&&r.frozenRows>0?et+r.frozenHeight-a/2:et-a;if(t>=0&&t<=it&&n>=f-l&&n<=f+a+l)return"row";const d=s&&r.frozenCols>0?it+r.frozenWidth-a/2:it-a;return t>=d-l&&t<=d+a+l&&n>=0&&n<=et?"column":null}startFreezeDrag(t,n){const r=this.gridContainer.getScrollContainer();r.style.cursor="grabbing";const s=f=>{const d=this.viewport;if(t==="row"){const g=f.target!==r?Math.max(0,Math.min(d.height,f.clientY-d.top)):f.offsetY;if(g<=et)return 0;const p=g-et,m=this.rowDim.findIndex(p),b=this.rowDim.getOffset(m)+this.rowDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}else{const g=f.target!==r?Math.max(0,Math.min(d.width,f.clientX-d.left)):f.offsetX;if(g<=it)return 0;const p=g-it,m=this.colDim.findIndex(p),b=this.colDim.getOffset(m)+this.colDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}};this.freezeDrag={axis:t,targetIndex:s(n)},this.renderOverlay();const a=f=>{const d=s(f);this.freezeDrag&&this.freezeDrag.targetIndex!==d&&(this.freezeDrag={axis:t,targetIndex:d},this.renderOverlay())},l=()=>{var g;r.style.cursor="",document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l);const f=((g=this.freezeDrag)==null?void 0:g.targetIndex)??0;this.freezeDrag=null,this.freezeHandleHover=null;const d=this.sheet.getFreezePane();t==="row"?this.setFreezePane(f,d.frozenCols):this.setFreezePane(d.frozenRows,f)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",l)}toRefFromMouse(t,n){const r=this.freezeState;return r.frozenRows>0||r.frozenCols>0?J7(t,n,this.scroll,this.rowDim,this.colDim,r):Z7(t+this.scroll.left,n+this.scroll.top,this.rowDim,this.colDim)}toRowFromMouse(t){const n=this.freezeState,s=n.frozenRows>0&&t<et+n.frozenHeight?t-et:t-et-n.frozenHeight+this.rowDim.getOffset(n.frozenRows+1)+this.scroll.top;return this.rowDim.findIndex(s)}toColFromMouse(t){const n=this.freezeState,s=n.frozenCols>0&&t<it+n.frozenWidth?t-it:t-it-n.frozenWidth+this.colDim.getOffset(n.frozenCols+1)+this.scroll.left;return this.colDim.findIndex(s)}handleMouseMove(t){var l,f,d;const n=this.gridContainer.getScrollContainer(),r=this.detectFreezeHandle(t.offsetX,t.offsetY);if(r!==this.freezeHandleHover&&(this.freezeHandleHover=r,this.renderSheet()),r){n.style.cursor="grab",this.resizeHover&&(this.resizeHover=null,this.renderOverlay());return}const s=this.detectResizeEdge(t.offsetX,t.offsetY),a=(s==null?void 0:s.axis)!==((l=this.resizeHover)==null?void 0:l.axis)||(s==null?void 0:s.index)!==((f=this.resizeHover)==null?void 0:f.index);if(a&&(this.resizeHover=s),s)n.style.cursor=s.axis==="column"?"col-resize":"row-resize";else{const g=t.offsetX,p=t.offsetY,m=(d=this.sheet)==null?void 0:d.getSelectedIndices();if(m){const x=m.axis==="column"?p<et&&g>it&&(()=>{const b=this.toColFromMouse(g);return b>=m.from&&b<=m.to})():g<it&&p>et&&(()=>{const b=this.toRowFromMouse(p);return b>=m.from&&b<=m.to})();n.style.cursor=x?"grab":""}else n.style.cursor=""}a&&this.renderOverlay()}async handleMouseDown(t){const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n&&!this.readOnly){t.preventDefault(),this.startFreezeDrag(n,t);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r&&!this.readOnly){t.preventDefault(),this.startResize(r.axis,r.index,t);return}const s=t.offsetX,a=t.offsetY;if(s<it&&a<et){t.preventDefault(),await this.finishEditing(),this.sheet.selectAllCells(),this.render();return}const f=a<et&&s>it,d=s<it&&a>et;if(f){t.preventDefault(),await this.finishEditing();const x=this.toColFromMouse(s);if(x<1)return;if(t.shiftKey){this.sheet.selectColumnRange(this.sheet.getActiveCell().c,x),this.render();return}const b=this.sheet.getSelectedIndices();if(!this.readOnly&&b&&b.axis==="column"&&x>=b.from&&x<=b.to){this.startDragMove("column",b.from,b.to-b.from+1,t);return}this.sheet.selectColumn(x),this.render();const A=x,C=R=>{const N=this.viewport,I=R.target!==this.gridContainer.getScrollContainer()?Math.max(0,Math.min(N.width,R.clientX-N.left)):R.offsetX,D=this.toColFromMouse(I);D>=1&&(this.sheet.selectColumnRange(A,D),this.render())},w=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",w);return}if(d){t.preventDefault(),await this.finishEditing();const x=this.toRowFromMouse(a);if(x<1)return;if(t.shiftKey){this.sheet.selectRowRange(this.sheet.getActiveCell().r,x),this.render();return}const b=this.sheet.getSelectedIndices();if(!this.readOnly&&b&&b.axis==="row"&&x>=b.from&&x<=b.to){this.startDragMove("row",b.from,b.to-b.from+1,t);return}this.sheet.selectRow(x),this.render();const A=x,C=R=>{const N=this.viewport,I=R.target!==this.gridContainer.getScrollContainer()?Math.max(0,Math.min(N.height,R.clientY-N.top)):R.offsetY,D=this.toRowFromMouse(I);D>=1&&(this.sheet.selectRowRange(A,D),this.render())},w=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",w);return}if(this.isInFormulaRangeMode()){t.preventDefault();const x=this.toRefFromMouse(t.offsetX,t.offsetY);if(this.activeFormulaInput=this.cellInput.isFocused()?"cellInput":"formulaBar",t.shiftKey&&this.formulaRangeAnchor){const w={r:Math.min(this.formulaRangeAnchor.r,x.r),c:Math.min(this.formulaRangeAnchor.c,x.c)},R={r:Math.max(this.formulaRangeAnchor.r,x.r),c:Math.max(this.formulaRangeAnchor.c,x.c)};this.insertReferenceAtCursor(w,R)}else this.formulaRangeAnchor=x,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(x);const b=this.gridContainer.getScrollContainer(),A=w=>{const R=this.viewport,N=w.target!==b?Math.max(0,Math.min(R.width,w.clientX-R.left)):w.offsetX,I=w.target!==b?Math.max(0,Math.min(R.height,w.clientY-R.top)):w.offsetY,D=this.toRefFromMouse(N,I),F={r:Math.min(this.formulaRangeAnchor.r,D.r),c:Math.min(this.formulaRangeAnchor.c,D.c)},k={r:Math.max(this.formulaRangeAnchor.r,D.r),c:Math.max(this.formulaRangeAnchor.c,D.c)};this.insertReferenceAtCursor(F,k)},C=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",C),this.activeFormulaInput==="cellInput"?this.cellInput.getInput().focus():this.activeFormulaInput==="formulaBar"&&this.formulaBar.getFormulaInput().focus(),this.formulaRefInsertPos=null};document.addEventListener("mousemove",A),document.addEventListener("mouseup",C);return}if(await this.finishEditing(),t.shiftKey){const x=this.toRefFromMouse(t.offsetX,t.offsetY);this.sheet.selectEnd(x),this.render();return}this.sheet.selectStart(this.toRefFromMouse(t.offsetX,t.offsetY)),this.render();let g=null;const p=x=>{let b=x.offsetX,A=x.offsetY;const C=this.viewport;x.target!==this.gridContainer.getScrollContainer()&&(b=Math.max(0,Math.min(C.width,x.clientX-C.left)),A=Math.max(0,Math.min(C.height,x.clientY-C.top))),this.sheet.selectEnd(this.toRefFromMouse(b,A)),this.render();const{clientX:w,clientY:R}=x;g&&clearInterval(g);const N={x:0,y:0};w<=C.left?N.x=-10:w>=C.width&&(N.x=ND),R<=C.top?N.y=-10:R>=C.height&&(N.y=ND),(N.x!==0||N.y!==0)&&(g=setInterval(()=>{this.gridContainer.scrollBy(N.x,N.y),this.sheet.selectEnd(this.toRefFromMouse(b,A)),this.render()},q7))},m=()=>{g&&clearInterval(g),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",m)}startResize(t,n,r){const s=t==="column"?r.clientX:r.clientY,a=t==="column"?this.colDim.getSize(n):this.rowDim.getSize(n),l=this.gridContainer.getScrollContainer();l.style.cursor=t==="column"?"col-resize":"row-resize";const f=t==="column"?this.colDim:this.rowDim,d=this.sheet.getSelectedIndices(),p=d&&d.axis===t&&n>=d.from&&n<=d.to?Array.from({length:d.to-d.from+1},(b,A)=>d.from+A):[n],m=b=>{const C=(t==="column"?b.clientX:b.clientY)-s,R=Math.max(t==="column"?_D:cq,a+C);f.setSize(n,R),this.render()},x=()=>{l.style.cursor="",document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x);const b=f.getSize(n);for(const A of p)f.setSize(A,b),t==="column"?this.sheet.setColumnWidth(A,b):(this.manuallyResizedRows.add(A),this.sheet.setRowHeight(A,b));this.render()};document.addEventListener("mousemove",m),document.addEventListener("mouseup",x)}async autoFitSize(t,n){const s=document.createElement("canvas").getContext("2d"),a=6;if(t==="column"){s.font=`${Dc}px Arial`;const l=Ev(n);let f=s.measureText(l).width+a;const[d,g]=this.viewRange,p=[{r:d.r,c:n},{r:g.r,c:n}],m=await this.sheet.fetchGrid(p);for(const[,b]of m)if(b.v){const A=s.measureText(b.v).width+a;A>f&&(f=A)}const x=Math.max(_D,Math.ceil(f));this.sheet.setColumnWidth(n,x)}else{this.manuallyResizedRows.delete(n);const l=await this.computeContentHeight(n);this.sheet.setRowHeight(n,l)}this.render()}async computeContentHeight(t){const[n,r]=this.viewRange,s=[{r:t,c:n.c},{r:t,c:r.c}],a=await this.sheet.fetchGrid(s);let l=1;for(const[,f]of a)if(f.v){const d=f.v.split(`
`).length;d>l&&(l=d)}return l<=1?et:Math.max(et,Math.ceil(l*Dc*hS+2*Dw))}async autoResizeRow(t){if(this.manuallyResizedRows.has(t))return;const n=await this.computeContentHeight(t),r=this.rowDim.getSize(t);n!==r&&(this.sheet.setRowHeight(t,n),this.render())}startDragMove(t,n,r,s){const a=this.gridContainer.getScrollContainer();a.style.cursor="grabbing";const l=t==="column"?this.colDim:this.rowDim,f=p=>{const m=this.viewport;if(t==="column"){const x=p.target!==a?Math.max(0,Math.min(m.width,p.clientX-m.left)):p.offsetX,b=this.toColFromMouse(x),A=this.freezeState,w=A.frozenCols>0&&x<it+A.frozenWidth?x-it:x-it-A.frozenWidth+this.colDim.getOffset(A.frozenCols+1)+this.scroll.left,N=l.getOffset(b)+l.getSize(b)/2;return w<N?b:b+1}else{const x=p.target!==a?Math.max(0,Math.min(m.height,p.clientY-m.top)):p.offsetY,b=this.toRowFromMouse(x),A=this.freezeState,w=A.frozenRows>0&&x<et+A.frozenHeight?x-et:x-et-A.frozenHeight+this.rowDim.getOffset(A.frozenRows+1)+this.scroll.top,N=l.getOffset(b)+l.getSize(b)/2;return w<N?b:b+1}};this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:f(s)},this.renderOverlay();const d=p=>{const m=f(p);this.dragMove&&this.dragMove.dropIndex!==m&&(this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:m},this.renderOverlay())},g=()=>{var m;a.style.cursor="",document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",g);const p=(m=this.dragMove)==null?void 0:m.dropIndex;this.dragMove=null,p!==void 0&&!(p>=n&&p<=n+r)?(t==="row"?this.sheet.moveRows(n,r,p):this.sheet.moveColumns(n,r,p)).then(()=>{const b=p<n?p:p-r;t==="row"?(this.sheet.selectRow(b),r>1&&this.sheet.selectRowRange(b,b+r-1)):(this.sheet.selectColumn(b),r>1&&this.sheet.selectColumnRange(b,b+r-1)),this.render()}):this.renderOverlay()};document.addEventListener("mousemove",d),document.addEventListener("mouseup",g)}async handleFormulaKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.formulaBar.getFormulaInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.move("down"),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const s={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},a={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(s,a),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.formulaBar.getFormulaInput())):t.key==="Escape"?(t.preventDefault(),this.focusGrid(),this.render()):this.cellInput.isShown()||this.showCellInput(!0,!0)}}async handleCellInputKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.cellInput.getInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&this.cellInput.hasFormula()&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const s={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},a={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(s,a),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key.startsWith("Arrow")&&!this.cellInput.hasFormula()&&!this.editMode?(t.preventDefault(),await this.finishEditing(),t.key==="ArrowDown"?this.sheet.move("down"):t.key==="ArrowUp"?this.sheet.move("up"):t.key==="ArrowLeft"?this.sheet.move("left"):t.key==="ArrowRight"&&this.sheet.move("right"),this.render(),this.scrollIntoView()):t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.cellInput.getInput())):t.key==="Escape"&&(t.preventDefault(),this.focusGrid(),this.render())}}async copy(){const{text:t}=await this.sheet.copy();await navigator.clipboard.writeText(t)}async paste(){try{let t,n;if(navigator.clipboard.read)try{const r=await navigator.clipboard.read();for(const s of r)s.types.includes("text/html")&&(n=await(await s.getType("text/html")).text()),s.types.includes("text/plain")&&(t=await(await s.getType("text/plain")).text())}catch{t=await navigator.clipboard.readText()}else t=await navigator.clipboard.readText();await this.sheet.paste({text:t,html:n}),this.sheet.clearCopyBuffer(),this.render()}catch(t){console.error("Failed to paste cell content: ",t)}}async handleGridKeydown(t){const n=async(r,s,a)=>{t.preventDefault(),(s?this.sheet.resizeRange(r):a?await this.sheet.moveToEdge(r):this.sheet.move(r))&&(this.render(),this.scrollIntoView())};if(t.key==="ArrowDown")n("down",t.shiftKey,t.metaKey);else if(t.key==="ArrowUp")n("up",t.shiftKey,t.metaKey);else if(t.key==="ArrowLeft")n("left",t.shiftKey,t.metaKey);else if(t.key==="ArrowRight")n("right",t.shiftKey,t.metaKey);else if(t.key==="a"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.sheet.selectAll(),this.render();else if(t.key==="Tab")t.preventDefault(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key==="Enter")t.preventDefault(),this.sheet.hasRange()?(this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView()):this.readOnly||this.showCellInput();else if(t.key==="Delete"||t.key==="Backspace"){if(this.readOnly)return;t.preventDefault(),await this.sheet.removeData()&&this.render()}else if(!t.metaKey&&!t.ctrlKey&&this.isValidCellInput(t.key)){if(this.readOnly)return;this.showCellInput(!0)}else if(t.key==="z"&&(t.metaKey||t.ctrlKey)&&!t.shiftKey){if(this.readOnly)return;t.preventDefault(),await this.sheet.undo()&&(this.render(),this.scrollIntoView())}else if((t.key==="z"&&t.shiftKey||t.key==="y")&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.redo()&&(this.render(),this.scrollIntoView())}else if(t.key==="Escape")t.preventDefault(),this.sheet.getCopyRange()&&(this.sheet.clearCopyBuffer(),this.renderOverlay());else if(t.key==="c"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.copy();else if(t.key==="v"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.paste()}else if(t.key==="b"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("b"),this.render()}else if(t.key==="i"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("i"),this.render()}else if(t.key==="u"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("u"),this.render()}}async reloadDimensions(){await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadFreezePane(),this.updateFreezeState()}setOnRender(t){this.onRenderCallback=t}render(){var t;this.formulaBar.render(),this.renderSheet(),this.renderOverlay(),(t=this.onRenderCallback)==null||t.call(this)}renderOverlay(){this.overlay.render(this.viewport,this.scroll,this.sheet.getActiveCell(),this.sheet.getPresences(),this.sheet.getRange(),this.rowDim,this.colDim,this.resizeHover,this.sheet.getSelectionType(),this.dragMove?{axis:this.dragMove.axis,dropIndex:this.dragMove.dropIndex}:null,this.formulaRanges,this.freezeState,this.freezeDrag,this.sheet.getCopyRange())}get viewRange(){const t=this.scroll,n=this.viewport,r=this.freezeState,s=this.rowDim.getOffset(r.frozenRows+1),a=this.colDim.getOffset(r.frozenCols+1),l=this.rowDim.findIndex(s+t.top),f=this.rowDim.findIndex(s+t.top+n.height)+1,d=this.colDim.findIndex(a+t.left),g=this.colDim.findIndex(a+t.left+n.width)+1;return[{r:l,c:d},{r:f,c:g}]}scrollIntoView(t=this.sheet.getActiveCell()){const n=this.scroll,r=this.freezeState,s=r.frozenRows>0&&t.r<=r.frozenRows,a=r.frozenCols>0&&t.c<=r.frozenCols,l=jn(t,{left:0,top:0},this.rowDim,this.colDim),f=this.colDim.getOffset(r.frozenCols+1),d=this.rowDim.getOffset(r.frozenRows+1),g=this.viewport.width-it-r.frozenWidth,p=this.viewport.height-et-r.frozenHeight;let m=!1;if(!a){const x=f+n.left,b=x+g,A=l.left-it,C=A+l.width;A<x?(this.scroll={left:A-f},m=!0):C>b&&(this.scroll={left:C-g-f},m=!0)}if(!s){const x=d+n.top,b=x+p,A=l.top-et,C=A+l.height;A<x?(this.scroll={top:A-d},m=!0):C>b&&(this.scroll={top:C-p-d},m=!0)}m&&this.render()}async showCellInput(t=!1,n=!1){n||(this.editMode=!t);const r=this.sheet.getActiveCell(),s=this.freezeState,a=s.frozenRows>0||s.frozenCols>0?Q7(r,this.scroll,this.rowDim,this.colDim,s):jn(r,this.scroll,this.rowDim,this.colDim),l=t?"":await this.sheet.toInputString(r),f=Math.max(a.width,this.viewport.width-a.left),d=Math.max(a.height,this.viewport.height-a.top);this.cellInput.show(a.left,a.top,l,!n,a.width,a.height,f,d);const g=await this.sheet.getStyle(r);this.cellInput.applyStyle(g),l.startsWith("=")&&(this.formulaRanges=Nb(l).map(p=>p.range),this.renderOverlay())}isValidCellInput(t){return t.length===1||t==="Process"}async renderSheet(){const t=this.gridSize,n=this.freezeState;this.gridContainer.updateDummySize(t.width+it,t.height+et);const r=this.viewRange,s=[{r:Math.min(1,r[0].r),c:Math.min(1,r[0].c)},{r:r[1].r,c:r[1].c}],a=await this.sheet.fetchGrid(s);this.gridCanvas.render(this.viewport,this.scroll,this.viewRange,this.sheet.getActiveCell(),a,this.rowDim,this.colDim,this.sheet.getSelectionType(),this.sheet.getRange(),n,this.freezeHandleHover,this.sheet.getColStyles(),this.sheet.getRowStyles(),this.sheet.getSheetStyle())}get gridSize(){const t=this.sheet.getDimension();return{width:this.colDim.getOffset(t.columns+1),height:this.rowDim.getOffset(t.rows+1)}}get viewport(){return this.gridContainer.getViewport()}get scroll(){return this.gridContainer.getScrollPosition()}set scroll(t){this.gridContainer.setScrollPosition(t)}}async function Mk(e,t){const n=new dq(e,t),r=(t==null?void 0:t.store)||new G7;return await n.initialize(r),n}class dq{constructor(t,n){q(this,"container");q(this,"worksheet");q(this,"sheet");q(this,"theme");q(this,"_readOnly");q(this,"selectionChangeCallbacks",[]);this.container=t,this.container.style.position="relative",this.container.style.overflow="hidden",this.theme=(n==null?void 0:n.theme)||"light",this._readOnly=(n==null?void 0:n.readOnly)||!1,this.worksheet=new fq(this.container,this.theme,this._readOnly)}get readOnly(){return this._readOnly}async initialize(t){this.sheet=new U7(t),this.worksheet.setOnRender(()=>this.notifySelectionChange()),await this.worksheet.initialize(this.sheet)}async reloadDimensions(){await this.worksheet.reloadDimensions()}async setFreezePane(t,n){this._readOnly||await this.worksheet.setFreezePane(t,n)}render(){this.worksheet.render()}renderOverlay(){this.worksheet.renderOverlay()}async applyStyle(t){!this.sheet||this._readOnly||(await this.sheet.setRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async toggleStyle(t){!this.sheet||this._readOnly||(await this.sheet.toggleRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async getActiveStyle(){if(this.sheet)return this.sheet.getStyle(this.sheet.getActiveCell())}onSelectionChange(t){return this.selectionChangeCallbacks.push(t),()=>{this.selectionChangeCallbacks=this.selectionChangeCallbacks.filter(n=>n!==t)}}notifySelectionChange(){for(const t of this.selectionChangeCallbacks)t()}async increaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:t+1}),this.worksheet.render(),this.notifySelectionChange()}async decreaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:Math.max(0,t-1)}),this.worksheet.render(),this.notifySelectionChange()}async undo(){!this.sheet||this._readOnly||await this.sheet.undo()&&(this.worksheet.render(),this.notifySelectionChange())}async redo(){!this.sheet||this._readOnly||await this.sheet.redo()&&(this.worksheet.render(),this.notifySelectionChange())}cleanup(){this.worksheet.cleanup(),this.selectionChangeCallbacks=[]}setGridResolver(t){this.sheet&&this.sheet.setGridResolver(t)}async recalculateCrossSheetFormulas(){this.sheet&&(await this.sheet.recalculateCrossSheetFormulas(),this.worksheet.render())}}var hq="Toggle",Lk=M.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:s,...a}=e,[l=!1,f]=uh({prop:n,onChange:s,defaultProp:r});return O.jsx(Yt.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:ft(e.onClick,()=>{e.disabled||f(!l)})})});Lk.displayName=hq;var pq=Lk;const gq=AS("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function NC({className:e,variant:t,size:n,...r}){return O.jsx(pq,{"data-slot":"toggle",className:bt(gq({variant:t,size:n}),e),...r})}const mq=["#000000","#434343","#666666","#999999","#cccccc","#d50000","#e67c73","#f4511e","#ef6c00","#f09300","#0b8043","#33b679","#039be5","#3f51b5","#7986cb","#8e24aa","#d81b60","#ad1457","#6a1b9a","#4a148c"],vq=["#ffffff","#f3f3f3","#e8e8e8","#d9d9d9","#cccccc","#fce4ec","#fff3e0","#fff9c4","#e8f5e9","#e0f7fa","#e3f2fd","#ede7f6","#fce4ec","#f3e5f5","#e8eaf6","#ffcdd2","#ffe0b2","#fff59d","#c8e6c9","#b2dfdb"],yq={left:DL,center:OL,right:PL},xq={top:IL,middle:_L,bottom:NL},bq={plain:TL,number:LL,currency:pw,percent:gw},Fk=typeof navigator<"u"&&/Mac|iPhone|iPad|iPod/.test(navigator.userAgent),Ob=Fk?"":"Ctrl";function Sq({spreadsheet:e}){const[t,n]=M.useState(void 0),r=M.useCallback(async()=>{if(!e)return;const k=await e.getActiveStyle();n(k)},[e]);M.useEffect(()=>{if(e)return r(),e.onSelectionChange(r)},[e,r]);const s=M.useCallback(k=>{e==null||e.toggleStyle(k)},[e]),a=M.useCallback(k=>{e==null||e.applyStyle({al:k})},[e]),l=M.useCallback(k=>{e==null||e.applyStyle({va:k})},[e]),f=M.useCallback(k=>{e==null||e.applyStyle({tc:k})},[e]),d=M.useCallback(()=>{e==null||e.applyStyle({tc:""})},[e]),g=M.useCallback(k=>{e==null||e.applyStyle({bg:k})},[e]),p=M.useCallback(()=>{e==null||e.applyStyle({bg:""})},[e]),m=M.useCallback(()=>{e==null||e.undo()},[e]),x=M.useCallback(()=>{e==null||e.redo()},[e]),b=M.useCallback(k=>{e==null||e.applyStyle({nf:k})},[e]),A=M.useCallback(()=>{e==null||e.increaseDecimals()},[e]),C=M.useCallback(()=>{e==null||e.decreaseDecimals()},[e]),w=(t==null?void 0:t.al)||"left",R=yq[w],N=(t==null?void 0:t.va)||"top",I=xq[N],D=(t==null?void 0:t.nf)||"plain",F=bq[D];return O.jsxs("div",{className:"flex items-center gap-0.5 border-b px-2 py-1 bg-background",children:[O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:m,children:O.jsx(g8,{size:16})})}),O.jsxs(pi,{children:["Undo (",Ob,"+Z)"]})]}),O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:x,children:O.jsx(m8,{size:16})})}),O.jsxs(pi,{children:["Redo (",Ob,"+",Fk?"Z":"Y",")"]})]}),O.jsx(Vp,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>b("currency"),children:O.jsx(pw,{size:16})})}),O.jsx(pi,{children:"Format as currency"})]}),O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>b("percent"),children:O.jsx(gw,{size:16})})}),O.jsx(pi,{children:"Format as percent"})]}),O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:C,children:[O.jsx(XT,{size:16}),O.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"-"})]})}),O.jsx(pi,{children:"Decrease decimal places"})]}),O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:A,children:[O.jsx(XT,{size:16}),O.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"+"})]})}),O.jsx(pi,{children:"Increase decimal places"})]}),O.jsxs(wa,{children:[O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsx(Ra,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(F,{size:16}),O.jsx(z1,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx(pi,{children:"More format"})]}),O.jsxs(Ta,{children:[O.jsxs(yr,{onClick:()=>b("plain"),children:[O.jsx(TL,{size:16,className:"mr-2"}),"Plain text"]}),O.jsxs(yr,{onClick:()=>b("number"),children:[O.jsx(LL,{size:16,className:"mr-2"}),"Number"]}),O.jsxs(yr,{onClick:()=>b("currency"),children:[O.jsx(pw,{size:16,className:"mr-2"}),"Currency"]}),O.jsxs(yr,{onClick:()=>b("percent"),children:[O.jsx(gw,{size:16,className:"mr-2"}),"Percent"]})]})]}),O.jsx(Vp,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsx(NC,{size:"sm",pressed:(t==null?void 0:t.b)||!1,onPressedChange:()=>s("b"),className:"h-7 w-7 cursor-pointer",children:O.jsx(v8,{size:16})})}),O.jsxs(pi,{children:["Bold (",Ob,"+B)"]})]}),O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsx(NC,{size:"sm",pressed:(t==null?void 0:t.i)||!1,onPressedChange:()=>s("i"),className:"h-7 w-7 cursor-pointer",children:O.jsx(b8,{size:16})})}),O.jsxs(pi,{children:["Italic (",Ob,"+I)"]})]}),O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsx(NC,{size:"sm",pressed:(t==null?void 0:t.st)||!1,onPressedChange:()=>s("st"),className:"h-7 w-7 cursor-pointer",children:O.jsx(w8,{size:16})})}),O.jsx(pi,{children:"Strikethrough"})]}),O.jsxs(wa,{children:[O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsx(Ra,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",children:[O.jsx(T8,{size:16}),O.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(t==null?void 0:t.tc)||"#000000"}})]})})}),O.jsx(pi,{children:"Text color"})]}),O.jsxs(Ta,{className:"w-auto p-2",children:[O.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:d,children:[O.jsx(ZT,{size:14}),"Reset"]}),O.jsx("div",{className:"grid grid-cols-5 gap-1",children:mq.map(k=>O.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:k},onClick:()=>f(k)},k))})]})]}),O.jsx(Vp,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(wa,{children:[O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsx(Ra,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",children:[O.jsx(E8,{size:16}),O.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(t==null?void 0:t.bg)||"transparent",border:t!=null&&t.bg?"none":"1px solid #ccc"}})]})})}),O.jsx(pi,{children:"Fill color"})]}),O.jsxs(Ta,{className:"w-auto p-2",children:[O.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:p,children:[O.jsx(ZT,{size:14}),"Reset"]}),O.jsx("div",{className:"grid grid-cols-5 gap-1",children:vq.map(k=>O.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:k},onClick:()=>g(k)},k))})]})]}),O.jsx(Vp,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(wa,{children:[O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsx(Ra,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(R,{size:16}),O.jsx(z1,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx(pi,{children:"Horizontal align"})]}),O.jsxs(Ta,{children:[O.jsxs(yr,{onClick:()=>a("left"),children:[O.jsx(DL,{size:16,className:"mr-2"}),"Left"]}),O.jsxs(yr,{onClick:()=>a("center"),children:[O.jsx(OL,{size:16,className:"mr-2"}),"Center"]}),O.jsxs(yr,{onClick:()=>a("right"),children:[O.jsx(PL,{size:16,className:"mr-2"}),"Right"]})]})]}),O.jsxs(wa,{children:[O.jsxs(di,{children:[O.jsx(hi,{asChild:!0,children:O.jsx(Ra,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(I,{size:16}),O.jsx(z1,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx(pi,{children:"Vertical align"})]}),O.jsxs(Ta,{children:[O.jsxs(yr,{onClick:()=>l("top"),children:[O.jsx(IL,{size:16,className:"mr-2"}),"Top"]}),O.jsxs(yr,{onClick:()=>l("middle"),children:[O.jsx(_L,{size:16,className:"mr-2"}),"Middle"]}),O.jsxs(yr,{onClick:()=>l("bottom"),children:[O.jsx(NL,{size:16,className:"mr-2"}),"Bottom"]})]})]})]})}const Eq={theme:"system",resolvedTheme:"light",setTheme:()=>null},vR=M.createContext(Eq);function Aq({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[s,a]=M.useState(()=>localStorage.getItem(n)||t),[l,f]=M.useState(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");M.useEffect(()=>{const g=window.document.documentElement;g.classList.remove("light","dark");let p;if(s==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";p=m,g.classList.add(m)}else p=s,g.classList.add(s);f(p)},[s]),M.useEffect(()=>{const g=window.matchMedia("(prefers-color-scheme: dark)"),p=()=>{if(s==="system"){const m=window.document.documentElement,x=g.matches?"dark":"light";m.classList.remove("light","dark"),m.classList.add(x),f(x)}};return g.addEventListener("change",p),()=>g.removeEventListener("change",p)},[s]);const d={theme:s,resolvedTheme:l,setTheme:g=>{localStorage.setItem(n,g),a(g)}};return O.jsx(vR.Provider,{...r,value:d,children:e})}const kk=()=>{const e=M.useContext(vR);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};class Cq{constructor(t,n){q(this,"doc");q(this,"tabId");q(this,"cellIndex",new gR);q(this,"dirty",!0);q(this,"batchOverlay",null);q(this,"batchOps",null);this.doc=t,this.tabId=n,t.subscribe(r=>{r.type==="remote-change"&&(this.dirty=!0)})}getSheet(){return this.doc.getRoot().sheets[this.tabId]}ensureIndex(){if(!this.dirty)return;const t=this.getSheet().sheet,n=[];for(const r of Object.keys(t)){const s=gn(r);n.push([s.r,s.c])}this.cellIndex.rebuild(n),this.dirty=!1}async set(t,n){const r=wt(t);if(this.batchOverlay){this.batchOverlay.set(r,n),this.dirty||this.cellIndex.add(t.r,t.c);return}const s=this.tabId;this.doc.update(a=>{a.sheets[s].sheet[r]=n}),this.dirty||this.cellIndex.add(t.r,t.c)}async get(t){const n=wt(t);if(this.batchOverlay&&this.batchOverlay.has(n)){const r=this.batchOverlay.get(n);return r===null?void 0:r}return this.getSheet().sheet[n]}async has(t){const n=wt(t);return this.batchOverlay&&this.batchOverlay.has(n)?this.batchOverlay.get(n)!==null:this.getSheet().sheet[n]!==void 0}async delete(t){const n=wt(t);if(this.batchOverlay){let a=!1;return this.batchOverlay.has(n)?a=this.batchOverlay.get(n)!==null:a=this.getSheet().sheet[n]!==void 0,a?(this.batchOverlay.set(n,null),this.dirty||this.cellIndex.remove(t.r,t.c),!0):!1}let r=!1;const s=this.tabId;return this.doc.update(a=>{a.sheets[s].sheet[n]!==void 0&&(delete a.sheets[s].sheet[n],r=!0)}),r&&!this.dirty&&this.cellIndex.remove(t.r,t.c),r}async deleteRange(t){this.ensureIndex();const n=Array.from(this.cellIndex.cellsInRange(t)),r=new Set;if(this.batchOverlay){for(const[a,l]of n){const f=wt({r:a,c:l});this.batchOverlay.has(f)&&this.batchOverlay.get(f)===null||(this.batchOverlay.set(f,null),r.add(f))}for(const[a,l]of n)this.cellIndex.remove(a,l);return r}const s=this.tabId;this.doc.update(a=>{for(const[l,f]of n){const d=wt({r:l,c:f});delete a.sheets[s].sheet[d],r.add(d)}});for(const[a,l]of n)this.cellIndex.remove(a,l);return r}async setGrid(t){if(this.batchOverlay){for(const[r,s]of t)this.batchOverlay.set(r,s);if(!this.dirty)for(const[r]of t){const s=gn(r);this.cellIndex.add(s.r,s.c)}return}const n=this.tabId;if(this.doc.update(r=>{for(const[s,a]of t)r.sheets[n].sheet[s]=a}),!this.dirty)for(const[r]of t){const s=gn(r);this.cellIndex.add(s.r,s.c)}}async getGrid(t){this.ensureIndex();const n=this.getSheet().sheet,r=new Map;for(const[s,a]of this.cellIndex.cellsInRange(t)){const l=wt({r:s,c:a});if(this.batchOverlay&&this.batchOverlay.has(l)){const d=this.batchOverlay.get(l);d!==null&&r.set(l,d);continue}const f=n[l];f!==void 0&&r.set(l,f)}return r}async findEdge(t,n,r){return this.ensureIndex(),mR(this.cellIndex,t,n,r,(s,a)=>{const l=wt({r:s,c:a}),f=this.getSheet().sheet[l];return f!==void 0&&(!!f.v||!!f.f)})}async shiftCells(t,n,r){const s=this.tabId;this.doc.update(a=>{const l=a.sheets[s],f=[];for(const[m,x]of Object.entries(l.sheet))f.push([m,{v:x.v,f:x.f,s:x.s}]);for(const[m]of f)delete l.sheet[m];for(const[m,x]of f){const b=Rk(m,t,n,r);b!==null&&(x.f?l.sheet[b]={...x,f:Tk(x.f,t,n,r)}:l.sheet[b]={...x})}const d=t==="row"?l.rowHeights:l.colWidths,g=[];for(const[m,x]of Object.entries(d))g.push([m,x]);for(const[m]of g)delete d[m];for(const[m,x]of g){const b=Number(m);if(r>0)b>=n?d[String(b+r)]=x:d[m]=x;else{const A=Math.abs(r);b>=n&&b<n+A||(b>=n+A?d[String(b+r)]=x:d[m]=x)}}const p=t==="row"?l.rowStyles:l.colStyles;if(p){const m=[];for(const[x,b]of Object.entries(p))m.push([x,b]);for(const[x]of m)delete p[x];for(const[x,b]of m){const A=Number(x);if(r>0)A>=n?p[String(A+r)]=b:p[x]=b;else{const C=Math.abs(r);A>=n&&A<n+C||(A>=n+C?p[String(A+r)]=b:p[x]=b)}}}}),this.dirty=!0}async moveCells(t,n,r,s){const a=this.tabId;this.doc.update(l=>{const f=l.sheets[a],d=[];for(const[x,b]of Object.entries(f.sheet))d.push([x,{v:b.v,f:b.f,s:b.s}]);for(const[x]of d)delete f.sheet[x];for(const[x,b]of d){const A=gn(x),C=Hc(A,t,n,r,s),w=wt(C);b.f?f.sheet[w]={...b,f:wk(b.f,t,n,r,s)}:f.sheet[w]={...b}}const g=t==="row"?f.rowHeights:f.colWidths,p=[];for(const[x,b]of Object.entries(g))p.push([x,b]);for(const[x]of p)delete g[x];for(const[x,b]of p){const A=Number(x),C=pg(A,n,r,s);g[String(C)]=b}const m=t==="row"?f.rowStyles:f.colStyles;if(m){const x=[];for(const[b,A]of Object.entries(m))x.push([b,A]);for(const[b]of x)delete m[b];for(const[b,A]of x){const C=Number(b),w=pg(C,n,r,s);m[String(w)]=A}}}),this.dirty=!0}async getFormulaGrid(){const t=new Map,n=this.getSheet().sheet;for(const[r,s]of Object.entries(n))s.f&&t.set(r,s);return t}async buildDependantsMap(t){const n=new Map,r=this.getSheet().sheet;if(this.batchOverlay){for(const[s,a]of Object.entries(r))if(!this.batchOverlay.has(s)&&a.f)for(const l of $c(dv(a.f)))sh(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(s));for(const[s,a]of this.batchOverlay)if(!(a===null||!a.f))for(const l of $c(dv(a.f)))sh(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(s));return n}for(const[s,a]of Object.entries(r))if(a.f)for(const l of $c(dv(a.f)))sh(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(s));return n}async setDimensionSize(t,n,r){if(this.batchOps){const a=this.tabId;this.batchOps.push(l=>{const f=t==="row"?l.sheets[a].rowHeights:l.sheets[a].colWidths;f[String(n)]=r});return}const s=this.tabId;this.doc.update(a=>{const l=t==="row"?a.sheets[s].rowHeights:a.sheets[s].colWidths;l[String(n)]=r})}async getDimensionSizes(t){const n=this.getSheet(),r=t==="row"?n.rowHeights:n.colWidths,s=new Map;if(r)for(const[a,l]of Object.entries(r))s.set(Number(a),l);return s}updateActiveCell(t){this.doc.update((n,r)=>{r.set({activeCell:wt(t)})})}getPresences(){return this.doc.getOthersPresences()}async setColumnStyle(t,n){if(this.batchOps){const s=this.tabId;this.batchOps.push(a=>{a.sheets[s].colStyles||(a.sheets[s].colStyles={}),a.sheets[s].colStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(s=>{s.sheets[r].colStyles||(s.sheets[r].colStyles={}),s.sheets[r].colStyles[String(t)]=n})}async getColumnStyles(){const t=this.getSheet(),n=new Map;if(t.colStyles)for(const[r,s]of Object.entries(t.colStyles))n.set(Number(r),s);return n}async setRowStyle(t,n){if(this.batchOps){const s=this.tabId;this.batchOps.push(a=>{a.sheets[s].rowStyles||(a.sheets[s].rowStyles={}),a.sheets[s].rowStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(s=>{s.sheets[r].rowStyles||(s.sheets[r].rowStyles={}),s.sheets[r].rowStyles[String(t)]=n})}async getRowStyles(){const t=this.getSheet(),n=new Map;if(t.rowStyles)for(const[r,s]of Object.entries(t.rowStyles))n.set(Number(r),s);return n}async setSheetStyle(t){if(this.batchOps){const r=this.tabId;this.batchOps.push(s=>{s.sheets[r].sheetStyle=t});return}const n=this.tabId;this.doc.update(r=>{r.sheets[n].sheetStyle=t})}async getSheetStyle(){const t=this.getSheet();return t.sheetStyle?{...t.sheetStyle}:void 0}async setFreezePane(t,n){if(this.batchOps){const s=this.tabId;this.batchOps.push(a=>{a.sheets[s].frozenRows=t,a.sheets[s].frozenCols=n});return}const r=this.tabId;this.doc.update(s=>{s.sheets[r].frozenRows=t,s.sheets[r].frozenCols=n})}async getFreezePane(){const t=this.getSheet();return{frozenRows:t.frozenRows??0,frozenCols:t.frozenCols??0}}beginBatch(){this.batchOverlay=new Map,this.batchOps=[]}endBatch(){const t=this.batchOverlay,n=this.batchOps;this.batchOverlay=null,this.batchOps=null;const r=t&&t.size>0,s=n&&n.length>0;if(!r&&!s)return;const a=this.tabId;this.doc.update(l=>{const f=l.sheets[a];if(t)for(const[d,g]of t)g===null?f.sheet[d]!==void 0&&delete f.sheet[d]:f.sheet[d]=g;if(n)for(const d of n)d(l)}),this.dirty=!0}async undo(){if(!this.doc.history.canUndo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet));return this.doc.history.undo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t)}}async redo(){if(!this.doc.history.canRedo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet));return this.doc.history.redo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t)}}computeAffectedRange(t){const n=new Set(Object.keys(this.getSheet().sheet)),r=new Set;for(const d of n)t.has(d)||r.add(d);for(const d of t)n.has(d)||r.add(d);if(r.size===0)return;let s=1/0,a=-1/0,l=1/0,f=-1/0;for(const d of r){const g=gn(d);g.r<s&&(s=g.r),g.r>a&&(a=g.r),g.c<l&&(l=g.c),g.c>f&&(f=g.c)}return[{r:s,c:l},{r:a,c:f}]}canUndo(){return this.doc.history.canUndo()}canRedo(){return this.doc.history.canRedo()}}function Bk({tabId:e,readOnly:t=!1}){const{resolvedTheme:n}=kk(),r=M.useRef(null),[s,a]=M.useState(!1),l=M.useRef(void 0),{doc:f,loading:d,error:g}=Pa.useDocument();return M.useEffect(()=>{a(!0)},[]),M.useEffect(()=>{const p=r.current;if(!s||!p||!f)return;let m,x=[],b=!1,A=!1,C=!1;return Mk(p,{theme:n,store:new Cq(f,e),readOnly:t}).then(w=>{if(b){w.cleanup();return}m=w,l.current=w;const R=()=>{if(!(b||!m)){if(A){C=!0;return}A=!0,m.reloadDimensions().then(()=>{if(!(b||!m))return m.recalculateCrossSheetFormulas()}).finally(()=>{A=!1,C&&(C=!1,queueMicrotask(R))})}};w.setGridResolver((N,I)=>{const D=f.getRoot(),F=Object.values(D.tabs).find(B=>B.name.toUpperCase()===N);if(!F)return;const k=D.sheets[F.id];if(!k)return;const V=new Map;for(const B of I){const H=gn(B),te=wt(H),re=k.sheet[te];re&&V.set(B,re)}return V}),R(),x.push(f.subscribe(N=>{N.type==="remote-change"&&R()})),x.push(f.subscribe("presence",()=>m.renderOverlay()))}),()=>{b=!0,m&&m.cleanup(),l.current=void 0;for(const w of x)w()}},[s,r,f,e,t]),d?O.jsx(_u,{}):g?O.jsx("div",{className:"flex h-full w-full items-center justify-center",children:O.jsx("div",{className:"text-red-500",children:g.message})}):O.jsxs("div",{className:"flex h-full w-full flex-col",children:[!t&&O.jsx(Sq,{spreadsheet:l.current}),O.jsx("div",{ref:r,className:"flex-1 w-full"})]})}function wq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const sE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Dg(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function yR(e){return"nodeType"in e}function Zi(e){var t,n;return e?Dg(e)?e:yR(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function xR(e){const{Document:t}=Zi(e);return e instanceof t}function ny(e){return Dg(e)?!1:e instanceof Zi(e).HTMLElement}function jk(e){return e instanceof Zi(e).SVGElement}function Pg(e){return e?Dg(e)?e.document:yR(e)?xR(e)?e:ny(e)||jk(e)?e.ownerDocument:document:document:document}const Ma=sE?M.useLayoutEffect:M.useEffect;function bR(e){const t=M.useRef(e);return Ma(()=>{t.current=e}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Rq(){const e=M.useRef(null),t=M.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=M.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Av(e,t){t===void 0&&(t=[e]);const n=M.useRef(e);return Ma(()=>{n.current!==e&&(n.current=e)},t),n}function ry(e,t){const n=M.useRef();return M.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function pS(e){const t=bR(e),n=M.useRef(null),r=M.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Pw(e){const t=M.useRef();return M.useEffect(()=>{t.current=e},[e]),t.current}let _C={};function iy(e,t){return M.useMemo(()=>{if(t)return t;const n=_C[e]==null?0:_C[e]+1;return _C[e]=n,e+"-"+n},[e,t])}function zk(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>{const f=Object.entries(l);for(const[d,g]of f){const p=a[d];p!=null&&(a[d]=p+e*g)}return a},{...t})}}const Kp=zk(1),gS=zk(-1);function Tq(e){return"clientX"in e&&"clientY"in e}function SR(e){if(!e)return!1;const{KeyboardEvent:t}=Zi(e.target);return t&&e instanceof t}function Nq(e){if(!e)return!1;const{TouchEvent:t}=Zi(e.target);return t&&e instanceof t}function Mw(e){if(Nq(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Tq(e)?{x:e.clientX,y:e.clientY}:null}const Cv=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Cv.Translate.toString(e),Cv.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ID="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function _q(e){return e.matches(ID)?e:e.querySelector(ID)}const Iq={display:"none"};function Oq(e){let{id:t,value:n}=e;return Ke.createElement("div",{id:t,style:Iq},n)}function Dq(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ke.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function Pq(){const[e,t]=M.useState("");return{announce:M.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Vk=M.createContext(null);function Mq(e){const t=M.useContext(Vk);M.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Lq(){const[e]=M.useState(()=>new Set),t=M.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[M.useCallback(r=>{let{type:s,event:a}=r;e.forEach(l=>{var f;return(f=l[s])==null?void 0:f.call(l,a)})},[e]),t]}const Fq={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},kq={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Bq(e){let{announcements:t=kq,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=Fq}=e;const{announce:a,announcement:l}=Pq(),f=iy("DndLiveRegion"),[d,g]=M.useState(!1);if(M.useEffect(()=>{g(!0)},[]),Mq(M.useMemo(()=>({onDragStart(m){let{active:x}=m;a(t.onDragStart({active:x}))},onDragMove(m){let{active:x,over:b}=m;t.onDragMove&&a(t.onDragMove({active:x,over:b}))},onDragOver(m){let{active:x,over:b}=m;a(t.onDragOver({active:x,over:b}))},onDragEnd(m){let{active:x,over:b}=m;a(t.onDragEnd({active:x,over:b}))},onDragCancel(m){let{active:x,over:b}=m;a(t.onDragCancel({active:x,over:b}))}}),[a,t])),!d)return null;const p=Ke.createElement(Ke.Fragment,null,Ke.createElement(Oq,{id:r,value:s.draggable}),Ke.createElement(Dq,{id:f,announcement:l}));return n?Na.createPortal(p,n):p}var Ir;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ir||(Ir={}));function mS(){}function jq(e,t){return M.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function zq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ds=Object.freeze({x:0,y:0});function Vq(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Uq(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Gq(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function $q(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function OD(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Hq=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=OD(t,t.left,t.top),a=[];for(const l of r){const{id:f}=l,d=n.get(f);if(d){const g=Vq(OD(d),s);a.push({id:f,data:{droppableContainer:l,value:g}})}}return a.sort(Uq)};function Yq(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),l=s-r,f=a-n;if(r<s&&n<a){const d=t.width*t.height,g=e.width*e.height,p=l*f,m=p/(d+g-p);return Number(m.toFixed(4))}return 0}const Wq=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const a of r){const{id:l}=a,f=n.get(l);if(f){const d=Yq(f,t);d>0&&s.push({id:l,data:{droppableContainer:a,value:d}})}}return s.sort(Gq)};function qq(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Uk(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ds}function Kq(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((l,f)=>({...l,top:l.top+e*f.y,bottom:l.bottom+e*f.y,left:l.left+e*f.x,right:l.right+e*f.x}),{...n})}}const Xq=Kq(1);function Zq(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Jq(e,t,n){const r=Zq(t);if(!r)return e;const{scaleX:s,scaleY:a,x:l,y:f}=r,d=e.left-l-(1-s)*parseFloat(n),g=e.top-f-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?e.width/s:e.width,m=a?e.height/a:e.height;return{width:p,height:m,top:g,right:d+p,bottom:g+m,left:d}}const Qq={ignoreTransform:!1};function Mg(e,t){t===void 0&&(t=Qq);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:g,transformOrigin:p}=Zi(e).getComputedStyle(e);g&&(n=Jq(n,g,p))}const{top:r,left:s,width:a,height:l,bottom:f,right:d}=n;return{top:r,left:s,width:a,height:l,bottom:f,right:d}}function DD(e){return Mg(e,{ignoreTransform:!0})}function eK(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function tK(e,t){return t===void 0&&(t=Zi(e).getComputedStyle(e)),t.position==="fixed"}function nK(e,t){t===void 0&&(t=Zi(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=t[s];return typeof a=="string"?n.test(a):!1})}function ER(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(xR(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!ny(s)||jk(s)||n.includes(s))return n;const a=Zi(e).getComputedStyle(s);return s!==e&&nK(s,a)&&n.push(s),tK(s,a)?n:r(s.parentNode)}return e?r(e):n}function Gk(e){const[t]=ER(e,1);return t??null}function IC(e){return!sE||!e?null:Dg(e)?e:yR(e)?xR(e)||e===Pg(e).scrollingElement?window:ny(e)?e:null:null}function $k(e){return Dg(e)?e.scrollX:e.scrollLeft}function Hk(e){return Dg(e)?e.scrollY:e.scrollTop}function Lw(e){return{x:$k(e),y:Hk(e)}}var jr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(jr||(jr={}));function Yk(e){return!sE||!e?!1:e===document.scrollingElement}function Wk(e){const t={x:0,y:0},n=Yk(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,f=e.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:l,isRight:f,maxScroll:r,minScroll:t}}const rK={x:.2,y:.2};function iK(e,t,n,r,s){let{top:a,left:l,right:f,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=rK);const{isTop:g,isBottom:p,isLeft:m,isRight:x}=Wk(e),b={x:0,y:0},A={x:0,y:0},C={height:t.height*s.y,width:t.width*s.x};return!g&&a<=t.top+C.height?(b.y=jr.Backward,A.y=r*Math.abs((t.top+C.height-a)/C.height)):!p&&d>=t.bottom-C.height&&(b.y=jr.Forward,A.y=r*Math.abs((t.bottom-C.height-d)/C.height)),!x&&f>=t.right-C.width?(b.x=jr.Forward,A.x=r*Math.abs((t.right-C.width-f)/C.width)):!m&&l<=t.left+C.width&&(b.x=jr.Backward,A.x=r*Math.abs((t.left+C.width-l)/C.width)),{direction:b,speed:A}}function oK(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function qk(e){return e.reduce((t,n)=>Kp(t,Lw(n)),Ds)}function sK(e){return e.reduce((t,n)=>t+$k(n),0)}function aK(e){return e.reduce((t,n)=>t+Hk(n),0)}function lK(e,t){if(t===void 0&&(t=Mg),!e)return;const{top:n,left:r,bottom:s,right:a}=t(e);Gk(e)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const uK=[["x",["left","right"],sK],["y",["top","bottom"],aK]];class AR{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ER(n),s=qk(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,l,f]of uK)for(const d of l)Object.defineProperty(this,d,{get:()=>{const g=f(r),p=s[a]-g;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class hv{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function cK(e){const{EventTarget:t}=Zi(e);return e instanceof t?e:Pg(e)}function OC(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Uo;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Uo||(Uo={}));function PD(e){e.preventDefault()}function fK(e){e.stopPropagation()}var xn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(xn||(xn={}));const Kk={start:[xn.Space,xn.Enter],cancel:[xn.Esc],end:[xn.Space,xn.Enter,xn.Tab]},dK=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case xn.Right:return{...n,x:n.x+25};case xn.Left:return{...n,x:n.x-25};case xn.Down:return{...n,y:n.y+25};case xn.Up:return{...n,y:n.y-25}}};class Xk{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new hv(Pg(n)),this.windowListeners=new hv(Zi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Uo.Resize,this.handleCancel),this.windowListeners.add(Uo.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Uo.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&lK(r),n(Ds)}handleKeyDown(t){if(SR(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:a=Kk,coordinateGetter:l=dK,scrollBehavior:f="smooth"}=s,{code:d}=t;if(a.end.includes(d)){this.handleEnd(t);return}if(a.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:g}=r.current,p=g?{x:g.left,y:g.top}:Ds;this.referenceCoordinates||(this.referenceCoordinates=p);const m=l(t,{active:n,context:r.current,currentCoordinates:p});if(m){const x=gS(m,p),b={x:0,y:0},{scrollableAncestors:A}=r.current;for(const C of A){const w=t.code,{isTop:R,isRight:N,isLeft:I,isBottom:D,maxScroll:F,minScroll:k}=Wk(C),V=oK(C),B={x:Math.min(w===xn.Right?V.right-V.width/2:V.right,Math.max(w===xn.Right?V.left:V.left+V.width/2,m.x)),y:Math.min(w===xn.Down?V.bottom-V.height/2:V.bottom,Math.max(w===xn.Down?V.top:V.top+V.height/2,m.y))},H=w===xn.Right&&!N||w===xn.Left&&!I,te=w===xn.Down&&!D||w===xn.Up&&!R;if(H&&B.x!==m.x){const re=C.scrollLeft+x.x,se=w===xn.Right&&re<=F.x||w===xn.Left&&re>=k.x;if(se&&!x.y){C.scrollTo({left:re,behavior:f});return}se?b.x=C.scrollLeft-re:b.x=w===xn.Right?C.scrollLeft-F.x:C.scrollLeft-k.x,b.x&&C.scrollBy({left:-b.x,behavior:f});break}else if(te&&B.y!==m.y){const re=C.scrollTop+x.y,se=w===xn.Down&&re<=F.y||w===xn.Up&&re>=k.y;if(se&&!x.x){C.scrollTo({top:re,behavior:f});return}se?b.y=C.scrollTop-re:b.y=w===xn.Down?C.scrollTop-F.y:C.scrollTop-k.y,b.y&&C.scrollBy({top:-b.y,behavior:f});break}}this.handleMove(t,Kp(gS(m,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Xk.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Kk,onActivation:s}=t,{active:a}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const f=a.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function MD(e){return!!(e&&"distance"in e)}function LD(e){return!!(e&&"delay"in e)}class CR{constructor(t,n,r){var s;r===void 0&&(r=cK(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:l}=a;this.props=t,this.events=n,this.document=Pg(l),this.documentListeners=new hv(this.document),this.listeners=new hv(r),this.windowListeners=new hv(Zi(l)),this.initialCoordinates=(s=Mw(a))!=null?s:Ds,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Uo.Resize,this.handleCancel),this.windowListeners.add(Uo.DragStart,PD),this.windowListeners.add(Uo.VisibilityChange,this.handleCancel),this.windowListeners.add(Uo.ContextMenu,PD),this.documentListeners.add(Uo.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(LD(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(MD(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Uo.Click,fK,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Uo.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:l,options:{activationConstraint:f}}=a;if(!s)return;const d=(n=Mw(t))!=null?n:Ds,g=gS(s,d);if(!r&&f){if(MD(f)){if(f.tolerance!=null&&OC(g,f.tolerance))return this.handleCancel();if(OC(g,f.distance))return this.handleStart()}if(LD(f)&&OC(g,f.tolerance))return this.handleCancel();this.handlePending(f,g);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===xn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const hK={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class wR extends CR{constructor(t){const{event:n}=t,r=Pg(n.target);super(t,hK,r)}}wR.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const pK={move:{name:"mousemove"},end:{name:"mouseup"}};var Fw;(function(e){e[e.RightClick=2]="RightClick"})(Fw||(Fw={}));class gK extends CR{constructor(t){super(t,pK,Pg(t.event.target))}}gK.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Fw.RightClick?!1:(r==null||r({event:n}),!0)}}];const DC={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class mK extends CR{constructor(t){super(t,DC)}static setup(){return window.addEventListener(DC.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(DC.move.name,t)};function t(){}}}mK.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var pv;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(pv||(pv={}));var vS;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(vS||(vS={}));function vK(e){let{acceleration:t,activator:n=pv.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:l=5,order:f=vS.TreeOrder,pointerCoordinates:d,scrollableAncestors:g,scrollableAncestorRects:p,delta:m,threshold:x}=e;const b=xK({delta:m,disabled:!a}),[A,C]=Rq(),w=M.useRef({x:0,y:0}),R=M.useRef({x:0,y:0}),N=M.useMemo(()=>{switch(n){case pv.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case pv.DraggableRect:return s}},[n,s,d]),I=M.useRef(null),D=M.useCallback(()=>{const k=I.current;if(!k)return;const V=w.current.x*R.current.x,B=w.current.y*R.current.y;k.scrollBy(V,B)},[]),F=M.useMemo(()=>f===vS.TreeOrder?[...g].reverse():g,[f,g]);M.useEffect(()=>{if(!a||!g.length||!N){C();return}for(const k of F){if((r==null?void 0:r(k))===!1)continue;const V=g.indexOf(k),B=p[V];if(!B)continue;const{direction:H,speed:te}=iK(k,B,N,t,x);for(const re of["x","y"])b[re][H[re]]||(te[re]=0,H[re]=0);if(te.x>0||te.y>0){C(),I.current=k,A(D,l),w.current=te,R.current=H;return}}w.current={x:0,y:0},R.current={x:0,y:0},C()},[t,D,r,C,a,l,JSON.stringify(N),JSON.stringify(b),A,g,F,p,JSON.stringify(x)])}const yK={x:{[jr.Backward]:!1,[jr.Forward]:!1},y:{[jr.Backward]:!1,[jr.Forward]:!1}};function xK(e){let{delta:t,disabled:n}=e;const r=Pw(t);return ry(s=>{if(n||!r||!s)return yK;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[jr.Backward]:s.x[jr.Backward]||a.x===-1,[jr.Forward]:s.x[jr.Forward]||a.x===1},y:{[jr.Backward]:s.y[jr.Backward]||a.y===-1,[jr.Forward]:s.y[jr.Forward]||a.y===1}}},[n,t,r])}function bK(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return ry(s=>{var a;return t==null?null:(a=r??s)!=null?a:null},[r,t])}function SK(e,t){return M.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,a=s.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...a]},[]),[e,t])}var wv;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(wv||(wv={}));var kw;(function(e){e.Optimized="optimized"})(kw||(kw={}));const FD=new Map;function EK(e,t){let{dragging:n,dependencies:r,config:s}=t;const[a,l]=M.useState(null),{frequency:f,measure:d,strategy:g}=s,p=M.useRef(e),m=w(),x=Av(m),b=M.useCallback(function(R){R===void 0&&(R=[]),!x.current&&l(N=>N===null?R:N.concat(R.filter(I=>!N.includes(I))))},[x]),A=M.useRef(null),C=ry(R=>{if(m&&!n)return FD;if(!R||R===FD||p.current!==e||a!=null){const N=new Map;for(let I of e){if(!I)continue;if(a&&a.length>0&&!a.includes(I.id)&&I.rect.current){N.set(I.id,I.rect.current);continue}const D=I.node.current,F=D?new AR(d(D),D):null;I.rect.current=F,F&&N.set(I.id,F)}return N}return R},[e,a,n,m,d]);return M.useEffect(()=>{p.current=e},[e]),M.useEffect(()=>{m||b()},[n,m]),M.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),M.useEffect(()=>{m||typeof f!="number"||A.current!==null||(A.current=setTimeout(()=>{b(),A.current=null},f))},[f,m,b,...r]),{droppableRects:C,measureDroppableContainers:b,measuringScheduled:a!=null};function w(){switch(g){case wv.Always:return!1;case wv.BeforeDragging:return n;default:return!n}}}function Zk(e,t){return ry(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function AK(e,t){return Zk(e,t)}function CK(e){let{callback:t,disabled:n}=e;const r=bR(t),s=M.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return M.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function aE(e){let{callback:t,disabled:n}=e;const r=bR(t),s=M.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return M.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function wK(e){return new AR(Mg(e),e)}function kD(e,t,n){t===void 0&&(t=wK);const[r,s]=M.useState(null);function a(){s(d=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=d??n)!=null?g:null}const p=t(e);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const l=CK({callback(d){if(e)for(const g of d){const{type:p,target:m}=g;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){a();break}}}}),f=aE({callback:a});return Ma(()=>{a(),e?(f==null||f.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(f==null||f.disconnect(),l==null||l.disconnect())},[e]),r}function RK(e){const t=Zk(e);return Uk(e,t)}const BD=[];function TK(e){const t=M.useRef(e),n=ry(r=>e?r&&r!==BD&&e&&t.current&&e.parentNode===t.current.parentNode?r:ER(e):BD,[e]);return M.useEffect(()=>{t.current=e},[e]),n}function NK(e){const[t,n]=M.useState(null),r=M.useRef(e),s=M.useCallback(a=>{const l=IC(a.target);l&&n(f=>f?(f.set(l,Lw(l)),new Map(f)):null)},[]);return M.useEffect(()=>{const a=r.current;if(e!==a){l(a);const f=e.map(d=>{const g=IC(d);return g?(g.addEventListener("scroll",s,{passive:!0}),[g,Lw(g)]):null}).filter(d=>d!=null);n(f.length?new Map(f):null),r.current=e}return()=>{l(e),l(a)};function l(f){f.forEach(d=>{const g=IC(d);g==null||g.removeEventListener("scroll",s)})}},[s,e]),M.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,l)=>Kp(a,l),Ds):qk(e):Ds,[e,t])}function jD(e,t){t===void 0&&(t=[]);const n=M.useRef(null);return M.useEffect(()=>{n.current=null},t),M.useEffect(()=>{const r=e!==Ds;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?gS(e,n.current):Ds}function _K(e){M.useEffect(()=>{if(!sE)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function IK(e,t){return M.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:a}=r;return n[s]=l=>{a(l,t)},n},{}),[e,t])}function Jk(e){return M.useMemo(()=>e?eK(e):null,[e])}const zD=[];function OK(e,t){t===void 0&&(t=Mg);const[n]=e,r=Jk(n?Zi(n):null),[s,a]=M.useState(zD);function l(){a(()=>e.length?e.map(d=>Yk(d)?r:new AR(t(d),d)):zD)}const f=aE({callback:l});return Ma(()=>{f==null||f.disconnect(),l(),e.forEach(d=>f==null?void 0:f.observe(d))},[e]),s}function DK(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ny(t)?t:e}function PK(e){let{measure:t}=e;const[n,r]=M.useState(null),s=M.useCallback(g=>{for(const{target:p}of g)if(ny(p)){r(m=>{const x=t(p);return m?{...m,width:x.width,height:x.height}:x});break}},[t]),a=aE({callback:s}),l=M.useCallback(g=>{const p=DK(g);a==null||a.disconnect(),p&&(a==null||a.observe(p)),r(p?t(p):null)},[t,a]),[f,d]=pS(l);return M.useMemo(()=>({nodeRef:f,rect:n,setRef:d}),[n,f,d])}const MK=[{sensor:wR,options:{}},{sensor:Xk,options:{}}],LK={current:{}},Xb={draggable:{measure:DD},droppable:{measure:DD,strategy:wv.WhileDragging,frequency:kw.Optimized},dragOverlay:{measure:Mg}};class gv extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const FK={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new gv,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:mS},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Xb,measureDroppableContainers:mS,windowRect:null,measuringScheduled:!1},kK={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:mS,draggableNodes:new Map,over:null,measureDroppableContainers:mS},lE=M.createContext(kK),Qk=M.createContext(FK);function BK(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new gv}}}function jK(e,t){switch(t.type){case Ir.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ir.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ir.DragEnd:case Ir.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ir.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new gv(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case Ir.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const l=new gv(e.droppable.containers);return l.set(n,{...a,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case Ir.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new gv(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function zK(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=M.useContext(lE),a=Pw(r),l=Pw(n==null?void 0:n.id);return M.useEffect(()=>{if(!t&&!r&&a&&l!=null){if(!SR(a)||document.activeElement===a.target)return;const f=s.get(l);if(!f)return;const{activatorNode:d,node:g}=f;if(!d.current&&!g.current)return;requestAnimationFrame(()=>{for(const p of[d.current,g.current]){if(!p)continue;const m=_q(p);if(m){m.focus();break}}})}},[r,t,s,l,a]),null}function VK(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,a)=>a({transform:s,...r}),n):n}function UK(e){return M.useMemo(()=>({draggable:{...Xb.draggable,...e==null?void 0:e.draggable},droppable:{...Xb.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Xb.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function GK(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const a=M.useRef(!1),{x:l,y:f}=typeof s=="boolean"?{x:s,y:s}:s;Ma(()=>{if(!l&&!f||!t){a.current=!1;return}if(a.current||!r)return;const g=t==null?void 0:t.node.current;if(!g||g.isConnected===!1)return;const p=n(g),m=Uk(p,r);if(l||(m.x=0),f||(m.y=0),a.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const x=Gk(g);x&&x.scrollBy({top:m.y,left:m.x})}},[t,l,f,r,n])}const eB=M.createContext({...Ds,scaleX:1,scaleY:1});var Oc;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Oc||(Oc={}));const $K=M.memo(function(t){var n,r,s,a;let{id:l,accessibility:f,autoScroll:d=!0,children:g,sensors:p=MK,collisionDetection:m=Wq,measuring:x,modifiers:b,...A}=t;const C=M.useReducer(jK,void 0,BK),[w,R]=C,[N,I]=Lq(),[D,F]=M.useState(Oc.Uninitialized),k=D===Oc.Initialized,{draggable:{active:V,nodes:B,translate:H},droppable:{containers:te}}=w,re=V!=null?B.get(V):null,se=M.useRef({initial:null,translated:null}),Ee=M.useMemo(()=>{var sn;return V!=null?{id:V,data:(sn=re==null?void 0:re.data)!=null?sn:LK,rect:se}:null},[V,re]),ke=M.useRef(null),[Me,ie]=M.useState(null),[we,de]=M.useState(null),ue=Av(A,Object.values(A)),K=iy("DndDescribedBy",l),ne=M.useMemo(()=>te.getEnabled(),[te]),he=UK(x),{droppableRects:j,measureDroppableContainers:z,measuringScheduled:G}=EK(ne,{dragging:k,dependencies:[H.x,H.y],config:he.droppable}),Y=bK(B,V),J=M.useMemo(()=>we?Mw(we):null,[we]),X=Hn(),Z=AK(Y,he.draggable.measure);GK({activeNode:V!=null?B.get(V):null,config:X.layoutShiftCompensation,initialRect:Z,measure:he.draggable.measure});const oe=kD(Y,he.draggable.measure,Z),ye=kD(Y?Y.parentElement:null),xe=M.useRef({activatorEvent:null,active:null,activeNode:Y,collisionRect:null,collisions:null,droppableRects:j,draggableNodes:B,draggingNode:null,draggingNodeRect:null,droppableContainers:te,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ae=te.getNodeFor((n=xe.current.over)==null?void 0:n.id),le=PK({measure:he.dragOverlay.measure}),Ae=(r=le.nodeRef.current)!=null?r:Y,Ie=k?(s=le.rect)!=null?s:oe:null,je=!!(le.nodeRef.current&&le.rect),Ve=RK(je?null:oe),me=Jk(Ae?Zi(Ae):null),De=TK(k?ae??Y:null),Ze=OK(De),ht=VK(b,{transform:{x:H.x-Ve.x,y:H.y-Ve.y,scaleX:1,scaleY:1},activatorEvent:we,active:Ee,activeNodeRect:oe,containerNodeRect:ye,draggingNodeRect:Ie,over:xe.current.over,overlayNodeRect:le.rect,scrollableAncestors:De,scrollableAncestorRects:Ze,windowRect:me}),pt=J?Kp(J,H):null,ge=NK(De),Ne=jD(ge),qe=jD(ge,[oe]),Ye=Kp(ht,Ne),tt=Ie?Xq(Ie,ht):null,at=Ee&&tt?m({active:Ee,collisionRect:tt,droppableRects:j,droppableContainers:ne,pointerCoordinates:pt}):null,yt=$q(at,"id"),[Rt,It]=M.useState(null),on=je?ht:Kp(ht,qe),Fe=qq(on,(a=Rt==null?void 0:Rt.rect)!=null?a:null,oe),nt=M.useRef(null),gt=M.useCallback((sn,Zn)=>{let{sensor:rt,options:an}=Zn;if(ke.current==null)return;const Zt=B.get(ke.current);if(!Zt)return;const nn=sn.nativeEvent,gr=new rt({active:ke.current,activeNode:Zt,event:nn,options:an,context:xe,onAbort(Bt){if(!B.get(Bt))return;const{onDragAbort:Mt}=ue.current,En={id:Bt};Mt==null||Mt(En),N({type:"onDragAbort",event:En})},onPending(Bt,ln,Mt,En){if(!B.get(Bt))return;const{onDragPending:xr}=ue.current,mi={id:Bt,constraint:ln,initialCoordinates:Mt,offset:En};xr==null||xr(mi),N({type:"onDragPending",event:mi})},onStart(Bt){const ln=ke.current;if(ln==null)return;const Mt=B.get(ln);if(!Mt)return;const{onDragStart:En}=ue.current,Oi={activatorEvent:nn,active:{id:ln,data:Mt.data,rect:se}};Na.unstable_batchedUpdates(()=>{En==null||En(Oi),F(Oc.Initializing),R({type:Ir.DragStart,initialCoordinates:Bt,active:ln}),N({type:"onDragStart",event:Oi}),ie(nt.current),de(nn)})},onMove(Bt){R({type:Ir.DragMove,coordinates:Bt})},onEnd:Wt(Ir.DragEnd),onCancel:Wt(Ir.DragCancel)});nt.current=gr;function Wt(Bt){return async function(){const{active:Mt,collisions:En,over:Oi,scrollAdjustedTranslate:xr}=xe.current;let mi=null;if(Mt&&xr){const{cancelDrop:Ho}=ue.current;mi={activatorEvent:nn,active:Mt,collisions:En,delta:xr,over:Oi},Bt===Ir.DragEnd&&typeof Ho=="function"&&await Promise.resolve(Ho(mi))&&(Bt=Ir.DragCancel)}ke.current=null,Na.unstable_batchedUpdates(()=>{R({type:Bt}),F(Oc.Uninitialized),It(null),ie(null),de(null),nt.current=null;const Ho=Bt===Ir.DragEnd?"onDragEnd":"onDragCancel";if(mi){const Ji=ue.current[Ho];Ji==null||Ji(mi),N({type:Ho,event:mi})}})}}},[B]),St=M.useCallback((sn,Zn)=>(rt,an)=>{const Zt=rt.nativeEvent,nn=B.get(an);if(ke.current!==null||!nn||Zt.dndKit||Zt.defaultPrevented)return;const gr={active:nn};sn(rt,Zn.options,gr)===!0&&(Zt.dndKit={capturedBy:Zn.sensor},ke.current=an,gt(rt,Zn))},[B,gt]),Dt=SK(p,St);_K(p),Ma(()=>{oe&&D===Oc.Initializing&&F(Oc.Initialized)},[oe,D]),M.useEffect(()=>{const{onDragMove:sn}=ue.current,{active:Zn,activatorEvent:rt,collisions:an,over:Zt}=xe.current;if(!Zn||!rt)return;const nn={active:Zn,activatorEvent:rt,collisions:an,delta:{x:Ye.x,y:Ye.y},over:Zt};Na.unstable_batchedUpdates(()=>{sn==null||sn(nn),N({type:"onDragMove",event:nn})})},[Ye.x,Ye.y]),M.useEffect(()=>{const{active:sn,activatorEvent:Zn,collisions:rt,droppableContainers:an,scrollAdjustedTranslate:Zt}=xe.current;if(!sn||ke.current==null||!Zn||!Zt)return;const{onDragOver:nn}=ue.current,gr=an.get(yt),Wt=gr&&gr.rect.current?{id:gr.id,rect:gr.rect.current,data:gr.data,disabled:gr.disabled}:null,Bt={active:sn,activatorEvent:Zn,collisions:rt,delta:{x:Zt.x,y:Zt.y},over:Wt};Na.unstable_batchedUpdates(()=>{It(Wt),nn==null||nn(Bt),N({type:"onDragOver",event:Bt})})},[yt]),Ma(()=>{xe.current={activatorEvent:we,active:Ee,activeNode:Y,collisionRect:tt,collisions:at,droppableRects:j,draggableNodes:B,draggingNode:Ae,draggingNodeRect:Ie,droppableContainers:te,over:Rt,scrollableAncestors:De,scrollAdjustedTranslate:Ye},se.current={initial:Ie,translated:tt}},[Ee,Y,at,tt,B,Ae,Ie,j,te,Rt,De,Ye]),vK({...X,delta:H,draggingRect:tt,pointerCoordinates:pt,scrollableAncestors:De,scrollableAncestorRects:Ze});const mn=M.useMemo(()=>({active:Ee,activeNode:Y,activeNodeRect:oe,activatorEvent:we,collisions:at,containerNodeRect:ye,dragOverlay:le,draggableNodes:B,droppableContainers:te,droppableRects:j,over:Rt,measureDroppableContainers:z,scrollableAncestors:De,scrollableAncestorRects:Ze,measuringConfiguration:he,measuringScheduled:G,windowRect:me}),[Ee,Y,oe,we,at,ye,le,B,te,j,Rt,z,De,Ze,he,G,me]),Fn=M.useMemo(()=>({activatorEvent:we,activators:Dt,active:Ee,activeNodeRect:oe,ariaDescribedById:{draggable:K},dispatch:R,draggableNodes:B,over:Rt,measureDroppableContainers:z}),[we,Dt,Ee,oe,R,K,B,Rt,z]);return Ke.createElement(Vk.Provider,{value:I},Ke.createElement(lE.Provider,{value:Fn},Ke.createElement(Qk.Provider,{value:mn},Ke.createElement(eB.Provider,{value:Fe},g)),Ke.createElement(zK,{disabled:(f==null?void 0:f.restoreFocus)===!1})),Ke.createElement(Bq,{...f,hiddenTextDescribedById:K}));function Hn(){const sn=(Me==null?void 0:Me.autoScrollEnabled)===!1,Zn=typeof d=="object"?d.enabled===!1:d===!1,rt=k&&!sn&&!Zn;return typeof d=="object"?{...d,enabled:rt}:{enabled:rt}}}),HK=M.createContext(null),VD="button",YK="Draggable";function WK(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const a=iy(YK),{activators:l,activatorEvent:f,active:d,activeNodeRect:g,ariaDescribedById:p,draggableNodes:m,over:x}=M.useContext(lE),{role:b=VD,roleDescription:A="draggable",tabIndex:C=0}=s??{},w=(d==null?void 0:d.id)===t,R=M.useContext(w?eB:HK),[N,I]=pS(),[D,F]=pS(),k=IK(l,t),V=Av(n);Ma(()=>(m.set(t,{id:t,key:a,node:N,activatorNode:D,data:V}),()=>{const H=m.get(t);H&&H.key===a&&m.delete(t)}),[m,t]);const B=M.useMemo(()=>({role:b,tabIndex:C,"aria-disabled":r,"aria-pressed":w&&b===VD?!0:void 0,"aria-roledescription":A,"aria-describedby":p.draggable}),[r,b,C,w,A,p.draggable]);return{active:d,activatorEvent:f,activeNodeRect:g,attributes:B,isDragging:w,listeners:r?void 0:k,node:N,over:x,setNodeRef:I,setActivatorNodeRef:F,transform:R}}function qK(){return M.useContext(Qk)}const KK="Droppable",XK={timeout:25};function ZK(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const a=iy(KK),{active:l,dispatch:f,over:d,measureDroppableContainers:g}=M.useContext(lE),p=M.useRef({disabled:n}),m=M.useRef(!1),x=M.useRef(null),b=M.useRef(null),{disabled:A,updateMeasurementsFor:C,timeout:w}={...XK,...s},R=Av(C??r),N=M.useCallback(()=>{if(!m.current){m.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{g(Array.isArray(R.current)?R.current:[R.current]),b.current=null},w)},[w]),I=aE({callback:N,disabled:A||!l}),D=M.useCallback((B,H)=>{I&&(H&&(I.unobserve(H),m.current=!1),B&&I.observe(B))},[I]),[F,k]=pS(D),V=Av(t);return M.useEffect(()=>{!I||!F.current||(I.disconnect(),m.current=!1,I.observe(F.current))},[F,I]),M.useEffect(()=>(f({type:Ir.RegisterDroppable,element:{id:r,key:a,disabled:n,node:F,rect:x,data:V}}),()=>f({type:Ir.UnregisterDroppable,key:a,id:r})),[r]),M.useEffect(()=>{n!==p.current.disabled&&(f({type:Ir.SetDroppableDisabled,id:r,key:a,disabled:n}),p.current.disabled=n)},[r,a,n,f]),{active:l,rect:x,isOver:(d==null?void 0:d.id)===r,node:F,over:d,setNodeRef:k}}function tB(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function JK(e,t){return e.reduce((n,r,s)=>{const a=t.get(r);return a&&(n[s]=a),n},Array(e.length))}function Db(e){return e!==null&&e>=0}function QK(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function eX(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Pb={scaleX:1,scaleY:1},tX=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:s,overIndex:a,index:l}=e;const f=(t=n[s])!=null?t:r;if(!f)return null;const d=nX(n,l,s);if(l===s){const g=n[a];return g?{x:s<a?g.left+g.width-(f.left+f.width):g.left-f.left,y:0,...Pb}:null}return l>s&&l<=a?{x:-f.width-d,y:0,...Pb}:l<s&&l>=a?{x:f.width+d,y:0,...Pb}:{x:0,y:0,...Pb}};function nX(e,t,n){const r=e[t],s=e[t-1],a=e[t+1];return!r||!s&&!a?0:n<t?s?r.left-(s.left+s.width):a.left-(r.left+r.width):a?a.left-(r.left+r.width):r.left-(s.left+s.width)}const nB=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const a=tB(t,r,n),l=t[s],f=a[s];return!f||!l?null:{x:f.left-l.left,y:f.top-l.top,scaleX:f.width/l.width,scaleY:f.height/l.height}},rB="Sortable",iB=Ke.createContext({activeIndex:-1,containerId:rB,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:nB,disabled:{draggable:!1,droppable:!1}});function rX(e){let{children:t,id:n,items:r,strategy:s=nB,disabled:a=!1}=e;const{active:l,dragOverlay:f,droppableRects:d,over:g,measureDroppableContainers:p}=qK(),m=iy(rB,n),x=f.rect!==null,b=M.useMemo(()=>r.map(k=>typeof k=="object"&&"id"in k?k.id:k),[r]),A=l!=null,C=l?b.indexOf(l.id):-1,w=g?b.indexOf(g.id):-1,R=M.useRef(b),N=!QK(b,R.current),I=w!==-1&&C===-1||N,D=eX(a);Ma(()=>{N&&A&&p(b)},[N,b,A,p]),M.useEffect(()=>{R.current=b},[b]);const F=M.useMemo(()=>({activeIndex:C,containerId:m,disabled:D,disableTransforms:I,items:b,overIndex:w,useDragOverlay:x,sortedRects:JK(b,d),strategy:s}),[C,m,D.draggable,D.droppable,I,b,w,d,x,s]);return Ke.createElement(iB.Provider,{value:F},t)}const iX=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return tB(n,r,s).indexOf(t)},oX=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:a,newIndex:l,previousItems:f,previousContainerId:d,transition:g}=e;return!g||!r||f!==a&&s===l?!1:n?!0:l!==s&&t===d},sX={duration:200,easing:"ease"},oB="transform",aX=Cv.Transition.toString({property:oB,duration:0,easing:"linear"}),lX={roleDescription:"sortable"};function uX(e){let{disabled:t,index:n,node:r,rect:s}=e;const[a,l]=M.useState(null),f=M.useRef(n);return Ma(()=>{if(!t&&n!==f.current&&r.current){const d=s.current;if(d){const g=Mg(r.current,{ignoreTransform:!0}),p={x:d.left-g.left,y:d.top-g.top,scaleX:d.width/g.width,scaleY:d.height/g.height};(p.x||p.y)&&l(p)}}n!==f.current&&(f.current=n)},[t,n,r,s]),M.useEffect(()=>{a&&l(null)},[a]),a}function cX(e){let{animateLayoutChanges:t=oX,attributes:n,disabled:r,data:s,getNewIndex:a=iX,id:l,strategy:f,resizeObserverConfig:d,transition:g=sX}=e;const{items:p,containerId:m,activeIndex:x,disabled:b,disableTransforms:A,sortedRects:C,overIndex:w,useDragOverlay:R,strategy:N}=M.useContext(iB),I=fX(r,b),D=p.indexOf(l),F=M.useMemo(()=>({sortable:{containerId:m,index:D,items:p},...s}),[m,s,D,p]),k=M.useMemo(()=>p.slice(p.indexOf(l)),[p,l]),{rect:V,node:B,isOver:H,setNodeRef:te}=ZK({id:l,data:F,disabled:I.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...d}}),{active:re,activatorEvent:se,activeNodeRect:Ee,attributes:ke,setNodeRef:Me,listeners:ie,isDragging:we,over:de,setActivatorNodeRef:ue,transform:K}=WK({id:l,data:F,attributes:{...lX,...n},disabled:I.draggable}),ne=wq(te,Me),he=!!re,j=he&&!A&&Db(x)&&Db(w),z=!R&&we,G=z&&j?K:null,J=j?G??(f??N)({rects:C,activeNodeRect:Ee,activeIndex:x,overIndex:w,index:D}):null,X=Db(x)&&Db(w)?a({id:l,items:p,activeIndex:x,overIndex:w}):D,Z=re==null?void 0:re.id,oe=M.useRef({activeId:Z,items:p,newIndex:X,containerId:m}),ye=p!==oe.current.items,xe=t({active:re,containerId:m,isDragging:we,isSorting:he,id:l,index:D,items:p,newIndex:oe.current.newIndex,previousItems:oe.current.items,previousContainerId:oe.current.containerId,transition:g,wasDragging:oe.current.activeId!=null}),ae=uX({disabled:!xe,index:D,node:B,rect:V});return M.useEffect(()=>{he&&oe.current.newIndex!==X&&(oe.current.newIndex=X),m!==oe.current.containerId&&(oe.current.containerId=m),p!==oe.current.items&&(oe.current.items=p)},[he,X,m,p]),M.useEffect(()=>{if(Z===oe.current.activeId)return;if(Z!=null&&oe.current.activeId==null){oe.current.activeId=Z;return}const Ae=setTimeout(()=>{oe.current.activeId=Z},50);return()=>clearTimeout(Ae)},[Z]),{active:re,activeIndex:x,attributes:ke,data:F,rect:V,index:D,newIndex:X,items:p,isOver:H,isSorting:he,isDragging:we,listeners:ie,node:B,overIndex:w,over:de,setNodeRef:ne,setActivatorNodeRef:ue,setDroppableNodeRef:te,setDraggableNodeRef:Me,transform:ae??J,transition:le()};function le(){if(ae||ye&&oe.current.newIndex===D)return aX;if(!(z&&!SR(se)||!g)&&(he||xe))return Cv.Transition.toString({...g,property:oB})}}function fX(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}xn.Down,xn.Right,xn.Up,xn.Left;const dX=e=>{let{transform:t}=e;return{...t,y:0}};function hX({tab:e,isActive:t,isEditing:n,editValue:r,onEditValueChange:s,onSelect:a,onStartRename:l,onCommitRename:f,onCancelRename:d,onContextMenu:g,inputRef:p}){const{attributes:m,listeners:x,setNodeRef:b,transform:A,transition:C,isDragging:w}=cX({id:e.id,disabled:n}),R={transform:Cv.Translate.toString(A),transition:C,zIndex:w?10:void 0,opacity:w?.5:void 0};return O.jsxs("button",{ref:b,style:R,className:bt("flex items-center gap-1.5 px-3 py-1 text-sm rounded-t border-b-2 cursor-pointer select-none","hover:bg-muted/50 transition-colors",t?"border-primary bg-background text-foreground font-medium":"border-transparent text-muted-foreground"),onClick:a,onDoubleClick:l,onContextMenu:g,...m,...x,children:[e.type==="datasource"?O.jsx($v,{className:"size-3.5"}):O.jsx(BL,{className:"size-3.5"}),n?O.jsx("input",{ref:p,className:"w-20 bg-transparent border-b border-primary text-sm outline-none",value:r,onChange:N=>s(N.target.value),onBlur:f,onKeyDown:N=>{N.key==="Enter"&&f(),N.key==="Escape"&&d(),N.stopPropagation()},onMouseDown:N=>N.stopPropagation(),onClick:N=>N.stopPropagation(),onPointerDown:N=>N.stopPropagation()}):O.jsx("span",{children:e.name})]})}function pX({tabs:e,activeTabId:t,onSelectTab:n,onAddTab:r,onRenameTab:s,onDeleteTab:a,onMoveTab:l}){const[f,d]=M.useState(null),[g,p]=M.useState(""),[m,x]=M.useState(null),b=M.useRef(null),A=zq(jq(wR,{activationConstraint:{distance:5}}));M.useEffect(()=>{if(!f)return;const I=setTimeout(()=>{b.current&&(b.current.focus(),b.current.select())},50);return()=>clearTimeout(I)},[f]);const C=M.useCallback(I=>{d(I.id),p(I.name)},[]),w=M.useCallback(()=>{f&&g.trim()&&s(f,g.trim()),d(null)},[f,g,s]),R=M.useCallback(()=>{d(null)},[]),N=M.useCallback(I=>{const{active:D,over:F}=I;if(!F||D.id===F.id||!l)return;const k=e.findIndex(B=>B.id===D.id),V=e.findIndex(B=>B.id===F.id);k!==-1&&V!==-1&&l(k,V)},[e,l]);return O.jsxs("div",{className:"flex items-center border-t bg-muted/30 px-1 h-9 shrink-0",children:[O.jsx($K,{sensors:A,collisionDetection:Hq,modifiers:[dX],onDragEnd:N,children:O.jsx(rX,{items:e.map(I=>I.id),strategy:tX,children:e.map(I=>O.jsxs(wa,{open:m===I.id,onOpenChange:D=>{D||x(null)},children:[O.jsx(Ra,{asChild:!0,children:O.jsx("div",{children:O.jsx(hX,{tab:I,isActive:I.id===t,isEditing:f===I.id,editValue:g,onEditValueChange:p,onSelect:()=>n(I.id),onStartRename:()=>C(I),onCommitRename:w,onCancelRename:R,onContextMenu:D=>{D.preventDefault(),x(I.id)},inputRef:b})})}),O.jsxs(Ta,{align:"start",children:[O.jsx(yr,{onClick:()=>{x(null),setTimeout(()=>C(I),0)},children:"Rename"}),e.length>1&&O.jsxs(O.Fragment,{children:[O.jsx(L2,{}),O.jsx(yr,{variant:"destructive",onClick:()=>a(I.id),children:"Delete"})]})]})]},I.id))})}),O.jsxs(wa,{children:[O.jsx(Ra,{asChild:!0,children:O.jsx("button",{className:"flex items-center justify-center size-7 ml-1 rounded hover:bg-muted/50 text-muted-foreground cursor-pointer",children:O.jsx(FL,{className:"size-4"})})}),O.jsxs(Ta,{align:"start",children:[O.jsxs(yr,{onClick:()=>r("sheet"),children:[O.jsx(BL,{className:"size-4"}),"New Sheet"]}),O.jsxs(yr,{onClick:()=>r("datasource"),children:[O.jsx($v,{className:"size-4"}),"New DataSource"]})]})]})]})}const Lg="https://wafflebase-api.yorkie.dev/datasources";async function UD(e){const t=await _i(Lg,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create datasource");return t.json()}async function Bw(){const e=await _i(Lg);if(!e.ok)throw new Error("Failed to fetch datasources");return e.json()}async function gX(e,t){const n=await _i(`${Lg}/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update datasource");return n.json()}async function mX(e){if(!(await _i(`${Lg}/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete datasource")}async function yS(e){const t=await _i(`${Lg}/${e}/test`,{method:"POST"});if(!t.ok)throw new Error("Failed to test connection");return t.json()}async function vX(e,t){const n=await _i(`${Lg}/${e}/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.message||"Query execution failed")}return n.json()}function yX({tabId:e}){const{resolvedTheme:t}=kk(),n=M.useRef(null),[r,s]=M.useState(!1),a=M.useRef(void 0),l=M.useRef(new L7),{doc:f,loading:d,error:g}=Pa.useDocument(),[p,m]=M.useState(""),[x,b]=M.useState(!1),[A,C]=M.useState(null),[w,R]=M.useState(null);M.useEffect(()=>{s(!0)},[]),M.useEffect(()=>{if(!f)return;const F=f.getRoot().tabs[e];F!=null&&F.query&&m(F.query)},[f,e]),M.useEffect(()=>{const D=n.current;if(!r||!D)return;let F,k=!1;return Mk(D,{theme:t,store:l.current,readOnly:!0}).then(V=>{if(k){V.cleanup();return}F=V,a.current=V}),()=>{k=!0,F&&F.cleanup(),a.current=void 0}},[r,t]);const N=M.useCallback(async()=>{if(!f||!p.trim())return;const F=f.getRoot().tabs[e];if(!(F!=null&&F.datasourceId)){R("No datasource connected to this tab");return}f.update(k=>{k.tabs[e]&&(k.tabs[e].query=p)}),b(!0),R(null);try{const k=await vX(F.datasourceId,p);C(k),l.current.loadQueryResults(k.columns,k.rows),a.current&&(await a.current.reloadDimensions(),a.current.render())}catch(k){R(k.message)}finally{b(!1)}},[f,e,p]),I=M.useCallback(D=>{(D.metaKey||D.ctrlKey)&&D.key==="Enter"&&(D.preventDefault(),N())},[N]);return d?O.jsx(_u,{}):g?O.jsx("div",{className:"flex h-full w-full items-center justify-center",children:O.jsx("div",{className:"text-red-500",children:g.message})}):O.jsxs("div",{className:"flex h-full w-full flex-col",children:[O.jsx("div",{className:"border-b p-2 shrink-0",children:O.jsx("textarea",{className:"w-full h-24 p-2 font-mono text-sm border rounded resize-y bg-background text-foreground focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"SELECT * FROM users LIMIT 100",value:p,onChange:D=>m(D.target.value),onKeyDown:I})}),O.jsxs("div",{className:"flex items-center gap-3 px-3 py-1.5 border-b shrink-0",children:[O.jsxs(er,{size:"sm",onClick:N,disabled:x||!p.trim(),children:[O.jsx(A8,{className:"size-4"}),x?"Executing...":"Execute"]}),A&&O.jsxs("span",{className:"text-xs text-muted-foreground",children:[A.rowCount," row",A.rowCount!==1?"s":"",A.truncated?" (truncated)":""," in ",A.executionTime,"ms"]}),w&&O.jsx("span",{className:"text-xs text-destructive truncate",children:w})]}),O.jsx("div",{ref:n,className:"flex-1 w-full"})]})}var xX=i3[" useInsertionEffect ".trim().toString()]||Dr;function bX({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,l]=SX({defaultProp:t,onChange:n}),f=e!==void 0,d=f?e:s;{const p=M.useRef(e!==void 0);M.useEffect(()=>{const m=p.current;m!==f&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=f},[f,r])}const g=M.useCallback(p=>{var m;if(f){const x=EX(p)?p(e):p;x!==e&&((m=l.current)==null||m.call(l,x))}else a(p)},[f,e,a,l]);return[d,g]}function SX({defaultProp:e,onChange:t}){const[n,r]=M.useState(e),s=M.useRef(n),a=M.useRef(t);return xX(()=>{a.current=t},[t]),M.useEffect(()=>{var l;s.current!==n&&((l=a.current)==null||l.call(a,n),s.current=n)},[n,s]),[n,r,a]}function EX(e){return typeof e=="function"}var AX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sB=AX.reduce((e,t)=>{const n=Yc(`Primitive.${t}`),r=M.forwardRef((s,a)=>{const{asChild:l,...f}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(d,{...f,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),uE="Switch",[CX,UJ]=ka(uE),[wX,RX]=CX(uE),aB=M.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:l,disabled:f,value:d="on",onCheckedChange:g,form:p,...m}=e,[x,b]=M.useState(null),A=bn(t,I=>b(I)),C=M.useRef(!1),w=x?p||!!x.closest("form"):!0,[R,N]=bX({prop:s,defaultProp:a??!1,onChange:g,caller:uE});return O.jsxs(wX,{scope:n,checked:R,disabled:f,children:[O.jsx(sB.button,{type:"button",role:"switch","aria-checked":R,"aria-required":l,"data-state":fB(R),"data-disabled":f?"":void 0,disabled:f,value:d,...m,ref:A,onClick:ft(e.onClick,I=>{N(D=>!D),w&&(C.current=I.isPropagationStopped(),C.current||I.stopPropagation())})}),w&&O.jsx(cB,{control:x,bubbles:!C.current,name:r,value:d,checked:R,required:l,disabled:f,form:p,style:{transform:"translateX(-100%)"}})]})});aB.displayName=uE;var lB="SwitchThumb",uB=M.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=RX(lB,n);return O.jsx(sB.span,{"data-state":fB(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});uB.displayName=lB;var TX="SwitchBubbleInput",cB=M.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const l=M.useRef(null),f=bn(l,a),d=WL(n),g=dM(t);return M.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&b){const A=new Event("click",{bubbles:r});b.call(p,n),p.dispatchEvent(A)}},[d,n,r]),O.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:f,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cB.displayName=TX;function fB(e){return e?"checked":"unchecked"}var NX=aB,_X=uB;function RR({className:e,...t}){return O.jsx(NX,{"data-slot":"switch",className:bt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:O.jsx(_X,{"data-slot":"switch-thumb",className:bt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function dB({open:e,onOpenChange:t,onCreated:n}){const[r,s]=M.useState(""),[a,l]=M.useState("localhost"),[f,d]=M.useState("5432"),[g,p]=M.useState(""),[m,x]=M.useState(""),[b,A]=M.useState(""),[C,w]=M.useState(!1),[R,N]=M.useState(!1),[I,D]=M.useState(!1),[F,k]=M.useState(null),V=()=>{s(""),l("localhost"),d("5432"),p(""),x(""),A(""),w(!1),k(null)},B=async()=>{D(!0);try{const te=await UD({name:r,host:a,port:Number(f),database:g,username:m,password:b,sslEnabled:C});k(te.id),zn.success("DataSource created"),n(te),V(),t(!1)}catch{zn.error("Failed to create datasource")}finally{D(!1)}},H=async()=>{if(!F){D(!0);try{const te=await UD({name:r||"Untitled",host:a,port:Number(f),database:g,username:m,password:b,sslEnabled:C});k(te.id),N(!0);const re=await yS(te.id);re.success?zn.success("Connection successful"):zn.error(`Connection failed: ${re.error}`)}catch{zn.error("Failed to test connection")}finally{D(!1),N(!1)}return}N(!0);try{const te=await yS(F);te.success?zn.success("Connection successful"):zn.error(`Connection failed: ${te.error}`)}catch{zn.error("Failed to test connection")}finally{N(!1)}};return O.jsx(Lv,{open:e,onOpenChange:te=>{te||V(),t(te)},children:O.jsxs(Fv,{className:"sm:max-w-md",children:[O.jsxs(kv,{children:[O.jsx(Bv,{children:"New DataSource Connection"}),O.jsx(jv,{children:"Connect to an external PostgreSQL database."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"ds-name",children:"Name"}),O.jsx(Ti,{id:"ds-name",placeholder:"My Database",value:r,onChange:te=>s(te.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[O.jsxs("div",{className:"col-span-2 grid gap-2",children:[O.jsx(_r,{htmlFor:"ds-host",children:"Host"}),O.jsx(Ti,{id:"ds-host",placeholder:"localhost",value:a,onChange:te=>l(te.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"ds-port",children:"Port"}),O.jsx(Ti,{id:"ds-port",type:"number",value:f,onChange:te=>d(te.target.value)})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"ds-database",children:"Database"}),O.jsx(Ti,{id:"ds-database",placeholder:"mydb",value:g,onChange:te=>p(te.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"ds-username",children:"Username"}),O.jsx(Ti,{id:"ds-username",placeholder:"postgres",value:m,onChange:te=>x(te.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"ds-password",children:"Password"}),O.jsx(Ti,{id:"ds-password",type:"password",value:b,onChange:te=>A(te.target.value)})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(RR,{id:"ds-ssl",checked:C,onCheckedChange:w}),O.jsx(_r,{htmlFor:"ds-ssl",children:"Enable SSL"})]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx(er,{variant:"outline",onClick:H,disabled:R||!a||!g,children:R?"Testing...":"Test Connection"}),O.jsx(er,{onClick:B,disabled:I||!r||!a||!g||!m,children:I?"Saving...":"Save"})]})]})})}function IX({open:e,onOpenChange:t,onSelect:n}){const[r,s]=M.useState([]),[a,l]=M.useState(!1),[f,d]=M.useState(!1),[g,p]=M.useState(null);M.useEffect(()=>{e&&(l(!0),Bw().then(s).catch(()=>s([])).finally(()=>l(!1)))},[e]);const m=()=>{const x=r.find(b=>b.id===g);x&&(n(x),t(!1))};return O.jsxs(O.Fragment,{children:[O.jsx(Lv,{open:e&&!f,onOpenChange:t,children:O.jsxs(Fv,{className:"sm:max-w-sm",children:[O.jsxs(kv,{children:[O.jsx(Bv,{children:"Select DataSource"}),O.jsx(jv,{children:"Choose an existing connection or create a new one."})]}),O.jsx("div",{className:"grid gap-4 py-2",children:a?O.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Loading..."}):r.length===0?O.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No datasources yet. Create one to get started."}):O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{children:"Connections"}),O.jsx("div",{className:"flex flex-col gap-1 max-h-60 overflow-y-auto",children:r.map(x=>O.jsxs("button",{className:bt("flex items-center gap-2 px-3 py-2 rounded-md border text-sm text-left cursor-pointer","hover:bg-muted/50 transition-colors",g===x.id&&"bg-muted border-primary"),onClick:()=>p(x.id),onDoubleClick:()=>{n(x),t(!1)},children:[O.jsx($v,{className:"size-4 text-muted-foreground shrink-0"}),O.jsxs("div",{className:"flex flex-col min-w-0",children:[O.jsx("span",{className:"font-medium truncate",children:x.name}),O.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[x.host,":",x.port,"/",x.database]})]})]},x.id))})]})}),O.jsxs("div",{className:"flex justify-between",children:[O.jsxs(er,{variant:"outline",onClick:()=>d(!0),children:[O.jsx(FL,{className:"size-4"}),"New Connection"]}),O.jsx(er,{disabled:!g,onClick:m,children:"Select"})]})]})}),O.jsx(dB,{open:f,onOpenChange:x=>{d(x),x||Bw().then(s).catch(()=>{})},onCreated:x=>{n(x),t(!1),d(!1)}})]})}const Mb="tab-1",hB={tabs:{[Mb]:{id:Mb,name:"Sheet1",type:"sheet"}},tabOrder:[Mb],sheets:{[Mb]:{sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},frozenRows:0,frozenCols:0}}},OX={main:[{title:"Documents",url:"/",icon:ML},{title:"Data Sources",url:"/datasources",icon:$v}],secondary:[{title:"Settings",url:"/settings",icon:kL}]};function DX(e){if(!e)return;const t=e.getRoot();if(t.tabs||!t.sheet)return;const r="tab-1";e.update(s=>{s.tabs={[r]:{id:r,name:"Sheet1",type:"sheet"}},s.tabOrder=[r],s.sheets={[r]:{sheet:s.sheet||{},rowHeights:s.rowHeights||{},colWidths:s.colWidths||{},colStyles:s.colStyles||{},rowStyles:s.rowStyles||{},sheetStyle:s.sheetStyle,frozenRows:s.frozenRows||0,frozenCols:s.frozenCols||0}},delete s.sheet,delete s.rowHeights,delete s.colWidths,delete s.colStyles,delete s.rowStyles,delete s.sheetStyle,delete s.frozenRows,delete s.frozenCols})}function GD(){return`tab-${Date.now()}-${Math.random().toString(36).slice(2,6)}`}function PX({documentId:e}){TH();const t=Dv(),{doc:n}=Pa.useDocument(),[r,s]=M.useState(null),[a,l]=M.useState(!1),[f,d]=M.useState(!1),{data:g}=Fa({queryKey:["document",e],queryFn:()=>EV(e)}),p=M.useCallback(async D=>{await iP(e,D),t.invalidateQueries({queryKey:["document",e]}),t.invalidateQueries({queryKey:["documents"]})},[e,t]);M.useEffect(()=>{n&&(DX(n),l(!0))},[n]),M.useEffect(()=>{if(!n||!a)return;const D=n.getRoot();D.tabOrder&&D.tabOrder.length>0&&!r&&s(D.tabOrder[0])},[n,a,r]);const m=M.useCallback(()=>{if(!n)return;const D=n.getRoot(),F=GD(),k=D.tabOrder.filter(V=>{var B;return((B=D.tabs[V])==null?void 0:B.type)==="sheet"}).length+1;n.update(V=>{V.tabs[F]={id:F,name:`Sheet${k}`,type:"sheet"},V.tabOrder.push(F),V.sheets[F]={sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},frozenRows:0,frozenCols:0}}),s(F)},[n]),x=M.useCallback(D=>{if(!n)return;const F=n.getRoot(),k=GD(),V=F.tabOrder.filter(B=>{var H;return((H=F.tabs[B])==null?void 0:H.type)==="datasource"}).length+1;n.update(B=>{B.tabs[k]={id:k,name:D.name||`DataSource${V}`,type:"datasource",datasourceId:D.id,query:""},B.tabOrder.push(k)}),s(k)},[n]),b=M.useCallback(D=>{D==="datasource"?d(!0):m()},[m]),A=M.useCallback((D,F)=>{n&&n.update(k=>{k.tabs[D]&&(k.tabs[D].name=F)})},[n]),C=M.useCallback(D=>{if(!n)return;const F=n.getRoot();if(F.tabOrder.length<=1)return;const k=F.tabOrder.indexOf(D);if(n.update(V=>{delete V.tabs[D],V.sheets[D]&&delete V.sheets[D];const B=V.tabOrder.indexOf(D);B!==-1&&V.tabOrder.splice(B,1)}),r===D){const V=n.getRoot(),B=Math.min(k,V.tabOrder.length-1);s(V.tabOrder[B])}},[n,r]),w=M.useCallback((D,F)=>{n&&n.update(k=>{const[V]=k.tabOrder.splice(D,1);k.tabOrder.splice(F,0,V)})},[n]);if(!n||!a||!r)return O.jsx(_u,{});const R=n.getRoot(),N=R.tabOrder.map(D=>R.tabs[D]).filter(Boolean),I=R.tabs[r];return O.jsxs(AL,{children:[O.jsx(HL,{variant:"inset",items:OX}),O.jsxs(CL,{children:[O.jsx(YL,{title:(g==null?void 0:g.title)??"Loading...",editable:!0,onRename:p,children:O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(RH,{documentId:e}),O.jsx(k8,{})]})}),O.jsxs("div",{className:"flex flex-1 flex-col",children:[O.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:O.jsx("div",{className:"flex flex-col h-full",children:(I==null?void 0:I.type)==="datasource"?O.jsx(yX,{tabId:r}):O.jsx(Bk,{tabId:r})})}),O.jsx(pX,{tabs:N,activeTabId:r,onSelectTab:s,onAddTab:b,onRenameTab:A,onDeleteTab:C,onMoveTab:w})]})]}),O.jsx(IX,{open:f,onOpenChange:d,onSelect:x})]})}function MX(){const{id:e}=d3(),{data:t,isLoading:n,isError:r}=Fa({queryKey:["me"],queryFn:hh,retry:!1,staleTime:5*60*1e3});return n?O.jsx(_u,{}):r||!t?O.jsx("div",{children:"User not found"}):!t.username||!t.email?O.jsx(_u,{}):O.jsx(Pa.DocumentProvider,{docKey:`sheet-${e}`,initialRoot:hB,initialPresence:{username:t.username,email:t.email,photo:t.photo||""},children:O.jsx(PX,{documentId:e})})}const LX=AS("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function FX({className:e,variant:t,asChild:n=!1,...r}){const s=n?Qw:"span";return O.jsx(s,{"data-slot":"badge",className:bt(LX({variant:t}),e),...r})}function kX({datasource:e,open:t,onOpenChange:n,onSaved:r}){const[s,a]=M.useState(""),[l,f]=M.useState(""),[d,g]=M.useState("5432"),[p,m]=M.useState(""),[x,b]=M.useState(""),[A,C]=M.useState(""),[w,R]=M.useState(!1),[N,I]=M.useState(!1),[D,F]=M.useState(!1);M.useEffect(()=>{e&&(a(e.name),f(e.host),g(String(e.port)),m(e.database),b(e.username),C(""),R(e.sslEnabled))},[e]);const k=async()=>{if(e){F(!0);try{const B={};s!==e.name&&(B.name=s),l!==e.host&&(B.host=l),Number(d)!==e.port&&(B.port=Number(d)),p!==e.database&&(B.database=p),x!==e.username&&(B.username=x),A&&(B.password=A),w!==e.sslEnabled&&(B.sslEnabled=w),await gX(e.id,B),zn.success("DataSource updated"),r()}catch{zn.error("Failed to update datasource")}finally{F(!1)}}},V=async()=>{if(e){I(!0);try{const B=await yS(e.id);B.success?zn.success("Connection successful"):zn.error(`Connection failed: ${B.error}`)}catch{zn.error("Failed to test connection")}finally{I(!1)}}};return O.jsx(Lv,{open:t,onOpenChange:n,children:O.jsxs(Fv,{className:"sm:max-w-md",children:[O.jsxs(kv,{children:[O.jsx(Bv,{children:"Edit DataSource"}),O.jsx(jv,{children:"Update the connection settings for this datasource."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"edit-ds-name",children:"Name"}),O.jsx(Ti,{id:"edit-ds-name",value:s,onChange:B=>a(B.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[O.jsxs("div",{className:"col-span-2 grid gap-2",children:[O.jsx(_r,{htmlFor:"edit-ds-host",children:"Host"}),O.jsx(Ti,{id:"edit-ds-host",value:l,onChange:B=>f(B.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"edit-ds-port",children:"Port"}),O.jsx(Ti,{id:"edit-ds-port",type:"number",value:d,onChange:B=>g(B.target.value)})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"edit-ds-database",children:"Database"}),O.jsx(Ti,{id:"edit-ds-database",value:p,onChange:B=>m(B.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"edit-ds-username",children:"Username"}),O.jsx(Ti,{id:"edit-ds-username",value:x,onChange:B=>b(B.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"edit-ds-password",children:"Password"}),O.jsx(Ti,{id:"edit-ds-password",type:"password",placeholder:"Leave blank to keep current",value:A,onChange:B=>C(B.target.value)})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(RR,{id:"edit-ds-ssl",checked:w,onCheckedChange:R}),O.jsx(_r,{htmlFor:"edit-ds-ssl",children:"Enable SSL"})]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx(er,{variant:"outline",onClick:V,disabled:N,children:N?"Testing...":"Test Connection"}),O.jsx(er,{onClick:k,disabled:D||!s||!l||!p||!x,children:D?"Saving...":"Save Changes"})]})]})})}function BX({data:e}){var k,V;const t=Dv(),[n,r]=M.useState(!1),[s,a]=M.useState(null),[l,f]=M.useState(null),[d,g]=M.useState({}),p=Bb({mutationFn:async B=>await mX(B),onSuccess:()=>{t.invalidateQueries({queryKey:["datasources"]}),zn.success("DataSource deleted")},onError:()=>{zn.error("Failed to delete datasource")}}),m=async B=>{f(B),g(H=>({...H,[B]:null}));try{const H=await yS(B);g(te=>({...te,[B]:H.success})),H.success?zn.success("Connection successful"):zn.error(`Connection failed: ${H.error}`)}catch{g(H=>({...H,[B]:!1})),zn.error("Failed to test connection")}finally{f(null)}},x=[{accessorKey:"name",header:"Name",cell:({row:B})=>O.jsx("div",{className:"font-medium",children:B.getValue("name")})},{id:"connection",header:"Connection",cell:({row:B})=>{const H=B.original;return O.jsxs("div",{className:"text-sm text-muted-foreground",children:[H.host,":",H.port,"/",H.database]})}},{accessorKey:"username",header:"User",cell:({row:B})=>O.jsx("div",{className:"text-sm",children:B.getValue("username")})},{id:"ssl",header:"SSL",cell:({row:B})=>B.original.sslEnabled?O.jsx(FX,{variant:"secondary",children:"SSL"}):null},{id:"status",header:"Status",cell:({row:B})=>{const H=B.original.id,te=d[H];return l===H?O.jsx(j3,{className:"h-4 w-4 animate-spin text-muted-foreground"}):te===!0?O.jsx(y5,{className:"h-4 w-4 text-green-500"}):te===!1?O.jsx(b5,{className:"h-4 w-4 text-red-500"}):O.jsx("span",{className:"text-sm text-muted-foreground",children:""})}},{accessorKey:"createdAt",header:()=>O.jsx("div",{className:"text-right",children:"Created"}),cell:({row:B})=>{const H=B.getValue("createdAt"),te=xP(new Date(H),{includeSeconds:!0,addSuffix:!0});return O.jsx("div",{className:"text-right text-sm",children:te})}},{id:"actions",enableHiding:!1,cell:({row:B})=>{const H=B.original;return O.jsxs(wa,{children:[O.jsx(Ra,{asChild:!0,children:O.jsxs(er,{variant:"ghost",className:"h-8 w-8 p-0",children:[O.jsx("span",{className:"sr-only",children:"Open menu"}),O.jsx(k3,{})]})}),O.jsxs(Ta,{align:"end",children:[O.jsxs(yr,{onClick:te=>{te.stopPropagation(),m(H.id)},children:[O.jsx(_5,{className:"mr-2 h-4 w-4"}),"Test Connection"]}),O.jsxs(yr,{onClick:te=>{te.stopPropagation(),a(H)},children:[O.jsx(z3,{className:"mr-2 h-4 w-4"}),"Edit"]}),O.jsx(L2,{}),O.jsxs(yr,{className:"text-red-500 focus:text-red-500",onClick:te=>{te.stopPropagation(),p.mutate(H.id)},children:[O.jsx(U3,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}],[b,A]=M.useState([]),[C,w]=M.useState([]),[R,N]=M.useState({}),[I,D]=M.useState({}),F=yP({data:e,columns:x,onSortingChange:A,onColumnFiltersChange:w,getCoreRowModel:pP(),getPaginationRowModel:mP(),getSortedRowModel:vP(),getFilteredRowModel:gP(),onColumnVisibilityChange:N,onRowSelectionChange:D,state:{sorting:b,columnFilters:C,columnVisibility:R,rowSelection:I}});return O.jsxs("div",{className:"w-full",children:[O.jsxs("div",{className:"flex items-center justify-between py-4",children:[O.jsx(Ti,{placeholder:"Filter by name...",value:((k=F.getColumn("name"))==null?void 0:k.getFilterValue())??"",onChange:B=>{var H;return(H=F.getColumn("name"))==null?void 0:H.setFilterValue(B.target.value)},className:"max-w-sm"}),O.jsxs(er,{onClick:()=>r(!0),className:"flex items-center gap-2",children:[O.jsx(V3,{className:"w-4 h-4"}),"New DataSource"]})]}),O.jsx("div",{className:"rounded-md border",children:O.jsxs(lL,{children:[O.jsx(uL,{children:F.getHeaderGroups().map(B=>O.jsx(Wp,{children:B.headers.map(H=>O.jsx(fL,{children:H.isPlaceholder?null:eS(H.column.columnDef.header,H.getContext())},H.id))},B.id))}),O.jsx(cL,{children:(V=F.getRowModel().rows)!=null&&V.length?F.getRowModel().rows.map(B=>O.jsx(Wp,{"data-state":B.getIsSelected()&&"selected",children:B.getVisibleCells().map(H=>O.jsx(lS,{children:eS(H.column.columnDef.cell,H.getContext())},H.id))},B.id)):O.jsx(Wp,{children:O.jsx(lS,{colSpan:x.length,className:"h-24 text-center",children:"No datasources yet. Create one to get started."})})})]})}),O.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[O.jsx("div",{className:"flex-1"}),O.jsxs("div",{className:"space-x-2",children:[O.jsx(er,{variant:"outline",size:"sm",onClick:()=>F.previousPage(),disabled:!F.getCanPreviousPage(),children:"Previous"}),O.jsx(er,{variant:"outline",size:"sm",onClick:()=>F.nextPage(),disabled:!F.getCanNextPage(),children:"Next"})]})]}),O.jsx(dB,{open:n,onOpenChange:r,onCreated:()=>{r(!1),t.invalidateQueries({queryKey:["datasources"]})}}),O.jsx(kX,{datasource:s,open:s!==null,onOpenChange:B=>{B||a(null)},onSaved:()=>{a(null),t.invalidateQueries({queryKey:["datasources"]})}})]})}function jX(){const{data:e=[],isLoading:t,isError:n}=Fa({queryKey:["datasources"],queryFn:Bw});return t?O.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:O.jsx("p",{className:"text-gray-500 text-lg",children:"Loading datasources..."})}):n?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[O.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load datasources."}),O.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):O.jsx("div",{className:"p-4",children:O.jsx(BX,{data:e})})}function zX({resolved:e}){const t=e.role==="viewer",{doc:n}=Pa.useDocument();if(!n)return O.jsx(_u,{});const r=n.getRoot(),s=r.tabOrder&&r.tabOrder.length>0?r.tabOrder[0]:"tab-1";return O.jsxs("div",{className:"flex h-screen w-full flex-col",children:[O.jsxs("header",{className:"flex h-14 shrink-0 items-center gap-2 border-b px-4",children:[O.jsx("h1",{className:"text-base font-medium",children:e.title}),t&&O.jsx("span",{className:"rounded bg-muted px-2 py-0.5 text-xs text-muted-foreground",children:"View only"})]}),O.jsx("div",{className:"flex flex-1 flex-col",children:O.jsx(Bk,{tabId:s,readOnly:t})})]})}function VX({resolved:e}){const{data:t}=Fa({queryKey:["me"],queryFn:hh,retry:!1}),n={username:(t==null?void 0:t.username)||"Anonymous",email:(t==null?void 0:t.email)||"",photo:(t==null?void 0:t.photo)||""};return O.jsx(Pa.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:n.username},children:O.jsx(Pa.DocumentProvider,{docKey:`sheet-${e.documentId}`,initialRoot:hB,initialPresence:n,children:O.jsx(zX,{resolved:e})})})}function UX(){const{token:e}=d3(),[t,n]=M.useState(null),[r,s]=M.useState(null),[a,l]=M.useState(!0);return M.useEffect(()=>{if(!e){s("No share token provided"),l(!1);return}AH(e).then(f=>{n(f),l(!1)}).catch(f=>{s(f.message||"Invalid or expired link"),l(!1)})},[e]),a?O.jsx(_u,{}):r||!t?O.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:O.jsxs("div",{className:"text-center",children:[O.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Link unavailable"}),O.jsx("p",{className:"text-muted-foreground",children:r||"Invalid or expired link"})]})}):O.jsx(VX,{resolved:t})}function GX(){const{theme:e,setTheme:t}=M.useContext(vR),n=()=>{t(e==="dark"?"light":"dark")};return O.jsx("div",{className:"max-w-2xl mx-auto p-6",children:O.jsxs("div",{className:"flex items-center justify-between p-4",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"theme-switch",className:"text-sm font-medium",children:"Theme"}),O.jsx("p",{className:"text-xs text-gray-500",children:"Toggle between light and dark themes."})]}),O.jsx("div",{className:"ml-4",children:O.jsx("div",{className:"flex items-center space-x-2",children:O.jsx(RR,{id:"theme-switch",checked:e==="dark",onCheckedChange:n})})})]})})}const $X=()=>{const{data:e,isLoading:t}=Fa({queryKey:["me"],queryFn:hh,retry:!1});return t?O.jsx(_u,{}):e?O.jsx(Pa.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:e.username||"anonymous-user"},children:O.jsx(Hw,{})}):O.jsx(g3,{to:"/login"})},HX=()=>{const{data:e,isLoading:t}=Fa({queryKey:["me"],queryFn:hh,retry:!1});return t?O.jsx(_u,{}):e?O.jsx(g3,{to:"/"}):O.jsx(Hw,{})},PC={main:[{title:"Documents",url:"/",icon:ML},{title:"Data Sources",url:"/datasources",icon:$v}],secondary:[{title:"Settings",url:"/settings",icon:kL}]};function YX(){var n,r;const e=La();let t="";return e.pathname==="/"?t="Documents":e.pathname==="/datasources"?t="Data Sources":e.pathname==="/settings"?t="Settings":e.pathname.match(/^\/\d+$/)?t="Spreadsheet":t=((n=PC.secondary.find(s=>s.url===e.pathname))==null?void 0:n.title)||((r=PC.main.find(s=>e.pathname.startsWith(s.url)))==null?void 0:r.title)||"",O.jsxs(AL,{children:[O.jsx(HL,{variant:"inset",items:PC}),O.jsxs(CL,{children:[O.jsx(YL,{title:t}),O.jsx("div",{className:"flex flex-1 flex-col",children:O.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:O.jsx("div",{className:"flex flex-col h-full",children:O.jsx(Hw,{})})})})]})]})}function WX(){return O.jsxs(Aq,{defaultTheme:"system",storageKey:"vite-ui-theme",children:[O.jsx(Ez,{client:new vz,children:O.jsx(Yj,{basename:"/",children:O.jsxs(Aj,{children:[O.jsx(ba,{element:O.jsx(HX,{}),children:O.jsx(ba,{path:"/login",element:O.jsx(xV,{})})}),O.jsx(ba,{path:"/shared/:token",element:O.jsx(UX,{})}),O.jsxs(ba,{element:O.jsx($X,{}),children:[O.jsxs(ba,{element:O.jsx(YX,{}),children:[O.jsx(ba,{path:"/",element:O.jsx(m$,{})}),O.jsx(ba,{path:"/datasources",element:O.jsx(jX,{})}),O.jsx(ba,{path:"/settings",element:O.jsx(GX,{})})]}),O.jsx(ba,{path:"/:id",element:O.jsx(MX,{})})]})]})})}),O.jsx(s5,{})]})}OB.createRoot(document.getElementById("root")).render(O.jsx(M.StrictMode,{children:O.jsx(WX,{})}));
