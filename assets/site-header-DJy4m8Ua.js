import{u as V,T as G,a as W,b as q,d as U,c as C,e as X,S as Q}from"./IconDotsVertical-C5xc1ZKb.js";import{h as Y,j as e,r as i,v as J,L as A,w as Z,b as ee,f as ae}from"./index-Bie0VipB.js";import{c as te,u as y}from"./index-DlkqMAAT.js";import{P as I,u as se,D as re,a as ne,b as oe,d as ie,e as de,c as le}from"./dropdown-menu-BJZdBlRO.js";import{c as l,S as ce}from"./index-SEO6jdP2.js";import{G as ue}from"./grid-2x2-plus-Cb9AHnan.js";import{c as fe}from"./index-DYQlhu0X.js";import{B as he}from"./button-BSsGKOXA.js";import{R as me,C as xe,a as pe,X as ge,T as be,D as ve,P as je,O as we}from"./index-DYcP6up6.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Se=Y("panel-left",Ne);function ye({...a}){return e.jsx(me,{"data-slot":"sheet",...a})}function Ce({...a}){return e.jsx(je,{"data-slot":"sheet-portal",...a})}function Ae({className:a,...t}){return e.jsx(we,{"data-slot":"sheet-overlay",className:l("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function Ie({className:a,children:t,side:s="right",...r}){return e.jsxs(Ce,{children:[e.jsx(Ae,{}),e.jsxs(xe,{"data-slot":"sheet-content",className:l("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",a),...r,children:[t,e.jsxs(pe,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(ge,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Me({className:a,...t}){return e.jsx("div",{"data-slot":"sheet-header",className:l("flex flex-col gap-1.5 p-4",a),...t})}function Ee({className:a,...t}){return e.jsx(be,{"data-slot":"sheet-title",className:l("text-foreground font-semibold",a),...t})}function ke({className:a,...t}){return e.jsx(ve,{"data-slot":"sheet-description",className:l("text-muted-foreground text-sm",a),...t})}const _e="sidebar_state",Le=60*60*24*7,De="16rem",Re="18rem",Te="3rem",ze="b",R=i.createContext(null);function v(){const a=i.useContext(R);if(!a)throw new Error("useSidebar must be used within a SidebarProvider.");return a}function ca({defaultOpen:a=!0,open:t,onOpenChange:s,className:r,style:n,children:o,...h}){const d=V(),[c,u]=i.useState(!1),[f,S]=i.useState(a),p=t??f,g=i.useCallback(m=>{const x=typeof m=="function"?m(p):m;s?s(x):S(x),document.cookie=`${_e}=${x}; path=/; max-age=${Le}`},[s,p]),b=i.useCallback(()=>d?u(m=>!m):g(m=>!m),[d,g,u]);i.useEffect(()=>{const m=x=>{x.defaultPrevented||x.key===ze&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),b())};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[b]);const E=p?"expanded":"collapsed",$=i.useMemo(()=>({state:E,open:p,setOpen:g,isMobile:d,openMobile:c,setOpenMobile:u,toggleSidebar:b}),[E,p,g,d,c,u,b]);return e.jsx(R.Provider,{value:$,children:e.jsx(G,{delayDuration:0,children:e.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":De,"--sidebar-width-icon":Te,...n},className:l("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...h,children:o})})})}function Oe({side:a="left",variant:t="sidebar",collapsible:s="offcanvas",className:r,children:n,...o}){const{isMobile:h,state:d,openMobile:c,setOpenMobile:u}=v();return s==="none"?e.jsx("div",{"data-slot":"sidebar",className:l("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...o,children:n}):h?e.jsx(ye,{open:c,onOpenChange:u,...o,children:e.jsxs(Ie,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Re},side:a,children:[e.jsxs(Me,{className:"sr-only",children:[e.jsx(Ee,{children:"Sidebar"}),e.jsx(ke,{children:"Displays the mobile sidebar."})]}),e.jsx("div",{className:"flex h-full w-full flex-col",children:n})]})}):e.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":d,"data-collapsible":d==="collapsed"?s:"","data-variant":t,"data-side":a,"data-slot":"sidebar",children:[e.jsx("div",{"data-slot":"sidebar-gap",className:l("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),e.jsx("div",{"data-slot":"sidebar-container",className:l("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",a==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:e.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:n})})]})}function Be({className:a,onClick:t,...s}){const{toggleSidebar:r}=v();return e.jsxs(he,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:l("size-7",a),onClick:n=>{t==null||t(n),r()},...s,children:[e.jsx(Se,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function ua({className:a,...t}){return e.jsx("main",{"data-slot":"sidebar-inset",className:l("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",a),...t})}function Pe({className:a,...t}){return e.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:l("flex flex-col gap-2 p-2",a),...t})}function Fe({className:a,...t}){return e.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:l("flex flex-col gap-2 p-2",a),...t})}function He({className:a,...t}){return e.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:l("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",a),...t})}function T({className:a,...t}){return e.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:l("relative flex w-full min-w-0 flex-col p-2",a),...t})}function z({className:a,...t}){return e.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:l("w-full text-sm",a),...t})}function j({className:a,...t}){return e.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:l("flex w-full min-w-0 flex-col gap-1",a),...t})}function w({className:a,...t}){return e.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:l("group/menu-item relative",a),...t})}const Ke=fe("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function N({asChild:a=!1,isActive:t=!1,variant:s="default",size:r="default",tooltip:n,className:o,...h}){const d=a?ce:"button",{isMobile:c,state:u}=v(),f=e.jsx(d,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:l(Ke({variant:s,size:r}),o),...h});return n?(typeof n=="string"&&(n={children:n}),e.jsxs(W,{children:[e.jsx(q,{asChild:!0,children:f}),e.jsx(U,{side:"right",align:"center",hidden:u!=="collapsed"||c,...n})]})):f}function $e({items:a}){const t=J(),s=i.useCallback(r=>{const n=t.pathname;return n===r||n.startsWith(r+"/")},[t.pathname]);return e.jsx(T,{children:e.jsx(z,{className:"flex flex-col gap-2",children:e.jsx(j,{children:a.map(r=>e.jsx(w,{children:e.jsx(N,{tooltip:r.title,isActive:s(r.url),children:e.jsxs(A,{to:r.url,className:"flex items-center gap-2",children:[r.icon&&e.jsx(r.icon,{}),e.jsx("span",{children:r.title})]})})},r.title))})})})}function Ve({items:a,...t}){return e.jsx(T,{...t,children:e.jsx(z,{children:e.jsx(j,{children:a.map(s=>e.jsx(w,{children:e.jsx(N,{asChild:!0,children:e.jsxs(A,{to:s.url,className:"flex items-center gap-2",children:[s.icon&&e.jsx(s.icon,{}),e.jsx("span",{children:s.title})]})})},s.title))})})})}/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fa=C("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ge=C("outline","logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ha=C("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),M="Avatar",[We,ma]=te(M),[qe,O]=We(M),B=i.forwardRef((a,t)=>{const{__scopeAvatar:s,...r}=a,[n,o]=i.useState("idle");return e.jsx(qe,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:e.jsx(I.span,{...r,ref:t})})});B.displayName=M;var P="AvatarImage",F=i.forwardRef((a,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:n=()=>{},...o}=a,h=O(P,s),d=Ue(r,o),c=se(u=>{n(u),h.onImageLoadingStatusChange(u)});return y(()=>{d!=="idle"&&c(d)},[d,c]),d==="loaded"?e.jsx(I.img,{...o,ref:t,src:r}):null});F.displayName=P;var H="AvatarFallback",K=i.forwardRef((a,t)=>{const{__scopeAvatar:s,delayMs:r,...n}=a,o=O(H,s),[h,d]=i.useState(r===void 0);return i.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(c)}},[r]),h&&o.imageLoadingStatus!=="loaded"?e.jsx(I.span,{...n,ref:t}):null});K.displayName=H;function k(a,t){return a?t?(a.src!==t&&(a.src=t),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ue(a,{referrerPolicy:t,crossOrigin:s}){const r=Qe(),n=i.useRef(null),o=r?(n.current||(n.current=new window.Image),n.current):null,[h,d]=i.useState(()=>k(o,a));return y(()=>{d(k(o,a))},[o,a]),y(()=>{const c=S=>()=>{d(S)};if(!o)return;const u=c("loaded"),f=c("error");return o.addEventListener("load",u),o.addEventListener("error",f),t&&(o.referrerPolicy=t),typeof s=="string"&&(o.crossOrigin=s),()=>{o.removeEventListener("load",u),o.removeEventListener("error",f)}},[o,s,t]),h}function Xe(){return()=>{}}function Qe(){return i.useSyncExternalStore(Xe,()=>!0,()=>!1)}var Ye=B,Je=F,Ze=K;function _({className:a,...t}){return e.jsx(Ye,{"data-slot":"avatar",className:l("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...t})}function L({className:a,...t}){return e.jsx(Je,{"data-slot":"avatar-image",className:l("aspect-square size-full",a),...t})}function D({className:a,...t}){return e.jsx(Ze,{"data-slot":"avatar-fallback",className:l("bg-muted flex size-full items-center justify-center rounded-full",a),...t})}function ea({user:a}){const{isMobile:t}=v(),s=async()=>{await Z()};return e.jsx(j,{children:e.jsx(w,{children:e.jsxs(re,{children:[e.jsx(ne,{asChild:!0,children:e.jsxs(N,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground cursor-pointer",children:[e.jsxs(_,{className:"h-8 w-8 rounded-lg",children:[e.jsx(L,{src:a.photo,alt:a.username}),e.jsx(D,{className:"rounded-lg",children:"CN"})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-medium",children:a.username}),e.jsx("span",{className:"text-muted-foreground truncate text-xs",children:a.email})]}),e.jsx(X,{className:"ml-auto size-4"})]})}),e.jsxs(oe,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[e.jsx(ie,{className:"p-0 font-normal",children:e.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[e.jsxs(_,{className:"h-8 w-8 rounded-lg",children:[e.jsx(L,{src:a.photo,alt:a.username}),e.jsx(D,{className:"rounded-lg",children:"CN"})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-medium",children:a.username}),e.jsx("span",{className:"text-muted-foreground truncate text-xs",children:a.email})]})]})}),e.jsx(de,{}),e.jsxs(le,{onClick:s,className:"cursor-pointer",children:[e.jsx(Ge,{}),"Log out"]})]})]})})})}function xa({items:a,...t}){const{data:s,isLoading:r}=ee({queryKey:["me"],queryFn:ae,retry:!1});return r?null:e.jsxs(Oe,{collapsible:"offcanvas",...t,children:[e.jsx(Pe,{children:e.jsx(j,{children:e.jsx(w,{children:e.jsx(N,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5",children:e.jsxs(A,{to:"/",children:[e.jsx(ue,{className:"!size-5"}),e.jsx("span",{className:"text-base font-semibold",children:"Wafflebase"})]})})})})}),e.jsxs(He,{children:[e.jsx($e,{items:a.main}),e.jsx(Ve,{items:a.secondary,className:"mt-auto"})]}),e.jsx(Fe,{children:e.jsx(ea,{user:s})})]})}function pa({title:a,editable:t=!1,onRename:s,children:r}){const[n,o]=i.useState(!1),[h,d]=i.useState(a),c=i.useRef(null);i.useEffect(()=>{d(a)},[a]),i.useEffect(()=>{n&&c.current&&(c.current.focus(),c.current.select())},[n]);const u=i.useCallback(()=>{const f=h.trim();f&&f!==a&&s&&s(f),o(!1)},[h,a,s]);return e.jsx("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:e.jsxs("div",{className:"flex w-full items-center justify-between gap-1 px-4 lg:gap-2 lg:px-6 min-h-[3.5rem]",children:[e.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[e.jsx(Be,{className:"-ml-1"}),e.jsx(Q,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-4"}),n?e.jsx("input",{ref:c,className:"text-base font-medium bg-transparent border-b border-primary outline-none px-1 min-w-[120px]",value:h,onChange:f=>d(f.target.value),onBlur:u,onKeyDown:f=>{f.key==="Enter"&&u(),f.key==="Escape"&&(d(a),o(!1))}}):e.jsx("h1",{className:`text-base font-medium ${t?"cursor-pointer hover:bg-muted/50 px-1 rounded transition-colors":""}`,onClick:()=>{t&&o(!0)},title:t?"Click to rename":void 0,children:a})]}),e.jsx("div",{className:"flex items-center min-w-0",children:r})]})})}export{_ as A,ha as I,ca as S,L as a,D as b,xa as c,fa as d,ua as e,pa as f};
