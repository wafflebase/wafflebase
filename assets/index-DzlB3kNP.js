var dj=Object.defineProperty;var bT=e=>{throw TypeError(e)};var hj=(e,t,n)=>t in e?dj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Y=(e,t,n)=>hj(e,typeof t!="symbol"?t+"":t,n),NA=(e,t,n)=>t.has(e)||bT("Cannot "+n);var ge=(e,t,n)=>(NA(e,t,"read from private field"),n?n.call(e):t.get(e)),Et=(e,t,n)=>t.has(e)?bT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),at=(e,t,n,r)=>(NA(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),qt=(e,t,n)=>(NA(e,t,"access private method"),n);var Cb=(e,t,n,r)=>({set _(i){at(e,t,i,n)},get _(){return ge(e,t,r)}});function pj(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var q3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _A={exports:{}},O0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function gj(){if(ST)return O0;ST=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:s}}return O0.Fragment=t,O0.jsx=n,O0.jsxs=n,O0}var AT;function X3(){return AT||(AT=1,_A.exports=gj()),_A.exports}var I=X3(),IA={exports:{}},D0={},OA={exports:{}},DA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function mj(){return ET||(ET=1,function(e){function t(re,Ae){var de=re.length;re.push(Ae);e:for(;0<de;){var ue=de-1>>>1,K=re[ue];if(0<i(K,Ae))re[ue]=Ae,re[de]=K,de=ue;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var Ae=re[0],de=re.pop();if(de!==Ae){re[0]=de;e:for(var ue=0,K=re.length,oe=K>>>1;ue<oe;){var pe=2*(ue+1)-1,z=re[pe],U=pe+1,G=re[U];if(0>i(z,de))U<K&&0>i(G,z)?(re[ue]=G,re[U]=de,ue=U):(re[ue]=z,re[pe]=de,ue=pe);else if(U<K&&0>i(G,de))re[ue]=G,re[U]=de,ue=U;else break e}}return Ae}function i(re,Ae){var de=re.sortIndex-Ae.sortIndex;return de!==0?de:re.id-Ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],g=[],p=1,m=null,x=3,b=!1,E=!1,w=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(re){for(var Ae=n(g);Ae!==null;){if(Ae.callback===null)r(g);else if(Ae.startTime<=re)r(g),Ae.sortIndex=Ae.expirationTime,t(c,Ae);else break;Ae=n(g)}}function F(re){if(w=!1,D(re),!E)if(n(c)!==null)E=!0,B||(B=!0,ie());else{var Ae=n(g);Ae!==null&&Te(F,Ae.startTime-re)}}var B=!1,j=-1,k=5,$=-1;function Z(){return C?!0:!(e.unstable_now()-$<k)}function ne(){if(C=!1,B){var re=e.unstable_now();$=re;var Ae=!0;try{e:{E=!1,w&&(w=!1,T(j),j=-1),b=!0;var de=x;try{t:{for(D(re),m=n(c);m!==null&&!(m.expirationTime>re&&Z());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,x=m.priorityLevel;var K=ue(m.expirationTime<=re);if(re=e.unstable_now(),typeof K=="function"){m.callback=K,D(re),Ae=!0;break t}m===n(c)&&r(c),D(re)}else r(c);m=n(c)}if(m!==null)Ae=!0;else{var oe=n(g);oe!==null&&Te(F,oe.startTime-re),Ae=!1}}break e}finally{m=null,x=de,b=!1}Ae=void 0}}finally{Ae?ie():B=!1}}}var ie;if(typeof N=="function")ie=function(){N(ne)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,De=he.port2;he.port1.onmessage=ne,ie=function(){De.postMessage(null)}}else ie=function(){R(ne,0)};function Te(re,Ae){j=R(function(){re(e.unstable_now())},Ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(re){switch(x){case 1:case 2:case 3:var Ae=3;break;default:Ae=x}var de=x;x=Ae;try{return re()}finally{x=de}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(re,Ae){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var de=x;x=re;try{return Ae()}finally{x=de}},e.unstable_scheduleCallback=function(re,Ae,de){var ue=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ue+de:ue):de=ue,re){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=de+K,re={id:p++,callback:Ae,priorityLevel:re,startTime:de,expirationTime:K,sortIndex:-1},de>ue?(re.sortIndex=de,t(g,re),n(c)===null&&re===n(g)&&(w?(T(j),j=-1):w=!0,Te(F,de-ue))):(re.sortIndex=K,t(c,re),E||b||(E=!0,B||(B=!0,ie()))),re},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(re){var Ae=x;return function(){var de=x;x=Ae;try{return re.apply(this,arguments)}finally{x=de}}}}(DA)),DA}var CT;function vj(){return CT||(CT=1,OA.exports=mj()),OA.exports}var MA={exports:{}},$t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function yj(){if(wT)return $t;wT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(K){return K===null||typeof K!="object"?null:(K=m&&K[m]||K["@@iterator"],typeof K=="function"?K:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function C(K,oe,pe){this.props=K,this.context=oe,this.refs=w,this.updater=pe||b}C.prototype.isReactComponent={},C.prototype.setState=function(K,oe){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,oe,"setState")},C.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function R(){}R.prototype=C.prototype;function T(K,oe,pe){this.props=K,this.context=oe,this.refs=w,this.updater=pe||b}var N=T.prototype=new R;N.constructor=T,E(N,C.prototype),N.isPureReactComponent=!0;var D=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function j(K,oe,pe,z,U,G){return pe=G.ref,{$$typeof:e,type:K,key:oe,ref:pe!==void 0?pe:null,props:G}}function k(K,oe){return j(K.type,oe,void 0,void 0,void 0,K.props)}function $(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function Z(K){var oe={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(pe){return oe[pe]})}var ne=/\/+/g;function ie(K,oe){return typeof K=="object"&&K!==null&&K.key!=null?Z(""+K.key):oe.toString(36)}function he(){}function De(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(he,he):(K.status="pending",K.then(function(oe){K.status==="pending"&&(K.status="fulfilled",K.value=oe)},function(oe){K.status==="pending"&&(K.status="rejected",K.reason=oe)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function Te(K,oe,pe,z,U){var G=typeof K;(G==="undefined"||G==="boolean")&&(K=null);var W=!1;if(K===null)W=!0;else switch(G){case"bigint":case"string":case"number":W=!0;break;case"object":switch(K.$$typeof){case e:case t:W=!0;break;case p:return W=K._init,Te(W(K._payload),oe,pe,z,U)}}if(W)return U=U(K),W=z===""?"."+ie(K,0):z,D(U)?(pe="",W!=null&&(pe=W.replace(ne,"$&/")+"/"),Te(U,oe,pe,"",function(J){return J})):U!=null&&($(U)&&(U=k(U,pe+(U.key==null||K&&K.key===U.key?"":(""+U.key).replace(ne,"$&/")+"/")+W)),oe.push(U)),1;W=0;var Q=z===""?".":z+":";if(D(K))for(var X=0;X<K.length;X++)z=K[X],G=Q+ie(z,X),W+=Te(z,oe,pe,G,U);else if(X=x(K),typeof X=="function")for(K=X.call(K),X=0;!(z=K.next()).done;)z=z.value,G=Q+ie(z,X++),W+=Te(z,oe,pe,G,U);else if(G==="object"){if(typeof K.then=="function")return Te(De(K),oe,pe,z,U);throw oe=String(K),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return W}function re(K,oe,pe){if(K==null)return K;var z=[],U=0;return Te(K,z,"","",function(G){return oe.call(pe,G,U++)}),z}function Ae(K){if(K._status===-1){var oe=K._result;oe=oe(),oe.then(function(pe){(K._status===0||K._status===-1)&&(K._status=1,K._result=pe)},function(pe){(K._status===0||K._status===-1)&&(K._status=2,K._result=pe)}),K._status===-1&&(K._status=0,K._result=oe)}if(K._status===1)return K._result.default;throw K._result}var de=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function ue(){}return $t.Children={map:re,forEach:function(K,oe,pe){re(K,function(){oe.apply(this,arguments)},pe)},count:function(K){var oe=0;return re(K,function(){oe++}),oe},toArray:function(K){return re(K,function(oe){return oe})||[]},only:function(K){if(!$(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},$t.Component=C,$t.Fragment=n,$t.Profiler=i,$t.PureComponent=T,$t.StrictMode=r,$t.Suspense=c,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,$t.__COMPILER_RUNTIME={__proto__:null,c:function(K){return F.H.useMemoCache(K)}},$t.cache=function(K){return function(){return K.apply(null,arguments)}},$t.cloneElement=function(K,oe,pe){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var z=E({},K.props),U=K.key,G=void 0;if(oe!=null)for(W in oe.ref!==void 0&&(G=void 0),oe.key!==void 0&&(U=""+oe.key),oe)!B.call(oe,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&oe.ref===void 0||(z[W]=oe[W]);var W=arguments.length-2;if(W===1)z.children=pe;else if(1<W){for(var Q=Array(W),X=0;X<W;X++)Q[X]=arguments[X+2];z.children=Q}return j(K.type,U,void 0,void 0,G,z)},$t.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},$t.createElement=function(K,oe,pe){var z,U={},G=null;if(oe!=null)for(z in oe.key!==void 0&&(G=""+oe.key),oe)B.call(oe,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(U[z]=oe[z]);var W=arguments.length-2;if(W===1)U.children=pe;else if(1<W){for(var Q=Array(W),X=0;X<W;X++)Q[X]=arguments[X+2];U.children=Q}if(K&&K.defaultProps)for(z in W=K.defaultProps,W)U[z]===void 0&&(U[z]=W[z]);return j(K,G,void 0,void 0,null,U)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(K){return{$$typeof:u,render:K}},$t.isValidElement=$,$t.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:Ae}},$t.memo=function(K,oe){return{$$typeof:g,type:K,compare:oe===void 0?null:oe}},$t.startTransition=function(K){var oe=F.T,pe={};F.T=pe;try{var z=K(),U=F.S;U!==null&&U(pe,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(ue,de)}catch(G){de(G)}finally{F.T=oe}},$t.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},$t.use=function(K){return F.H.use(K)},$t.useActionState=function(K,oe,pe){return F.H.useActionState(K,oe,pe)},$t.useCallback=function(K,oe){return F.H.useCallback(K,oe)},$t.useContext=function(K){return F.H.useContext(K)},$t.useDebugValue=function(){},$t.useDeferredValue=function(K,oe){return F.H.useDeferredValue(K,oe)},$t.useEffect=function(K,oe,pe){var z=F.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(K,oe)},$t.useId=function(){return F.H.useId()},$t.useImperativeHandle=function(K,oe,pe){return F.H.useImperativeHandle(K,oe,pe)},$t.useInsertionEffect=function(K,oe){return F.H.useInsertionEffect(K,oe)},$t.useLayoutEffect=function(K,oe){return F.H.useLayoutEffect(K,oe)},$t.useMemo=function(K,oe){return F.H.useMemo(K,oe)},$t.useOptimistic=function(K,oe){return F.H.useOptimistic(K,oe)},$t.useReducer=function(K,oe,pe){return F.H.useReducer(K,oe,pe)},$t.useRef=function(K){return F.H.useRef(K)},$t.useState=function(K){return F.H.useState(K)},$t.useSyncExternalStore=function(K,oe,pe){return F.H.useSyncExternalStore(K,oe,pe)},$t.useTransition=function(){return F.H.useTransition()},$t.version="19.1.0",$t}var RT;function FS(){return RT||(RT=1,MA.exports=yj()),MA.exports}var PA={exports:{}},pi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function xj(){if(TT)return pi;TT=1;var e=FS();function t(c){var g="https://react.dev/errors/"+c;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,g,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:g,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,g){if(c==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pi.createPortal=function(c,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return s(c,g,null,p)},pi.flushSync=function(c){var g=l.T,p=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=g,r.p=p,r.d.f()}},pi.preconnect=function(c,g){typeof c=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(c,g))},pi.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},pi.preinit=function(c,g){if(typeof c=="string"&&g&&typeof g.as=="string"){var p=g.as,m=u(p,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?r.d.S(c,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:b}):p==="script"&&r.d.X(c,{crossOrigin:m,integrity:x,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pi.preinitModule=function(c,g){if(typeof c=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=u(g.as,g.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(c)},pi.preload=function(c,g){if(typeof c=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,m=u(p,g.crossOrigin);r.d.L(c,p,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pi.preloadModule=function(c,g){if(typeof c=="string")if(g){var p=u(g.as,g.crossOrigin);r.d.m(c,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(c)},pi.requestFormReset=function(c){r.d.r(c)},pi.unstable_batchedUpdates=function(c,g){return c(g)},pi.useFormState=function(c,g,p){return l.H.useFormState(c,g,p)},pi.useFormStatus=function(){return l.H.useHostTransitionStatus()},pi.version="19.1.0",pi}var NT;function Z3(){if(NT)return PA.exports;NT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),PA.exports=xj(),PA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function bj(){if(_T)return D0;_T=1;var e=vj(),t=FS(),n=Z3();function r(a){var d="https://react.dev/errors/"+a;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+a+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var d=a,y=a;if(a.alternate)for(;d.return;)d=d.return;else{a=d;do d=a,(d.flags&4098)!==0&&(y=d.return),a=d.return;while(a)}return d.tag===3?y:null}function l(a){if(a.tag===13){var d=a.memoizedState;if(d===null&&(a=a.alternate,a!==null&&(d=a.memoizedState)),d!==null)return d.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(r(188))}function c(a){var d=a.alternate;if(!d){if(d=s(a),d===null)throw Error(r(188));return d!==a?null:a}for(var y=a,S=d;;){var _=y.return;if(_===null)break;var M=_.alternate;if(M===null){if(S=_.return,S!==null){y=S;continue}break}if(_.child===M.child){for(M=_.child;M;){if(M===y)return u(_),a;if(M===S)return u(_),d;M=M.sibling}throw Error(r(188))}if(y.return!==S.return)y=_,S=M;else{for(var H=!1,ee=_.child;ee;){if(ee===y){H=!0,y=_,S=M;break}if(ee===S){H=!0,S=_,y=M;break}ee=ee.sibling}if(!H){for(ee=M.child;ee;){if(ee===y){H=!0,y=M,S=_;break}if(ee===S){H=!0,S=M,y=_;break}ee=ee.sibling}if(!H)throw Error(r(189))}}if(y.alternate!==S)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?a:d}function g(a){var d=a.tag;if(d===5||d===26||d===27||d===6)return a;for(a=a.child;a!==null;){if(d=g(a),d!==null)return d;a=a.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function ie(a){return a===null||typeof a!="object"?null:(a=ne&&a[ne]||a["@@iterator"],typeof a=="function"?a:null)}var he=Symbol.for("react.client.reference");function De(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===he?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case B:return"SuspenseList";case $:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case N:return(a.displayName||"Context")+".Provider";case T:return(a._context.displayName||"Context")+".Consumer";case D:var d=a.render;return a=a.displayName,a||(a=d.displayName||d.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return d=a.displayName||null,d!==null?d:De(a.type)||"Memo";case k:d=a._payload,a=a._init;try{return De(a(d))}catch{}}return null}var Te=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ue=[],K=-1;function oe(a){return{current:a}}function pe(a){0>K||(a.current=ue[K],ue[K]=null,K--)}function z(a,d){K++,ue[K]=a.current,a.current=d}var U=oe(null),G=oe(null),W=oe(null),Q=oe(null);function X(a,d){switch(z(W,d),z(G,a),z(U,null),d.nodeType){case 9:case 11:a=(a=d.documentElement)&&(a=a.namespaceURI)?ob(a):0;break;default:if(a=d.tagName,d=d.namespaceURI)d=ob(d),a=hA(d,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}pe(U),z(U,a)}function J(){pe(U),pe(G),pe(W)}function se(a){a.memoizedState!==null&&z(Q,a);var d=U.current,y=hA(d,a.type);d!==y&&(z(G,a),z(U,y))}function xe(a){G.current===a&&(pe(U),pe(G)),Q.current===a&&(pe(Q),Cc._currentValue=de)}var be=Object.prototype.hasOwnProperty,ae=e.unstable_scheduleCallback,le=e.unstable_cancelCallback,Ce=e.unstable_shouldYield,Oe=e.unstable_requestPaint,je=e.unstable_now,Ue=e.unstable_getCurrentPriorityLevel,ve=e.unstable_ImmediatePriority,Pe=e.unstable_UserBlockingPriority,Ze=e.unstable_NormalPriority,pt=e.unstable_LowPriority,gt=e.unstable_IdlePriority,me=e.log,_e=e.unstable_setDisableYieldValue,qe=null,Ye=null;function tt(a){if(typeof me=="function"&&_e(a),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(qe,a)}catch{}}var lt=Math.clz32?Math.clz32:Ot,xt=Math.log,Tt=Math.LN2;function Ot(a){return a>>>=0,a===0?32:31-(xt(a)/Tt|0)|0}var un=256,ke=4194304;function rt(a){var d=a&42;if(d!==0)return d;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function mt(a,d,y){var S=a.pendingLanes;if(S===0)return 0;var _=0,M=a.suspendedLanes,H=a.pingedLanes;a=a.warmLanes;var ee=S&134217727;return ee!==0?(S=ee&~M,S!==0?_=rt(S):(H&=ee,H!==0?_=rt(H):y||(y=ee&~a,y!==0&&(_=rt(y))))):(ee=S&~M,ee!==0?_=rt(ee):H!==0?_=rt(H):y||(y=S&~a,y!==0&&(_=rt(y)))),_===0?0:d!==0&&d!==_&&(d&M)===0&&(M=_&-_,y=d&-d,M>=y||M===32&&(y&4194048)!==0)?d:_}function At(a,d){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&d)===0}function Mt(a,d){switch(a){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bn(){var a=un;return un<<=1,(un&4194048)===0&&(un=256),a}function zn(){var a=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),a}function Kn(a){for(var d=[],y=0;31>y;y++)d.push(a);return d}function cn(a,d){a.pendingLanes|=d,d!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function tr(a,d,y,S,_,M){var H=a.pendingLanes;a.pendingLanes=y,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=y,a.entangledLanes&=y,a.errorRecoveryDisabledLanes&=y,a.shellSuspendCounter=0;var ee=a.entanglements,fe=a.expirationTimes,Me=a.hiddenUpdates;for(y=H&~y;0<y;){var ze=31-lt(y),He=1<<ze;ee[ze]=0,fe[ze]=-1;var Le=Me[ze];if(Le!==null)for(Me[ze]=null,ze=0;ze<Le.length;ze++){var Fe=Le[ze];Fe!==null&&(Fe.lane&=-536870913)}y&=~He}S!==0&&it(a,S,0),M!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=M&~(H&~d))}function it(a,d,y){a.pendingLanes|=d,a.suspendedLanes&=~d;var S=31-lt(d);a.entangledLanes|=d,a.entanglements[S]=a.entanglements[S]|1073741824|y&4194090}function fn(a,d){var y=a.entangledLanes|=d;for(a=a.entanglements;y;){var S=31-lt(y),_=1<<S;_&d|a[S]&d&&(a[S]|=d),y&=~_}}function tn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function sn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function vr(){var a=Ae.p;return a!==0?a:(a=window.event,a===void 0?32:pT(a.type))}function Xt(a,d){var y=Ae.p;try{return Ae.p=a,d()}finally{Ae.p=y}}var jt=Math.random().toString(36).slice(2),dn="__reactFiber$"+jt,Ft="__reactProps$"+jt,Rn="__reactContainer$"+jt,Di="__reactEvents$"+jt,Sr="__reactListeners$"+jt,yi="__reactHandles$"+jt,Jo="__reactResources$"+jt,Qi="__reactMarker$"+jt;function Vg(a){delete a[dn],delete a[Ft],delete a[Di],delete a[Sr],delete a[yi]}function $s(a){var d=a[dn];if(d)return d;for(var y=a.parentNode;y;){if(d=y[Rn]||y[dn]){if(y=d.alternate,d.child!==null||y!==null&&y.child!==null)for(a=fb(a);a!==null;){if(y=a[dn])return y;a=fb(a)}return d}a=y,y=a.parentNode}return null}function Qo(a){if(a=a[dn]||a[Rn]){var d=a.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return a}return null}function ku(a){var d=a.tag;if(d===5||d===26||d===27||d===6)return a.stateNode;throw Error(r(33))}function Hs(a){var d=a[Jo];return d||(d=a[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function sr(a){a[Qi]=!0}var Gg=new Set,$g={};function Ws(a,d){Ha(a,d),Ha(a+"Capture",d)}function Ha(a,d){for($g[a]=d,a=0;a<d.length;a++)Gg.add(d[a])}var Hg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yy={},pf={};function xy(a){return be.call(pf,a)?!0:be.call(yy,a)?!1:Hg.test(a)?pf[a]=!0:(yy[a]=!0,!1)}function es(a,d,y){if(xy(d))if(y===null)a.removeAttribute(d);else{switch(typeof y){case"undefined":case"function":case"symbol":a.removeAttribute(d);return;case"boolean":var S=d.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){a.removeAttribute(d);return}}a.setAttribute(d,""+y)}}function gf(a,d,y){if(y===null)a.removeAttribute(d);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttribute(d,""+y)}}function ts(a,d,y,S){if(S===null)a.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(y);return}a.setAttributeNS(d,y,""+S)}}var Wa,by;function So(a){if(Wa===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);Wa=d&&d[1]||"",by=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wa+a+by}var mf=!1;function Wg(a,d){if(!a||mf)return"";mf=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(d){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Fe){var Le=Fe}Reflect.construct(a,[],He)}else{try{He.call()}catch(Fe){Le=Fe}a.call(He.prototype)}}else{try{throw Error()}catch(Fe){Le=Fe}(He=a())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Fe){if(Fe&&Le&&typeof Fe.stack=="string")return[Fe.stack,Le.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=S.DetermineComponentFrameRoot(),H=M[0],ee=M[1];if(H&&ee){var fe=H.split(`
`),Me=ee.split(`
`);for(_=S=0;S<fe.length&&!fe[S].includes("DetermineComponentFrameRoot");)S++;for(;_<Me.length&&!Me[_].includes("DetermineComponentFrameRoot");)_++;if(S===fe.length||_===Me.length)for(S=fe.length-1,_=Me.length-1;1<=S&&0<=_&&fe[S]!==Me[_];)_--;for(;1<=S&&0<=_;S--,_--)if(fe[S]!==Me[_]){if(S!==1||_!==1)do if(S--,_--,0>_||fe[S]!==Me[_]){var ze=`
`+fe[S].replace(" at new "," at ");return a.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",a.displayName)),ze}while(1<=S&&0<=_);break}}}finally{mf=!1,Error.prepareStackTrace=y}return(y=a?a.displayName||a.name:"")?So(y):""}function N1(a){switch(a.tag){case 26:case 27:case 5:return So(a.type);case 16:return So("Lazy");case 13:return So("Suspense");case 19:return So("SuspenseList");case 0:case 15:return Wg(a.type,!1);case 11:return Wg(a.type.render,!1);case 1:return Wg(a.type,!0);case 31:return So("Activity");default:return""}}function Sy(a){try{var d="";do d+=N1(a),a=a.return;while(a);return d}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function ni(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Yg(a){var d=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function _1(a){var d=Yg(a)?"checked":"value",y=Object.getOwnPropertyDescriptor(a.constructor.prototype,d),S=""+a[d];if(!a.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var _=y.get,M=y.set;return Object.defineProperty(a,d,{configurable:!0,get:function(){return _.call(this)},set:function(H){S=""+H,M.call(this,H)}}),Object.defineProperty(a,d,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(H){S=""+H},stopTracking:function(){a._valueTracker=null,delete a[d]}}}}function Oh(a){a._valueTracker||(a._valueTracker=_1(a))}function Ay(a){if(!a)return!1;var d=a._valueTracker;if(!d)return!0;var y=d.getValue(),S="";return a&&(S=Yg(a)?a.checked?"true":"false":a.value),a=S,a!==y?(d.setValue(a),!0):!1}function Dh(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var vf=/[\n"\\]/g;function jr(a){return a.replace(vf,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function qg(a,d,y,S,_,M,H,ee){a.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.type=H:a.removeAttribute("type"),d!=null?H==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+ni(d)):a.value!==""+ni(d)&&(a.value=""+ni(d)):H!=="submit"&&H!=="reset"||a.removeAttribute("value"),d!=null?yf(a,H,ni(d)):y!=null?yf(a,H,ni(y)):S!=null&&a.removeAttribute("value"),_==null&&M!=null&&(a.defaultChecked=!!M),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?a.name=""+ni(ee):a.removeAttribute("name")}function Kg(a,d,y,S,_,M,H,ee){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(a.type=M),d!=null||y!=null){if(!(M!=="submit"&&M!=="reset"||d!=null))return;y=y!=null?""+ni(y):"",d=d!=null?""+ni(d):y,ee||d===a.value||(a.value=d),a.defaultValue=d}S=S??_,S=typeof S!="function"&&typeof S!="symbol"&&!!S,a.checked=ee?a.checked:!!S,a.defaultChecked=!!S,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(a.name=H)}function yf(a,d,y){d==="number"&&Dh(a.ownerDocument)===a||a.defaultValue===""+y||(a.defaultValue=""+y)}function Bu(a,d,y,S){if(a=a.options,d){d={};for(var _=0;_<y.length;_++)d["$"+y[_]]=!0;for(y=0;y<a.length;y++)_=d.hasOwnProperty("$"+a[y].value),a[y].selected!==_&&(a[y].selected=_),_&&S&&(a[y].defaultSelected=!0)}else{for(y=""+ni(y),d=null,_=0;_<a.length;_++){if(a[_].value===y){a[_].selected=!0,S&&(a[_].defaultSelected=!0);return}d!==null||a[_].disabled||(d=a[_])}d!==null&&(d.selected=!0)}}function Xg(a,d,y){if(d!=null&&(d=""+ni(d),d!==a.value&&(a.value=d),y==null)){a.defaultValue!==d&&(a.defaultValue=d);return}a.defaultValue=y!=null?""+ni(y):""}function Ey(a,d,y,S){if(d==null){if(S!=null){if(y!=null)throw Error(r(92));if(Te(S)){if(1<S.length)throw Error(r(93));S=S[0]}y=S}y==null&&(y=""),d=y}y=ni(d),a.defaultValue=y,S=a.textContent,S===y&&S!==""&&S!==null&&(a.value=S)}function Ys(a,d){if(d){var y=a.firstChild;if(y&&y===a.lastChild&&y.nodeType===3){y.nodeValue=d;return}}a.textContent=d}var Cy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wy(a,d,y){var S=d.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?S?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="":S?a.setProperty(d,y):typeof y!="number"||y===0||Cy.has(d)?d==="float"?a.cssFloat=y:a[d]=(""+y).trim():a[d]=y+"px"}function Ry(a,d,y){if(d!=null&&typeof d!="object")throw Error(r(62));if(a=a.style,y!=null){for(var S in y)!y.hasOwnProperty(S)||d!=null&&d.hasOwnProperty(S)||(S.indexOf("--")===0?a.setProperty(S,""):S==="float"?a.cssFloat="":a[S]="");for(var _ in d)S=d[_],d.hasOwnProperty(_)&&y[_]!==S&&wy(a,_,S)}else for(var M in d)d.hasOwnProperty(M)&&wy(a,M,d[M])}function Zg(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ty=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xf(a){return Ty.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var bf=null;function Sf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ya=null,qa=null;function Ny(a){var d=Qo(a);if(d&&(a=d.stateNode)){var y=a[Ft]||null;e:switch(a=d.stateNode,d.type){case"input":if(qg(a,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),d=y.name,y.type==="radio"&&d!=null){for(y=a;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+jr(""+d)+'"][type="radio"]'),d=0;d<y.length;d++){var S=y[d];if(S!==a&&S.form===a.form){var _=S[Ft]||null;if(!_)throw Error(r(90));qg(S,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(d=0;d<y.length;d++)S=y[d],S.form===a.form&&Ay(S)}break e;case"textarea":Xg(a,y.value,y.defaultValue);break e;case"select":d=y.value,d!=null&&Bu(a,!!y.multiple,d,!1)}}}var Jg=!1;function _y(a,d,y){if(Jg)return a(d,y);Jg=!0;try{var S=a(d);return S}finally{if(Jg=!1,(Ya!==null||qa!==null)&&(va(),Ya&&(d=Ya,a=qa,qa=Ya=null,Ny(d),a)))for(d=0;d<a.length;d++)Ny(a[d])}}function Ka(a,d){var y=a.stateNode;if(y===null)return null;var S=y[Ft]||null;if(S===null)return null;y=S[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(a=a.type,S=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!S;break e;default:a=!1}if(a)return null;if(y&&typeof y!="function")throw Error(r(231,d,typeof y));return y}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qg=!1;if(ns)try{var Af={};Object.defineProperty(Af,"passive",{get:function(){Qg=!0}}),window.addEventListener("test",Af,Af),window.removeEventListener("test",Af,Af)}catch{Qg=!1}var qs=null,ju=null,Mi=null;function Iy(){if(Mi)return Mi;var a,d=ju,y=d.length,S,_="value"in qs?qs.value:qs.textContent,M=_.length;for(a=0;a<y&&d[a]===_[a];a++);var H=y-a;for(S=1;S<=H&&d[y-S]===_[M-S];S++);return Mi=_.slice(a,1<S?1-S:void 0)}function Mh(a){var d=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&d===13&&(a=13)):a=d,a===10&&(a=13),32<=a||a===13?a:0}function Ph(){return!0}function Oy(){return!1}function ri(a){function d(y,S,_,M,H){this._reactName=y,this._targetInst=_,this.type=S,this.nativeEvent=M,this.target=H,this.currentTarget=null;for(var ee in a)a.hasOwnProperty(ee)&&(y=a[ee],this[ee]=y?y(M):M[ee]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Ph:Oy,this.isPropagationStopped=Oy,this}return p(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),d}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=ri(Ks),Wr=p({},Ks,{view:0,detail:0}),O1=ri(Wr),em,Lh,Ef,Fh=p({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ef&&(Ef&&a.type==="mousemove"?(em=a.screenX-Ef.screenX,Lh=a.screenY-Ef.screenY):Lh=em=0,Ef=a),em)},movementY:function(a){return"movementY"in a?a.movementY:Lh}}),tm=ri(Fh),Pt=p({},Fh,{dataTransfer:0}),lT=ri(Pt),D1=p({},Wr,{relatedTarget:0}),kh=ri(D1),Dy=p({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),My=ri(Dy),Py=p({},Ks,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ly=ri(Py),Fy=p({},Ks,{data:0}),nm=ri(Fy),ky={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},By={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zy(a){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(a):(a=jy[a])?!!d[a]:!1}function Bh(){return zy}var Uy=p({},Wr,{key:function(a){if(a.key){var d=ky[a.key]||a.key;if(d!=="Unidentified")return d}return a.type==="keypress"?(a=Mh(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?By[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bh,charCode:function(a){return a.type==="keypress"?Mh(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Mh(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Vy=ri(Uy),Gy=p({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rm=ri(Gy),$y=p({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bh}),Hy=ri($y),Wy=p({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yy=ri(Wy),qy=p({},Fh,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),M1=ri(qy),Pi=p({},Ks,{newState:0,oldState:0}),Ky=ri(Pi),Xy=[9,13,27,32],im=ns&&"CompositionEvent"in window,Cf=null;ns&&"documentMode"in document&&(Cf=document.documentMode);var om=ns&&"TextEvent"in window&&!Cf,Xa=ns&&(!im||Cf&&8<Cf&&11>=Cf),Ao=" ",Zy=!1;function Jy(a,d){switch(a){case"keyup":return Xy.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qy(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var zu=!1;function ex(a,d){switch(a){case"compositionend":return Qy(d);case"keypress":return d.which!==32?null:(Zy=!0,Ao);case"textInput":return a=d.data,a===Ao&&Zy?null:a;default:return null}}function P1(a,d){if(zu)return a==="compositionend"||!im&&Jy(a,d)?(a=Iy(),Mi=ju=qs=null,zu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Xa&&d.locale!=="ko"?null:d.data;default:return null}}var L1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d==="input"?!!L1[a.type]:d==="textarea"}function tx(a,d,y,S){Ya?qa?qa.push(S):qa=[S]:Ya=S,d=Zf(d,"onChange"),0<d.length&&(y=new rs("onChange","change",null,y,S),a.push({event:y,listeners:d}))}var Li=null,Xs=null;function nx(a){Bo(a,0)}function Za(a){var d=ku(a);if(Ay(d))return a}function am(a,d){if(a==="change")return d}var rx=!1;if(ns){var lm;if(ns){var jh="oninput"in document;if(!jh){var ix=document.createElement("div");ix.setAttribute("oninput","return;"),jh=typeof ix.oninput=="function"}lm=jh}else lm=!1;rx=lm&&(!document.documentMode||9<document.documentMode)}function ox(){Li&&(Li.detachEvent("onpropertychange",sx),Xs=Li=null)}function sx(a){if(a.propertyName==="value"&&Za(Xs)){var d=[];tx(d,Xs,a,Sf(a)),_y(nx,d)}}function F1(a,d,y){a==="focusin"?(ox(),Li=d,Xs=y,Li.attachEvent("onpropertychange",sx)):a==="focusout"&&ox()}function k1(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Za(Xs)}function ax(a,d){if(a==="click")return Za(d)}function um(a,d){if(a==="input"||a==="change")return Za(d)}function B1(a,d){return a===d&&(a!==0||1/a===1/d)||a!==a&&d!==d}var ii=typeof Object.is=="function"?Object.is:B1;function wf(a,d){if(ii(a,d))return!0;if(typeof a!="object"||a===null||typeof d!="object"||d===null)return!1;var y=Object.keys(a),S=Object.keys(d);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var _=y[S];if(!be.call(d,_)||!ii(a[_],d[_]))return!1}return!0}function zh(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function lx(a,d){var y=zh(a);a=0;for(var S;y;){if(y.nodeType===3){if(S=a+y.textContent.length,a<=d&&S>=d)return{node:y,offset:d-a};a=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=zh(y)}}function ux(a,d){return a&&d?a===d?!0:a&&a.nodeType===3?!1:d&&d.nodeType===3?ux(a,d.parentNode):"contains"in a?a.contains(d):a.compareDocumentPosition?!!(a.compareDocumentPosition(d)&16):!1:!1}function cx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var d=Dh(a.document);d instanceof a.HTMLIFrameElement;){try{var y=typeof d.contentWindow.location.href=="string"}catch{y=!1}if(y)a=d.contentWindow;else break;d=Dh(a.document)}return d}function cm(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d&&(d==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||d==="textarea"||a.contentEditable==="true")}var Uh=ns&&"documentMode"in document&&11>=document.documentMode,Ja=null,fm=null,Rf=null,Vh=!1;function fx(a,d,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Vh||Ja==null||Ja!==Dh(S)||(S=Ja,"selectionStart"in S&&cm(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Rf&&wf(Rf,S)||(Rf=S,S=Zf(fm,"onSelect"),0<S.length&&(d=new rs("onSelect","select",null,d,y),a.push({event:d,listeners:S}),d.target=Ja)))}function Qa(a,d){var y={};return y[a.toLowerCase()]=d.toLowerCase(),y["Webkit"+a]="webkit"+d,y["Moz"+a]="moz"+d,y}var Uu={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},el={},dm={};ns&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete Uu.animationend.animation,delete Uu.animationiteration.animation,delete Uu.animationstart.animation),"TransitionEvent"in window||delete Uu.transitionend.transition);function tl(a){if(el[a])return el[a];if(!Uu[a])return a;var d=Uu[a],y;for(y in d)if(d.hasOwnProperty(y)&&y in dm)return el[a]=d[y];return a}var dx=tl("animationend"),Gh=tl("animationiteration"),Tf=tl("animationstart"),j1=tl("transitionrun"),z1=tl("transitionstart"),U1=tl("transitioncancel"),hx=tl("transitionend"),px=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function xi(a,d){px.set(a,d),Ws(d,[a])}var hm=new WeakMap;function Fi(a,d){if(typeof a=="object"&&a!==null){var y=hm.get(a);return y!==void 0?y:(d={value:a,source:d,stack:Sy(d)},hm.set(a,d),d)}return{value:a,source:d,stack:Sy(d)}}var bi=[],Vu=0,pm=0;function Hh(){for(var a=Vu,d=pm=Vu=0;d<a;){var y=bi[d];bi[d++]=null;var S=bi[d];bi[d++]=null;var _=bi[d];bi[d++]=null;var M=bi[d];if(bi[d++]=null,S!==null&&_!==null){var H=S.pending;H===null?_.next=_:(_.next=H.next,H.next=_),S.pending=_}M!==0&&gx(y,_,M)}}function is(a,d,y,S){bi[Vu++]=a,bi[Vu++]=d,bi[Vu++]=y,bi[Vu++]=S,pm|=S,a.lanes|=S,a=a.alternate,a!==null&&(a.lanes|=S)}function Wh(a,d,y,S){return is(a,d,y,S),Yh(a)}function Gu(a,d){return is(a,null,null,d),Yh(a)}function gx(a,d,y){a.lanes|=y;var S=a.alternate;S!==null&&(S.lanes|=y);for(var _=!1,M=a.return;M!==null;)M.childLanes|=y,S=M.alternate,S!==null&&(S.childLanes|=y),M.tag===22&&(a=M.stateNode,a===null||a._visibility&1||(_=!0)),a=M,M=M.return;return a.tag===3?(M=a.stateNode,_&&d!==null&&(_=31-lt(y),a=M.hiddenUpdates,S=a[_],S===null?a[_]=[d]:S.push(d),d.lane=y|536870912),M):null}function Yh(a){if(50<An)throw An=0,Gr=null,Error(r(185));for(var d=a.return;d!==null;)a=d,d=a.return;return a.tag===3?a.stateNode:null}var $u={};function V1(a,d,y,S){this.tag=a,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(a,d,y,S){return new V1(a,d,y,S)}function Nf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ki(a,d){var y=a.alternate;return y===null?(y=zr(a.tag,d,a.key,a.mode),y.elementType=a.elementType,y.type=a.type,y.stateNode=a.stateNode,y.alternate=a,a.alternate=y):(y.pendingProps=d,y.type=a.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=a.flags&65011712,y.childLanes=a.childLanes,y.lanes=a.lanes,y.child=a.child,y.memoizedProps=a.memoizedProps,y.memoizedState=a.memoizedState,y.updateQueue=a.updateQueue,d=a.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=a.sibling,y.index=a.index,y.ref=a.ref,y.refCleanup=a.refCleanup,y}function _f(a,d){a.flags&=65011714;var y=a.alternate;return y===null?(a.childLanes=0,a.lanes=d,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=y.childLanes,a.lanes=y.lanes,a.child=y.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=y.memoizedProps,a.memoizedState=y.memoizedState,a.updateQueue=y.updateQueue,a.type=y.type,d=y.dependencies,a.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),a}function qh(a,d,y,S,_,M){var H=0;if(S=a,typeof a=="function")Nf(a)&&(H=1);else if(typeof a=="string")H=wt(a,y,U.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case $:return a=zr(31,y,d,_),a.elementType=$,a.lanes=M,a;case E:return Zs(y.children,_,M,d);case w:H=8,_|=24;break;case C:return a=zr(12,y,d,_|2),a.elementType=C,a.lanes=M,a;case F:return a=zr(13,y,d,_),a.elementType=F,a.lanes=M,a;case B:return a=zr(19,y,d,_),a.elementType=B,a.lanes=M,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:case N:H=10;break e;case T:H=9;break e;case D:H=11;break e;case j:H=14;break e;case k:H=16,S=null;break e}H=29,y=Error(r(130,a===null?"null":typeof a,"")),S=null}return d=zr(H,y,d,_),d.elementType=a,d.type=S,d.lanes=M,d}function Zs(a,d,y,S){return a=zr(7,a,S,d),a.lanes=y,a}function gm(a,d,y){return a=zr(6,a,null,d),a.lanes=y,a}function mm(a,d,y){return d=zr(4,a.children!==null?a.children:[],a.key,d),d.lanes=y,d.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},d}var Hu=[],Wu=0,Kh=null,Xh=0,Si=[],oi=0,Js=null,Eo=1,Zt="";function nl(a,d){Hu[Wu++]=Xh,Hu[Wu++]=Kh,Kh=a,Xh=d}function mx(a,d,y){Si[oi++]=Eo,Si[oi++]=Zt,Si[oi++]=Js,Js=a;var S=Eo;a=Zt;var _=32-lt(S)-1;S&=~(1<<_),y+=1;var M=32-lt(d)+_;if(30<M){var H=_-_%5;M=(S&(1<<H)-1).toString(32),S>>=H,_-=H,Eo=1<<32-lt(d)+_|y<<_|S,Zt=M+a}else Eo=1<<M|y<<_|S,Zt=a}function vm(a){a.return!==null&&(nl(a,1),mx(a,1,0))}function Zh(a){for(;a===Kh;)Kh=Hu[--Wu],Hu[Wu]=null,Xh=Hu[--Wu],Hu[Wu]=null;for(;a===Js;)Js=Si[--oi],Si[oi]=null,Zt=Si[--oi],Si[oi]=null,Eo=Si[--oi],Si[oi]=null}var Yr=null,Xn=null,hn=!1,Qs=null,eo=!1,ym=Error(r(519));function to(a){var d=Error(r(418,""));throw Of(Fi(d,a)),ym}function vx(a){var d=a.stateNode,y=a.type,S=a.memoizedProps;switch(d[dn]=a,d[Ft]=S,y){case"dialog":Yt("cancel",d),Yt("close",d);break;case"iframe":case"object":case"embed":Yt("load",d);break;case"video":case"audio":for(y=0;y<ko.length;y++)Yt(ko[y],d);break;case"source":Yt("error",d);break;case"img":case"image":case"link":Yt("error",d),Yt("load",d);break;case"details":Yt("toggle",d);break;case"input":Yt("invalid",d),Kg(d,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),Oh(d);break;case"select":Yt("invalid",d);break;case"textarea":Yt("invalid",d),Ey(d,S.value,S.defaultValue,S.children),Oh(d)}y=S.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||d.textContent===""+y||S.suppressHydrationWarning===!0||ib(d.textContent,y)?(S.popover!=null&&(Yt("beforetoggle",d),Yt("toggle",d)),S.onScroll!=null&&Yt("scroll",d),S.onScrollEnd!=null&&Yt("scrollend",d),S.onClick!=null&&(d.onclick=Fp),d=!0):d=!1,d||to(a)}function yx(a){for(Yr=a.return;Yr;)switch(Yr.tag){case 5:case 13:eo=!1;return;case 27:case 3:eo=!0;return;default:Yr=Yr.return}}function If(a){if(a!==Yr)return!1;if(!hn)return yx(a),hn=!0,!1;var d=a.tag,y;if((y=d!==3&&d!==27)&&((y=d===5)&&(y=a.type,y=!(y!=="form"&&y!=="button")||sb(a.type,a.memoizedProps)),y=!y),y&&Xn&&to(a),yx(a),d===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,d=0;a;){if(a.nodeType===8)if(y=a.data,y==="/$"){if(d===0){Xn=Hi(a.nextSibling);break e}d--}else y!=="$"&&y!=="$!"&&y!=="$?"||d++;a=a.nextSibling}Xn=null}}else d===27?(d=Xn,_r(a.type)?(a=Ec,Ec=null,Xn=a):Xn=d):Xn=Yr?Hi(a.stateNode.nextSibling):null;return!0}function Yu(){Xn=Yr=null,hn=!1}function rl(){var a=Qs;return a!==null&&(ei===null?ei=a:ei.push.apply(ei,a),Qs=null),a}function Of(a){Qs===null?Qs=[a]:Qs.push(a)}var xm=oe(null),il=null,os=null;function ea(a,d,y){z(xm,d._currentValue),d._currentValue=y}function ss(a){a._currentValue=xm.current,pe(xm)}function bm(a,d,y){for(;a!==null;){var S=a.alternate;if((a.childLanes&d)!==d?(a.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),a===y)break;a=a.return}}function Jh(a,d,y,S){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var M=_.dependencies;if(M!==null){var H=_.child;M=M.firstContext;e:for(;M!==null;){var ee=M;M=_;for(var fe=0;fe<d.length;fe++)if(ee.context===d[fe]){M.lanes|=y,ee=M.alternate,ee!==null&&(ee.lanes|=y),bm(M.return,y,a),S||(H=null);break e}M=ee.next}}else if(_.tag===18){if(H=_.return,H===null)throw Error(r(341));H.lanes|=y,M=H.alternate,M!==null&&(M.lanes|=y),bm(H,y,a),H=null}else H=_.child;if(H!==null)H.return=_;else for(H=_;H!==null;){if(H===a){H=null;break}if(_=H.sibling,_!==null){_.return=H.return,H=_;break}H=H.return}_=H}}function Df(a,d,y,S){a=null;for(var _=d,M=!1;_!==null;){if(!M){if((_.flags&524288)!==0)M=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var H=_.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var ee=_.type;ii(_.pendingProps.value,H.value)||(a!==null?a.push(ee):a=[ee])}}else if(_===Q.current){if(H=_.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(Cc):a=[Cc])}_=_.return}a!==null&&Jh(d,a,y,S),d.flags|=262144}function Qh(a){for(a=a.firstContext;a!==null;){if(!ii(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ta(a){il=a,os=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ar(a){return Sm(il,a)}function qu(a,d){return il===null&&ta(a),Sm(a,d)}function Sm(a,d){var y=d._currentValue;if(d={context:d,memoizedValue:y,next:null},os===null){if(a===null)throw Error(r(308));os=d,a.dependencies={lanes:0,firstContext:d},a.flags|=524288}else os=os.next=d;return y}var G1=typeof AbortController<"u"?AbortController:function(){var a=[],d=this.signal={aborted:!1,addEventListener:function(y,S){a.push(S)}};this.abort=function(){d.aborted=!0,a.forEach(function(y){return y()})}},$1=e.unstable_scheduleCallback,Ku=e.unstable_NormalPriority,ar={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new G1,data:new Map,refCount:0}}function Mf(a){a.refCount--,a.refCount===0&&$1(Ku,function(){a.controller.abort()})}var Xu=null,Em=0,Zu=0,Ju=null;function H1(a,d){if(Xu===null){var y=Xu=[];Em=0,Zu=Mp(),Ju={status:"pending",value:void 0,then:function(S){y.push(S)}}}return Em++,d.then(W1,W1),d}function W1(){if(--Em===0&&Xu!==null){Ju!==null&&(Ju.status="fulfilled");var a=Xu;Xu=null,Zu=0,Ju=null;for(var d=0;d<a.length;d++)(0,a[d])()}}function Y1(a,d){var y=[],S={status:"pending",value:null,reason:null,then:function(_){y.push(_)}};return a.then(function(){S.status="fulfilled",S.value=d;for(var _=0;_<y.length;_++)(0,y[_])(d)},function(_){for(S.status="rejected",S.reason=_,_=0;_<y.length;_++)(0,y[_])(void 0)}),S}var xx=re.S;re.S=function(a,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&H1(a,d),xx!==null&&xx(a,d)};var na=oe(null);function ep(){var a=na.current;return a!==null?a:kn.pooledCache}function Pf(a,d){d===null?z(na,na.current):z(na,d.pool)}function bx(){var a=ep();return a===null?null:{parent:ar._currentValue,pool:a}}var Qu=Error(r(460)),Sx=Error(r(474)),Lf=Error(r(542)),tp={then:function(){}};function Cm(a){return a=a.status,a==="fulfilled"||a==="rejected"}function np(){}function Ax(a,d,y){switch(y=a[y],y===void 0?a.push(d):y!==d&&(d.then(np,np),d=y),d.status){case"fulfilled":return d.value;case"rejected":throw a=d.reason,wm(a),a;default:if(typeof d.status=="string")d.then(np,np);else{if(a=kn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=d,a.status="pending",a.then(function(S){if(d.status==="pending"){var _=d;_.status="fulfilled",_.value=S}},function(S){if(d.status==="pending"){var _=d;_.status="rejected",_.reason=S}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw a=d.reason,wm(a),a}throw ec=d,Qu}}var ec=null;function Ex(){if(ec===null)throw Error(r(459));var a=ec;return ec=null,a}function wm(a){if(a===Qu||a===Lf)throw Error(r(483))}var as=!1;function Rm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rp(a,d){a=a.updateQueue,d.updateQueue===a&&(d.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function si(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ra(a,d,y){var S=a.updateQueue;if(S===null)return null;if(S=S.shared,(mn&2)!==0){var _=S.pending;return _===null?d.next=d:(d.next=_.next,_.next=d),S.pending=d,d=Yh(a),gx(a,null,y),d}return is(a,S,d,y),Yh(a)}function tc(a,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194048)!==0)){var S=d.lanes;S&=a.pendingLanes,y|=S,d.lanes=y,fn(a,y)}}function Tm(a,d){var y=a.updateQueue,S=a.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var _=null,M=null;if(y=y.firstBaseUpdate,y!==null){do{var H={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};M===null?_=M=H:M=M.next=H,y=y.next}while(y!==null);M===null?_=M=d:M=M.next=d}else _=M=d;y={baseState:S.baseState,firstBaseUpdate:_,lastBaseUpdate:M,shared:S.shared,callbacks:S.callbacks},a.updateQueue=y;return}a=y.lastBaseUpdate,a===null?y.firstBaseUpdate=d:a.next=d,y.lastBaseUpdate=d}var kt=!1;function Ff(){if(kt){var a=Ju;if(a!==null)throw a}}function kf(a,d,y,S){kt=!1;var _=a.updateQueue;as=!1;var M=_.firstBaseUpdate,H=_.lastBaseUpdate,ee=_.shared.pending;if(ee!==null){_.shared.pending=null;var fe=ee,Me=fe.next;fe.next=null,H===null?M=Me:H.next=Me,H=fe;var ze=a.alternate;ze!==null&&(ze=ze.updateQueue,ee=ze.lastBaseUpdate,ee!==H&&(ee===null?ze.firstBaseUpdate=Me:ee.next=Me,ze.lastBaseUpdate=fe))}if(M!==null){var He=_.baseState;H=0,ze=Me=fe=null,ee=M;do{var Le=ee.lane&-536870913,Fe=Le!==ee.lane;if(Fe?(rn&Le)===Le:(S&Le)===Le){Le!==0&&Le===Zu&&(kt=!0),ze!==null&&(ze=ze.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Dt=a,Rt=ee;Le=d;var Bn=y;switch(Rt.tag){case 1:if(Dt=Rt.payload,typeof Dt=="function"){He=Dt.call(Bn,He,Le);break e}He=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Rt.payload,Le=typeof Dt=="function"?Dt.call(Bn,He,Le):Dt,Le==null)break e;He=p({},He,Le);break e;case 2:as=!0}}Le=ee.callback,Le!==null&&(a.flags|=64,Fe&&(a.flags|=8192),Fe=_.callbacks,Fe===null?_.callbacks=[Le]:Fe.push(Le))}else Fe={lane:Le,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ze===null?(Me=ze=Fe,fe=He):ze=ze.next=Fe,H|=Le;if(ee=ee.next,ee===null){if(ee=_.shared.pending,ee===null)break;Fe=ee,ee=Fe.next,Fe.next=null,_.lastBaseUpdate=Fe,_.shared.pending=null}}while(!0);ze===null&&(fe=He),_.baseState=fe,_.firstBaseUpdate=Me,_.lastBaseUpdate=ze,M===null&&(_.shared.lanes=0),Po|=H,a.lanes=H,a.memoizedState=He}}function Cx(a,d){if(typeof a!="function")throw Error(r(191,a));a.call(d)}function ip(a,d){var y=a.callbacks;if(y!==null)for(a.callbacks=null,a=0;a<y.length;a++)Cx(y[a],d)}var ia=oe(null),nc=oe(0);function wx(a,d){a=Es,z(nc,a),z(ia,d),Es=a|d.baseLanes}function Nm(){z(nc,Es),z(ia,ia.current)}function _m(){Es=nc.current,pe(ia),pe(nc)}var oa=0,Gt=null,Tn=null,lr=null,op=!1,rc=!1,ol=!1,ls=0,Ur=0,ic=null,q1=0;function nr(){throw Error(r(321))}function Im(a,d){if(d===null)return!1;for(var y=0;y<d.length&&y<a.length;y++)if(!ii(a[y],d[y]))return!1;return!0}function Om(a,d,y,S,_,M){return oa=M,Gt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,re.H=a===null||a.memoizedState===null?Xe:Nn,ol=!1,M=y(S,_),ol=!1,rc&&(M=Tx(d,y,S,_)),Rx(a),M}function Rx(a){re.H=wr;var d=Tn!==null&&Tn.next!==null;if(oa=0,lr=Tn=Gt=null,op=!1,Ur=0,ic=null,d)throw Error(r(300));a===null||Zn||(a=a.dependencies,a!==null&&Qh(a)&&(Zn=!0))}function Tx(a,d,y,S){Gt=a;var _=0;do{if(rc&&(ic=null),Ur=0,rc=!1,25<=_)throw Error(r(301));if(_+=1,lr=Tn=null,a.updateQueue!=null){var M=a.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}re.H=Gn,M=d(y,S)}while(rc);return M}function K1(){var a=re.H,d=a.useState()[0];return d=typeof d.then=="function"?Bf(d):d,a=a.useState()[0],(Tn!==null?Tn.memoizedState:null)!==a&&(Gt.flags|=1024),d}function sp(){var a=ls!==0;return ls=0,a}function Dm(a,d,y){d.updateQueue=a.updateQueue,d.flags&=-2053,a.lanes&=~y}function Mm(a){if(op){for(a=a.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}op=!1}oa=0,lr=Tn=Gt=null,rc=!1,Ur=ls=0,ic=null}function ai(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Gt.memoizedState=lr=a:lr=lr.next=a,lr}function ur(){if(Tn===null){var a=Gt.alternate;a=a!==null?a.memoizedState:null}else a=Tn.next;var d=lr===null?Gt.memoizedState:lr.next;if(d!==null)lr=d,Tn=a;else{if(a===null)throw Gt.alternate===null?Error(r(467)):Error(r(310));Tn=a,a={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},lr===null?Gt.memoizedState=lr=a:lr=lr.next=a}return lr}function Pm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bf(a){var d=Ur;return Ur+=1,ic===null&&(ic=[]),a=Ax(ic,a,d),d=Gt,(lr===null?d.memoizedState:lr.next)===null&&(d=d.alternate,re.H=d===null||d.memoizedState===null?Xe:Nn),a}function jf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Bf(a);if(a.$$typeof===N)return Ar(a)}throw Error(r(438,String(a)))}function sl(a){var d=null,y=Gt.updateQueue;if(y!==null&&(d=y.memoCache),d==null){var S=Gt.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(d={data:S.data.map(function(_){return _.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),y===null&&(y=Pm(),Gt.updateQueue=y),y.memoCache=d,y=d.data[d.index],y===void 0)for(y=d.data[d.index]=Array(a),S=0;S<a;S++)y[S]=Z;return d.index++,y}function us(a,d){return typeof d=="function"?d(a):d}function ap(a){var d=ur();return Lm(d,Tn,a)}function Lm(a,d,y){var S=a.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=y;var _=a.baseQueue,M=S.pending;if(M!==null){if(_!==null){var H=_.next;_.next=M.next,M.next=H}d.baseQueue=_=M,S.pending=null}if(M=a.baseState,_===null)a.memoizedState=M;else{d=_.next;var ee=H=null,fe=null,Me=d,ze=!1;do{var He=Me.lane&-536870913;if(He!==Me.lane?(rn&He)===He:(oa&He)===He){var Le=Me.revertLane;if(Le===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),He===Zu&&(ze=!0);else if((oa&Le)===Le){Me=Me.next,Le===Zu&&(ze=!0);continue}else He={lane:0,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},fe===null?(ee=fe=He,H=M):fe=fe.next=He,Gt.lanes|=Le,Po|=Le;He=Me.action,ol&&y(M,He),M=Me.hasEagerState?Me.eagerState:y(M,He)}else Le={lane:He,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},fe===null?(ee=fe=Le,H=M):fe=fe.next=Le,Gt.lanes|=He,Po|=He;Me=Me.next}while(Me!==null&&Me!==d);if(fe===null?H=M:fe.next=ee,!ii(M,a.memoizedState)&&(Zn=!0,ze&&(y=Ju,y!==null)))throw y;a.memoizedState=M,a.baseState=H,a.baseQueue=fe,S.lastRenderedState=M}return _===null&&(S.lanes=0),[a.memoizedState,S.dispatch]}function Fm(a){var d=ur(),y=d.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=a;var S=y.dispatch,_=y.pending,M=d.memoizedState;if(_!==null){y.pending=null;var H=_=_.next;do M=a(M,H.action),H=H.next;while(H!==_);ii(M,d.memoizedState)||(Zn=!0),d.memoizedState=M,d.baseQueue===null&&(d.baseState=M),y.lastRenderedState=M}return[M,S]}function km(a,d,y){var S=Gt,_=ur(),M=hn;if(M){if(y===void 0)throw Error(r(407));y=y()}else y=d();var H=!ii((Tn||_).memoizedState,y);H&&(_.memoizedState=y,Zn=!0),_=_.queue;var ee=X1.bind(null,S,_,a);if(qr(2048,8,ee,[a]),_.getSnapshot!==d||H||lr!==null&&lr.memoizedState.tag&1){if(S.flags|=2048,fs(9,ds(),zf.bind(null,S,_,y,d),null),kn===null)throw Error(r(349));M||(oa&124)!==0||zt(S,d,y)}return y}function zt(a,d,y){a.flags|=16384,a={getSnapshot:d,value:y},d=Gt.updateQueue,d===null?(d=Pm(),Gt.updateQueue=d,d.stores=[a]):(y=d.stores,y===null?d.stores=[a]:y.push(a))}function zf(a,d,y,S){d.value=y,d.getSnapshot=S,Nx(d)&&Z1(a)}function X1(a,d,y){return y(function(){Nx(d)&&Z1(a)})}function Nx(a){var d=a.getSnapshot;a=a.value;try{var y=d();return!ii(a,y)}catch{return!0}}function Z1(a){var d=Gu(a,2);d!==null&&Je(d,a,2)}function Bm(a){var d=ai();if(typeof a=="function"){var y=a;if(a=y(),ol){tt(!0);try{y()}finally{tt(!1)}}}return d.memoizedState=d.baseState=a,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:a},d}function ye(a,d,y,S){return a.baseState=y,Lm(a,Tn,typeof S=="function"?S:us)}function Ee(a,d,y,S,_){if(sc(a))throw Error(r(485));if(a=d.action,a!==null){var M={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){M.listeners.push(H)}};re.T!==null?y(!0):M.isTransition=!1,S(M),y=d.pending,y===null?(M.next=d.pending=M,no(d,M)):(M.next=y.next,d.pending=y.next=M)}}function no(a,d){var y=d.action,S=d.payload,_=a.state;if(d.isTransition){var M=re.T,H={};re.T=H;try{var ee=y(_,S),fe=re.S;fe!==null&&fe(H,ee),lp(a,d,ee)}catch(Me){li(a,d,Me)}finally{re.T=M}}else try{M=y(_,S),lp(a,d,M)}catch(Me){li(a,d,Me)}}function lp(a,d,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(S){ro(a,d,S)},function(S){return li(a,d,S)}):ro(a,d,y)}function ro(a,d,y){d.status="fulfilled",d.value=y,up(d),a.state=y,d=a.pending,d!==null&&(y=d.next,y===d?a.pending=null:(y=y.next,d.next=y,no(a,y)))}function li(a,d,y){var S=a.pending;if(a.pending=null,S!==null){S=S.next;do d.status="rejected",d.reason=y,up(d),d=d.next;while(d!==S)}a.action=null}function up(a){a=a.listeners;for(var d=0;d<a.length;d++)(0,a[d])()}function jm(a,d){return d}function cp(a,d){if(hn){var y=kn.formState;if(y!==null){e:{var S=Gt;if(hn){if(Xn){t:{for(var _=Xn,M=eo;_.nodeType!==8;){if(!M){_=null;break t}if(_=Hi(_.nextSibling),_===null){_=null;break t}}M=_.data,_=M==="F!"||M==="F"?_:null}if(_){Xn=Hi(_.nextSibling),S=_.data==="F!";break e}}to(S)}S=!1}S&&(d=y[0])}}return y=ai(),y.memoizedState=y.baseState=d,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jm,lastRenderedState:d},y.queue=S,y=Co.bind(null,Gt,S),S.dispatch=y,S=Bm(!1),M=dp.bind(null,Gt,!1,S.queue),S=ai(),_={state:d,dispatch:null,action:a,pending:null},S.queue=_,y=Ee.bind(null,Gt,_,M,y),_.dispatch=y,S.memoizedState=a,[d,y,!1]}function al(a){var d=ur();return io(d,Tn,a)}function io(a,d,y){if(d=Lm(a,d,jm)[0],a=ap(us)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var S=Bf(d)}catch(H){throw H===Qu?Lf:H}else S=d;d=ur();var _=d.queue,M=_.dispatch;return y!==d.memoizedState&&(Gt.flags|=2048,fs(9,ds(),Uf.bind(null,_,y),null)),[S,M,a]}function Uf(a,d){a.action=d}function cs(a){var d=ur(),y=Tn;if(y!==null)return io(d,y,a);ur(),d=d.memoizedState,y=ur();var S=y.queue.dispatch;return y.memoizedState=a,[d,S,!1]}function fs(a,d,y,S){return a={tag:a,create:y,deps:S,inst:d,next:null},d=Gt.updateQueue,d===null&&(d=Pm(),Gt.updateQueue=d),y=d.lastEffect,y===null?d.lastEffect=a.next=a:(S=y.next,y.next=a,a.next=S,d.lastEffect=a),a}function ds(){return{destroy:void 0,resource:void 0}}function Er(){return ur().memoizedState}function Ln(a,d,y,S){var _=ai();S=S===void 0?null:S,Gt.flags|=a,_.memoizedState=fs(1|d,ds(),y,S)}function qr(a,d,y,S){var _=ur();S=S===void 0?null:S;var M=_.memoizedState.inst;Tn!==null&&S!==null&&Im(S,Tn.memoizedState.deps)?_.memoizedState=fs(d,M,y,S):(Gt.flags|=a,_.memoizedState=fs(1|d,M,y,S))}function zm(a,d){Ln(8390656,8,a,d)}function oc(a,d){qr(2048,8,a,d)}function Ai(a,d){return qr(4,2,a,d)}function Ht(a,d){return qr(4,4,a,d)}function Cr(a,d){if(typeof d=="function"){a=a();var y=d(a);return function(){typeof y=="function"?y():d(null)}}if(d!=null)return a=a(),d.current=a,function(){d.current=null}}function Um(a,d,y){y=y!=null?y.concat([a]):null,qr(4,4,Cr.bind(null,d,a),y)}function fp(){}function Vm(a,d){var y=ur();d=d===void 0?null:d;var S=y.memoizedState;return d!==null&&Im(d,S[1])?S[0]:(y.memoizedState=[a,d],a)}function sa(a,d){var y=ur();d=d===void 0?null:d;var S=y.memoizedState;if(d!==null&&Im(d,S[1]))return S[0];if(S=a(),ol){tt(!0);try{a()}finally{tt(!1)}}return y.memoizedState=[S,d],S}function ui(a,d,y){return y===void 0||(oa&1073741824)!==0?a.memoizedState=d:(a.memoizedState=y,a=qx(),Gt.lanes|=a,Po|=a,y)}function nn(a,d,y,S){return ii(y,d)?y:ia.current!==null?(a=ui(a,y,S),ii(a,d)||(Zn=!0),a):(oa&42)===0?(Zn=!0,a.memoizedState=y):(a=qx(),Gt.lanes|=a,Po|=a,d)}function Vf(a,d,y,S,_){var M=Ae.p;Ae.p=M!==0&&8>M?M:8;var H=re.T,ee={};re.T=ee,dp(a,!1,d,y);try{var fe=_(),Me=re.S;if(Me!==null&&Me(ee,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var ze=Y1(fe,S);wo(a,d,ze,gr(a))}else wo(a,d,S,gr(a))}catch(He){wo(a,d,{then:function(){},status:"rejected",reason:He},gr())}finally{Ae.p=M,re.T=H}}function Gm(){}function ci(a,d,y,S){if(a.tag!==5)throw Error(r(476));var _=$m(a).queue;Vf(a,_,d,de,y===null?Gm:function(){return _x(a),y(S)})}function $m(a){var d=a.memoizedState;if(d!==null)return d;d={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:de},next:null};var y={};return d.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:y},next:null},a.memoizedState=d,a=a.alternate,a!==null&&(a.memoizedState=d),d}function _x(a){var d=$m(a).next.queue;wo(a,d,{},gr())}function aa(){return Ar(Cc)}function Hm(){return ur().memoizedState}function Ix(){return ur().memoizedState}function Ox(a){for(var d=a.return;d!==null;){switch(d.tag){case 24:case 3:var y=gr();a=si(y);var S=ra(d,a,y);S!==null&&(Je(S,d,y),tc(S,d,y)),d={cache:Am()},a.payload=d;return}d=d.return}}function oo(a,d,y){var S=gr();y={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},sc(a)?Wm(d,y):(y=Wh(a,d,y,S),y!==null&&(Je(y,a,S),Ym(y,d,S)))}function Co(a,d,y){var S=gr();wo(a,d,y,S)}function wo(a,d,y,S){var _={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(sc(a))Wm(d,_);else{var M=a.alternate;if(a.lanes===0&&(M===null||M.lanes===0)&&(M=d.lastRenderedReducer,M!==null))try{var H=d.lastRenderedState,ee=M(H,y);if(_.hasEagerState=!0,_.eagerState=ee,ii(ee,H))return is(a,d,_,0),kn===null&&Hh(),!1}catch{}finally{}if(y=Wh(a,d,_,S),y!==null)return Je(y,a,S),Ym(y,d,S),!0}return!1}function dp(a,d,y,S){if(S={lane:2,revertLane:Mp(),action:S,hasEagerState:!1,eagerState:null,next:null},sc(a)){if(d)throw Error(r(479))}else d=Wh(a,y,S,2),d!==null&&Je(d,a,2)}function sc(a){var d=a.alternate;return a===Gt||d!==null&&d===Gt}function Wm(a,d){rc=op=!0;var y=a.pending;y===null?d.next=d:(d.next=y.next,y.next=d),a.pending=d}function Ym(a,d,y){if((y&4194048)!==0){var S=d.lanes;S&=a.pendingLanes,y|=S,d.lanes=y,fn(a,y)}}var wr={readContext:Ar,use:jf,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useLayoutEffect:nr,useInsertionEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useSyncExternalStore:nr,useId:nr,useHostTransitionStatus:nr,useFormState:nr,useActionState:nr,useOptimistic:nr,useMemoCache:nr,useCacheRefresh:nr},Xe={readContext:Ar,use:jf,useCallback:function(a,d){return ai().memoizedState=[a,d===void 0?null:d],a},useContext:Ar,useEffect:zm,useImperativeHandle:function(a,d,y){y=y!=null?y.concat([a]):null,Ln(4194308,4,Cr.bind(null,d,a),y)},useLayoutEffect:function(a,d){return Ln(4194308,4,a,d)},useInsertionEffect:function(a,d){Ln(4,2,a,d)},useMemo:function(a,d){var y=ai();d=d===void 0?null:d;var S=a();if(ol){tt(!0);try{a()}finally{tt(!1)}}return y.memoizedState=[S,d],S},useReducer:function(a,d,y){var S=ai();if(y!==void 0){var _=y(d);if(ol){tt(!0);try{y(d)}finally{tt(!1)}}}else _=d;return S.memoizedState=S.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},S.queue=a,a=a.dispatch=oo.bind(null,Gt,a),[S.memoizedState,a]},useRef:function(a){var d=ai();return a={current:a},d.memoizedState=a},useState:function(a){a=Bm(a);var d=a.queue,y=Co.bind(null,Gt,d);return d.dispatch=y,[a.memoizedState,y]},useDebugValue:fp,useDeferredValue:function(a,d){var y=ai();return ui(y,a,d)},useTransition:function(){var a=Bm(!1);return a=Vf.bind(null,Gt,a.queue,!0,!1),ai().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,d,y){var S=Gt,_=ai();if(hn){if(y===void 0)throw Error(r(407));y=y()}else{if(y=d(),kn===null)throw Error(r(349));(rn&124)!==0||zt(S,d,y)}_.memoizedState=y;var M={value:y,getSnapshot:d};return _.queue=M,zm(X1.bind(null,S,M,a),[a]),S.flags|=2048,fs(9,ds(),zf.bind(null,S,M,y,d),null),y},useId:function(){var a=ai(),d=kn.identifierPrefix;if(hn){var y=Zt,S=Eo;y=(S&~(1<<32-lt(S)-1)).toString(32)+y,d=""+d+"R"+y,y=ls++,0<y&&(d+="H"+y.toString(32)),d+=""}else y=q1++,d=""+d+"r"+y.toString(32)+"";return a.memoizedState=d},useHostTransitionStatus:aa,useFormState:cp,useActionState:cp,useOptimistic:function(a){var d=ai();d.memoizedState=d.baseState=a;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=y,d=dp.bind(null,Gt,!0,y),y.dispatch=d,[a,d]},useMemoCache:sl,useCacheRefresh:function(){return ai().memoizedState=Ox.bind(null,Gt)}},Nn={readContext:Ar,use:jf,useCallback:Vm,useContext:Ar,useEffect:oc,useImperativeHandle:Um,useInsertionEffect:Ai,useLayoutEffect:Ht,useMemo:sa,useReducer:ap,useRef:Er,useState:function(){return ap(us)},useDebugValue:fp,useDeferredValue:function(a,d){var y=ur();return nn(y,Tn.memoizedState,a,d)},useTransition:function(){var a=ap(us)[0],d=ur().memoizedState;return[typeof a=="boolean"?a:Bf(a),d]},useSyncExternalStore:km,useId:Hm,useHostTransitionStatus:aa,useFormState:al,useActionState:al,useOptimistic:function(a,d){var y=ur();return ye(y,Tn,a,d)},useMemoCache:sl,useCacheRefresh:Ix},Gn={readContext:Ar,use:jf,useCallback:Vm,useContext:Ar,useEffect:oc,useImperativeHandle:Um,useInsertionEffect:Ai,useLayoutEffect:Ht,useMemo:sa,useReducer:Fm,useRef:Er,useState:function(){return Fm(us)},useDebugValue:fp,useDeferredValue:function(a,d){var y=ur();return Tn===null?ui(y,a,d):nn(y,Tn.memoizedState,a,d)},useTransition:function(){var a=Fm(us)[0],d=ur().memoizedState;return[typeof a=="boolean"?a:Bf(a),d]},useSyncExternalStore:km,useId:Hm,useHostTransitionStatus:aa,useFormState:cs,useActionState:cs,useOptimistic:function(a,d){var y=ur();return Tn!==null?ye(y,Tn,a,d):(y.baseState=a,[a,y.queue.dispatch])},useMemoCache:sl,useCacheRefresh:Ix},hs=null,ps=0;function fr(a){var d=ps;return ps+=1,hs===null&&(hs=[]),Ax(hs,a,d)}function Bi(a,d){d=d.props.ref,a.ref=d!==void 0?d:null}function Ei(a,d){throw d.$$typeof===m?Error(r(525)):(a=Object.prototype.toString.call(d),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":a)))}function la(a){var d=a._init;return d(a._payload)}function ji(a){function d(we,Se){if(a){var Ie=we.deletions;Ie===null?(we.deletions=[Se],we.flags|=16):Ie.push(Se)}}function y(we,Se){if(!a)return null;for(;Se!==null;)d(we,Se),Se=Se.sibling;return null}function S(we){for(var Se=new Map;we!==null;)we.key!==null?Se.set(we.key,we):Se.set(we.index,we),we=we.sibling;return Se}function _(we,Se){return we=ki(we,Se),we.index=0,we.sibling=null,we}function M(we,Se,Ie){return we.index=Ie,a?(Ie=we.alternate,Ie!==null?(Ie=Ie.index,Ie<Se?(we.flags|=67108866,Se):Ie):(we.flags|=67108866,Se)):(we.flags|=1048576,Se)}function H(we){return a&&we.alternate===null&&(we.flags|=67108866),we}function ee(we,Se,Ie,Ge){return Se===null||Se.tag!==6?(Se=gm(Ie,we.mode,Ge),Se.return=we,Se):(Se=_(Se,Ie),Se.return=we,Se)}function fe(we,Se,Ie,Ge){var ut=Ie.type;return ut===E?ze(we,Se,Ie.props.children,Ge,Ie.key):Se!==null&&(Se.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===k&&la(ut)===Se.type)?(Se=_(Se,Ie.props),Bi(Se,Ie),Se.return=we,Se):(Se=qh(Ie.type,Ie.key,Ie.props,null,we.mode,Ge),Bi(Se,Ie),Se.return=we,Se)}function Me(we,Se,Ie,Ge){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Ie.containerInfo||Se.stateNode.implementation!==Ie.implementation?(Se=mm(Ie,we.mode,Ge),Se.return=we,Se):(Se=_(Se,Ie.children||[]),Se.return=we,Se)}function ze(we,Se,Ie,Ge,ut){return Se===null||Se.tag!==7?(Se=Zs(Ie,we.mode,Ge,ut),Se.return=we,Se):(Se=_(Se,Ie),Se.return=we,Se)}function He(we,Se,Ie){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=gm(""+Se,we.mode,Ie),Se.return=we,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case x:return Ie=qh(Se.type,Se.key,Se.props,null,we.mode,Ie),Bi(Ie,Se),Ie.return=we,Ie;case b:return Se=mm(Se,we.mode,Ie),Se.return=we,Se;case k:var Ge=Se._init;return Se=Ge(Se._payload),He(we,Se,Ie)}if(Te(Se)||ie(Se))return Se=Zs(Se,we.mode,Ie,null),Se.return=we,Se;if(typeof Se.then=="function")return He(we,fr(Se),Ie);if(Se.$$typeof===N)return He(we,qu(we,Se),Ie);Ei(we,Se)}return null}function Le(we,Se,Ie,Ge){var ut=Se!==null?Se.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return ut!==null?null:ee(we,Se,""+Ie,Ge);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case x:return Ie.key===ut?fe(we,Se,Ie,Ge):null;case b:return Ie.key===ut?Me(we,Se,Ie,Ge):null;case k:return ut=Ie._init,Ie=ut(Ie._payload),Le(we,Se,Ie,Ge)}if(Te(Ie)||ie(Ie))return ut!==null?null:ze(we,Se,Ie,Ge,null);if(typeof Ie.then=="function")return Le(we,Se,fr(Ie),Ge);if(Ie.$$typeof===N)return Le(we,Se,qu(we,Ie),Ge);Ei(we,Ie)}return null}function Fe(we,Se,Ie,Ge,ut){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return we=we.get(Ie)||null,ee(Se,we,""+Ge,ut);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case x:return we=we.get(Ge.key===null?Ie:Ge.key)||null,fe(Se,we,Ge,ut);case b:return we=we.get(Ge.key===null?Ie:Ge.key)||null,Me(Se,we,Ge,ut);case k:var en=Ge._init;return Ge=en(Ge._payload),Fe(we,Se,Ie,Ge,ut)}if(Te(Ge)||ie(Ge))return we=we.get(Ie)||null,ze(Se,we,Ge,ut,null);if(typeof Ge.then=="function")return Fe(we,Se,Ie,fr(Ge),ut);if(Ge.$$typeof===N)return Fe(we,Se,Ie,qu(Se,Ge),ut);Ei(Se,Ge)}return null}function Dt(we,Se,Ie,Ge){for(var ut=null,en=null,bt=Se,Nt=Se=0,$r=null;bt!==null&&Nt<Ie.length;Nt++){bt.index>Nt?($r=bt,bt=null):$r=bt.sibling;var yn=Le(we,bt,Ie[Nt],Ge);if(yn===null){bt===null&&(bt=$r);break}a&&bt&&yn.alternate===null&&d(we,bt),Se=M(yn,Se,Nt),en===null?ut=yn:en.sibling=yn,en=yn,bt=$r}if(Nt===Ie.length)return y(we,bt),hn&&nl(we,Nt),ut;if(bt===null){for(;Nt<Ie.length;Nt++)bt=He(we,Ie[Nt],Ge),bt!==null&&(Se=M(bt,Se,Nt),en===null?ut=bt:en.sibling=bt,en=bt);return hn&&nl(we,Nt),ut}for(bt=S(bt);Nt<Ie.length;Nt++)$r=Fe(bt,we,Nt,Ie[Nt],Ge),$r!==null&&(a&&$r.alternate!==null&&bt.delete($r.key===null?Nt:$r.key),Se=M($r,Se,Nt),en===null?ut=$r:en.sibling=$r,en=$r);return a&&bt.forEach(function(_c){return d(we,_c)}),hn&&nl(we,Nt),ut}function Rt(we,Se,Ie,Ge){if(Ie==null)throw Error(r(151));for(var ut=null,en=null,bt=Se,Nt=Se=0,$r=null,yn=Ie.next();bt!==null&&!yn.done;Nt++,yn=Ie.next()){bt.index>Nt?($r=bt,bt=null):$r=bt.sibling;var _c=Le(we,bt,yn.value,Ge);if(_c===null){bt===null&&(bt=$r);break}a&&bt&&_c.alternate===null&&d(we,bt),Se=M(_c,Se,Nt),en===null?ut=_c:en.sibling=_c,en=_c,bt=$r}if(yn.done)return y(we,bt),hn&&nl(we,Nt),ut;if(bt===null){for(;!yn.done;Nt++,yn=Ie.next())yn=He(we,yn.value,Ge),yn!==null&&(Se=M(yn,Se,Nt),en===null?ut=yn:en.sibling=yn,en=yn);return hn&&nl(we,Nt),ut}for(bt=S(bt);!yn.done;Nt++,yn=Ie.next())yn=Fe(bt,we,Nt,yn.value,Ge),yn!==null&&(a&&yn.alternate!==null&&bt.delete(yn.key===null?Nt:yn.key),Se=M(yn,Se,Nt),en===null?ut=yn:en.sibling=yn,en=yn);return a&&bt.forEach(function(fj){return d(we,fj)}),hn&&nl(we,Nt),ut}function Bn(we,Se,Ie,Ge){if(typeof Ie=="object"&&Ie!==null&&Ie.type===E&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case x:e:{for(var ut=Ie.key;Se!==null;){if(Se.key===ut){if(ut=Ie.type,ut===E){if(Se.tag===7){y(we,Se.sibling),Ge=_(Se,Ie.props.children),Ge.return=we,we=Ge;break e}}else if(Se.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===k&&la(ut)===Se.type){y(we,Se.sibling),Ge=_(Se,Ie.props),Bi(Ge,Ie),Ge.return=we,we=Ge;break e}y(we,Se);break}else d(we,Se);Se=Se.sibling}Ie.type===E?(Ge=Zs(Ie.props.children,we.mode,Ge,Ie.key),Ge.return=we,we=Ge):(Ge=qh(Ie.type,Ie.key,Ie.props,null,we.mode,Ge),Bi(Ge,Ie),Ge.return=we,we=Ge)}return H(we);case b:e:{for(ut=Ie.key;Se!==null;){if(Se.key===ut)if(Se.tag===4&&Se.stateNode.containerInfo===Ie.containerInfo&&Se.stateNode.implementation===Ie.implementation){y(we,Se.sibling),Ge=_(Se,Ie.children||[]),Ge.return=we,we=Ge;break e}else{y(we,Se);break}else d(we,Se);Se=Se.sibling}Ge=mm(Ie,we.mode,Ge),Ge.return=we,we=Ge}return H(we);case k:return ut=Ie._init,Ie=ut(Ie._payload),Bn(we,Se,Ie,Ge)}if(Te(Ie))return Dt(we,Se,Ie,Ge);if(ie(Ie)){if(ut=ie(Ie),typeof ut!="function")throw Error(r(150));return Ie=ut.call(Ie),Rt(we,Se,Ie,Ge)}if(typeof Ie.then=="function")return Bn(we,Se,fr(Ie),Ge);if(Ie.$$typeof===N)return Bn(we,Se,qu(we,Ie),Ge);Ei(we,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,Se!==null&&Se.tag===6?(y(we,Se.sibling),Ge=_(Se,Ie),Ge.return=we,we=Ge):(y(we,Se),Ge=gm(Ie,we.mode,Ge),Ge.return=we,we=Ge),H(we)):y(we,Se)}return function(we,Se,Ie,Ge){try{ps=0;var ut=Bn(we,Se,Ie,Ge);return hs=null,ut}catch(bt){if(bt===Qu||bt===Lf)throw bt;var en=zr(29,bt,null,we.mode);return en.lanes=Ge,en.return=we,en}finally{}}}var ac=ji(!0),Dx=ji(!1),zi=oe(null),so=null;function ua(a){var d=a.alternate;z(_n,_n.current&1),z(zi,a),so===null&&(d===null||ia.current!==null||d.memoizedState!==null)&&(so=a)}function qm(a){if(a.tag===22){if(z(_n,_n.current),z(zi,a),so===null){var d=a.alternate;d!==null&&d.memoizedState!==null&&(so=a)}}else Un()}function Un(){z(_n,_n.current),z(zi,zi.current)}function Kr(a){pe(zi),so===a&&(so=null),pe(_n)}var _n=oe(0);function hp(a){for(var d=a;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||R0(y)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function dr(a,d,y,S){d=a.memoizedState,y=y(S,d),y=y==null?d:p({},d,y),a.memoizedState=y,a.lanes===0&&(a.updateQueue.baseState=y)}var Ro={enqueueSetState:function(a,d,y){a=a._reactInternals;var S=gr(),_=si(S);_.payload=d,y!=null&&(_.callback=y),d=ra(a,_,S),d!==null&&(Je(d,a,S),tc(d,a,S))},enqueueReplaceState:function(a,d,y){a=a._reactInternals;var S=gr(),_=si(S);_.tag=1,_.payload=d,y!=null&&(_.callback=y),d=ra(a,_,S),d!==null&&(Je(d,a,S),tc(d,a,S))},enqueueForceUpdate:function(a,d){a=a._reactInternals;var y=gr(),S=si(y);S.tag=2,d!=null&&(S.callback=d),d=ra(a,S,y),d!==null&&(Je(d,a,y),tc(d,a,y))}};function ll(a,d,y,S,_,M,H){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(S,M,H):d.prototype&&d.prototype.isPureReactComponent?!wf(y,S)||!wf(_,M):!0}function gs(a,d,y,S){a=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,S),d.state!==a&&Ro.enqueueReplaceState(d,d.state,null)}function Xr(a,d){var y=d;if("ref"in d){y={};for(var S in d)S!=="ref"&&(y[S]=d[S])}if(a=a.defaultProps){y===d&&(y=p({},y));for(var _ in a)y[_]===void 0&&(y[_]=a[_])}return y}var fi=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Km(a){fi(a)}function ul(a){console.error(a)}function To(a){fi(a)}function ca(a,d){try{var y=a.onUncaughtError;y(d.value,{componentStack:d.stack})}catch(S){setTimeout(function(){throw S})}}function Zr(a,d,y){try{var S=a.onCaughtError;S(y.value,{componentStack:y.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function No(a,d,y){return y=si(y),y.tag=3,y.payload={element:null},y.callback=function(){ca(a,d)},y}function lc(a){return a=si(a),a.tag=3,a}function Mx(a,d,y,S){var _=y.type.getDerivedStateFromError;if(typeof _=="function"){var M=S.value;a.payload=function(){return _(M)},a.callback=function(){Zr(d,y,S)}}var H=y.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(a.callback=function(){Zr(d,y,S),typeof _!="function"&&(co===null?co=new Set([this]):co.add(this));var ee=S.stack;this.componentDidCatch(S.value,{componentStack:ee!==null?ee:""})})}function J1(a,d,y,S,_){if(y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(d=y.alternate,d!==null&&Df(d,y,_,!0),y=zi.current,y!==null){switch(y.tag){case 13:return so===null?an():y.alternate===null&&$n===0&&($n=3),y.flags&=-257,y.flags|=65536,y.lanes=_,S===tp?y.flags|=16384:(d=y.updateQueue,d===null?y.updateQueue=new Set([S]):d.add(S),m0(a,S,_)),!1;case 22:return y.flags|=65536,S===tp?y.flags|=16384:(d=y.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([S])},y.updateQueue=d):(y=d.retryQueue,y===null?d.retryQueue=new Set([S]):y.add(S)),m0(a,S,_)),!1}throw Error(r(435,y.tag))}return m0(a,S,_),an(),!1}if(hn)return d=zi.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=_,S!==ym&&(a=Error(r(422),{cause:S}),Of(Fi(a,y)))):(S!==ym&&(d=Error(r(423),{cause:S}),Of(Fi(d,y))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,S=Fi(S,y),_=No(a.stateNode,S,_),Tm(a,_),$n!==4&&($n=2)),!1;var M=Error(r(520),{cause:S});if(M=Fi(M,y),mc===null?mc=[M]:mc.push(M),$n!==4&&($n=2),d===null)return!0;S=Fi(S,y),y=d;do{switch(y.tag){case 3:return y.flags|=65536,a=_&-_,y.lanes|=a,a=No(y.stateNode,S,a),Tm(y,a),!1;case 1:if(d=y.type,M=y.stateNode,(y.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(co===null||!co.has(M))))return y.flags|=65536,_&=-_,y.lanes|=_,_=lc(_),Mx(_,a,y,S),Tm(y,_),!1}y=y.return}while(y!==null);return!1}var ao=Error(r(461)),Zn=!1;function Rr(a,d,y,S){d.child=a===null?Dx(d,null,y,S):ac(d,a.child,y,S)}function Px(a,d,y,S,_){y=y.render;var M=d.ref;if("ref"in S){var H={};for(var ee in S)ee!=="ref"&&(H[ee]=S[ee])}else H=S;return ta(d),S=Om(a,d,y,H,M,_),ee=sp(),a!==null&&!Zn?(Dm(a,d,_),ms(a,d,_)):(hn&&ee&&vm(d),d.flags|=1,Rr(a,d,S,_),d.child)}function Jn(a,d,y,S,_){if(a===null){var M=y.type;return typeof M=="function"&&!Nf(M)&&M.defaultProps===void 0&&y.compare===null?(d.tag=15,d.type=M,Xm(a,d,M,S,_)):(a=qh(y.type,null,S,d,d.mode,_),a.ref=d.ref,a.return=d,d.child=a)}if(M=a.child,!fa(a,_)){var H=M.memoizedProps;if(y=y.compare,y=y!==null?y:wf,y(H,S)&&a.ref===d.ref)return ms(a,d,_)}return d.flags|=1,a=ki(M,S),a.ref=d.ref,a.return=d,d.child=a}function Xm(a,d,y,S,_){if(a!==null){var M=a.memoizedProps;if(wf(M,S)&&a.ref===d.ref)if(Zn=!1,d.pendingProps=S=M,fa(a,_))(a.flags&131072)!==0&&(Zn=!0);else return d.lanes=a.lanes,ms(a,d,_)}return pp(a,d,y,S,_)}function Zm(a,d,y){var S=d.pendingProps,_=S.children,M=a!==null?a.memoizedState:null;if(S.mode==="hidden"){if((d.flags&128)!==0){if(S=M!==null?M.baseLanes|y:y,a!==null){for(_=d.child=a.child,M=0;_!==null;)M=M|_.lanes|_.childLanes,_=_.sibling;d.childLanes=M&~S}else d.childLanes=0,d.child=null;return Gf(a,d,S,y)}if((y&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},a!==null&&Pf(d,M!==null?M.cachePool:null),M!==null?wx(d,M):Nm(),qm(d);else return d.lanes=d.childLanes=536870912,Gf(a,d,M!==null?M.baseLanes|y:y,y)}else M!==null?(Pf(d,M.cachePool),wx(d,M),Un(),d.memoizedState=null):(a!==null&&Pf(d,null),Nm(),Un());return Rr(a,d,_,y),d.child}function Gf(a,d,y,S){var _=ep();return _=_===null?null:{parent:ar._currentValue,pool:_},d.memoizedState={baseLanes:y,cachePool:_},a!==null&&Pf(d,null),Nm(),qm(d),a!==null&&Df(a,d,S,!0),null}function uc(a,d){var y=d.ref;if(y===null)a!==null&&a.ref!==null&&(d.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(a===null||a.ref!==y)&&(d.flags|=4194816)}}function pp(a,d,y,S,_){return ta(d),y=Om(a,d,y,S,void 0,_),S=sp(),a!==null&&!Zn?(Dm(a,d,_),ms(a,d,_)):(hn&&S&&vm(d),d.flags|=1,Rr(a,d,y,_),d.child)}function Lx(a,d,y,S,_,M){return ta(d),d.updateQueue=null,y=Tx(d,S,y,_),Rx(a),S=sp(),a!==null&&!Zn?(Dm(a,d,M),ms(a,d,M)):(hn&&S&&vm(d),d.flags|=1,Rr(a,d,y,M),d.child)}function Fx(a,d,y,S,_){if(ta(d),d.stateNode===null){var M=$u,H=y.contextType;typeof H=="object"&&H!==null&&(M=Ar(H)),M=new y(S,M),d.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=Ro,d.stateNode=M,M._reactInternals=d,M=d.stateNode,M.props=S,M.state=d.memoizedState,M.refs={},Rm(d),H=y.contextType,M.context=typeof H=="object"&&H!==null?Ar(H):$u,M.state=d.memoizedState,H=y.getDerivedStateFromProps,typeof H=="function"&&(dr(d,y,H,S),M.state=d.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(H=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),H!==M.state&&Ro.enqueueReplaceState(M,M.state,null),kf(d,S,M,_),Ff(),M.state=d.memoizedState),typeof M.componentDidMount=="function"&&(d.flags|=4194308),S=!0}else if(a===null){M=d.stateNode;var ee=d.memoizedProps,fe=Xr(y,ee);M.props=fe;var Me=M.context,ze=y.contextType;H=$u,typeof ze=="object"&&ze!==null&&(H=Ar(ze));var He=y.getDerivedStateFromProps;ze=typeof He=="function"||typeof M.getSnapshotBeforeUpdate=="function",ee=d.pendingProps!==ee,ze||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ee||Me!==H)&&gs(d,M,S,H),as=!1;var Le=d.memoizedState;M.state=Le,kf(d,S,M,_),Ff(),Me=d.memoizedState,ee||Le!==Me||as?(typeof He=="function"&&(dr(d,y,He,S),Me=d.memoizedState),(fe=as||ll(d,y,fe,S,Le,Me,H))?(ze||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(d.flags|=4194308)):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=Me),M.props=S,M.state=Me,M.context=H,S=fe):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{M=d.stateNode,rp(a,d),H=d.memoizedProps,ze=Xr(y,H),M.props=ze,He=d.pendingProps,Le=M.context,Me=y.contextType,fe=$u,typeof Me=="object"&&Me!==null&&(fe=Ar(Me)),ee=y.getDerivedStateFromProps,(Me=typeof ee=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==He||Le!==fe)&&gs(d,M,S,fe),as=!1,Le=d.memoizedState,M.state=Le,kf(d,S,M,_),Ff();var Fe=d.memoizedState;H!==He||Le!==Fe||as||a!==null&&a.dependencies!==null&&Qh(a.dependencies)?(typeof ee=="function"&&(dr(d,y,ee,S),Fe=d.memoizedState),(ze=as||ll(d,y,ze,S,Le,Fe,fe)||a!==null&&a.dependencies!==null&&Qh(a.dependencies))?(Me||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(S,Fe,fe),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(S,Fe,fe)),typeof M.componentDidUpdate=="function"&&(d.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof M.componentDidUpdate!="function"||H===a.memoizedProps&&Le===a.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&Le===a.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=Fe),M.props=S,M.state=Fe,M.context=fe,S=ze):(typeof M.componentDidUpdate!="function"||H===a.memoizedProps&&Le===a.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&Le===a.memoizedState||(d.flags|=1024),S=!1)}return M=S,uc(a,d),S=(d.flags&128)!==0,M||S?(M=d.stateNode,y=S&&typeof y.getDerivedStateFromError!="function"?null:M.render(),d.flags|=1,a!==null&&S?(d.child=ac(d,a.child,null,_),d.child=ac(d,null,y,_)):Rr(a,d,y,_),d.memoizedState=M.state,a=d.child):a=ms(a,d,_),a}function Ui(a,d,y,S){return Yu(),d.flags|=256,Rr(a,d,y,S),d.child}var hr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jr(a){return{baseLanes:a,cachePool:bx()}}function $f(a,d,y){return a=a!==null?a.childLanes&~y:0,d&&(a|=Gi),a}function gp(a,d,y){var S=d.pendingProps,_=!1,M=(d.flags&128)!==0,H;if((H=M)||(H=a!==null&&a.memoizedState===null?!1:(_n.current&2)!==0),H&&(_=!0,d.flags&=-129),H=(d.flags&32)!==0,d.flags&=-33,a===null){if(hn){if(_?ua(d):Un(),hn){var ee=Xn,fe;if(fe=ee){e:{for(fe=ee,ee=eo;fe.nodeType!==8;){if(!ee){ee=null;break e}if(fe=Hi(fe.nextSibling),fe===null){ee=null;break e}}ee=fe}ee!==null?(d.memoizedState={dehydrated:ee,treeContext:Js!==null?{id:Eo,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},fe=zr(18,null,null,0),fe.stateNode=ee,fe.return=d,d.child=fe,Yr=d,Xn=null,fe=!0):fe=!1}fe||to(d)}if(ee=d.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null))return R0(ee)?d.lanes=32:d.lanes=536870912,null;Kr(d)}return ee=S.children,S=S.fallback,_?(Un(),_=d.mode,ee=Vr({mode:"hidden",children:ee},_),S=Zs(S,_,y,null),ee.return=d,S.return=d,ee.sibling=S,d.child=ee,_=d.child,_.memoizedState=Jr(y),_.childLanes=$f(a,H,y),d.memoizedState=hr,S):(ua(d),mp(d,ee))}if(fe=a.memoizedState,fe!==null&&(ee=fe.dehydrated,ee!==null)){if(M)d.flags&256?(ua(d),d.flags&=-257,d=cl(a,d,y)):d.memoizedState!==null?(Un(),d.child=a.child,d.flags|=128,d=null):(Un(),_=S.fallback,ee=d.mode,S=Vr({mode:"visible",children:S.children},ee),_=Zs(_,ee,y,null),_.flags|=2,S.return=d,_.return=d,S.sibling=_,d.child=S,ac(d,a.child,null,y),S=d.child,S.memoizedState=Jr(y),S.childLanes=$f(a,H,y),d.memoizedState=hr,d=_);else if(ua(d),R0(ee)){if(H=ee.nextSibling&&ee.nextSibling.dataset,H)var Me=H.dgst;H=Me,S=Error(r(419)),S.stack="",S.digest=H,Of({value:S,source:null,stack:null}),d=cl(a,d,y)}else if(Zn||Df(a,d,y,!1),H=(y&a.childLanes)!==0,Zn||H){if(H=kn,H!==null&&(S=y&-y,S=(S&42)!==0?1:tn(S),S=(S&(H.suspendedLanes|y))!==0?0:S,S!==0&&S!==fe.retryLane))throw fe.retryLane=S,Gu(a,S),Je(H,a,S),ao;ee.data==="$?"||an(),d=cl(a,d,y)}else ee.data==="$?"?(d.flags|=192,d.child=a.child,d=null):(a=fe.treeContext,Xn=Hi(ee.nextSibling),Yr=d,hn=!0,Qs=null,eo=!1,a!==null&&(Si[oi++]=Eo,Si[oi++]=Zt,Si[oi++]=Js,Eo=a.id,Zt=a.overflow,Js=d),d=mp(d,S.children),d.flags|=4096);return d}return _?(Un(),_=S.fallback,ee=d.mode,fe=a.child,Me=fe.sibling,S=ki(fe,{mode:"hidden",children:S.children}),S.subtreeFlags=fe.subtreeFlags&65011712,Me!==null?_=ki(Me,_):(_=Zs(_,ee,y,null),_.flags|=2),_.return=d,S.return=d,S.sibling=_,d.child=S,S=_,_=d.child,ee=a.child.memoizedState,ee===null?ee=Jr(y):(fe=ee.cachePool,fe!==null?(Me=ar._currentValue,fe=fe.parent!==Me?{parent:Me,pool:Me}:fe):fe=bx(),ee={baseLanes:ee.baseLanes|y,cachePool:fe}),_.memoizedState=ee,_.childLanes=$f(a,H,y),d.memoizedState=hr,S):(ua(d),y=a.child,a=y.sibling,y=ki(y,{mode:"visible",children:S.children}),y.return=d,y.sibling=null,a!==null&&(H=d.deletions,H===null?(d.deletions=[a],d.flags|=16):H.push(a)),d.child=y,d.memoizedState=null,y)}function mp(a,d){return d=Vr({mode:"visible",children:d},a.mode),d.return=a,a.child=d}function Vr(a,d){return a=zr(22,a,null,d),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function cl(a,d,y){return ac(d,a.child,null,y),a=mp(d,d.pendingProps.children),a.flags|=2,d.memoizedState=null,a}function fl(a,d,y){a.lanes|=d;var S=a.alternate;S!==null&&(S.lanes|=d),bm(a.return,d,y)}function vp(a,d,y,S,_){var M=a.memoizedState;M===null?a.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:_}:(M.isBackwards=d,M.rendering=null,M.renderingStartTime=0,M.last=S,M.tail=y,M.tailMode=_)}function Vi(a,d,y){var S=d.pendingProps,_=S.revealOrder,M=S.tail;if(Rr(a,d,S.children,y),S=_n.current,(S&2)!==0)S=S&1|2,d.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=d.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fl(a,y,d);else if(a.tag===19)fl(a,y,d);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===d)break e;for(;a.sibling===null;){if(a.return===null||a.return===d)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}S&=1}switch(z(_n,S),_){case"forwards":for(y=d.child,_=null;y!==null;)a=y.alternate,a!==null&&hp(a)===null&&(_=y),y=y.sibling;y=_,y===null?(_=d.child,d.child=null):(_=y.sibling,y.sibling=null),vp(d,!1,_,y,M);break;case"backwards":for(y=null,_=d.child,d.child=null;_!==null;){if(a=_.alternate,a!==null&&hp(a)===null){d.child=_;break}a=_.sibling,_.sibling=y,y=_,_=a}vp(d,!0,y,null,M);break;case"together":vp(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ms(a,d,y){if(a!==null&&(d.dependencies=a.dependencies),Po|=d.lanes,(y&d.childLanes)===0)if(a!==null){if(Df(a,d,y,!1),(y&d.childLanes)===0)return null}else return null;if(a!==null&&d.child!==a.child)throw Error(r(153));if(d.child!==null){for(a=d.child,y=ki(a,a.pendingProps),d.child=y,y.return=d;a.sibling!==null;)a=a.sibling,y=y.sibling=ki(a,a.pendingProps),y.return=d;y.sibling=null}return d.child}function fa(a,d){return(a.lanes&d)!==0?!0:(a=a.dependencies,!!(a!==null&&Qh(a)))}function yp(a,d,y){switch(d.tag){case 3:X(d,d.stateNode.containerInfo),ea(d,ar,a.memoizedState.cache),Yu();break;case 27:case 5:se(d);break;case 4:X(d,d.stateNode.containerInfo);break;case 10:ea(d,d.type,d.memoizedProps.value);break;case 13:var S=d.memoizedState;if(S!==null)return S.dehydrated!==null?(ua(d),d.flags|=128,null):(y&d.child.childLanes)!==0?gp(a,d,y):(ua(d),a=ms(a,d,y),a!==null?a.sibling:null);ua(d);break;case 19:var _=(a.flags&128)!==0;if(S=(y&d.childLanes)!==0,S||(Df(a,d,y,!1),S=(y&d.childLanes)!==0),_){if(S)return Vi(a,d,y);d.flags|=128}if(_=d.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),z(_n,_n.current),S)break;return null;case 22:case 23:return d.lanes=0,Zm(a,d,y);case 24:ea(d,ar,a.memoizedState.cache)}return ms(a,d,y)}function dl(a,d,y){if(a!==null)if(a.memoizedProps!==d.pendingProps)Zn=!0;else{if(!fa(a,y)&&(d.flags&128)===0)return Zn=!1,yp(a,d,y);Zn=(a.flags&131072)!==0}else Zn=!1,hn&&(d.flags&1048576)!==0&&mx(d,Xh,d.index);switch(d.lanes=0,d.tag){case 16:e:{a=d.pendingProps;var S=d.elementType,_=S._init;if(S=_(S._payload),d.type=S,typeof S=="function")Nf(S)?(a=Xr(S,a),d.tag=1,d=Fx(null,d,S,a,y)):(d.tag=0,d=pp(null,d,S,a,y));else{if(S!=null){if(_=S.$$typeof,_===D){d.tag=11,d=Px(null,d,S,a,y);break e}else if(_===j){d.tag=14,d=Jn(null,d,S,a,y);break e}}throw d=De(S)||S,Error(r(306,d,""))}}return d;case 0:return pp(a,d,d.type,d.pendingProps,y);case 1:return S=d.type,_=Xr(S,d.pendingProps),Fx(a,d,S,_,y);case 3:e:{if(X(d,d.stateNode.containerInfo),a===null)throw Error(r(387));S=d.pendingProps;var M=d.memoizedState;_=M.element,rp(a,d),kf(d,S,null,y);var H=d.memoizedState;if(S=H.cache,ea(d,ar,S),S!==M.cache&&Jh(d,[ar],y,!0),Ff(),S=H.element,M.isDehydrated)if(M={element:S,isDehydrated:!1,cache:H.cache},d.updateQueue.baseState=M,d.memoizedState=M,d.flags&256){d=Ui(a,d,S,y);break e}else if(S!==_){_=Fi(Error(r(424)),d),Of(_),d=Ui(a,d,S,y);break e}else{switch(a=d.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Xn=Hi(a.firstChild),Yr=d,hn=!0,Qs=null,eo=!0,y=Dx(d,null,S,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(Yu(),S===_){d=ms(a,d,y);break e}Rr(a,d,S,y)}d=d.child}return d;case 26:return uc(a,d),a===null?(y=v(d.type,null,d.pendingProps,null))?d.memoizedState=y:hn||(y=d.type,a=d.pendingProps,S=Jf(W.current).createElement(y),S[dn]=d,S[Ft]=a,br(S,y,a),sr(S),d.stateNode=S):d.memoizedState=v(d.type,a.memoizedProps,d.pendingProps,a.memoizedState),null;case 27:return se(d),a===null&&hn&&(S=d.stateNode=db(d.type,d.pendingProps,W.current),Yr=d,eo=!0,_=Xn,_r(d.type)?(Ec=_,Xn=Hi(S.firstChild)):Xn=_),Rr(a,d,d.pendingProps.children,y),uc(a,d),a===null&&(d.flags|=4194304),d.child;case 5:return a===null&&hn&&((_=S=Xn)&&(S=gA(S,d.type,d.pendingProps,eo),S!==null?(d.stateNode=S,Yr=d,Xn=Hi(S.firstChild),eo=!1,_=!0):_=!1),_||to(d)),se(d),_=d.type,M=d.pendingProps,H=a!==null?a.memoizedProps:null,S=M.children,sb(_,M)?S=null:H!==null&&sb(_,H)&&(d.flags|=32),d.memoizedState!==null&&(_=Om(a,d,K1,null,null,y),Cc._currentValue=_),uc(a,d),Rr(a,d,S,y),d.child;case 6:return a===null&&hn&&((a=y=Xn)&&(y=mA(y,d.pendingProps,eo),y!==null?(d.stateNode=y,Yr=d,Xn=null,a=!0):a=!1),a||to(d)),null;case 13:return gp(a,d,y);case 4:return X(d,d.stateNode.containerInfo),S=d.pendingProps,a===null?d.child=ac(d,null,S,y):Rr(a,d,S,y),d.child;case 11:return Px(a,d,d.type,d.pendingProps,y);case 7:return Rr(a,d,d.pendingProps,y),d.child;case 8:return Rr(a,d,d.pendingProps.children,y),d.child;case 12:return Rr(a,d,d.pendingProps.children,y),d.child;case 10:return S=d.pendingProps,ea(d,d.type,S.value),Rr(a,d,S.children,y),d.child;case 9:return _=d.type._context,S=d.pendingProps.children,ta(d),_=Ar(_),S=S(_),d.flags|=1,Rr(a,d,S,y),d.child;case 14:return Jn(a,d,d.type,d.pendingProps,y);case 15:return Xm(a,d,d.type,d.pendingProps,y);case 19:return Vi(a,d,y);case 31:return S=d.pendingProps,y=d.mode,S={mode:S.mode,children:S.children},a===null?(y=Vr(S,y),y.ref=d.ref,d.child=y,y.return=d,d=y):(y=ki(a.child,S),y.ref=d.ref,d.child=y,y.return=d,d=y),d;case 22:return Zm(a,d,y);case 24:return ta(d),S=Ar(ar),a===null?(_=ep(),_===null&&(_=kn,M=Am(),_.pooledCache=M,M.refCount++,M!==null&&(_.pooledCacheLanes|=y),_=M),d.memoizedState={parent:S,cache:_},Rm(d),ea(d,ar,_)):((a.lanes&y)!==0&&(rp(a,d),kf(d,null,null,y),Ff()),_=a.memoizedState,M=d.memoizedState,_.parent!==S?(_={parent:S,cache:S},d.memoizedState=_,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=_),ea(d,ar,S)):(S=M.cache,ea(d,ar,S),S!==_.cache&&Jh(d,[ar],y,!0))),Rr(a,d,d.pendingProps.children,y),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function vs(a){a.flags|=4}function Jm(a,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!ln(d)){if(d=zi.current,d!==null&&((rn&4194048)===rn?so!==null:(rn&62914560)!==rn&&(rn&536870912)===0||d!==so))throw ec=tp,Sx;a.flags|=8192}}function Ci(a,d){d!==null&&(a.flags|=4),a.flags&16384&&(d=a.tag!==22?zn():536870912,a.lanes|=d,gc|=d)}function yr(a,d){if(!hn)switch(a.tailMode){case"hidden":d=a.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?a.tail=null:y.sibling=null;break;case"collapsed":y=a.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?d||a.tail===null?a.tail=null:a.tail.sibling=null:S.sibling=null}}function In(a){var d=a.alternate!==null&&a.alternate.child===a.child,y=0,S=0;if(d)for(var _=a.child;_!==null;)y|=_.lanes|_.childLanes,S|=_.subtreeFlags&65011712,S|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)y|=_.lanes|_.childLanes,S|=_.subtreeFlags,S|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=S,a.childLanes=y,d}function ys(a,d,y){var S=d.pendingProps;switch(Zh(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(d),null;case 1:return In(d),null;case 3:return y=d.stateNode,S=null,a!==null&&(S=a.memoizedState.cache),d.memoizedState.cache!==S&&(d.flags|=2048),ss(ar),J(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(If(d)?vs(d):a===null||a.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,rl())),In(d),null;case 26:return y=d.memoizedState,a===null?(vs(d),y!==null?(In(d),Jm(d,y)):(In(d),d.flags&=-16777217)):y?y!==a.memoizedState?(vs(d),In(d),Jm(d,y)):(In(d),d.flags&=-16777217):(a.memoizedProps!==S&&vs(d),In(d),d.flags&=-16777217),null;case 27:xe(d),y=W.current;var _=d.type;if(a!==null&&d.stateNode!=null)a.memoizedProps!==S&&vs(d);else{if(!S){if(d.stateNode===null)throw Error(r(166));return In(d),null}a=U.current,If(d)?vx(d):(a=db(_,S,y),d.stateNode=a,vs(d))}return In(d),null;case 5:if(xe(d),y=d.type,a!==null&&d.stateNode!=null)a.memoizedProps!==S&&vs(d);else{if(!S){if(d.stateNode===null)throw Error(r(166));return In(d),null}if(a=U.current,If(d))vx(d);else{switch(_=Jf(W.current),a){case 1:a=_.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:a=_.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":a=_.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":a=_.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":a=_.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof S.is=="string"?_.createElement("select",{is:S.is}):_.createElement("select"),S.multiple?a.multiple=!0:S.size&&(a.size=S.size);break;default:a=typeof S.is=="string"?_.createElement(y,{is:S.is}):_.createElement(y)}}a[dn]=d,a[Ft]=S;e:for(_=d.child;_!==null;){if(_.tag===5||_.tag===6)a.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===d)break e;for(;_.sibling===null;){if(_.return===null||_.return===d)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}d.stateNode=a;e:switch(br(a,y,S),y){case"button":case"input":case"select":case"textarea":a=!!S.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&vs(d)}}return In(d),d.flags&=-16777217,null;case 6:if(a&&d.stateNode!=null)a.memoizedProps!==S&&vs(d);else{if(typeof S!="string"&&d.stateNode===null)throw Error(r(166));if(a=W.current,If(d)){if(a=d.stateNode,y=d.memoizedProps,S=null,_=Yr,_!==null)switch(_.tag){case 27:case 5:S=_.memoizedProps}a[dn]=d,a=!!(a.nodeValue===y||S!==null&&S.suppressHydrationWarning===!0||ib(a.nodeValue,y)),a||to(d)}else a=Jf(a).createTextNode(S),a[dn]=d,d.stateNode=a}return In(d),null;case 13:if(S=d.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=If(d),S!==null&&S.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=d.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[dn]=d}else Yu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;In(d),_=!1}else _=rl(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return d.flags&256?(Kr(d),d):(Kr(d),null)}if(Kr(d),(d.flags&128)!==0)return d.lanes=y,d;if(y=S!==null,a=a!==null&&a.memoizedState!==null,y){S=d.child,_=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(_=S.alternate.memoizedState.cachePool.pool);var M=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(M=S.memoizedState.cachePool.pool),M!==_&&(S.flags|=2048)}return y!==a&&y&&(d.child.flags|=8192),Ci(d,d.updateQueue),In(d),null;case 4:return J(),a===null&&Xf(d.stateNode.containerInfo),In(d),null;case 10:return ss(d.type),In(d),null;case 19:if(pe(_n),_=d.memoizedState,_===null)return In(d),null;if(S=(d.flags&128)!==0,M=_.rendering,M===null)if(S)yr(_,!1);else{if($n!==0||a!==null&&(a.flags&128)!==0)for(a=d.child;a!==null;){if(M=hp(a),M!==null){for(d.flags|=128,yr(_,!1),a=M.updateQueue,d.updateQueue=a,Ci(d,a),d.subtreeFlags=0,a=y,y=d.child;y!==null;)_f(y,a),y=y.sibling;return z(_n,_n.current&1|2),d.child}a=a.sibling}_.tail!==null&&je()>Cp&&(d.flags|=128,S=!0,yr(_,!1),d.lanes=4194304)}else{if(!S)if(a=hp(M),a!==null){if(d.flags|=128,S=!0,a=a.updateQueue,d.updateQueue=a,Ci(d,a),yr(_,!0),_.tail===null&&_.tailMode==="hidden"&&!M.alternate&&!hn)return In(d),null}else 2*je()-_.renderingStartTime>Cp&&y!==536870912&&(d.flags|=128,S=!0,yr(_,!1),d.lanes=4194304);_.isBackwards?(M.sibling=d.child,d.child=M):(a=_.last,a!==null?a.sibling=M:d.child=M,_.last=M)}return _.tail!==null?(d=_.tail,_.rendering=d,_.tail=d.sibling,_.renderingStartTime=je(),d.sibling=null,a=_n.current,z(_n,S?a&1|2:a&1),d):(In(d),null);case 22:case 23:return Kr(d),_m(),S=d.memoizedState!==null,a!==null?a.memoizedState!==null!==S&&(d.flags|=8192):S&&(d.flags|=8192),S?(y&536870912)!==0&&(d.flags&128)===0&&(In(d),d.subtreeFlags&6&&(d.flags|=8192)):In(d),y=d.updateQueue,y!==null&&Ci(d,y.retryQueue),y=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(y=a.memoizedState.cachePool.pool),S=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(S=d.memoizedState.cachePool.pool),S!==y&&(d.flags|=2048),a!==null&&pe(na),null;case 24:return y=null,a!==null&&(y=a.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),ss(ar),In(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function xs(a,d){switch(Zh(d),d.tag){case 1:return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 3:return ss(ar),J(),a=d.flags,(a&65536)!==0&&(a&128)===0?(d.flags=a&-65537|128,d):null;case 26:case 27:case 5:return xe(d),null;case 13:if(Kr(d),a=d.memoizedState,a!==null&&a.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Yu()}return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 19:return pe(_n),null;case 4:return J(),null;case 10:return ss(d.type),null;case 22:case 23:return Kr(d),_m(),a!==null&&pe(na),a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 24:return ss(ar),null;case 25:return null;default:return null}}function kx(a,d){switch(Zh(d),d.tag){case 3:ss(ar),J();break;case 26:case 27:case 5:xe(d);break;case 4:J();break;case 13:Kr(d);break;case 19:pe(_n);break;case 10:ss(d.type);break;case 22:case 23:Kr(d),_m(),a!==null&&pe(na);break;case 24:ss(ar)}}function Hf(a,d){try{var y=d.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var _=S.next;y=_;do{if((y.tag&a)===a){S=void 0;var M=y.create,H=y.inst;S=M(),H.destroy=S}y=y.next}while(y!==_)}}catch(ee){On(d,d.return,ee)}}function da(a,d,y){try{var S=d.updateQueue,_=S!==null?S.lastEffect:null;if(_!==null){var M=_.next;S=M;do{if((S.tag&a)===a){var H=S.inst,ee=H.destroy;if(ee!==void 0){H.destroy=void 0,_=d;var fe=y,Me=ee;try{Me()}catch(ze){On(_,fe,ze)}}}S=S.next}while(S!==M)}}catch(ze){On(d,d.return,ze)}}function xp(a){var d=a.updateQueue;if(d!==null){var y=a.stateNode;try{ip(d,y)}catch(S){On(a,a.return,S)}}}function vt(a,d,y){y.props=Xr(a.type,a.memoizedProps),y.state=a.memoizedState;try{y.componentWillUnmount()}catch(S){On(a,d,S)}}function hl(a,d){try{var y=a.ref;if(y!==null){switch(a.tag){case 26:case 27:case 5:var S=a.stateNode;break;case 30:S=a.stateNode;break;default:S=a.stateNode}typeof y=="function"?a.refCleanup=y(S):y.current=S}}catch(_){On(a,d,_)}}function lo(a,d){var y=a.ref,S=a.refCleanup;if(y!==null)if(typeof S=="function")try{S()}catch(_){On(a,d,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(_){On(a,d,_)}else y.current=null}function Qm(a){var d=a.type,y=a.memoizedProps,S=a.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":y.autoFocus&&S.focus();break e;case"img":y.src?S.src=y.src:y.srcSet&&(S.srcset=y.srcSet)}}catch(_){On(a,a.return,_)}}function cc(a,d,y){try{var S=a.stateNode;dA(S,a.type,y,d),S[Ft]=d}catch(_){On(a,a.return,_)}}function Bx(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&_r(a.type)||a.tag===4}function fc(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Bx(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&_r(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function dc(a,d,y){var S=a.tag;if(S===5||S===6)a=a.stateNode,d?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(a,d):(d=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,d.appendChild(a),y=y._reactRootContainer,y!=null||d.onclick!==null||(d.onclick=Fp));else if(S!==4&&(S===27&&_r(a.type)&&(y=a.stateNode,d=null),a=a.child,a!==null))for(dc(a,d,y),a=a.sibling;a!==null;)dc(a,d,y),a=a.sibling}function ha(a,d,y){var S=a.tag;if(S===5||S===6)a=a.stateNode,d?y.insertBefore(a,d):y.appendChild(a);else if(S!==4&&(S===27&&_r(a.type)&&(y=a.stateNode),a=a.child,a!==null))for(ha(a,d,y),a=a.sibling;a!==null;)ha(a,d,y),a=a.sibling}function bp(a){var d=a.stateNode,y=a.memoizedProps;try{for(var S=a.type,_=d.attributes;_.length;)d.removeAttributeNode(_[0]);br(d,S,y),d[dn]=a,d[Ft]=y}catch(M){On(a,a.return,M)}}var bs=!1,rr=!1,e0=!1,jx=typeof WeakSet=="function"?WeakSet:Set,xr=null;function Q1(a,d){if(a=a.containerInfo,A0=vb,a=cx(a),cm(a)){if("selectionStart"in a)var y={start:a.selectionStart,end:a.selectionEnd};else e:{y=(y=a.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var _=S.anchorOffset,M=S.focusNode;S=S.focusOffset;try{y.nodeType,M.nodeType}catch{y=null;break e}var H=0,ee=-1,fe=-1,Me=0,ze=0,He=a,Le=null;t:for(;;){for(var Fe;He!==y||_!==0&&He.nodeType!==3||(ee=H+_),He!==M||S!==0&&He.nodeType!==3||(fe=H+S),He.nodeType===3&&(H+=He.nodeValue.length),(Fe=He.firstChild)!==null;)Le=He,He=Fe;for(;;){if(He===a)break t;if(Le===y&&++Me===_&&(ee=H),Le===M&&++ze===S&&(fe=H),(Fe=He.nextSibling)!==null)break;He=Le,Le=He.parentNode}He=Fe}y=ee===-1||fe===-1?null:{start:ee,end:fe}}else y=null}y=y||{start:0,end:0}}else y=null;for(kp={focusedElem:a,selectionRange:y},vb=!1,xr=d;xr!==null;)if(d=xr,a=d.child,(d.subtreeFlags&1024)!==0&&a!==null)a.return=d,xr=a;else for(;xr!==null;){switch(d=xr,M=d.alternate,a=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&M!==null){a=void 0,y=d,_=M.memoizedProps,M=M.memoizedState,S=y.stateNode;try{var Dt=Xr(y.type,_,y.elementType===y.type);a=S.getSnapshotBeforeUpdate(Dt,M),S.__reactInternalSnapshotBeforeUpdate=a}catch(Rt){On(y,y.return,Rt)}}break;case 3:if((a&1024)!==0){if(a=d.stateNode.containerInfo,y=a.nodeType,y===9)Bp(a);else if(y===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Bp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=d.sibling,a!==null){a.return=d.return,xr=a;break}xr=d.return}}function zx(a,d,y){var S=y.flags;switch(y.tag){case 0:case 11:case 15:Io(a,y),S&4&&Hf(5,y);break;case 1:if(Io(a,y),S&4)if(a=y.stateNode,d===null)try{a.componentDidMount()}catch(H){On(y,y.return,H)}else{var _=Xr(y.type,d.memoizedProps);d=d.memoizedState;try{a.componentDidUpdate(_,d,a.__reactInternalSnapshotBeforeUpdate)}catch(H){On(y,y.return,H)}}S&64&&xp(y),S&512&&hl(y,y.return);break;case 3:if(Io(a,y),S&64&&(a=y.updateQueue,a!==null)){if(d=null,y.child!==null)switch(y.child.tag){case 27:case 5:d=y.child.stateNode;break;case 1:d=y.child.stateNode}try{ip(a,d)}catch(H){On(y,y.return,H)}}break;case 27:d===null&&S&4&&bp(y);case 26:case 5:Io(a,y),d===null&&S&4&&Qm(y),S&512&&hl(y,y.return);break;case 12:Io(a,y);break;case 13:Io(a,y),S&4&&Gx(a,y),S&64&&(a=y.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(y=sA.bind(null,y),cb(a,y))));break;case 22:if(S=y.memoizedState!==null||bs,!S){d=d!==null&&d.memoizedState!==null||rr,_=bs;var M=rr;bs=S,(rr=d)&&!M?Oo(a,y,(y.subtreeFlags&8772)!==0):Io(a,y),bs=_,rr=M}break;case 30:break;default:Io(a,y)}}function Ux(a){var d=a.alternate;d!==null&&(a.alternate=null,Ux(d)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(d=a.stateNode,d!==null&&Vg(d)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Fn=null,di=!1;function _o(a,d,y){for(y=y.child;y!==null;)Vx(a,d,y),y=y.sibling}function Vx(a,d,y){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(qe,y)}catch{}switch(y.tag){case 26:rr||lo(y,d),_o(a,d,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:rr||lo(y,d);var S=Fn,_=di;_r(y.type)&&(Fn=y.stateNode,di=!1),_o(a,d,y),Qf(y.stateNode),Fn=S,di=_;break;case 5:rr||lo(y,d);case 6:if(S=Fn,_=di,Fn=null,_o(a,d,y),Fn=S,di=_,Fn!==null)if(di)try{(Fn.nodeType===9?Fn.body:Fn.nodeName==="HTML"?Fn.ownerDocument.body:Fn).removeChild(y.stateNode)}catch(M){On(y,d,M)}else try{Fn.removeChild(y.stateNode)}catch(M){On(y,d,M)}break;case 18:Fn!==null&&(di?(a=Fn,w0(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,y.stateNode),I0(a)):w0(Fn,y.stateNode));break;case 4:S=Fn,_=di,Fn=y.stateNode.containerInfo,di=!0,_o(a,d,y),Fn=S,di=_;break;case 0:case 11:case 14:case 15:rr||da(2,y,d),rr||da(4,y,d),_o(a,d,y);break;case 1:rr||(lo(y,d),S=y.stateNode,typeof S.componentWillUnmount=="function"&&vt(y,d,S)),_o(a,d,y);break;case 21:_o(a,d,y);break;case 22:rr=(S=rr)||y.memoizedState!==null,_o(a,d,y),rr=S;break;default:_o(a,d,y)}}function Gx(a,d){if(d.memoizedState===null&&(a=d.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{I0(a)}catch(y){On(d,d.return,y)}}function eA(a){switch(a.tag){case 13:case 19:var d=a.stateNode;return d===null&&(d=a.stateNode=new jx),d;case 22:return a=a.stateNode,d=a._retryCache,d===null&&(d=a._retryCache=new jx),d;default:throw Error(r(435,a.tag))}}function Sp(a,d){var y=eA(a);d.forEach(function(S){var _=aA.bind(null,a,S);y.has(S)||(y.add(S),S.then(_,_))})}function Qr(a,d){var y=d.deletions;if(y!==null)for(var S=0;S<y.length;S++){var _=y[S],M=a,H=d,ee=H;e:for(;ee!==null;){switch(ee.tag){case 27:if(_r(ee.type)){Fn=ee.stateNode,di=!1;break e}break;case 5:Fn=ee.stateNode,di=!1;break e;case 3:case 4:Fn=ee.stateNode.containerInfo,di=!0;break e}ee=ee.return}if(Fn===null)throw Error(r(160));Vx(M,H,_),Fn=null,di=!1,M=_.alternate,M!==null&&(M.return=null),_.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)$x(d,a),d=d.sibling}var uo=null;function $x(a,d){var y=a.alternate,S=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Qr(d,a),Tr(a),S&4&&(da(3,a,a.return),Hf(3,a),da(5,a,a.return));break;case 1:Qr(d,a),Tr(a),S&512&&(rr||y===null||lo(y,y.return)),S&64&&bs&&(a=a.updateQueue,a!==null&&(S=a.callbacks,S!==null&&(y=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=y===null?S:y.concat(S))));break;case 26:var _=uo;if(Qr(d,a),Tr(a),S&512&&(rr||y===null||lo(y,y.return)),S&4){var M=y!==null?y.memoizedState:null;if(S=a.memoizedState,y===null)if(S===null)if(a.stateNode===null){e:{S=a.type,y=a.memoizedProps,_=_.ownerDocument||_;t:switch(S){case"title":M=_.getElementsByTagName("title")[0],(!M||M[Qi]||M[dn]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=_.createElement(S),_.head.insertBefore(M,_.querySelector("head > title"))),br(M,S,y),M[dn]=a,sr(M),S=M;break e;case"link":var H=We("link","href",_).get(S+(y.href||""));if(H){for(var ee=0;ee<H.length;ee++)if(M=H[ee],M.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&M.getAttribute("rel")===(y.rel==null?null:y.rel)&&M.getAttribute("title")===(y.title==null?null:y.title)&&M.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){H.splice(ee,1);break t}}M=_.createElement(S),br(M,S,y),_.head.appendChild(M);break;case"meta":if(H=We("meta","content",_).get(S+(y.content||""))){for(ee=0;ee<H.length;ee++)if(M=H[ee],M.getAttribute("content")===(y.content==null?null:""+y.content)&&M.getAttribute("name")===(y.name==null?null:y.name)&&M.getAttribute("property")===(y.property==null?null:y.property)&&M.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&M.getAttribute("charset")===(y.charSet==null?null:y.charSet)){H.splice(ee,1);break t}}M=_.createElement(S),br(M,S,y),_.head.appendChild(M);break;default:throw Error(r(468,S))}M[dn]=a,sr(M),S=M}a.stateNode=S}else st(_,a.type,a.stateNode);else a.stateNode=ce(_,S,a.memoizedProps);else M!==S?(M===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):M.count--,S===null?st(_,a.type,a.stateNode):ce(_,S,a.memoizedProps)):S===null&&a.stateNode!==null&&cc(a,a.memoizedProps,y.memoizedProps)}break;case 27:Qr(d,a),Tr(a),S&512&&(rr||y===null||lo(y,y.return)),y!==null&&S&4&&cc(a,a.memoizedProps,y.memoizedProps);break;case 5:if(Qr(d,a),Tr(a),S&512&&(rr||y===null||lo(y,y.return)),a.flags&32){_=a.stateNode;try{Ys(_,"")}catch(Fe){On(a,a.return,Fe)}}S&4&&a.stateNode!=null&&(_=a.memoizedProps,cc(a,_,y!==null?y.memoizedProps:_)),S&1024&&(e0=!0);break;case 6:if(Qr(d,a),Tr(a),S&4){if(a.stateNode===null)throw Error(r(162));S=a.memoizedProps,y=a.stateNode;try{y.nodeValue=S}catch(Fe){On(a,a.return,Fe)}}break;case 3:if($e=null,_=uo,uo=jp(d.containerInfo),Qr(d,a),uo=_,Tr(a),S&4&&y!==null&&y.memoizedState.isDehydrated)try{I0(d.containerInfo)}catch(Fe){On(a,a.return,Fe)}e0&&(e0=!1,pl(a));break;case 4:S=uo,uo=jp(a.stateNode.containerInfo),Qr(d,a),Tr(a),uo=S;break;case 12:Qr(d,a),Tr(a);break;case 13:Qr(d,a),Tr(a),a.child.flags&8192&&a.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(o0=je()),S&4&&(S=a.updateQueue,S!==null&&(a.updateQueue=null,Sp(a,S)));break;case 22:_=a.memoizedState!==null;var fe=y!==null&&y.memoizedState!==null,Me=bs,ze=rr;if(bs=Me||_,rr=ze||fe,Qr(d,a),rr=ze,bs=Me,Tr(a),S&8192)e:for(d=a.stateNode,d._visibility=_?d._visibility&-2:d._visibility|1,_&&(y===null||fe||bs||rr||pa(a)),y=null,d=a;;){if(d.tag===5||d.tag===26){if(y===null){fe=y=d;try{if(M=fe.stateNode,_)H=M.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{ee=fe.stateNode;var He=fe.memoizedProps.style,Le=He!=null&&He.hasOwnProperty("display")?He.display:null;ee.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(Fe){On(fe,fe.return,Fe)}}}else if(d.tag===6){if(y===null){fe=d;try{fe.stateNode.nodeValue=_?"":fe.memoizedProps}catch(Fe){On(fe,fe.return,Fe)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===a)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;y===d&&(y=null),d=d.return}y===d&&(y=null),d.sibling.return=d.return,d=d.sibling}S&4&&(S=a.updateQueue,S!==null&&(y=S.retryQueue,y!==null&&(S.retryQueue=null,Sp(a,y))));break;case 19:Qr(d,a),Tr(a),S&4&&(S=a.updateQueue,S!==null&&(a.updateQueue=null,Sp(a,S)));break;case 30:break;case 21:break;default:Qr(d,a),Tr(a)}}function Tr(a){var d=a.flags;if(d&2){try{for(var y,S=a.return;S!==null;){if(Bx(S)){y=S;break}S=S.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var _=y.stateNode,M=fc(a);ha(a,M,_);break;case 5:var H=y.stateNode;y.flags&32&&(Ys(H,""),y.flags&=-33);var ee=fc(a);ha(a,ee,H);break;case 3:case 4:var fe=y.stateNode.containerInfo,Me=fc(a);dc(a,Me,fe);break;default:throw Error(r(161))}}catch(ze){On(a,a.return,ze)}a.flags&=-3}d&4096&&(a.flags&=-4097)}function pl(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var d=a;pl(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),a=a.sibling}}function Io(a,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)zx(a,d.alternate,d),d=d.sibling}function pa(a){for(a=a.child;a!==null;){var d=a;switch(d.tag){case 0:case 11:case 14:case 15:da(4,d,d.return),pa(d);break;case 1:lo(d,d.return);var y=d.stateNode;typeof y.componentWillUnmount=="function"&&vt(d,d.return,y),pa(d);break;case 27:Qf(d.stateNode);case 26:case 5:lo(d,d.return),pa(d);break;case 22:d.memoizedState===null&&pa(d);break;case 30:pa(d);break;default:pa(d)}a=a.sibling}}function Oo(a,d,y){for(y=y&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var S=d.alternate,_=a,M=d,H=M.flags;switch(M.tag){case 0:case 11:case 15:Oo(_,M,y),Hf(4,M);break;case 1:if(Oo(_,M,y),S=M,_=S.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Me){On(S,S.return,Me)}if(S=M,_=S.updateQueue,_!==null){var ee=S.stateNode;try{var fe=_.shared.hiddenCallbacks;if(fe!==null)for(_.shared.hiddenCallbacks=null,_=0;_<fe.length;_++)Cx(fe[_],ee)}catch(Me){On(S,S.return,Me)}}y&&H&64&&xp(M),hl(M,M.return);break;case 27:bp(M);case 26:case 5:Oo(_,M,y),y&&S===null&&H&4&&Qm(M),hl(M,M.return);break;case 12:Oo(_,M,y);break;case 13:Oo(_,M,y),y&&H&4&&Gx(_,M);break;case 22:M.memoizedState===null&&Oo(_,M,y),hl(M,M.return);break;case 30:break;default:Oo(_,M,y)}d=d.sibling}}function yt(a,d){var y=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(y=a.memoizedState.cachePool.pool),a=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(a=d.memoizedState.cachePool.pool),a!==y&&(a!=null&&a.refCount++,y!=null&&Mf(y))}function Wf(a,d){a=null,d.alternate!==null&&(a=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==a&&(d.refCount++,a!=null&&Mf(a))}function Do(a,d,y,S){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Hx(a,d,y,S),d=d.sibling}function Hx(a,d,y,S){var _=d.flags;switch(d.tag){case 0:case 11:case 15:Do(a,d,y,S),_&2048&&Hf(9,d);break;case 1:Do(a,d,y,S);break;case 3:Do(a,d,y,S),_&2048&&(a=null,d.alternate!==null&&(a=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==a&&(d.refCount++,a!=null&&Mf(a)));break;case 12:if(_&2048){Do(a,d,y,S),a=d.stateNode;try{var M=d.memoizedProps,H=M.id,ee=M.onPostCommit;typeof ee=="function"&&ee(H,d.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(fe){On(d,d.return,fe)}}else Do(a,d,y,S);break;case 13:Do(a,d,y,S);break;case 23:break;case 22:M=d.stateNode,H=d.alternate,d.memoizedState!==null?M._visibility&2?Do(a,d,y,S):ga(a,d):M._visibility&2?Do(a,d,y,S):(M._visibility|=2,gl(a,d,y,S,(d.subtreeFlags&10256)!==0)),_&2048&&yt(H,d);break;case 24:Do(a,d,y,S),_&2048&&Wf(d.alternate,d);break;default:Do(a,d,y,S)}}function gl(a,d,y,S,_){for(_=_&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var M=a,H=d,ee=y,fe=S,Me=H.flags;switch(H.tag){case 0:case 11:case 15:gl(M,H,ee,fe,_),Hf(8,H);break;case 23:break;case 22:var ze=H.stateNode;H.memoizedState!==null?ze._visibility&2?gl(M,H,ee,fe,_):ga(M,H):(ze._visibility|=2,gl(M,H,ee,fe,_)),_&&Me&2048&&yt(H.alternate,H);break;case 24:gl(M,H,ee,fe,_),_&&Me&2048&&Wf(H.alternate,H);break;default:gl(M,H,ee,fe,_)}d=d.sibling}}function ga(a,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var y=a,S=d,_=S.flags;switch(S.tag){case 22:ga(y,S),_&2048&&yt(S.alternate,S);break;case 24:ga(y,S),_&2048&&Wf(S.alternate,S);break;default:ga(y,S)}d=d.sibling}}var ma=8192;function Ss(a){if(a.subtreeFlags&ma)for(a=a.child;a!==null;)t0(a),a=a.sibling}function t0(a){switch(a.tag){case 26:Ss(a),a.flags&ma&&a.memoizedState!==null&&Ir(uo,a.memoizedState,a.memoizedProps);break;case 5:Ss(a);break;case 3:case 4:var d=uo;uo=jp(a.stateNode.containerInfo),Ss(a),uo=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=ma,ma=16777216,Ss(a),ma=d):Ss(a));break;default:Ss(a)}}function Wx(a){var d=a.alternate;if(d!==null&&(a=d.child,a!==null)){d.child=null;do d=a.sibling,a.sibling=null,a=d;while(a!==null)}}function Mo(a){var d=a.deletions;if((a.flags&16)!==0){if(d!==null)for(var y=0;y<d.length;y++){var S=d[y];xr=S,Ep(S,a)}Wx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)hc(a),a=a.sibling}function hc(a){switch(a.tag){case 0:case 11:case 15:Mo(a),a.flags&2048&&da(9,a,a.return);break;case 3:Mo(a);break;case 12:Mo(a);break;case 22:var d=a.stateNode;a.memoizedState!==null&&d._visibility&2&&(a.return===null||a.return.tag!==13)?(d._visibility&=-3,Ap(a)):Mo(a);break;default:Mo(a)}}function Ap(a){var d=a.deletions;if((a.flags&16)!==0){if(d!==null)for(var y=0;y<d.length;y++){var S=d[y];xr=S,Ep(S,a)}Wx(a)}for(a=a.child;a!==null;){switch(d=a,d.tag){case 0:case 11:case 15:da(8,d,d.return),Ap(d);break;case 22:y=d.stateNode,y._visibility&2&&(y._visibility&=-3,Ap(d));break;default:Ap(d)}a=a.sibling}}function Ep(a,d){for(;xr!==null;){var y=xr;switch(y.tag){case 0:case 11:case 15:da(8,y,d);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var S=y.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Mf(y.memoizedState.cache)}if(S=y.child,S!==null)S.return=y,xr=S;else e:for(y=a;xr!==null;){S=xr;var _=S.sibling,M=S.return;if(Ux(S),S===y){xr=null;break e}if(_!==null){_.return=M,xr=_;break e}xr=M}}}var tA={getCacheForType:function(a){var d=Ar(ar),y=d.data.get(a);return y===void 0&&(y=a(),d.data.set(a,y)),y}},nA=typeof WeakMap=="function"?WeakMap:Map,mn=0,kn=null,Wt=null,rn=0,Sn=0,hi=null,As=!1,pc=!1,n0=!1,Es=0,$n=0,Po=0,ml=0,r0=0,Gi=0,gc=0,mc=null,ei=null,i0=!1,o0=0,Cp=1/0,wp=null,co=null,pr=0,Lo=null,vc=null,Cs=0,s0=0,a0=null,Yx=null,An=0,Gr=null;function gr(){if((mn&2)!==0&&rn!==0)return rn&-rn;if(re.T!==null){var a=Zu;return a!==0?a:Mp()}return vr()}function qx(){Gi===0&&(Gi=(rn&536870912)===0||hn?bn():536870912);var a=zi.current;return a!==null&&(a.flags|=32),Gi}function Je(a,d,y){(a===kn&&(Sn===2||Sn===9)||a.cancelPendingCommit!==null)&&(Fo(a,0),ws(a,rn,Gi,!1)),cn(a,y),((mn&2)===0||a!==kn)&&(a===kn&&((mn&2)===0&&(ml|=y),$n===4&&ws(a,rn,Gi,!1)),wi(a))}function l0(a,d,y){if((mn&6)!==0)throw Error(r(327));var S=!y&&(d&124)===0&&(d&a.expiredLanes)===0||At(a,d),_=S?f0(a,d):Yf(a,d,!0),M=S;do{if(_===0){pc&&!S&&ws(a,d,0,!1);break}else{if(y=a.current.alternate,M&&!rA(y)){_=Yf(a,d,!1),M=!1;continue}if(_===2){if(M=d,a.errorRecoveryDisabledLanes&M)var H=0;else H=a.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){d=H;e:{var ee=a;_=mc;var fe=ee.current.memoizedState.isDehydrated;if(fe&&(Fo(ee,H).flags|=256),H=Yf(ee,H,!1),H!==2){if(n0&&!fe){ee.errorRecoveryDisabledLanes|=M,ml|=M,_=4;break e}M=ei,ei=_,M!==null&&(ei===null?ei=M:ei.push.apply(ei,M))}_=H}if(M=!1,_!==2)continue}}if(_===1){Fo(a,0),ws(a,d,0,!0);break}e:{switch(S=a,M=_,M){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:ws(S,d,Gi,!As);break e;case 2:ei=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(_=o0+300-je(),10<_)){if(ws(S,d,Gi,!As),mt(S,0,!0)!==0)break e;S.timeoutHandle=E0(Rp.bind(null,S,y,ei,wp,i0,d,Gi,ml,gc,As,M,2,-0,0),_);break e}Rp(S,y,ei,wp,i0,d,Gi,ml,gc,As,M,0,-0,0)}}break}while(!0);wi(a)}function Rp(a,d,y,S,_,M,H,ee,fe,Me,ze,He,Le,Fe){if(a.timeoutHandle=-1,He=d.subtreeFlags,(He&8192||(He&16785408)===16785408)&&(vn={stylesheets:null,count:0,unsuspend:En},t0(d),He=gn(),He!==null)){a.cancelPendingCommit=He(h0.bind(null,a,d,M,y,S,_,H,ee,fe,ze,1,Le,Fe)),ws(a,M,H,!Me);return}h0(a,d,M,y,S,_,H,ee,fe)}function rA(a){for(var d=a;;){var y=d.tag;if((y===0||y===11||y===15)&&d.flags&16384&&(y=d.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var S=0;S<y.length;S++){var _=y[S],M=_.getSnapshot;_=_.value;try{if(!ii(M(),_))return!1}catch{return!1}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ws(a,d,y,S){d&=~r0,d&=~ml,a.suspendedLanes|=d,a.pingedLanes&=~d,S&&(a.warmLanes|=d),S=a.expirationTimes;for(var _=d;0<_;){var M=31-lt(_),H=1<<M;S[M]=-1,_&=~H}y!==0&&it(a,y,d)}function va(){return(mn&6)===0?(Ea(0),!1):!0}function Tp(){if(Wt!==null){if(Sn===0)var a=Wt.return;else a=Wt,os=il=null,Mm(a),hs=null,ps=0,a=Wt;for(;a!==null;)kx(a.alternate,a),a=a.return;Wt=null}}function Fo(a,d){var y=a.timeoutHandle;y!==-1&&(a.timeoutHandle=-1,pA(y)),y=a.cancelPendingCommit,y!==null&&(a.cancelPendingCommit=null,y()),Tp(),kn=a,Wt=y=ki(a.current,null),rn=d,Sn=0,hi=null,As=!1,pc=At(a,d),n0=!1,gc=Gi=r0=ml=Po=$n=0,ei=mc=null,i0=!1,(d&8)!==0&&(d|=d&32);var S=a.entangledLanes;if(S!==0)for(a=a.entanglements,S&=d;0<S;){var _=31-lt(S),M=1<<_;d|=a[_],S&=~M}return Es=d,Hh(),y}function Kx(a,d){Gt=null,re.H=wr,d===Qu||d===Lf?(d=Ex(),Sn=3):d===Sx?(d=Ex(),Sn=4):Sn=d===ao?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,hi=d,Wt===null&&($n=1,ca(a,Fi(d,a.current)))}function u0(){var a=re.H;return re.H=wr,a===null?wr:a}function Xx(){var a=re.A;return re.A=tA,a}function an(){$n=4,As||(rn&4194048)!==rn&&zi.current!==null||(pc=!0),(Po&134217727)===0&&(ml&134217727)===0||kn===null||ws(kn,rn,Gi,!1)}function Yf(a,d,y){var S=mn;mn|=2;var _=u0(),M=Xx();(kn!==a||rn!==d)&&(wp=null,Fo(a,d)),d=!1;var H=$n;e:do try{if(Sn!==0&&Wt!==null){var ee=Wt,fe=hi;switch(Sn){case 8:Tp(),H=6;break e;case 3:case 2:case 9:case 6:zi.current===null&&(d=!0);var Me=Sn;if(Sn=0,hi=null,ya(a,ee,fe,Me),y&&pc){H=0;break e}break;default:Me=Sn,Sn=0,hi=null,ya(a,ee,fe,Me)}}c0(),H=$n;break}catch(ze){Kx(a,ze)}while(!0);return d&&a.shellSuspendCounter++,os=il=null,mn=S,re.H=_,re.A=M,Wt===null&&(kn=null,rn=0,Hh()),H}function c0(){for(;Wt!==null;)Zx(Wt)}function f0(a,d){var y=mn;mn|=2;var S=u0(),_=Xx();kn!==a||rn!==d?(wp=null,Cp=je()+500,Fo(a,d)):pc=At(a,d);e:do try{if(Sn!==0&&Wt!==null){d=Wt;var M=hi;t:switch(Sn){case 1:Sn=0,hi=null,ya(a,d,M,1);break;case 2:case 9:if(Cm(M)){Sn=0,hi=null,Jx(d);break}d=function(){Sn!==2&&Sn!==9||kn!==a||(Sn=7),wi(a)},M.then(d,d);break e;case 3:Sn=7;break e;case 4:Sn=5;break e;case 7:Cm(M)?(Sn=0,hi=null,Jx(d)):(Sn=0,hi=null,ya(a,d,M,7));break;case 5:var H=null;switch(Wt.tag){case 26:H=Wt.memoizedState;case 5:case 27:var ee=Wt;if(!H||ln(H)){Sn=0,hi=null;var fe=ee.sibling;if(fe!==null)Wt=fe;else{var Me=ee.return;Me!==null?(Wt=Me,Np(Me)):Wt=null}break t}}Sn=0,hi=null,ya(a,d,M,5);break;case 6:Sn=0,hi=null,ya(a,d,M,6);break;case 8:Tp(),$n=6;break e;default:throw Error(r(462))}}iA();break}catch(ze){Kx(a,ze)}while(!0);return os=il=null,re.H=S,re.A=_,mn=y,Wt!==null?0:(kn=null,rn=0,Hh(),$n)}function iA(){for(;Wt!==null&&!Ce();)Zx(Wt)}function Zx(a){var d=dl(a.alternate,a,Es);a.memoizedProps=a.pendingProps,d===null?Np(a):Wt=d}function Jx(a){var d=a,y=d.alternate;switch(d.tag){case 15:case 0:d=Lx(y,d,d.pendingProps,d.type,void 0,rn);break;case 11:d=Lx(y,d,d.pendingProps,d.type.render,d.ref,rn);break;case 5:Mm(d);default:kx(y,d),d=Wt=_f(d,Es),d=dl(y,d,Es)}a.memoizedProps=a.pendingProps,d===null?Np(a):Wt=d}function ya(a,d,y,S){os=il=null,Mm(d),hs=null,ps=0;var _=d.return;try{if(J1(a,_,d,y,rn)){$n=1,ca(a,Fi(y,a.current)),Wt=null;return}}catch(M){if(_!==null)throw Wt=_,M;$n=1,ca(a,Fi(y,a.current)),Wt=null;return}d.flags&32768?(hn||S===1?a=!0:pc||(rn&536870912)!==0?a=!1:(As=a=!0,(S===2||S===9||S===3||S===6)&&(S=zi.current,S!==null&&S.tag===13&&(S.flags|=16384))),d0(d,a)):Np(d)}function Np(a){var d=a;do{if((d.flags&32768)!==0){d0(d,As);return}a=d.return;var y=ys(d.alternate,d,Es);if(y!==null){Wt=y;return}if(d=d.sibling,d!==null){Wt=d;return}Wt=d=a}while(d!==null);$n===0&&($n=5)}function d0(a,d){do{var y=xs(a.alternate,a);if(y!==null){y.flags&=32767,Wt=y;return}if(y=a.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!d&&(a=a.sibling,a!==null)){Wt=a;return}Wt=a=y}while(a!==null);$n=6,Wt=null}function h0(a,d,y,S,_,M,H,ee,fe){a.cancelPendingCommit=null;do ba();while(pr!==0);if((mn&6)!==0)throw Error(r(327));if(d!==null){if(d===a.current)throw Error(r(177));if(M=d.lanes|d.childLanes,M|=pm,tr(a,y,M,H,ee,fe),a===kn&&(Wt=kn=null,rn=0),vc=d,Lo=a,Cs=y,s0=M,a0=_,Yx=S,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,lA(Ze,function(){return yc(),null})):(a.callbackNode=null,a.callbackPriority=0),S=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||S){S=re.T,re.T=null,_=Ae.p,Ae.p=2,H=mn,mn|=4;try{Q1(a,d,y)}finally{mn=H,Ae.p=_,re.T=S}}pr=1,_p(),p0(),$i()}}function _p(){if(pr===1){pr=0;var a=Lo,d=vc,y=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||y){y=re.T,re.T=null;var S=Ae.p;Ae.p=2;var _=mn;mn|=4;try{$x(d,a);var M=kp,H=cx(a.containerInfo),ee=M.focusedElem,fe=M.selectionRange;if(H!==ee&&ee&&ee.ownerDocument&&ux(ee.ownerDocument.documentElement,ee)){if(fe!==null&&cm(ee)){var Me=fe.start,ze=fe.end;if(ze===void 0&&(ze=Me),"selectionStart"in ee)ee.selectionStart=Me,ee.selectionEnd=Math.min(ze,ee.value.length);else{var He=ee.ownerDocument||document,Le=He&&He.defaultView||window;if(Le.getSelection){var Fe=Le.getSelection(),Dt=ee.textContent.length,Rt=Math.min(fe.start,Dt),Bn=fe.end===void 0?Rt:Math.min(fe.end,Dt);!Fe.extend&&Rt>Bn&&(H=Bn,Bn=Rt,Rt=H);var we=lx(ee,Rt),Se=lx(ee,Bn);if(we&&Se&&(Fe.rangeCount!==1||Fe.anchorNode!==we.node||Fe.anchorOffset!==we.offset||Fe.focusNode!==Se.node||Fe.focusOffset!==Se.offset)){var Ie=He.createRange();Ie.setStart(we.node,we.offset),Fe.removeAllRanges(),Rt>Bn?(Fe.addRange(Ie),Fe.extend(Se.node,Se.offset)):(Ie.setEnd(Se.node,Se.offset),Fe.addRange(Ie))}}}}for(He=[],Fe=ee;Fe=Fe.parentNode;)Fe.nodeType===1&&He.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<He.length;ee++){var Ge=He[ee];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}vb=!!A0,kp=A0=null}finally{mn=_,Ae.p=S,re.T=y}}a.current=d,pr=2}}function p0(){if(pr===2){pr=0;var a=Lo,d=vc,y=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||y){y=re.T,re.T=null;var S=Ae.p;Ae.p=2;var _=mn;mn|=4;try{zx(a,d.alternate,d)}finally{mn=_,Ae.p=S,re.T=y}}pr=3}}function $i(){if(pr===4||pr===3){pr=0,Oe();var a=Lo,d=vc,y=Cs,S=Yx;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?pr=5:(pr=0,vc=Lo=null,xa(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&(co=null),sn(y),d=d.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(qe,d,void 0,(d.current.flags&128)===128)}catch{}if(S!==null){d=re.T,_=Ae.p,Ae.p=2,re.T=null;try{for(var M=a.onRecoverableError,H=0;H<S.length;H++){var ee=S[H];M(ee.value,{componentStack:ee.stack})}}finally{re.T=d,Ae.p=_}}(Cs&3)!==0&&ba(),wi(a),_=a.pendingLanes,(y&4194090)!==0&&(_&42)!==0?a===Gr?An++:(An=0,Gr=a):An=0,Ea(0)}}function xa(a,d){(a.pooledCacheLanes&=d)===0&&(d=a.pooledCache,d!=null&&(a.pooledCache=null,Mf(d)))}function ba(a){return _p(),p0(),$i(),yc()}function yc(){if(pr!==5)return!1;var a=Lo,d=s0;s0=0;var y=sn(Cs),S=re.T,_=Ae.p;try{Ae.p=32>y?32:y,re.T=null,y=a0,a0=null;var M=Lo,H=Cs;if(pr=0,vc=Lo=null,Cs=0,(mn&6)!==0)throw Error(r(331));var ee=mn;if(mn|=4,hc(M.current),Hx(M,M.current,H,y),mn=ee,Ea(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(qe,M)}catch{}return!0}finally{Ae.p=_,re.T=S,xa(a,d)}}function g0(a,d,y){d=Fi(y,d),d=No(a.stateNode,d,2),a=ra(a,d,2),a!==null&&(cn(a,2),wi(a))}function On(a,d,y){if(a.tag===3)g0(a,a,y);else for(;d!==null;){if(d.tag===3){g0(d,a,y);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(co===null||!co.has(S))){a=Fi(y,a),y=lc(2),S=ra(d,y,2),S!==null&&(Mx(y,S,d,a),cn(S,2),wi(S));break}}d=d.return}}function m0(a,d,y){var S=a.pingCache;if(S===null){S=a.pingCache=new nA;var _=new Set;S.set(d,_)}else _=S.get(d),_===void 0&&(_=new Set,S.set(d,_));_.has(y)||(n0=!0,_.add(y),a=oA.bind(null,a,d,y),d.then(a,a))}function oA(a,d,y){var S=a.pingCache;S!==null&&S.delete(d),a.pingedLanes|=a.suspendedLanes&y,a.warmLanes&=~y,kn===a&&(rn&y)===y&&($n===4||$n===3&&(rn&62914560)===rn&&300>je()-o0?(mn&2)===0&&Fo(a,0):r0|=y,gc===rn&&(gc=0)),wi(a)}function Qx(a,d){d===0&&(d=zn()),a=Gu(a,d),a!==null&&(cn(a,d),wi(a))}function sA(a){var d=a.memoizedState,y=0;d!==null&&(y=d.retryLane),Qx(a,y)}function aA(a,d){var y=0;switch(a.tag){case 13:var S=a.stateNode,_=a.memoizedState;_!==null&&(y=_.retryLane);break;case 19:S=a.stateNode;break;case 22:S=a.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(d),Qx(a,y)}function lA(a,d){return ae(a,d)}var Ip=null,xc=null,v0=!1,Op=!1,Sa=!1,Aa=0;function wi(a){a!==xc&&a.next===null&&(xc===null?Ip=xc=a:xc=xc.next=a),Op=!0,v0||(v0=!0,Ca())}function Ea(a,d){if(!Sa&&Op){Sa=!0;do for(var y=!1,S=Ip;S!==null;){if(a!==0){var _=S.pendingLanes;if(_===0)var M=0;else{var H=S.suspendedLanes,ee=S.pingedLanes;M=(1<<31-lt(42|a)+1)-1,M&=_&~(H&~ee),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(y=!0,Dp(S,M))}else M=rn,M=mt(S,S===kn?M:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(M&3)===0||At(S,M)||(y=!0,Dp(S,M));S=S.next}while(y);Sa=!1}}function uA(){Rs()}function Rs(){Op=v0=!1;var a=0;Aa!==0&&(ab()&&(a=Aa),Aa=0);for(var d=je(),y=null,S=Ip;S!==null;){var _=S.next,M=Nr(S,d);M===0?(S.next=null,y===null?Ip=_:y.next=_,_===null&&(xc=y)):(y=S,(a!==0||(M&3)!==0)&&(Op=!0)),S=_}Ea(a)}function Nr(a,d){for(var y=a.suspendedLanes,S=a.pingedLanes,_=a.expirationTimes,M=a.pendingLanes&-62914561;0<M;){var H=31-lt(M),ee=1<<H,fe=_[H];fe===-1?((ee&y)===0||(ee&S)!==0)&&(_[H]=Mt(ee,d)):fe<=d&&(a.expiredLanes|=ee),M&=~ee}if(d=kn,y=rn,y=mt(a,a===d?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),S=a.callbackNode,y===0||a===d&&(Sn===2||Sn===9)||a.cancelPendingCommit!==null)return S!==null&&S!==null&&le(S),a.callbackNode=null,a.callbackPriority=0;if((y&3)===0||At(a,y)){if(d=y&-y,d===a.callbackPriority)return d;switch(S!==null&&le(S),sn(y)){case 2:case 8:y=Pe;break;case 32:y=Ze;break;case 268435456:y=gt;break;default:y=Ze}return S=bc.bind(null,a),y=ae(y,S),a.callbackPriority=d,a.callbackNode=y,d}return S!==null&&S!==null&&le(S),a.callbackPriority=2,a.callbackNode=null,2}function bc(a,d){if(pr!==0&&pr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var y=a.callbackNode;if(ba()&&a.callbackNode!==y)return null;var S=rn;return S=mt(a,a===kn?S:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),S===0?null:(l0(a,S,d),Nr(a,je()),a.callbackNode!=null&&a.callbackNode===y?bc.bind(null,a):null)}function Dp(a,d){if(ba())return null;l0(a,d,!0)}function Ca(){lb(function(){(mn&6)!==0?ae(ve,uA):Rs()})}function Mp(){return Aa===0&&(Aa=bn()),Aa}function eb(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:xf(""+a)}function cA(a,d){var y=d.ownerDocument.createElement("input");return y.name=d.name,y.value=d.value,a.id&&y.setAttribute("form",a.id),d.parentNode.insertBefore(y,d),a=new FormData(a),y.parentNode.removeChild(y),a}function uT(a,d,y,S,_){if(d==="submit"&&y&&y.stateNode===_){var M=eb((_[Ft]||null).action),H=S.submitter;H&&(d=(d=H[Ft]||null)?eb(d.formAction):H.getAttribute("formAction"),d!==null&&(M=d,H=null));var ee=new rs("action","action",null,S,_);a.push({event:ee,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(Aa!==0){var fe=H?cA(_,H):new FormData(_);ci(y,{pending:!0,data:fe,method:_.method,action:M},null,fe)}}else typeof M=="function"&&(ee.preventDefault(),fe=H?cA(_,H):new FormData(_),ci(y,{pending:!0,data:fe,method:_.method,action:M},M,fe))},currentTarget:_}]})}}for(var Pp=0;Pp<$h.length;Pp++){var y0=$h[Pp],fA=y0.toLowerCase(),qf=y0[0].toUpperCase()+y0.slice(1);xi(fA,"on"+qf)}xi(dx,"onAnimationEnd"),xi(Gh,"onAnimationIteration"),xi(Tf,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(j1,"onTransitionRun"),xi(z1,"onTransitionStart"),xi(U1,"onTransitionCancel"),xi(hx,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function Bo(a,d){d=(d&4)!==0;for(var y=0;y<a.length;y++){var S=a[y],_=S.event;S=S.listeners;e:{var M=void 0;if(d)for(var H=S.length-1;0<=H;H--){var ee=S[H],fe=ee.instance,Me=ee.currentTarget;if(ee=ee.listener,fe!==M&&_.isPropagationStopped())break e;M=ee,_.currentTarget=Me;try{M(_)}catch(ze){fi(ze)}_.currentTarget=null,M=fe}else for(H=0;H<S.length;H++){if(ee=S[H],fe=ee.instance,Me=ee.currentTarget,ee=ee.listener,fe!==M&&_.isPropagationStopped())break e;M=ee,_.currentTarget=Me;try{M(_)}catch(ze){fi(ze)}_.currentTarget=null,M=fe}}}}function Yt(a,d){var y=d[Di];y===void 0&&(y=d[Di]=new Set);var S=a+"__bubble";y.has(S)||(x0(d,a,2,!1),y.add(S))}function vl(a,d,y){var S=0;d&&(S|=4),x0(y,a,S,d)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Xf(a){if(!a[Ts]){a[Ts]=!0,Gg.forEach(function(y){y!=="selectionchange"&&(Kf.has(y)||vl(y,!1,a),vl(y,!0,a))});var d=a.nodeType===9?a:a.ownerDocument;d===null||d[Ts]||(d[Ts]=!0,vl("selectionchange",!1,d))}}function x0(a,d,y,S){switch(pT(d)){case 2:var _=oj;break;case 8:_=sj;break;default:_=EA}y=_.bind(null,d,y,a),_=void 0,!Qg||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(_=!0),S?_!==void 0?a.addEventListener(d,y,{capture:!0,passive:_}):a.addEventListener(d,y,!0):_!==void 0?a.addEventListener(d,y,{passive:_}):a.addEventListener(d,y,!1)}function Lp(a,d,y,S,_){var M=S;if((d&1)===0&&(d&2)===0&&S!==null)e:for(;;){if(S===null)return;var H=S.tag;if(H===3||H===4){var ee=S.stateNode.containerInfo;if(ee===_)break;if(H===4)for(H=S.return;H!==null;){var fe=H.tag;if((fe===3||fe===4)&&H.stateNode.containerInfo===_)return;H=H.return}for(;ee!==null;){if(H=$s(ee),H===null)return;if(fe=H.tag,fe===5||fe===6||fe===26||fe===27){S=M=H;continue e}ee=ee.parentNode}}S=S.return}_y(function(){var Me=M,ze=Sf(y),He=[];e:{var Le=px.get(a);if(Le!==void 0){var Fe=rs,Dt=a;switch(a){case"keypress":if(Mh(y)===0)break e;case"keydown":case"keyup":Fe=Vy;break;case"focusin":Dt="focus",Fe=kh;break;case"focusout":Dt="blur",Fe=kh;break;case"beforeblur":case"afterblur":Fe=kh;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=lT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=Hy;break;case dx:case Gh:case Tf:Fe=My;break;case hx:Fe=Yy;break;case"scroll":case"scrollend":Fe=O1;break;case"wheel":Fe=M1;break;case"copy":case"cut":case"paste":Fe=Ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=rm;break;case"toggle":case"beforetoggle":Fe=Ky}var Rt=(d&4)!==0,Bn=!Rt&&(a==="scroll"||a==="scrollend"),we=Rt?Le!==null?Le+"Capture":null:Le;Rt=[];for(var Se=Me,Ie;Se!==null;){var Ge=Se;if(Ie=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||Ie===null||we===null||(Ge=Ka(Se,we),Ge!=null&&Rt.push(Sc(Se,Ge,Ie))),Bn)break;Se=Se.return}0<Rt.length&&(Le=new Fe(Le,Dt,null,y,ze),He.push({event:Le,listeners:Rt}))}}if((d&7)===0){e:{if(Le=a==="mouseover"||a==="pointerover",Fe=a==="mouseout"||a==="pointerout",Le&&y!==bf&&(Dt=y.relatedTarget||y.fromElement)&&($s(Dt)||Dt[Rn]))break e;if((Fe||Le)&&(Le=ze.window===ze?ze:(Le=ze.ownerDocument)?Le.defaultView||Le.parentWindow:window,Fe?(Dt=y.relatedTarget||y.toElement,Fe=Me,Dt=Dt?$s(Dt):null,Dt!==null&&(Bn=s(Dt),Rt=Dt.tag,Dt!==Bn||Rt!==5&&Rt!==27&&Rt!==6)&&(Dt=null)):(Fe=null,Dt=Me),Fe!==Dt)){if(Rt=tm,Ge="onMouseLeave",we="onMouseEnter",Se="mouse",(a==="pointerout"||a==="pointerover")&&(Rt=rm,Ge="onPointerLeave",we="onPointerEnter",Se="pointer"),Bn=Fe==null?Le:ku(Fe),Ie=Dt==null?Le:ku(Dt),Le=new Rt(Ge,Se+"leave",Fe,y,ze),Le.target=Bn,Le.relatedTarget=Ie,Ge=null,$s(ze)===Me&&(Rt=new Rt(we,Se+"enter",Dt,y,ze),Rt.target=Ie,Rt.relatedTarget=Bn,Ge=Rt),Bn=Ge,Fe&&Dt)t:{for(Rt=Fe,we=Dt,Se=0,Ie=Rt;Ie;Ie=yl(Ie))Se++;for(Ie=0,Ge=we;Ge;Ge=yl(Ge))Ie++;for(;0<Se-Ie;)Rt=yl(Rt),Se--;for(;0<Ie-Se;)we=yl(we),Ie--;for(;Se--;){if(Rt===we||we!==null&&Rt===we.alternate)break t;Rt=yl(Rt),we=yl(we)}Rt=null}else Rt=null;Fe!==null&&b0(He,Le,Fe,Rt,!1),Dt!==null&&Bn!==null&&b0(He,Bn,Dt,Rt,!0)}}e:{if(Le=Me?ku(Me):window,Fe=Le.nodeName&&Le.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Le.type==="file")var ut=am;else if(sm(Le))if(rx)ut=um;else{ut=k1;var en=F1}else Fe=Le.nodeName,!Fe||Fe.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Me&&Zg(Me.elementType)&&(ut=am):ut=ax;if(ut&&(ut=ut(a,Me))){tx(He,ut,y,ze);break e}en&&en(a,Le,Me),a==="focusout"&&Me&&Le.type==="number"&&Me.memoizedProps.value!=null&&yf(Le,"number",Le.value)}switch(en=Me?ku(Me):window,a){case"focusin":(sm(en)||en.contentEditable==="true")&&(Ja=en,fm=Me,Rf=null);break;case"focusout":Rf=fm=Ja=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,fx(He,y,ze);break;case"selectionchange":if(Uh)break;case"keydown":case"keyup":fx(He,y,ze)}var bt;if(im)e:{switch(a){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else zu?Jy(a,y)&&(Nt="onCompositionEnd"):a==="keydown"&&y.keyCode===229&&(Nt="onCompositionStart");Nt&&(Xa&&y.locale!=="ko"&&(zu||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&zu&&(bt=Iy()):(qs=ze,ju="value"in qs?qs.value:qs.textContent,zu=!0)),en=Zf(Me,Nt),0<en.length&&(Nt=new nm(Nt,a,null,y,ze),He.push({event:Nt,listeners:en}),bt?Nt.data=bt:(bt=Qy(y),bt!==null&&(Nt.data=bt)))),(bt=om?ex(a,y):P1(a,y))&&(Nt=Zf(Me,"onBeforeInput"),0<Nt.length&&(en=new nm("onBeforeInput","beforeinput",null,y,ze),He.push({event:en,listeners:Nt}),en.data=bt)),uT(He,a,Me,y,ze)}Bo(He,d)})}function Sc(a,d,y){return{instance:a,listener:d,currentTarget:y}}function Zf(a,d){for(var y=d+"Capture",S=[];a!==null;){var _=a,M=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||M===null||(_=Ka(a,y),_!=null&&S.unshift(Sc(a,_,M)),_=Ka(a,d),_!=null&&S.push(Sc(a,_,M))),a.tag===3)return S;a=a.return}return[]}function yl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function b0(a,d,y,S,_){for(var M=d._reactName,H=[];y!==null&&y!==S;){var ee=y,fe=ee.alternate,Me=ee.stateNode;if(ee=ee.tag,fe!==null&&fe===S)break;ee!==5&&ee!==26&&ee!==27||Me===null||(fe=Me,_?(Me=Ka(y,M),Me!=null&&H.unshift(Sc(y,Me,fe))):_||(Me=Ka(y,M),Me!=null&&H.push(Sc(y,Me,fe)))),y=y.return}H.length!==0&&a.push({event:d,listeners:H})}var tb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function rb(a){return(typeof a=="string"?a:""+a).replace(tb,`
`).replace(nb,"")}function ib(a,d){return d=rb(d),rb(a)===d}function Fp(){}function pn(a,d,y,S,_,M){switch(y){case"children":typeof S=="string"?d==="body"||d==="textarea"&&S===""||Ys(a,S):(typeof S=="number"||typeof S=="bigint")&&d!=="body"&&Ys(a,""+S);break;case"className":gf(a,"class",S);break;case"tabIndex":gf(a,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":gf(a,y,S);break;case"style":Ry(a,S,M);break;case"data":if(d!=="object"){gf(a,"data",S);break}case"src":case"href":if(S===""&&(d!=="a"||y!=="href")){a.removeAttribute(y);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){a.removeAttribute(y);break}S=xf(""+S),a.setAttribute(y,S);break;case"action":case"formAction":if(typeof S=="function"){a.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(y==="formAction"?(d!=="input"&&pn(a,d,"name",_.name,_,null),pn(a,d,"formEncType",_.formEncType,_,null),pn(a,d,"formMethod",_.formMethod,_,null),pn(a,d,"formTarget",_.formTarget,_,null)):(pn(a,d,"encType",_.encType,_,null),pn(a,d,"method",_.method,_,null),pn(a,d,"target",_.target,_,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){a.removeAttribute(y);break}S=xf(""+S),a.setAttribute(y,S);break;case"onClick":S!=null&&(a.onclick=Fp);break;case"onScroll":S!=null&&Yt("scroll",a);break;case"onScrollEnd":S!=null&&Yt("scrollend",a);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=y}}break;case"multiple":a.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":a.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){a.removeAttribute("xlink:href");break}y=xf(""+S),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?a.setAttribute(y,""+S):a.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?a.setAttribute(y,""):a.removeAttribute(y);break;case"capture":case"download":S===!0?a.setAttribute(y,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?a.setAttribute(y,S):a.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?a.setAttribute(y,S):a.removeAttribute(y);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?a.removeAttribute(y):a.setAttribute(y,S);break;case"popover":Yt("beforetoggle",a),Yt("toggle",a),es(a,"popover",S);break;case"xlinkActuate":ts(a,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":ts(a,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":ts(a,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":ts(a,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":ts(a,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":ts(a,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":ts(a,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":ts(a,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":ts(a,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":es(a,"is",S);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=I1.get(y)||y,es(a,y,S))}}function S0(a,d,y,S,_,M){switch(y){case"style":Ry(a,S,M);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=y}}break;case"children":typeof S=="string"?Ys(a,S):(typeof S=="number"||typeof S=="bigint")&&Ys(a,""+S);break;case"onScroll":S!=null&&Yt("scroll",a);break;case"onScrollEnd":S!=null&&Yt("scrollend",a);break;case"onClick":S!=null&&(a.onclick=Fp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$g.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(_=y.endsWith("Capture"),d=y.slice(2,_?y.length-7:void 0),M=a[Ft]||null,M=M!=null?M[y]:null,typeof M=="function"&&a.removeEventListener(d,M,_),typeof S=="function")){typeof M!="function"&&M!==null&&(y in a?a[y]=null:a.hasAttribute(y)&&a.removeAttribute(y)),a.addEventListener(d,S,_);break e}y in a?a[y]=S:S===!0?a.setAttribute(y,""):es(a,y,S)}}}function br(a,d,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",a),Yt("load",a);var S=!1,_=!1,M;for(M in y)if(y.hasOwnProperty(M)){var H=y[M];if(H!=null)switch(M){case"src":S=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:pn(a,d,M,H,y,null)}}_&&pn(a,d,"srcSet",y.srcSet,y,null),S&&pn(a,d,"src",y.src,y,null);return;case"input":Yt("invalid",a);var ee=M=H=_=null,fe=null,Me=null;for(S in y)if(y.hasOwnProperty(S)){var ze=y[S];if(ze!=null)switch(S){case"name":_=ze;break;case"type":H=ze;break;case"checked":fe=ze;break;case"defaultChecked":Me=ze;break;case"value":M=ze;break;case"defaultValue":ee=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,d));break;default:pn(a,d,S,ze,y,null)}}Kg(a,M,ee,fe,Me,H,_,!1),Oh(a);return;case"select":Yt("invalid",a),S=H=M=null;for(_ in y)if(y.hasOwnProperty(_)&&(ee=y[_],ee!=null))switch(_){case"value":M=ee;break;case"defaultValue":H=ee;break;case"multiple":S=ee;default:pn(a,d,_,ee,y,null)}d=M,y=H,a.multiple=!!S,d!=null?Bu(a,!!S,d,!1):y!=null&&Bu(a,!!S,y,!0);return;case"textarea":Yt("invalid",a),M=_=S=null;for(H in y)if(y.hasOwnProperty(H)&&(ee=y[H],ee!=null))switch(H){case"value":S=ee;break;case"defaultValue":_=ee;break;case"children":M=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(91));break;default:pn(a,d,H,ee,y,null)}Ey(a,S,_,M),Oh(a);return;case"option":for(fe in y)if(y.hasOwnProperty(fe)&&(S=y[fe],S!=null))switch(fe){case"selected":a.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:pn(a,d,fe,S,y,null)}return;case"dialog":Yt("beforetoggle",a),Yt("toggle",a),Yt("cancel",a),Yt("close",a);break;case"iframe":case"object":Yt("load",a);break;case"video":case"audio":for(S=0;S<ko.length;S++)Yt(ko[S],a);break;case"image":Yt("error",a),Yt("load",a);break;case"details":Yt("toggle",a);break;case"embed":case"source":case"link":Yt("error",a),Yt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in y)if(y.hasOwnProperty(Me)&&(S=y[Me],S!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:pn(a,d,Me,S,y,null)}return;default:if(Zg(d)){for(ze in y)y.hasOwnProperty(ze)&&(S=y[ze],S!==void 0&&S0(a,d,ze,S,y,void 0));return}}for(ee in y)y.hasOwnProperty(ee)&&(S=y[ee],S!=null&&pn(a,d,ee,S,y,null))}function dA(a,d,y,S){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,M=null,H=null,ee=null,fe=null,Me=null,ze=null;for(Fe in y){var He=y[Fe];if(y.hasOwnProperty(Fe)&&He!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":fe=He;default:S.hasOwnProperty(Fe)||pn(a,d,Fe,null,S,He)}}for(var Le in S){var Fe=S[Le];if(He=y[Le],S.hasOwnProperty(Le)&&(Fe!=null||He!=null))switch(Le){case"type":M=Fe;break;case"name":_=Fe;break;case"checked":Me=Fe;break;case"defaultChecked":ze=Fe;break;case"value":H=Fe;break;case"defaultValue":ee=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,d));break;default:Fe!==He&&pn(a,d,Le,Fe,S,He)}}qg(a,H,ee,fe,Me,ze,M,_);return;case"select":Fe=H=ee=Le=null;for(M in y)if(fe=y[M],y.hasOwnProperty(M)&&fe!=null)switch(M){case"value":break;case"multiple":Fe=fe;default:S.hasOwnProperty(M)||pn(a,d,M,null,S,fe)}for(_ in S)if(M=S[_],fe=y[_],S.hasOwnProperty(_)&&(M!=null||fe!=null))switch(_){case"value":Le=M;break;case"defaultValue":ee=M;break;case"multiple":H=M;default:M!==fe&&pn(a,d,_,M,S,fe)}d=ee,y=H,S=Fe,Le!=null?Bu(a,!!y,Le,!1):!!S!=!!y&&(d!=null?Bu(a,!!y,d,!0):Bu(a,!!y,y?[]:"",!1));return;case"textarea":Fe=Le=null;for(ee in y)if(_=y[ee],y.hasOwnProperty(ee)&&_!=null&&!S.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:pn(a,d,ee,null,S,_)}for(H in S)if(_=S[H],M=y[H],S.hasOwnProperty(H)&&(_!=null||M!=null))switch(H){case"value":Le=_;break;case"defaultValue":Fe=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==M&&pn(a,d,H,_,S,M)}Xg(a,Le,Fe);return;case"option":for(var Dt in y)if(Le=y[Dt],y.hasOwnProperty(Dt)&&Le!=null&&!S.hasOwnProperty(Dt))switch(Dt){case"selected":a.selected=!1;break;default:pn(a,d,Dt,null,S,Le)}for(fe in S)if(Le=S[fe],Fe=y[fe],S.hasOwnProperty(fe)&&Le!==Fe&&(Le!=null||Fe!=null))switch(fe){case"selected":a.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:pn(a,d,fe,Le,S,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in y)Le=y[Rt],y.hasOwnProperty(Rt)&&Le!=null&&!S.hasOwnProperty(Rt)&&pn(a,d,Rt,null,S,Le);for(Me in S)if(Le=S[Me],Fe=y[Me],S.hasOwnProperty(Me)&&Le!==Fe&&(Le!=null||Fe!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,d));break;default:pn(a,d,Me,Le,S,Fe)}return;default:if(Zg(d)){for(var Bn in y)Le=y[Bn],y.hasOwnProperty(Bn)&&Le!==void 0&&!S.hasOwnProperty(Bn)&&S0(a,d,Bn,void 0,S,Le);for(ze in S)Le=S[ze],Fe=y[ze],!S.hasOwnProperty(ze)||Le===Fe||Le===void 0&&Fe===void 0||S0(a,d,ze,Le,S,Fe);return}}for(var we in y)Le=y[we],y.hasOwnProperty(we)&&Le!=null&&!S.hasOwnProperty(we)&&pn(a,d,we,null,S,Le);for(He in S)Le=S[He],Fe=y[He],!S.hasOwnProperty(He)||Le===Fe||Le==null&&Fe==null||pn(a,d,He,Le,S,Fe)}var A0=null,kp=null;function Jf(a){return a.nodeType===9?a:a.ownerDocument}function ob(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hA(a,d){if(a===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&d==="foreignObject"?0:a}function sb(a,d){return a==="textarea"||a==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Ac=null;function ab(){var a=window.event;return a&&a.type==="popstate"?a===Ac?!1:(Ac=a,!0):(Ac=null,!1)}var E0=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,C0=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof C0<"u"?function(a){return C0.resolve(null).then(a).catch(ub)}:E0;function ub(a){setTimeout(function(){throw a})}function _r(a){return a==="head"}function w0(a,d){var y=d,S=0,_=0;do{var M=y.nextSibling;if(a.removeChild(y),M&&M.nodeType===8)if(y=M.data,y==="/$"){if(0<S&&8>S){y=S;var H=a.ownerDocument;if(y&1&&Qf(H.documentElement),y&2&&Qf(H.body),y&4)for(y=H.head,Qf(y),H=y.firstChild;H;){var ee=H.nextSibling,fe=H.nodeName;H[Qi]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&H.rel.toLowerCase()==="stylesheet"||y.removeChild(H),H=ee}}if(_===0){a.removeChild(M),I0(d);return}_--}else y==="$"||y==="$?"||y==="$!"?_++:S=y.charCodeAt(0)-48;else S=0;y=M}while(y);I0(d)}function Bp(a){var d=a.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var y=d;switch(d=d.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":Bp(y),Vg(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}a.removeChild(y)}}function gA(a,d,y,S){for(;a.nodeType===1;){var _=y;if(a.nodeName.toLowerCase()!==d.toLowerCase()){if(!S&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(S){if(!a[Qi])switch(d){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(M=a.getAttribute("rel"),M==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(M!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(M=a.getAttribute("src"),(M!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&M&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(d==="input"&&a.type==="hidden"){var M=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===M)return a}else return a;if(a=Hi(a.nextSibling),a===null)break}return null}function mA(a,d,y){if(d==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!y||(a=Hi(a.nextSibling),a===null))return null;return a}function R0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function cb(a,d){var y=a.ownerDocument;if(a.data!=="$?"||y.readyState==="complete")d();else{var S=function(){d(),y.removeEventListener("DOMContentLoaded",S)};y.addEventListener("DOMContentLoaded",S),a._reactRetry=S}}function Hi(a){for(;a!=null;a=a.nextSibling){var d=a.nodeType;if(d===1||d===3)break;if(d===8){if(d=a.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return a}var Ec=null;function fb(a){a=a.previousSibling;for(var d=0;a;){if(a.nodeType===8){var y=a.data;if(y==="$"||y==="$!"||y==="$?"){if(d===0)return a;d--}else y==="/$"&&d++}a=a.previousSibling}return null}function db(a,d,y){switch(d=Jf(y),a){case"html":if(a=d.documentElement,!a)throw Error(r(452));return a;case"head":if(a=d.head,!a)throw Error(r(453));return a;case"body":if(a=d.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Qf(a){for(var d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Vg(a)}var Wi=new Map,hb=new Set;function jp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var fo=Ae.d;Ae.d={f:vA,r:yA,D:xA,C:gb,L:bA,m:SA,X:o,S:h,M:f};function vA(){var a=fo.f(),d=va();return a||d}function yA(a){var d=Qo(a);d!==null&&d.tag===5&&d.type==="form"?_x(d):fo.r(a)}var xl=typeof document>"u"?null:document;function pb(a,d,y){var S=xl;if(S&&typeof d=="string"&&d){var _=jr(d);_='link[rel="'+a+'"][href="'+_+'"]',typeof y=="string"&&(_+='[crossorigin="'+y+'"]'),hb.has(_)||(hb.add(_),a={rel:a,crossOrigin:y,href:d},S.querySelector(_)===null&&(d=S.createElement("link"),br(d,"link",a),sr(d),S.head.appendChild(d)))}}function xA(a){fo.D(a),pb("dns-prefetch",a,null)}function gb(a,d){fo.C(a,d),pb("preconnect",a,d)}function bA(a,d,y){fo.L(a,d,y);var S=xl;if(S&&a&&d){var _='link[rel="preload"][as="'+jr(d)+'"]';d==="image"&&y&&y.imageSrcSet?(_+='[imagesrcset="'+jr(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(_+='[imagesizes="'+jr(y.imageSizes)+'"]')):_+='[href="'+jr(a)+'"]';var M=_;switch(d){case"style":M=A(a);break;case"script":M=q(a)}Wi.has(M)||(a=p({rel:"preload",href:d==="image"&&y&&y.imageSrcSet?void 0:a,as:d},y),Wi.set(M,a),S.querySelector(_)!==null||d==="style"&&S.querySelector(O(M))||d==="script"&&S.querySelector(te(M))||(d=S.createElement("link"),br(d,"link",a),sr(d),S.head.appendChild(d)))}}function SA(a,d){fo.m(a,d);var y=xl;if(y&&a){var S=d&&typeof d.as=="string"?d.as:"script",_='link[rel="modulepreload"][as="'+jr(S)+'"][href="'+jr(a)+'"]',M=_;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=q(a)}if(!Wi.has(M)&&(a=p({rel:"modulepreload",href:a},d),Wi.set(M,a),y.querySelector(_)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(te(M)))return}S=y.createElement("link"),br(S,"link",a),sr(S),y.head.appendChild(S)}}}function h(a,d,y){fo.S(a,d,y);var S=xl;if(S&&a){var _=Hs(S).hoistableStyles,M=A(a);d=d||"default";var H=_.get(M);if(!H){var ee={loading:0,preload:null};if(H=S.querySelector(O(M)))ee.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":d},y),(y=Wi.get(M))&&Be(a,y);var fe=H=S.createElement("link");sr(fe),br(fe,"link",a),fe._p=new Promise(function(Me,ze){fe.onload=Me,fe.onerror=ze}),fe.addEventListener("load",function(){ee.loading|=1}),fe.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Re(H,d,S)}H={type:"stylesheet",instance:H,count:1,state:ee},_.set(M,H)}}}function o(a,d){fo.X(a,d);var y=xl;if(y&&a){var S=Hs(y).hoistableScripts,_=q(a),M=S.get(_);M||(M=y.querySelector(te(_)),M||(a=p({src:a,async:!0},d),(d=Wi.get(_))&&Ne(a,d),M=y.createElement("script"),sr(M),br(M,"link",a),y.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},S.set(_,M))}}function f(a,d){fo.M(a,d);var y=xl;if(y&&a){var S=Hs(y).hoistableScripts,_=q(a),M=S.get(_);M||(M=y.querySelector(te(_)),M||(a=p({src:a,async:!0,type:"module"},d),(d=Wi.get(_))&&Ne(a,d),M=y.createElement("script"),sr(M),br(M,"link",a),y.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},S.set(_,M))}}function v(a,d,y,S){var _=(_=W.current)?jp(_):null;if(!_)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(d=A(y.href),y=Hs(_).hoistableStyles,S=y.get(d),S||(S={type:"style",instance:null,count:0,state:null},y.set(d,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){a=A(y.href);var M=Hs(_).hoistableStyles,H=M.get(a);if(H||(_=_.ownerDocument||_,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(a,H),(M=_.querySelector(O(a)))&&!M._p&&(H.instance=M,H.state.loading=5),Wi.has(a)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},Wi.set(a,y),M||V(_,a,y,H.state))),d&&S===null)throw Error(r(528,""));return H}if(d&&S!==null)throw Error(r(529,""));return null;case"script":return d=y.async,y=y.src,typeof y=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=q(y),y=Hs(_).hoistableScripts,S=y.get(d),S||(S={type:"script",instance:null,count:0,state:null},y.set(d,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function A(a){return'href="'+jr(a)+'"'}function O(a){return'link[rel="stylesheet"]['+a+"]"}function L(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function V(a,d,y,S){a.querySelector('link[rel="preload"][as="style"]['+d+"]")?S.loading=1:(d=a.createElement("link"),S.preload=d,d.addEventListener("load",function(){return S.loading|=1}),d.addEventListener("error",function(){return S.loading|=2}),br(d,"link",y),sr(d),a.head.appendChild(d))}function q(a){return'[src="'+jr(a)+'"]'}function te(a){return"script[async]"+a}function ce(a,d,y){if(d.count++,d.instance===null)switch(d.type){case"style":var S=a.querySelector('style[data-href~="'+jr(y.href)+'"]');if(S)return d.instance=S,sr(S),S;var _=p({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return S=(a.ownerDocument||a).createElement("style"),sr(S),br(S,"style",_),Re(S,y.precedence,a),d.instance=S;case"stylesheet":_=A(y.href);var M=a.querySelector(O(_));if(M)return d.state.loading|=4,d.instance=M,sr(M),M;S=L(y),(_=Wi.get(_))&&Be(S,_),M=(a.ownerDocument||a).createElement("link"),sr(M);var H=M;return H._p=new Promise(function(ee,fe){H.onload=ee,H.onerror=fe}),br(M,"link",S),d.state.loading|=4,Re(M,y.precedence,a),d.instance=M;case"script":return M=q(y.src),(_=a.querySelector(te(M)))?(d.instance=_,sr(_),_):(S=y,(_=Wi.get(M))&&(S=p({},y),Ne(S,_)),a=a.ownerDocument||a,_=a.createElement("script"),sr(_),br(_,"link",S),a.head.appendChild(_),d.instance=_);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(S=d.instance,d.state.loading|=4,Re(S,y.precedence,a));return d.instance}function Re(a,d,y){for(var S=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=S.length?S[S.length-1]:null,M=_,H=0;H<S.length;H++){var ee=S[H];if(ee.dataset.precedence===d)M=ee;else if(M!==_)break}M?M.parentNode.insertBefore(a,M.nextSibling):(d=y.nodeType===9?y.head:y,d.insertBefore(a,d.firstChild))}function Be(a,d){a.crossOrigin==null&&(a.crossOrigin=d.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=d.referrerPolicy),a.title==null&&(a.title=d.title)}function Ne(a,d){a.crossOrigin==null&&(a.crossOrigin=d.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=d.referrerPolicy),a.integrity==null&&(a.integrity=d.integrity)}var $e=null;function We(a,d,y){if($e===null){var S=new Map,_=$e=new Map;_.set(y,S)}else _=$e,S=_.get(y),S||(S=new Map,_.set(y,S));if(S.has(a))return S;for(S.set(a,null),y=y.getElementsByTagName(a),_=0;_<y.length;_++){var M=y[_];if(!(M[Qi]||M[dn]||a==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var H=M.getAttribute(d)||"";H=a+H;var ee=S.get(H);ee?ee.push(M):S.set(H,[M])}}return S}function st(a,d,y){a=a.ownerDocument||a,a.head.insertBefore(y,d==="title"?a.querySelector("head > title"):null)}function wt(a,d,y){if(y===1||d.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return a=d.disabled,typeof d.precedence=="string"&&a==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function ln(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var vn=null;function En(){}function Ir(a,d,y){if(vn===null)throw Error(r(475));var S=vn;if(d.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var _=A(y.href),M=a.querySelector(O(_));if(M){a=M._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(S.count++,S=Hn.bind(S),a.then(S,S)),d.state.loading|=4,d.instance=M,sr(M);return}M=a.ownerDocument||a,y=L(y),(_=Wi.get(_))&&Be(y,_),M=M.createElement("link"),sr(M);var H=M;H._p=new Promise(function(ee,fe){H.onload=ee,H.onerror=fe}),br(M,"link",y),d.instance=M}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(d,a),(a=d.state.preload)&&(d.state.loading&3)===0&&(S.count++,d=Hn.bind(S),a.addEventListener("load",d),a.addEventListener("error",d))}}function gn(){if(vn===null)throw Error(r(475));var a=vn;return a.stylesheets&&a.count===0&&Yn(a,a.stylesheets),0<a.count?function(d){var y=setTimeout(function(){if(a.stylesheets&&Yn(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(y)}}:null}function Hn(){if(this.count--,this.count===0){if(this.stylesheets)Yn(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Wn=null;function Yn(a,d){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Wn=new Map,d.forEach(ho,a),Wn=null,Hn.call(a))}function ho(a,d){if(!(d.state.loading&4)){var y=Wn.get(a);if(y)var S=y.get(null);else{y=new Map,Wn.set(a,y);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<_.length;M++){var H=_[M];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(y.set(H.dataset.precedence,H),S=H)}S&&y.set(null,S)}_=d.instance,H=_.getAttribute("data-precedence"),M=y.get(H)||S,M===S&&y.set(null,_),y.set(H,_),this.count++,S=Hn.bind(this),_.addEventListener("load",S),_.addEventListener("error",S),M?M.parentNode.insertBefore(_,M.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),d.state.loading|=4}}var Cc={$$typeof:N,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function mb(a,d,y,S,_,M,H,ee){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=S,this.onUncaughtError=_,this.onCaughtError=M,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function ed(a,d,y,S,_,M,H,ee,fe,Me,ze,He){return a=new mb(a,d,y,H,ee,fe,Me,He),d=1,M===!0&&(d|=24),M=zr(3,null,null,d),a.current=M,M.stateNode=a,d=Am(),d.refCount++,a.pooledCache=d,d.refCount++,M.memoizedState={element:S,isDehydrated:y,cache:d},Rm(M),a}function cT(a){return a?(a=$u,a):$u}function fT(a,d,y,S,_,M){_=cT(_),S.context===null?S.context=_:S.pendingContext=_,S=si(d),S.payload={element:y},M=M===void 0?null:M,M!==null&&(S.callback=M),y=ra(a,S,d),y!==null&&(Je(y,a,d),tc(y,a,d))}function dT(a,d){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var y=a.retryLane;a.retryLane=y!==0&&y<d?y:d}}function AA(a,d){dT(a,d),(a=a.alternate)&&dT(a,d)}function hT(a){if(a.tag===13){var d=Gu(a,67108864);d!==null&&Je(d,a,67108864),AA(a,67108864)}}var vb=!0;function oj(a,d,y,S){var _=re.T;re.T=null;var M=Ae.p;try{Ae.p=2,EA(a,d,y,S)}finally{Ae.p=M,re.T=_}}function sj(a,d,y,S){var _=re.T;re.T=null;var M=Ae.p;try{Ae.p=8,EA(a,d,y,S)}finally{Ae.p=M,re.T=_}}function EA(a,d,y,S){if(vb){var _=CA(S);if(_===null)Lp(a,d,S,yb,y),gT(a,S);else if(lj(_,a,d,y,S))S.stopPropagation();else if(gT(a,S),d&4&&-1<aj.indexOf(a)){for(;_!==null;){var M=Qo(_);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var H=rt(M.pendingLanes);if(H!==0){var ee=M;for(ee.pendingLanes|=2,ee.entangledLanes|=2;H;){var fe=1<<31-lt(H);ee.entanglements[1]|=fe,H&=~fe}wi(M),(mn&6)===0&&(Cp=je()+500,Ea(0))}}break;case 13:ee=Gu(M,2),ee!==null&&Je(ee,M,2),va(),AA(M,2)}if(M=CA(S),M===null&&Lp(a,d,S,yb,y),M===_)break;_=M}_!==null&&S.stopPropagation()}else Lp(a,d,S,null,y)}}function CA(a){return a=Sf(a),wA(a)}var yb=null;function wA(a){if(yb=null,a=$s(a),a!==null){var d=s(a);if(d===null)a=null;else{var y=d.tag;if(y===13){if(a=l(d),a!==null)return a;a=null}else if(y===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;a=null}else d!==a&&(a=null)}}return yb=a,null}function pT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case ve:return 2;case Pe:return 8;case Ze:case pt:return 32;case gt:return 268435456;default:return 32}default:return 32}}var RA=!1,wc=null,Rc=null,Tc=null,T0=new Map,N0=new Map,Nc=[],aj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gT(a,d){switch(a){case"focusin":case"focusout":wc=null;break;case"dragenter":case"dragleave":Rc=null;break;case"mouseover":case"mouseout":Tc=null;break;case"pointerover":case"pointerout":T0.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":N0.delete(d.pointerId)}}function _0(a,d,y,S,_,M){return a===null||a.nativeEvent!==M?(a={blockedOn:d,domEventName:y,eventSystemFlags:S,nativeEvent:M,targetContainers:[_]},d!==null&&(d=Qo(d),d!==null&&hT(d)),a):(a.eventSystemFlags|=S,d=a.targetContainers,_!==null&&d.indexOf(_)===-1&&d.push(_),a)}function lj(a,d,y,S,_){switch(d){case"focusin":return wc=_0(wc,a,d,y,S,_),!0;case"dragenter":return Rc=_0(Rc,a,d,y,S,_),!0;case"mouseover":return Tc=_0(Tc,a,d,y,S,_),!0;case"pointerover":var M=_.pointerId;return T0.set(M,_0(T0.get(M)||null,a,d,y,S,_)),!0;case"gotpointercapture":return M=_.pointerId,N0.set(M,_0(N0.get(M)||null,a,d,y,S,_)),!0}return!1}function mT(a){var d=$s(a.target);if(d!==null){var y=s(d);if(y!==null){if(d=y.tag,d===13){if(d=l(y),d!==null){a.blockedOn=d,Xt(a.priority,function(){if(y.tag===13){var S=gr();S=tn(S);var _=Gu(y,S);_!==null&&Je(_,y,S),AA(y,S)}});return}}else if(d===3&&y.stateNode.current.memoizedState.isDehydrated){a.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}a.blockedOn=null}function xb(a){if(a.blockedOn!==null)return!1;for(var d=a.targetContainers;0<d.length;){var y=CA(a.nativeEvent);if(y===null){y=a.nativeEvent;var S=new y.constructor(y.type,y);bf=S,y.target.dispatchEvent(S),bf=null}else return d=Qo(y),d!==null&&hT(d),a.blockedOn=y,!1;d.shift()}return!0}function vT(a,d,y){xb(a)&&y.delete(d)}function uj(){RA=!1,wc!==null&&xb(wc)&&(wc=null),Rc!==null&&xb(Rc)&&(Rc=null),Tc!==null&&xb(Tc)&&(Tc=null),T0.forEach(vT),N0.forEach(vT)}function bb(a,d){a.blockedOn===d&&(a.blockedOn=null,RA||(RA=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uj)))}var Sb=null;function yT(a){Sb!==a&&(Sb=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Sb===a&&(Sb=null);for(var d=0;d<a.length;d+=3){var y=a[d],S=a[d+1],_=a[d+2];if(typeof S!="function"){if(wA(S||y)===null)continue;break}var M=Qo(y);M!==null&&(a.splice(d,3),d-=3,ci(M,{pending:!0,data:_,method:y.method,action:S},S,_))}}))}function I0(a){function d(fe){return bb(fe,a)}wc!==null&&bb(wc,a),Rc!==null&&bb(Rc,a),Tc!==null&&bb(Tc,a),T0.forEach(d),N0.forEach(d);for(var y=0;y<Nc.length;y++){var S=Nc[y];S.blockedOn===a&&(S.blockedOn=null)}for(;0<Nc.length&&(y=Nc[0],y.blockedOn===null);)mT(y),y.blockedOn===null&&Nc.shift();if(y=(a.ownerDocument||a).$$reactFormReplay,y!=null)for(S=0;S<y.length;S+=3){var _=y[S],M=y[S+1],H=_[Ft]||null;if(typeof M=="function")H||yT(y);else if(H){var ee=null;if(M&&M.hasAttribute("formAction")){if(_=M,H=M[Ft]||null)ee=H.formAction;else if(wA(_)!==null)continue}else ee=H.action;typeof ee=="function"?y[S+1]=ee:(y.splice(S,3),S-=3),yT(y)}}}function TA(a){this._internalRoot=a}Ab.prototype.render=TA.prototype.render=function(a){var d=this._internalRoot;if(d===null)throw Error(r(409));var y=d.current,S=gr();fT(y,S,a,d,null,null)},Ab.prototype.unmount=TA.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var d=a.containerInfo;fT(a.current,2,null,a,null,null),va(),d[Rn]=null}};function Ab(a){this._internalRoot=a}Ab.prototype.unstable_scheduleHydration=function(a){if(a){var d=vr();a={blockedOn:null,target:a,priority:d};for(var y=0;y<Nc.length&&d!==0&&d<Nc[y].priority;y++);Nc.splice(y,0,a),y===0&&mT(a)}};var xT=t.version;if(xT!=="19.1.0")throw Error(r(527,xT,"19.1.0"));Ae.findDOMNode=function(a){var d=a._reactInternals;if(d===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=c(d),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var cj={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eb.isDisabled&&Eb.supportsFiber)try{qe=Eb.inject(cj),Ye=Eb}catch{}}return D0.createRoot=function(a,d){if(!i(a))throw Error(r(299));var y=!1,S="",_=Km,M=ul,H=To,ee=null;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(M=d.onCaughtError),d.onRecoverableError!==void 0&&(H=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ee=d.unstable_transitionCallbacks)),d=ed(a,1,!1,null,null,y,S,_,M,H,ee,null),a[Rn]=d.current,Xf(a),new TA(d)},D0.hydrateRoot=function(a,d,y){if(!i(a))throw Error(r(299));var S=!1,_="",M=Km,H=ul,ee=To,fe=null,Me=null;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(_=y.identifierPrefix),y.onUncaughtError!==void 0&&(M=y.onUncaughtError),y.onCaughtError!==void 0&&(H=y.onCaughtError),y.onRecoverableError!==void 0&&(ee=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(fe=y.unstable_transitionCallbacks),y.formState!==void 0&&(Me=y.formState)),d=ed(a,1,!0,d,y??null,S,_,M,H,ee,fe,Me),d.context=cT(null),y=d.current,S=gr(),S=tn(S),_=si(S),_.callback=null,ra(y,_,S),y=S,d.current.lanes=y,cn(d,y),wi(d),a[Rn]=d.current,Xf(a),new Ab(d)},D0.version="19.1.0",D0}var IT;function Sj(){if(IT)return IA.exports;IT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),IA.exports=bj(),IA.exports}var Aj=Sj(),P=FS();const Ke=K3(P),J3=pj({__proto__:null,default:Ke},[P]);var M0={},OT;function Ej(){if(OT)return M0;OT=1,Object.defineProperty(M0,"__esModule",{value:!0}),M0.parse=l,M0.serialize=g;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,b){const E=new s,w=x.length;if(w<2)return E;const C=(b==null?void 0:b.decode)||p;let R=0;do{const T=x.indexOf("=",R);if(T===-1)break;const N=x.indexOf(";",R),D=N===-1?w:N;if(T>D){R=x.lastIndexOf(";",T-1)+1;continue}const F=u(x,R,T),B=c(x,T,F),j=x.slice(F,B);if(E[j]===void 0){let k=u(x,T+1,D),$=c(x,D,k);const Z=C(x.slice(k,$));E[j]=Z}R=D+1}while(R<w);return E}function u(x,b,E){do{const w=x.charCodeAt(b);if(w!==32&&w!==9)return b}while(++b<E);return E}function c(x,b,E){for(;b>E;){const w=x.charCodeAt(--b);if(w!==32&&w!==9)return b+1}return E}function g(x,b,E){const w=(E==null?void 0:E.encode)||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const C=w(b);if(!t.test(C))throw new TypeError(`argument val is invalid: ${b}`);let R=x+"="+C;if(!E)return R;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);R+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);R+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);R+="; Path="+E.path}if(E.expires){if(!m(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);R+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(R+="; HttpOnly"),E.secure&&(R+="; Secure"),E.partitioned&&(R+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return R}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function m(x){return i.call(x)==="[object Date]"}return M0}Ej();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DT="popstate";function Cj(e={}){function t(r,i){let{pathname:s,search:l,hash:u}=r.location;return tw("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_v(i)}return Rj(t,n,null,e)}function er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wj(){return Math.random().toString(36).substring(2,10)}function MT(e,t){return{usr:e.state,key:e.key,idx:t}}function tw(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bg(t):t,state:n,key:t&&t.key||r||wj()}}function _v({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Rj(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",c=null,g=p();g==null&&(g=0,l.replaceState({...l.state,idx:g},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let C=p(),R=C==null?null:C-g;g=C,c&&c({action:u,location:w.location,delta:R})}function x(C,R){u="PUSH";let T=tw(w.location,C,R);g=p()+1;let N=MT(T,g),D=w.createHref(T);try{l.pushState(N,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(D)}s&&c&&c({action:u,location:w.location,delta:1})}function b(C,R){u="REPLACE";let T=tw(w.location,C,R);g=p();let N=MT(T,g),D=w.createHref(T);l.replaceState(N,"",D),s&&c&&c({action:u,location:w.location,delta:0})}function E(C){let R=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof C=="string"?C:_v(C);return T=T.replace(/ $/,"%20"),er(R,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,R)}let w={get action(){return u},get location(){return e(i,l)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(DT,m),c=C,()=>{i.removeEventListener(DT,m),c=null}},createHref(C){return t(i,C)},createURL:E,encodeLocation(C){let R=E(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:x,replace:b,go(C){return l.go(C)}};return w}function Q3(e,t,n="/"){return Tj(e,t,n,!1)}function Tj(e,t,n,r){let i=typeof t=="string"?bg(t):t,s=Ou(i.pathname||"/",n);if(s==null)return null;let l=eM(e);Nj(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let g=jj(s);u=kj(l[c],g,r)}return u}function eM(e,t=[],n=[],r=""){let i=(s,l,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};c.relativePath.startsWith("/")&&(er(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let g=_u([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(er(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),eM(s.children,t,p,g)),!(s.path==null&&!s.index)&&t.push({path:g,score:Lj(g,s.index),routesMeta:p})};return e.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let c of tM(s.path))i(s,l,c)}),t}function tM(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=tM(r.join("/")),u=[];return u.push(...l.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function Nj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Fj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _j=/^:[\w-]+$/,Ij=3,Oj=2,Dj=1,Mj=10,Pj=-2,PT=e=>e==="*";function Lj(e,t){let n=e.split("/"),r=n.length;return n.some(PT)&&(r+=Pj),t&&(r+=Oj),n.filter(i=>!PT(i)).reduce((i,s)=>i+(_j.test(s)?Ij:s===""?Dj:Mj),r)}function Fj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function kj(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],g=u===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",m=pS({path:c.relativePath,caseSensitive:c.caseSensitive,end:g},p),x=c.route;if(!m&&g&&n&&!r[r.length-1].route.index&&(m=pS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:_u([s,m.pathname]),pathnameBase:Gj(_u([s,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(s=_u([s,m.pathnameBase]))}return l}function pS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Bj(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((g,{paramName:p,isOptional:m},x)=>{if(p==="*"){let E=u[x]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const b=u[x];return m&&!b?g[p]=void 0:g[p]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:s,pathnameBase:l,pattern:e}}function Bj(e,t=!1,n=!0){Fs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function jj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ou(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function zj(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bg(e):e;return{pathname:n?n.startsWith("/")?n:Uj(n,t):t,search:$j(r),hash:Hj(i)}}function Uj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function LA(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function g2(e){let t=Vj(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function m2(e,t,n,r=!1){let i;typeof e=="string"?i=bg(e):(i={...e},er(!i.pathname||!i.pathname.includes("?"),LA("?","pathname","search",i)),er(!i.pathname||!i.pathname.includes("#"),LA("#","pathname","hash",i)),er(!i.search||!i.search.includes("#"),LA("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;i.pathname=x.join("/")}u=m>=0?t[m]:"/"}let c=zj(i,u),g=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(g||p)&&(c.pathname+="/"),c}var _u=e=>e.join("/").replace(/\/\/+/g,"/"),Gj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$j=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Wj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var nM=["POST","PUT","PATCH","DELETE"];new Set(nM);var Yj=["GET",...nM];new Set(Yj);var Sg=P.createContext(null);Sg.displayName="DataRouter";var kS=P.createContext(null);kS.displayName="DataRouterState";var rM=P.createContext({isTransitioning:!1});rM.displayName="ViewTransition";var qj=P.createContext(new Map);qj.displayName="Fetchers";var Kj=P.createContext(null);Kj.displayName="Await";var zs=P.createContext(null);zs.displayName="Navigation";var Gv=P.createContext(null);Gv.displayName="Location";var Xo=P.createContext({outlet:null,matches:[],isDataRoute:!1});Xo.displayName="Route";var v2=P.createContext(null);v2.displayName="RouteError";function Xj(e,{relative:t}={}){er(Ag(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(zs),{hash:i,pathname:s,search:l}=$v(e,{relative:t}),u=s;return n!=="/"&&(u=s==="/"?n:_u([n,s])),r.createHref({pathname:u,search:l,hash:i})}function Ag(){return P.useContext(Gv)!=null}function Ba(){return er(Ag(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Gv).location}var iM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oM(e){P.useContext(zs).static||P.useLayoutEffect(e)}function y2(){let{isDataRoute:e}=P.useContext(Xo);return e?fz():Zj()}function Zj(){er(Ag(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(Sg),{basename:t,navigator:n}=P.useContext(zs),{matches:r}=P.useContext(Xo),{pathname:i}=Ba(),s=JSON.stringify(g2(r)),l=P.useRef(!1);return oM(()=>{l.current=!0}),P.useCallback((c,g={})=>{if(Fs(l.current,iM),!l.current)return;if(typeof c=="number"){n.go(c);return}let p=m2(c,JSON.parse(s),i,g.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:_u([t,p.pathname])),(g.replace?n.replace:n.push)(p,g.state,g)},[t,n,s,i,e])}var Jj=P.createContext(null);function Qj(e){let t=P.useContext(Xo).outlet;return t&&P.createElement(Jj.Provider,{value:e},t)}function sM(){let{matches:e}=P.useContext(Xo),t=e[e.length-1];return t?t.params:{}}function $v(e,{relative:t}={}){let{matches:n}=P.useContext(Xo),{pathname:r}=Ba(),i=JSON.stringify(g2(n));return P.useMemo(()=>m2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function ez(e,t){return aM(e,t)}function aM(e,t,n,r){var T;er(Ag(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=P.useContext(zs),{matches:l}=P.useContext(Xo),u=l[l.length-1],c=u?u.params:{},g=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let N=m&&m.path||"";lM(g,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let x=Ba(),b;if(t){let N=typeof t=="string"?bg(t):t;er(p==="/"||((T=N.pathname)==null?void 0:T.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=x;let E=b.pathname||"/",w=E;if(p!=="/"){let N=p.replace(/^\//,"").split("/");w="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=!s&&n&&n.matches&&n.matches.length>0?n.matches:Q3(e,{pathname:w});Fs(m||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Fs(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=oz(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:_u([p,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:_u([p,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,n,r);return t&&R?P.createElement(Gv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function tz(){let e=cz(),t=Wj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:s},"ErrorBoundary")," or"," ",P.createElement("code",{style:s},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,l)}var nz=P.createElement(tz,null),rz=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(Xo.Provider,{value:this.props.routeContext},P.createElement(v2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iz({routeContext:e,match:t,children:n}){let r=P.useContext(Sg);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Xo.Provider,{value:e},n)}function oz(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(g=>g.route.id&&(s==null?void 0:s[g.route.id])!==void 0);er(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let l=!1,u=-1;if(n)for(let c=0;c<i.length;c++){let g=i[c];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=c),g.route.id){let{loaderData:p,errors:m}=n,x=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,g,p)=>{let m,x=!1,b=null,E=null;n&&(m=s&&g.route.id?s[g.route.id]:void 0,b=g.route.errorElement||nz,l&&(u<0&&p===0?(lM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):u===p&&(x=!0,E=g.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,p+1)),C=()=>{let R;return m?R=b:x?R=E:g.route.Component?R=P.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=c,P.createElement(iz,{match:g,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?P.createElement(rz,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function x2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sz(e){let t=P.useContext(Sg);return er(t,x2(e)),t}function az(e){let t=P.useContext(kS);return er(t,x2(e)),t}function lz(e){let t=P.useContext(Xo);return er(t,x2(e)),t}function b2(e){let t=lz(e),n=t.matches[t.matches.length-1];return er(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function uz(){return b2("useRouteId")}function cz(){var r;let e=P.useContext(v2),t=az("useRouteError"),n=b2("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function fz(){let{router:e}=sz("useNavigate"),t=b2("useNavigate"),n=P.useRef(!1);return oM(()=>{n.current=!0}),P.useCallback(async(i,s={})=>{Fs(n.current,iM),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var LT={};function lM(e,t,n){!t&&!LT[e]&&(LT[e]=!0,Fs(!1,n))}P.memo(dz);function dz({routes:e,future:t,state:n}){return aM(e,void 0,n,t)}function uM({to:e,replace:t,state:n,relative:r}){er(Ag(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=P.useContext(zs);Fs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=P.useContext(Xo),{pathname:l}=Ba(),u=y2(),c=m2(e,g2(s),l,r==="path"),g=JSON.stringify(c);return P.useEffect(()=>{u(JSON.parse(g),{replace:t,state:n,relative:r})},[u,g,r,t,n]),null}function S2(e){return Qj(e.context)}function Ra(e){er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hz({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){er(!Ag(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=bg(n));let{pathname:c="/",search:g="",hash:p="",state:m=null,key:x="default"}=n,b=P.useMemo(()=>{let E=Ou(c,l);return E==null?null:{location:{pathname:E,search:g,hash:p,state:m,key:x},navigationType:r}},[l,c,g,p,m,x,r]);return Fs(b!=null,`<Router basename="${l}"> is not able to match the URL "${c}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(zs.Provider,{value:u},P.createElement(Gv.Provider,{children:t,value:b}))}function pz({children:e,location:t}){return ez(nw(e),t)}function nw(e,t=[]){let n=[];return P.Children.forEach(e,(r,i)=>{if(!P.isValidElement(r))return;let s=[...t,i];if(r.type===P.Fragment){n.push.apply(n,nw(r.props.children,s));return}er(r.type===Ra,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),er(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=nw(r.props.children,s)),n.push(l)}),n}var Zb="get",Jb="application/x-www-form-urlencoded";function BS(e){return e!=null&&typeof e.tagName=="string"}function gz(e){return BS(e)&&e.tagName.toLowerCase()==="button"}function mz(e){return BS(e)&&e.tagName.toLowerCase()==="form"}function vz(e){return BS(e)&&e.tagName.toLowerCase()==="input"}function yz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xz(e,t){return e.button===0&&(!t||t==="_self")&&!yz(e)}var wb=null;function bz(){if(wb===null)try{new FormData(document.createElement("form"),0),wb=!1}catch{wb=!0}return wb}var Sz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function FA(e){return e!=null&&!Sz.has(e)?(Fs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jb}"`),null):e}function Az(e,t){let n,r,i,s,l;if(mz(e)){let u=e.getAttribute("action");r=u?Ou(u,t):null,n=e.getAttribute("method")||Zb,i=FA(e.getAttribute("enctype"))||Jb,s=new FormData(e)}else if(gz(e)||vz(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||u.getAttribute("action");if(r=c?Ou(c,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Zb,i=FA(e.getAttribute("formenctype"))||FA(u.getAttribute("enctype"))||Jb,s=new FormData(u,e),!bz()){let{name:g,type:p,value:m}=e;if(p==="image"){let x=g?`${g}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else g&&s.append(g,m)}}else{if(BS(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zb,r=null,i=Jb,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}function A2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Ez(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wz(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await Ez(s,n);return l.links?l.links():[]}return[]}));return _z(r.flat(1).filter(Cz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function FT(e,t,n,r,i,s){let l=(c,g)=>n[g]?c.route.id!==n[g].route.id:!0,u=(c,g)=>{var p;return n[g].pathname!==c.pathname||((p=n[g].route.path)==null?void 0:p.endsWith("*"))&&n[g].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,g)=>l(c,g)||u(c,g)):s==="data"?t.filter((c,g)=>{var m;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(l(c,g)||u(c,g))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Rz(e,t,{includeHydrateFallback:n}={}){return Tz(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Tz(e){return[...new Set(e)]}function Nz(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function _z(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(Nz(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Iz(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ou(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function cM(){let e=P.useContext(Sg);return A2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Oz(){let e=P.useContext(kS);return A2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var E2=P.createContext(void 0);E2.displayName="FrameworkContext";function fM(){let e=P.useContext(E2);return A2(e,"You must render this element inside a <HydratedRouter> element"),e}function Dz(e,t){let n=P.useContext(E2),[r,i]=P.useState(!1),[s,l]=P.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:g,onMouseLeave:p,onTouchStart:m}=t,x=P.useRef(null);P.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=R=>{R.forEach(T=>{l(T.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[e]),P.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{i(!0)},E=()=>{i(!1),l(!1)};return n?e!=="intent"?[s,x,{}]:[s,x,{onFocus:P0(u,b),onBlur:P0(c,E),onMouseEnter:P0(g,b),onMouseLeave:P0(p,E),onTouchStart:P0(m,b)}]:[!1,x,{}]}function P0(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Mz({page:e,...t}){let{router:n}=cM(),r=P.useMemo(()=>Q3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?P.createElement(Lz,{page:e,matches:r,...t}):null}function Pz(e){let{manifest:t,routeModules:n}=fM(),[r,i]=P.useState([]);return P.useEffect(()=>{let s=!1;return wz(e,t,n).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,n]),r}function Lz({page:e,matches:t,...n}){let r=Ba(),{manifest:i,routeModules:s}=fM(),{basename:l}=cM(),{loaderData:u,matches:c}=Oz(),g=P.useMemo(()=>FT(e,t,c,i,r,"data"),[e,t,c,i,r]),p=P.useMemo(()=>FT(e,t,c,i,r,"assets"),[e,t,c,i,r]),m=P.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let E=new Set,w=!1;if(t.forEach(R=>{var N;let T=i.routes[R.route.id];!T||!T.hasLoader||(!g.some(D=>D.route.id===R.route.id)&&R.route.id in u&&((N=s[R.route.id])!=null&&N.shouldRevalidate)||T.hasClientLoader?w=!0:E.add(R.route.id))}),E.size===0)return[];let C=Iz(e,l);return w&&E.size>0&&C.searchParams.set("_routes",t.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[l,u,r,i,g,t,e,s]),x=P.useMemo(()=>Rz(p,i),[p,i]),b=Pz(p);return P.createElement(P.Fragment,null,m.map(E=>P.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>P.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),b.map(({key:E,link:w})=>P.createElement("link",{key:E,...w})))}function Fz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var dM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dM&&(window.__reactRouterVersion="7.5.0")}catch{}function kz({basename:e,children:t,window:n}){let r=P.useRef();r.current==null&&(r.current=Cj({window:n,v5Compat:!0}));let i=r.current,[s,l]=P.useState({action:i.action,location:i.location}),u=P.useCallback(c=>{P.startTransition(()=>l(c))},[l]);return P.useLayoutEffect(()=>i.listen(u),[i,u]),P.createElement(hz,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var hM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eg=P.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:c,to:g,preventScrollReset:p,viewTransition:m,...x},b){let{basename:E}=P.useContext(zs),w=typeof g=="string"&&hM.test(g),C,R=!1;if(typeof g=="string"&&w&&(C=g,dM))try{let $=new URL(window.location.href),Z=g.startsWith("//")?new URL($.protocol+g):new URL(g),ne=Ou(Z.pathname,E);Z.origin===$.origin&&ne!=null?g=ne+Z.search+Z.hash:R=!0}catch{Fs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Xj(g,{relative:i}),[N,D,F]=Dz(r,x),B=Uz(g,{replace:l,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:m});function j($){t&&t($),$.defaultPrevented||B($)}let k=P.createElement("a",{...x,...F,href:C||T,onClick:R||s?t:j,ref:Fz(b,D),target:c,"data-discover":!w&&n==="render"?"true":void 0});return N&&!w?P.createElement(P.Fragment,null,k,P.createElement(Mz,{page:T})):k});Eg.displayName="Link";var Bz=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:c,...g},p){let m=$v(l,{relative:g.relative}),x=Ba(),b=P.useContext(kS),{navigator:E,basename:w}=P.useContext(zs),C=b!=null&&Wz(m)&&u===!0,R=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,T=x.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(T=T.toLowerCase(),N=N?N.toLowerCase():null,R=R.toLowerCase()),N&&w&&(N=Ou(N,w)||N);const D=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let F=T===R||!i&&T.startsWith(R)&&T.charAt(D)==="/",B=N!=null&&(N===R||!i&&N.startsWith(R)&&N.charAt(R.length)==="/"),j={isActive:F,isPending:B,isTransitioning:C},k=F?t:void 0,$;typeof r=="function"?$=r(j):$=[r,F?"active":null,B?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Z=typeof s=="function"?s(j):s;return P.createElement(Eg,{...g,"aria-current":k,className:$,ref:p,style:Z,to:l,viewTransition:u},typeof c=="function"?c(j):c)});Bz.displayName="NavLink";var jz=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:l=Zb,action:u,onSubmit:c,relative:g,preventScrollReset:p,viewTransition:m,...x},b)=>{let E=$z(),w=Hz(u,{relative:g}),C=l.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&hM.test(u),T=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let D=N.nativeEvent.submitter,F=(D==null?void 0:D.getAttribute("formmethod"))||l;E(D||N.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:i,state:s,relative:g,preventScrollReset:p,viewTransition:m})};return P.createElement("form",{ref:b,method:C,action:w,onSubmit:r?c:T,...x,"data-discover":!R&&e==="render"?"true":void 0})});jz.displayName="Form";function zz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pM(e){let t=P.useContext(Sg);return er(t,zz(e)),t}function Uz(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=y2(),c=Ba(),g=$v(e,{relative:s});return P.useCallback(p=>{if(xz(p,t)){p.preventDefault();let m=n!==void 0?n:_v(c)===_v(g);u(e,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[c,u,g,n,r,t,e,i,s,l])}var Vz=0,Gz=()=>`__${String(++Vz)}__`;function $z(){let{router:e}=pM("useSubmit"),{basename:t}=P.useContext(zs),n=uz();return P.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:c,body:g}=Az(r,t);if(i.navigate===!1){let p=i.fetcherKey||Gz();await e.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:g,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:g,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Hz(e,{relative:t}={}){let{basename:n}=P.useContext(zs),r=P.useContext(Xo);er(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...$v(e||".",{relative:t})},l=Ba();if(e==null){s.search=l.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:_u([n,s.pathname])),_v(s)}function Wz(e,t={}){let n=P.useContext(rM);er(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pM("useViewTransitionState"),i=$v(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Ou(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ou(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pS(i.pathname,l)!=null||pS(i.pathname,s)!=null}new TextEncoder;var Oa=Z3();const gM=K3(Oa);var Cg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yh=typeof window>"u"||"Deno"in globalThis;function $o(){}function Yz(e,t){return typeof e=="function"?e(t):e}function rw(e){return typeof e=="number"&&e>=0&&e!==1/0}function mM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xp(e,t){return typeof e=="function"?e(t):e}function Ms(e,t){return typeof e=="function"?e(t):e}function kT(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==C2(l,t.options))return!1}else if(!Iv(t.queryKey,l))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||s&&!s(t))}function BT(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(xh(t.options.mutationKey)!==xh(s))return!1}else if(!Iv(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function C2(e,t){return((t==null?void 0:t.queryKeyHashFn)||xh)(e)}function xh(e){return JSON.stringify(e,(t,n)=>iw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Iv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Iv(e[n],t[n])):!1}function vM(e,t){if(e===t)return e;const n=jT(e)&&jT(t);if(n||iw(e)&&iw(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),l=s.length,u=n?[]:{};let c=0;for(let g=0;g<l;g++){const p=n?g:s[g];(!n&&r.includes(p)||n)&&e[p]===void 0&&t[p]===void 0?(u[p]=void 0,c++):(u[p]=vM(e[p],t[p]),u[p]===e[p]&&e[p]!==void 0&&c++)}return i===l&&c===i?e:u}return t}function gS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function jT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function iw(e){if(!zT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!zT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zT(e){return Object.prototype.toString.call(e)==="[object Object]"}function qz(e){return new Promise(t=>{setTimeout(t,e)})}function ow(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?vM(e,t):t}function Kz(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Xz(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var w2=Symbol();function yM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===w2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var uh,jc,tg,B3,Zz=(B3=class extends Cg{constructor(){super();Et(this,uh);Et(this,jc);Et(this,tg);at(this,tg,t=>{if(!yh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ge(this,jc)||this.setEventListener(ge(this,tg))}onUnsubscribe(){var t;this.hasListeners()||((t=ge(this,jc))==null||t.call(this),at(this,jc,void 0))}setEventListener(t){var n;at(this,tg,t),(n=ge(this,jc))==null||n.call(this),at(this,jc,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ge(this,uh)!==t&&(at(this,uh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ge(this,uh)=="boolean"?ge(this,uh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},uh=new WeakMap,jc=new WeakMap,tg=new WeakMap,B3),R2=new Zz,ng,zc,rg,j3,Jz=(j3=class extends Cg{constructor(){super();Et(this,ng,!0);Et(this,zc);Et(this,rg);at(this,rg,t=>{if(!yh&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ge(this,zc)||this.setEventListener(ge(this,rg))}onUnsubscribe(){var t;this.hasListeners()||((t=ge(this,zc))==null||t.call(this),at(this,zc,void 0))}setEventListener(t){var n;at(this,rg,t),(n=ge(this,zc))==null||n.call(this),at(this,zc,t(this.setOnline.bind(this)))}setOnline(t){ge(this,ng)!==t&&(at(this,ng,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ge(this,ng)}},ng=new WeakMap,zc=new WeakMap,rg=new WeakMap,j3),mS=new Jz;function sw(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function Qz(e){return Math.min(1e3*2**e,3e4)}function xM(e){return(e??"online")==="online"?mS.isOnline():!0}var bM=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function kA(e){return e instanceof bM}function SM(e){let t=!1,n=0,r=!1,i;const s=sw(),l=w=>{var C;r||(x(new bM(w)),(C=e.abort)==null||C.call(e))},u=()=>{t=!0},c=()=>{t=!1},g=()=>R2.isFocused()&&(e.networkMode==="always"||mS.isOnline())&&e.canRun(),p=()=>xM(e.networkMode)&&e.canRun(),m=w=>{var C;r||(r=!0,(C=e.onSuccess)==null||C.call(e,w),i==null||i(),s.resolve(w))},x=w=>{var C;r||(r=!0,(C=e.onError)==null||C.call(e,w),i==null||i(),s.reject(w))},b=()=>new Promise(w=>{var C;i=R=>{(r||g())&&w(R)},(C=e.onPause)==null||C.call(e)}).then(()=>{var w;i=void 0,r||(w=e.onContinue)==null||w.call(e)}),E=()=>{if(r)return;let w;const C=n===0?e.initialPromise:void 0;try{w=C??e.fn()}catch(R){w=Promise.reject(R)}Promise.resolve(w).then(m).catch(R=>{var B;if(r)return;const T=e.retry??(yh?0:3),N=e.retryDelay??Qz,D=typeof N=="function"?N(n,R):N,F=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,R);if(t||!F){x(R);return}n++,(B=e.onFail)==null||B.call(e,n,R),qz(D).then(()=>g()?void 0:b()).then(()=>{t?x(R):E()})})};return{promise:s,cancel:l,continue:()=>(i==null||i(),s),cancelRetry:u,continueRetry:c,canStart:p,start:()=>(p()?E():b().then(E),s)}}var e5=e=>setTimeout(e,0);function t5(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=e5;const s=u=>{t?e.push(u):i(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;t++;try{c=u()}finally{t--,t||l()}return c},batchCalls:u=>(...c)=>{s(()=>{u(...c)})},schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var kr=t5(),ch,z3,AM=(z3=class{constructor(){Et(this,ch)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rw(this.gcTime)&&at(this,ch,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yh?1/0:5*60*1e3))}clearGcTimeout(){ge(this,ch)&&(clearTimeout(ge(this,ch)),at(this,ch,void 0))}},ch=new WeakMap,z3),ig,og,Go,fh,vi,jv,dh,Os,Cu,U3,n5=(U3=class extends AM{constructor(t){super();Et(this,Os);Et(this,ig);Et(this,og);Et(this,Go);Et(this,fh);Et(this,vi);Et(this,jv);Et(this,dh);at(this,dh,!1),at(this,jv,t.defaultOptions),this.setOptions(t.options),this.observers=[],at(this,fh,t.client),at(this,Go,ge(this,fh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,at(this,ig,r5(this.options)),this.state=t.state??ge(this,ig),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ge(this,vi))==null?void 0:t.promise}setOptions(t){this.options={...ge(this,jv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ge(this,Go).remove(this)}setData(t,n){const r=ow(this.state.data,t,this.options);return qt(this,Os,Cu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){qt(this,Os,Cu).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ge(this,vi))==null?void 0:r.promise;return(i=ge(this,vi))==null||i.cancel(t),n?n.then($o).catch($o):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ge(this,ig))}isActive(){return this.observers.some(t=>Ms(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===w2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!mM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ge(this,vi))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ge(this,vi))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ge(this,Go).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ge(this,vi)&&(ge(this,dh)?ge(this,vi).cancel({revert:!0}):ge(this,vi).cancelRetry()),this.scheduleGc()),ge(this,Go).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qt(this,Os,Cu).call(this,{type:"invalidate"})}fetch(t,n){var c,g,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ge(this,vi))return ge(this,vi).continueRetry(),ge(this,vi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(at(this,dh,!0),r.signal)})},s=()=>{const m=yM(this.options,n),x={client:ge(this,fh),queryKey:this.queryKey,meta:this.meta};return i(x),at(this,dh,!1),this.options.persister?this.options.persister(m,x,this):m(x)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ge(this,fh),state:this.state,fetchFn:s};i(l),(c=this.options.behavior)==null||c.onFetch(l,this),at(this,og,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=l.fetchOptions)==null?void 0:g.meta))&&qt(this,Os,Cu).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=m=>{var x,b,E,w;kA(m)&&m.silent||qt(this,Os,Cu).call(this,{type:"error",error:m}),kA(m)||((b=(x=ge(this,Go).config).onError)==null||b.call(x,m,this),(w=(E=ge(this,Go).config).onSettled)==null||w.call(E,this.state.data,m,this)),this.scheduleGc()};return at(this,vi,SM({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var x,b,E,w;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(C){u(C);return}(b=(x=ge(this,Go).config).onSuccess)==null||b.call(x,m,this),(w=(E=ge(this,Go).config).onSettled)==null||w.call(E,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,x)=>{qt(this,Os,Cu).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{qt(this,Os,Cu).call(this,{type:"pause"})},onContinue:()=>{qt(this,Os,Cu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ge(this,vi).start()}},ig=new WeakMap,og=new WeakMap,Go=new WeakMap,fh=new WeakMap,vi=new WeakMap,jv=new WeakMap,dh=new WeakMap,Os=new WeakSet,Cu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...EM(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return kA(i)&&i.revert&&ge(this,og)?{...ge(this,og),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),kr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ge(this,Go).notify({query:this,type:"updated",action:t})})},U3);function EM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function r5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ta,V3,i5=(V3=class extends Cg{constructor(t={}){super();Et(this,Ta);this.config=t,at(this,Ta,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??C2(i,n);let l=this.get(s);return l||(l=new n5({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){ge(this,Ta).has(t.queryHash)||(ge(this,Ta).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ge(this,Ta).get(t.queryHash);n&&(t.destroy(),n===t&&ge(this,Ta).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ge(this,Ta).get(t)}getAll(){return[...ge(this,Ta).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>kT(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>kT(t,r)):n}notify(t){kr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){kr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ta=new WeakMap,V3),Na,Ri,hh,_a,Oc,G3,o5=(G3=class extends AM{constructor(t){super();Et(this,_a);Et(this,Na);Et(this,Ri);Et(this,hh);this.mutationId=t.mutationId,at(this,Ri,t.mutationCache),at(this,Na,[]),this.state=t.state||CM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ge(this,Na).includes(t)||(ge(this,Na).push(t),this.clearGcTimeout(),ge(this,Ri).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){at(this,Na,ge(this,Na).filter(n=>n!==t)),this.scheduleGc(),ge(this,Ri).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ge(this,Na).length||(this.state.status==="pending"?this.scheduleGc():ge(this,Ri).remove(this))}continue(){var t;return((t=ge(this,hh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,u,c,g,p,m,x,b,E,w,C,R,T,N,D,F,B,j,k;const n=()=>{qt(this,_a,Oc).call(this,{type:"continue"})};at(this,hh,SM({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:($,Z)=>{qt(this,_a,Oc).call(this,{type:"failed",failureCount:$,error:Z})},onPause:()=>{qt(this,_a,Oc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ge(this,Ri).canRun(this)}));const r=this.state.status==="pending",i=!ge(this,hh).canStart();try{if(r)n();else{qt(this,_a,Oc).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(s=ge(this,Ri).config).onMutate)==null?void 0:l.call(s,t,this));const Z=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t));Z!==this.state.context&&qt(this,_a,Oc).call(this,{type:"pending",context:Z,variables:t,isPaused:i})}const $=await ge(this,hh).start();return await((p=(g=ge(this,Ri).config).onSuccess)==null?void 0:p.call(g,$,t,this.state.context,this)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,$,t,this.state.context)),await((E=(b=ge(this,Ri).config).onSettled)==null?void 0:E.call(b,$,null,this.state.variables,this.state.context,this)),await((C=(w=this.options).onSettled)==null?void 0:C.call(w,$,null,t,this.state.context)),qt(this,_a,Oc).call(this,{type:"success",data:$}),$}catch($){try{throw await((T=(R=ge(this,Ri).config).onError)==null?void 0:T.call(R,$,t,this.state.context,this)),await((D=(N=this.options).onError)==null?void 0:D.call(N,$,t,this.state.context)),await((B=(F=ge(this,Ri).config).onSettled)==null?void 0:B.call(F,void 0,$,this.state.variables,this.state.context,this)),await((k=(j=this.options).onSettled)==null?void 0:k.call(j,void 0,$,t,this.state.context)),$}finally{qt(this,_a,Oc).call(this,{type:"error",error:$})}}finally{ge(this,Ri).runNext(this)}}},Na=new WeakMap,Ri=new WeakMap,hh=new WeakMap,_a=new WeakSet,Oc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kr.batch(()=>{ge(this,Na).forEach(r=>{r.onMutationUpdate(t)}),ge(this,Ri).notify({mutation:this,type:"updated",action:t})})},G3);function CM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Tu,Ds,zv,$3,s5=($3=class extends Cg{constructor(t={}){super();Et(this,Tu);Et(this,Ds);Et(this,zv);this.config=t,at(this,Tu,new Set),at(this,Ds,new Map),at(this,zv,0)}build(t,n,r){const i=new o5({mutationCache:this,mutationId:++Cb(this,zv)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ge(this,Tu).add(t);const n=Rb(t);if(typeof n=="string"){const r=ge(this,Ds).get(n);r?r.push(t):ge(this,Ds).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ge(this,Tu).delete(t)){const n=Rb(t);if(typeof n=="string"){const r=ge(this,Ds).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ge(this,Ds).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Rb(t);if(typeof n=="string"){const r=ge(this,Ds).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Rb(t);if(typeof n=="string"){const i=(r=ge(this,Ds).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kr.batch(()=>{ge(this,Tu).forEach(t=>{this.notify({type:"removed",mutation:t})}),ge(this,Tu).clear(),ge(this,Ds).clear()})}getAll(){return Array.from(ge(this,Tu))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>BT(n,r))}findAll(t={}){return this.getAll().filter(n=>BT(t,n))}notify(t){kr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return kr.batch(()=>Promise.all(t.map(n=>n.continue().catch($o))))}},Tu=new WeakMap,Ds=new WeakMap,zv=new WeakMap,$3);function Rb(e){var t;return(t=e.options.scope)==null?void 0:t.id}function UT(e){return{onFetch:(t,n)=>{var p,m,x,b,E;const r=t.options,i=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,s=((b=t.state.data)==null?void 0:b.pages)||[],l=((E=t.state.data)==null?void 0:E.pageParams)||[];let u={pages:[],pageParams:[]},c=0;const g=async()=>{let w=!1;const C=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},R=yM(t.options,t.fetchOptions),T=async(N,D,F)=>{if(w)return Promise.reject();if(D==null&&N.pages.length)return Promise.resolve(N);const B={client:t.client,queryKey:t.queryKey,pageParam:D,direction:F?"backward":"forward",meta:t.options.meta};C(B);const j=await R(B),{maxPages:k}=t.options,$=F?Xz:Kz;return{pages:$(N.pages,j,k),pageParams:$(N.pageParams,D,k)}};if(i&&s.length){const N=i==="backward",D=N?a5:VT,F={pages:s,pageParams:l},B=D(r,F);u=await T(F,B,N)}else{const N=e??s.length;do{const D=c===0?l[0]??r.initialPageParam:VT(r,u);if(c>0&&D==null)break;u=await T(u,D),c++}while(c<N)}return u};t.options.persister?t.fetchFn=()=>{var w,C;return(C=(w=t.options).persister)==null?void 0:C.call(w,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=g}}}function VT(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function a5(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var cr,Uc,Vc,sg,ag,Gc,lg,ug,H3,l5=(H3=class{constructor(e={}){Et(this,cr);Et(this,Uc);Et(this,Vc);Et(this,sg);Et(this,ag);Et(this,Gc);Et(this,lg);Et(this,ug);at(this,cr,e.queryCache||new i5),at(this,Uc,e.mutationCache||new s5),at(this,Vc,e.defaultOptions||{}),at(this,sg,new Map),at(this,ag,new Map),at(this,Gc,0)}mount(){Cb(this,Gc)._++,ge(this,Gc)===1&&(at(this,lg,R2.subscribe(async e=>{e&&(await this.resumePausedMutations(),ge(this,cr).onFocus())})),at(this,ug,mS.subscribe(async e=>{e&&(await this.resumePausedMutations(),ge(this,cr).onOnline())})))}unmount(){var e,t;Cb(this,Gc)._--,ge(this,Gc)===0&&((e=ge(this,lg))==null||e.call(this),at(this,lg,void 0),(t=ge(this,ug))==null||t.call(this),at(this,ug,void 0))}isFetching(e){return ge(this,cr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ge(this,Uc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ge(this,cr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ge(this,cr).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Xp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ge(this,cr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ge(this,cr).get(r.queryHash),s=i==null?void 0:i.state.data,l=Yz(t,s);if(l!==void 0)return ge(this,cr).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return kr.batch(()=>ge(this,cr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ge(this,cr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ge(this,cr);kr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ge(this,cr);return kr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=kr.batch(()=>ge(this,cr).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then($o).catch($o)}invalidateQueries(e,t={}){return kr.batch(()=>(ge(this,cr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=kr.batch(()=>ge(this,cr).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch($o)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then($o)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ge(this,cr).build(this,t);return n.isStaleByTime(Xp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($o).catch($o)}fetchInfiniteQuery(e){return e.behavior=UT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($o).catch($o)}ensureInfiniteQueryData(e){return e.behavior=UT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return mS.isOnline()?ge(this,Uc).resumePausedMutations():Promise.resolve()}getQueryCache(){return ge(this,cr)}getMutationCache(){return ge(this,Uc)}getDefaultOptions(){return ge(this,Vc)}setDefaultOptions(e){at(this,Vc,e)}setQueryDefaults(e,t){ge(this,sg).set(xh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ge(this,sg).values()],n={};return t.forEach(r=>{Iv(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ge(this,ag).set(xh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ge(this,ag).values()],n={};return t.forEach(r=>{Iv(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ge(this,Vc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=C2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===w2&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ge(this,Vc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ge(this,cr).clear(),ge(this,Uc).clear()}},cr=new WeakMap,Uc=new WeakMap,Vc=new WeakMap,sg=new WeakMap,ag=new WeakMap,Gc=new WeakMap,lg=new WeakMap,ug=new WeakMap,H3),Yi,on,Uv,Ti,ph,cg,$c,Hc,Vv,fg,dg,gh,mh,Wc,hg,Mn,fv,aw,lw,uw,cw,fw,dw,hw,wM,W3,u5=(W3=class extends Cg{constructor(t,n){super();Et(this,Mn);Et(this,Yi);Et(this,on);Et(this,Uv);Et(this,Ti);Et(this,ph);Et(this,cg);Et(this,$c);Et(this,Hc);Et(this,Vv);Et(this,fg);Et(this,dg);Et(this,gh);Et(this,mh);Et(this,Wc);Et(this,hg,new Set);this.options=n,at(this,Yi,t),at(this,Hc,null),at(this,$c,sw()),this.options.experimental_prefetchInRender||ge(this,$c).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ge(this,on).addObserver(this),GT(ge(this,on),this.options)?qt(this,Mn,fv).call(this):this.updateResult(),qt(this,Mn,cw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pw(ge(this,on),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pw(ge(this,on),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qt(this,Mn,fw).call(this),qt(this,Mn,dw).call(this),ge(this,on).removeObserver(this)}setOptions(t){const n=this.options,r=ge(this,on);if(this.options=ge(this,Yi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ms(this.options.enabled,ge(this,on))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qt(this,Mn,hw).call(this),ge(this,on).setOptions(this.options),n._defaulted&&!gS(this.options,n)&&ge(this,Yi).getQueryCache().notify({type:"observerOptionsUpdated",query:ge(this,on),observer:this});const i=this.hasListeners();i&&$T(ge(this,on),r,this.options,n)&&qt(this,Mn,fv).call(this),this.updateResult(),i&&(ge(this,on)!==r||Ms(this.options.enabled,ge(this,on))!==Ms(n.enabled,ge(this,on))||Xp(this.options.staleTime,ge(this,on))!==Xp(n.staleTime,ge(this,on)))&&qt(this,Mn,aw).call(this);const s=qt(this,Mn,lw).call(this);i&&(ge(this,on)!==r||Ms(this.options.enabled,ge(this,on))!==Ms(n.enabled,ge(this,on))||s!==ge(this,Wc))&&qt(this,Mn,uw).call(this,s)}getOptimisticResult(t){const n=ge(this,Yi).getQueryCache().build(ge(this,Yi),t),r=this.createResult(n,t);return f5(this,r)&&(at(this,Ti,r),at(this,cg,this.options),at(this,ph,ge(this,on).state)),r}getCurrentResult(){return ge(this,Ti)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){ge(this,hg).add(t)}getCurrentQuery(){return ge(this,on)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ge(this,Yi).defaultQueryOptions(t),r=ge(this,Yi).getQueryCache().build(ge(this,Yi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return qt(this,Mn,fv).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ge(this,Ti)))}createResult(t,n){var $;const r=ge(this,on),i=this.options,s=ge(this,Ti),l=ge(this,ph),u=ge(this,cg),g=t!==r?t.state:ge(this,Uv),{state:p}=t;let m={...p},x=!1,b;if(n._optimisticResults){const Z=this.hasListeners(),ne=!Z&&GT(t,n),ie=Z&&$T(t,r,n,i);(ne||ie)&&(m={...m,...EM(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:E,errorUpdatedAt:w,status:C}=m;b=m.data;let R=!1;if(n.placeholderData!==void 0&&b===void 0&&C==="pending"){let Z;s!=null&&s.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(Z=s.data,R=!0):Z=typeof n.placeholderData=="function"?n.placeholderData(($=ge(this,dg))==null?void 0:$.state.data,ge(this,dg)):n.placeholderData,Z!==void 0&&(C="success",b=ow(s==null?void 0:s.data,Z,n),x=!0)}if(n.select&&b!==void 0&&!R)if(s&&b===(l==null?void 0:l.data)&&n.select===ge(this,Vv))b=ge(this,fg);else try{at(this,Vv,n.select),b=n.select(b),b=ow(s==null?void 0:s.data,b,n),at(this,fg,b),at(this,Hc,null)}catch(Z){at(this,Hc,Z)}ge(this,Hc)&&(E=ge(this,Hc),b=ge(this,fg),w=Date.now(),C="error");const T=m.fetchStatus==="fetching",N=C==="pending",D=C==="error",F=N&&T,B=b!==void 0,k={status:C,fetchStatus:m.fetchStatus,isPending:N,isSuccess:C==="success",isError:D,isInitialLoading:F,isLoading:F,data:b,dataUpdatedAt:m.dataUpdatedAt,error:E,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>g.dataUpdateCount||m.errorUpdateCount>g.errorUpdateCount,isFetching:T,isRefetching:T&&!N,isLoadingError:D&&!B,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:D&&B,isStale:T2(t,n),refetch:this.refetch,promise:ge(this,$c)};if(this.options.experimental_prefetchInRender){const Z=he=>{k.status==="error"?he.reject(k.error):k.data!==void 0&&he.resolve(k.data)},ne=()=>{const he=at(this,$c,k.promise=sw());Z(he)},ie=ge(this,$c);switch(ie.status){case"pending":t.queryHash===r.queryHash&&Z(ie);break;case"fulfilled":(k.status==="error"||k.data!==ie.value)&&ne();break;case"rejected":(k.status!=="error"||k.error!==ie.reason)&&ne();break}}return k}updateResult(){const t=ge(this,Ti),n=this.createResult(ge(this,on),this.options);if(at(this,ph,ge(this,on).state),at(this,cg,this.options),ge(this,ph).data!==void 0&&at(this,dg,ge(this,on)),gS(n,t))return;at(this,Ti,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ge(this,hg).size)return!0;const l=new Set(s??ge(this,hg));return this.options.throwOnError&&l.add("error"),Object.keys(ge(this,Ti)).some(u=>{const c=u;return ge(this,Ti)[c]!==t[c]&&l.has(c)})};qt(this,Mn,wM).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qt(this,Mn,cw).call(this)}},Yi=new WeakMap,on=new WeakMap,Uv=new WeakMap,Ti=new WeakMap,ph=new WeakMap,cg=new WeakMap,$c=new WeakMap,Hc=new WeakMap,Vv=new WeakMap,fg=new WeakMap,dg=new WeakMap,gh=new WeakMap,mh=new WeakMap,Wc=new WeakMap,hg=new WeakMap,Mn=new WeakSet,fv=function(t){qt(this,Mn,hw).call(this);let n=ge(this,on).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch($o)),n},aw=function(){qt(this,Mn,fw).call(this);const t=Xp(this.options.staleTime,ge(this,on));if(yh||ge(this,Ti).isStale||!rw(t))return;const r=mM(ge(this,Ti).dataUpdatedAt,t)+1;at(this,gh,setTimeout(()=>{ge(this,Ti).isStale||this.updateResult()},r))},lw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ge(this,on)):this.options.refetchInterval)??!1},uw=function(t){qt(this,Mn,dw).call(this),at(this,Wc,t),!(yh||Ms(this.options.enabled,ge(this,on))===!1||!rw(ge(this,Wc))||ge(this,Wc)===0)&&at(this,mh,setInterval(()=>{(this.options.refetchIntervalInBackground||R2.isFocused())&&qt(this,Mn,fv).call(this)},ge(this,Wc)))},cw=function(){qt(this,Mn,aw).call(this),qt(this,Mn,uw).call(this,qt(this,Mn,lw).call(this))},fw=function(){ge(this,gh)&&(clearTimeout(ge(this,gh)),at(this,gh,void 0))},dw=function(){ge(this,mh)&&(clearInterval(ge(this,mh)),at(this,mh,void 0))},hw=function(){const t=ge(this,Yi).getQueryCache().build(ge(this,Yi),this.options);if(t===ge(this,on))return;const n=ge(this,on);at(this,on,t),at(this,Uv,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},wM=function(t){kr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ge(this,Ti))}),ge(this,Yi).getQueryCache().notify({query:ge(this,on),type:"observerResultsUpdated"})})},W3);function c5(e,t){return Ms(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function GT(e,t){return c5(e,t)||e.state.data!==void 0&&pw(e,t,t.refetchOnMount)}function pw(e,t,n){if(Ms(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&T2(e,t)}return!1}function $T(e,t,n,r){return(e!==t||Ms(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&T2(e,n)}function T2(e,t){return Ms(t.enabled,e)!==!1&&e.isStaleByTime(Xp(t.staleTime,e))}function f5(e,t){return!gS(e.getCurrentResult(),t)}var Yc,qc,qi,Nu,Iu,Qb,gw,Y3,d5=(Y3=class extends Cg{constructor(n,r){super();Et(this,Iu);Et(this,Yc);Et(this,qc);Et(this,qi);Et(this,Nu);at(this,Yc,n),this.setOptions(r),this.bindMethods(),qt(this,Iu,Qb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ge(this,Yc).defaultMutationOptions(n),gS(this.options,r)||ge(this,Yc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ge(this,qi),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&xh(r.mutationKey)!==xh(this.options.mutationKey)?this.reset():((i=ge(this,qi))==null?void 0:i.state.status)==="pending"&&ge(this,qi).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ge(this,qi))==null||n.removeObserver(this)}onMutationUpdate(n){qt(this,Iu,Qb).call(this),qt(this,Iu,gw).call(this,n)}getCurrentResult(){return ge(this,qc)}reset(){var n;(n=ge(this,qi))==null||n.removeObserver(this),at(this,qi,void 0),qt(this,Iu,Qb).call(this),qt(this,Iu,gw).call(this)}mutate(n,r){var i;return at(this,Nu,r),(i=ge(this,qi))==null||i.removeObserver(this),at(this,qi,ge(this,Yc).getMutationCache().build(ge(this,Yc),this.options)),ge(this,qi).addObserver(this),ge(this,qi).execute(n)}},Yc=new WeakMap,qc=new WeakMap,qi=new WeakMap,Nu=new WeakMap,Iu=new WeakSet,Qb=function(){var r;const n=((r=ge(this,qi))==null?void 0:r.state)??CM();at(this,qc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},gw=function(n){kr.batch(()=>{var r,i,s,l,u,c,g,p;if(ge(this,Nu)&&this.hasListeners()){const m=ge(this,qc).variables,x=ge(this,qc).context;(n==null?void 0:n.type)==="success"?((i=(r=ge(this,Nu)).onSuccess)==null||i.call(r,n.data,m,x),(l=(s=ge(this,Nu)).onSettled)==null||l.call(s,n.data,null,m,x)):(n==null?void 0:n.type)==="error"&&((c=(u=ge(this,Nu)).onError)==null||c.call(u,n.error,m,x),(p=(g=ge(this,Nu)).onSettled)==null||p.call(g,void 0,n.error,m,x))}this.listeners.forEach(m=>{m(ge(this,qc))})})},Y3),RM=P.createContext(void 0),Hv=e=>{const t=P.useContext(RM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},h5=({client:e,children:t})=>(P.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),I.jsx(RM.Provider,{value:e,children:t})),TM=P.createContext(!1),p5=()=>P.useContext(TM);TM.Provider;function g5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var m5=P.createContext(g5()),v5=()=>P.useContext(m5);function NM(e,t){return typeof e=="function"?e(...t):!!e}function mw(){}var y5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},x5=e=>{P.useEffect(()=>{e.clearReset()},[e])},b5=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||NM(n,[e.error,r])),S5=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},A5=(e,t)=>e.isLoading&&e.isFetching&&!t,E5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,HT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function C5(e,t,n){var m,x,b,E,w;const r=Hv(),i=p5(),s=v5(),l=r.defaultQueryOptions(e);(x=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,l),l._optimisticResults=i?"isRestoring":"optimistic",S5(l),y5(l,s),x5(s);const u=!r.getQueryCache().get(l.queryHash),[c]=P.useState(()=>new t(r,l)),g=c.getOptimisticResult(l),p=!i&&e.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(C=>{const R=p?c.subscribe(kr.batchCalls(C)):mw;return c.updateResult(),R},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),P.useEffect(()=>{c.setOptions(l)},[l,c]),E5(l,g))throw HT(l,c,s);if(b5({result:g,errorResetBoundary:s,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw g.error;if((E=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||E.call(b,l,g),l.experimental_prefetchInRender&&!yh&&A5(g,i)){const C=u?HT(l,c,s):(w=r.getQueryCache().get(l.queryHash))==null?void 0:w.promise;C==null||C.catch(mw).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?g:c.trackResult(g)}function ja(e,t){return C5(e,u5)}function eS(e,t){const n=Hv(),[r]=P.useState(()=>new d5(n,e));P.useEffect(()=>{r.setOptions(e)},[r,e]);const i=P.useSyncExternalStore(P.useCallback(l=>r.subscribe(kr.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=P.useCallback((l,u)=>{r.mutate(l,u).catch(mw)},[r]);if(i.error&&NM(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function w5(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const R5=e=>{switch(e){case"success":return _5;case"info":return O5;case"warning":return I5;case"error":return D5;default:return null}},T5=Array(12).fill(0),N5=({visible:e,className:t})=>Ke.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ke.createElement("div",{className:"sonner-spinner"},T5.map((n,r)=>Ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),I5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),O5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),D5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),M5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),P5=()=>{const[e,t]=Ke.useState(document.hidden);return Ke.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let vw=1;class L5{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:vw++,l=this.toasts.find(c=>c.id===s),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),l?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:r}),{...c,...t,id:s,dismissible:u,title:r}):c):this.addToast({title:r,...i,dismissible:u,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let s=r!==void 0,l;const u=i.then(async g=>{if(l=["resolve",g],Ke.isValidElement(g))s=!1,this.create({id:r,type:"default",message:g});else if(k5(g)&&!g.ok){s=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,E=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...E})}else if(g instanceof Error){s=!1;const m=typeof n.error=="function"?await n.error(g):n.error,x=typeof n.description=="function"?await n.description(g):n.description,E=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...E})}else if(n.success!==void 0){s=!1;const m=typeof n.success=="function"?await n.success(g):n.success,x=typeof n.description=="function"?await n.description(g):n.description,E=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:x,...E})}}).catch(async g=>{if(l=["reject",g],n.error!==void 0){s=!1;const p=typeof n.error=="function"?await n.error(g):n.error,m=typeof n.description=="function"?await n.description(g):n.description,b=typeof p=="object"&&!Ke.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...b})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((g,p)=>u.then(()=>l[0]==="reject"?p(l[1]):g(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||vw++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ki=new L5,F5=(e,t)=>{const n=(t==null?void 0:t.id)||vw++;return Ki.addToast({title:e,...t,id:n}),n},k5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",B5=F5,j5=()=>Ki.toasts,z5=()=>Ki.getActiveToasts(),Vn=Object.assign(B5,{success:Ki.success,info:Ki.info,warning:Ki.warning,error:Ki.error,custom:Ki.custom,message:Ki.message,promise:Ki.promise,dismiss:Ki.dismiss,loading:Ki.loading},{getHistory:j5,getToasts:z5});w5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Tb(e){return e.label!==void 0}const U5=3,V5="24px",G5="16px",WT=4e3,$5=356,H5=14,W5=45,Y5=200;function wa(...e){return e.filter(Boolean).join(" ")}function q5(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const K5=e=>{var t,n,r,i,s,l,u,c,g;const{invert:p,toast:m,unstyled:x,interacting:b,setHeights:E,visibleToasts:w,heights:C,index:R,toasts:T,expanded:N,removeToast:D,defaultRichColors:F,closeButton:B,style:j,cancelButtonStyle:k,actionButtonStyle:$,className:Z="",descriptionClassName:ne="",duration:ie,position:he,gap:De,expandByDefault:Te,classNames:re,icons:Ae,closeButtonAriaLabel:de="Close toast"}=e,[ue,K]=Ke.useState(null),[oe,pe]=Ke.useState(null),[z,U]=Ke.useState(!1),[G,W]=Ke.useState(!1),[Q,X]=Ke.useState(!1),[J,se]=Ke.useState(!1),[xe,be]=Ke.useState(!1),[ae,le]=Ke.useState(0),[Ce,Oe]=Ke.useState(0),je=Ke.useRef(m.duration||ie||WT),Ue=Ke.useRef(null),ve=Ke.useRef(null),Pe=R===0,Ze=R+1<=w,pt=m.type,gt=m.dismissible!==!1,me=m.className||"",_e=m.descriptionClassName||"",qe=Ke.useMemo(()=>C.findIndex(it=>it.toastId===m.id)||0,[C,m.id]),Ye=Ke.useMemo(()=>{var it;return(it=m.closeButton)!=null?it:B},[m.closeButton,B]),tt=Ke.useMemo(()=>m.duration||ie||WT,[m.duration,ie]),lt=Ke.useRef(0),xt=Ke.useRef(0),Tt=Ke.useRef(0),Ot=Ke.useRef(null),[un,ke]=he.split("-"),rt=Ke.useMemo(()=>C.reduce((it,fn,tn)=>tn>=qe?it:it+fn.height,0),[C,qe]),mt=P5(),At=m.invert||p,Mt=pt==="loading";xt.current=Ke.useMemo(()=>qe*De+rt,[qe,rt]),Ke.useEffect(()=>{je.current=tt},[tt]),Ke.useEffect(()=>{U(!0)},[]),Ke.useEffect(()=>{const it=ve.current;if(it){const fn=it.getBoundingClientRect().height;return Oe(fn),E(tn=>[{toastId:m.id,height:fn,position:m.position},...tn]),()=>E(tn=>tn.filter(sn=>sn.toastId!==m.id))}},[E,m.id]),Ke.useLayoutEffect(()=>{if(!z)return;const it=ve.current,fn=it.style.height;it.style.height="auto";const tn=it.getBoundingClientRect().height;it.style.height=fn,Oe(tn),E(sn=>sn.find(Xt=>Xt.toastId===m.id)?sn.map(Xt=>Xt.toastId===m.id?{...Xt,height:tn}:Xt):[{toastId:m.id,height:tn,position:m.position},...sn])},[z,m.title,m.description,E,m.id]);const bn=Ke.useCallback(()=>{W(!0),le(xt.current),E(it=>it.filter(fn=>fn.toastId!==m.id)),setTimeout(()=>{D(m)},Y5)},[m,D,E,xt]);Ke.useEffect(()=>{if(m.promise&&pt==="loading"||m.duration===1/0||m.type==="loading")return;let it;return N||b||mt?(()=>{if(Tt.current<lt.current){const sn=new Date().getTime()-lt.current;je.current=je.current-sn}Tt.current=new Date().getTime()})():(()=>{je.current!==1/0&&(lt.current=new Date().getTime(),it=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),bn()},je.current))})(),()=>clearTimeout(it)},[N,b,m,pt,mt,bn]),Ke.useEffect(()=>{m.delete&&bn()},[bn,m.delete]);function zn(){var it;if(Ae!=null&&Ae.loading){var fn;return Ke.createElement("div",{className:wa(re==null?void 0:re.loader,m==null||(fn=m.classNames)==null?void 0:fn.loader,"sonner-loader"),"data-visible":pt==="loading"},Ae.loading)}return Ke.createElement(N5,{className:wa(re==null?void 0:re.loader,m==null||(it=m.classNames)==null?void 0:it.loader),visible:pt==="loading"})}const Kn=m.icon||(Ae==null?void 0:Ae[pt])||R5(pt);var cn,tr;return Ke.createElement("li",{tabIndex:0,ref:ve,className:wa(Z,me,re==null?void 0:re.toast,m==null||(t=m.classNames)==null?void 0:t.toast,re==null?void 0:re.default,re==null?void 0:re[pt],m==null||(n=m.classNames)==null?void 0:n[pt]),"data-sonner-toast":"","data-rich-colors":(cn=m.richColors)!=null?cn:F,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":z,"data-promise":!!m.promise,"data-swiped":xe,"data-removed":G,"data-visible":Ze,"data-y-position":un,"data-x-position":ke,"data-index":R,"data-front":Pe,"data-swiping":Q,"data-dismissible":gt,"data-type":pt,"data-invert":At,"data-swipe-out":J,"data-swipe-direction":oe,"data-expanded":!!(N||Te&&z),style:{"--index":R,"--toasts-before":R,"--z-index":T.length-R,"--offset":`${G?ae:xt.current}px`,"--initial-height":Te?"auto":`${Ce}px`,...j,...m.style},onDragEnd:()=>{X(!1),K(null),Ot.current=null},onPointerDown:it=>{Mt||!gt||(Ue.current=new Date,le(xt.current),it.target.setPointerCapture(it.pointerId),it.target.tagName!=="BUTTON"&&(X(!0),Ot.current={x:it.clientX,y:it.clientY}))},onPointerUp:()=>{var it,fn,tn;if(J||!gt)return;Ot.current=null;const sn=Number(((it=ve.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),vr=Number(((fn=ve.current)==null?void 0:fn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xt=new Date().getTime()-((tn=Ue.current)==null?void 0:tn.getTime()),jt=ue==="x"?sn:vr,dn=Math.abs(jt)/Xt;if(Math.abs(jt)>=W5||dn>.11){le(xt.current),m.onDismiss==null||m.onDismiss.call(m,m),pe(ue==="x"?sn>0?"right":"left":vr>0?"down":"up"),bn(),se(!0);return}else{var Ft,Rn;(Ft=ve.current)==null||Ft.style.setProperty("--swipe-amount-x","0px"),(Rn=ve.current)==null||Rn.style.setProperty("--swipe-amount-y","0px")}be(!1),X(!1),K(null)},onPointerMove:it=>{var fn,tn,sn;if(!Ot.current||!gt||((fn=window.getSelection())==null?void 0:fn.toString().length)>0)return;const Xt=it.clientY-Ot.current.y,jt=it.clientX-Ot.current.x;var dn;const Ft=(dn=e.swipeDirections)!=null?dn:q5(he);!ue&&(Math.abs(jt)>1||Math.abs(Xt)>1)&&K(Math.abs(jt)>Math.abs(Xt)?"x":"y");let Rn={x:0,y:0};const Di=Sr=>1/(1.5+Math.abs(Sr)/20);if(ue==="y"){if(Ft.includes("top")||Ft.includes("bottom"))if(Ft.includes("top")&&Xt<0||Ft.includes("bottom")&&Xt>0)Rn.y=Xt;else{const Sr=Xt*Di(Xt);Rn.y=Math.abs(Sr)<Math.abs(Xt)?Sr:Xt}}else if(ue==="x"&&(Ft.includes("left")||Ft.includes("right")))if(Ft.includes("left")&&jt<0||Ft.includes("right")&&jt>0)Rn.x=jt;else{const Sr=jt*Di(jt);Rn.x=Math.abs(Sr)<Math.abs(jt)?Sr:jt}(Math.abs(Rn.x)>0||Math.abs(Rn.y)>0)&&be(!0),(tn=ve.current)==null||tn.style.setProperty("--swipe-amount-x",`${Rn.x}px`),(sn=ve.current)==null||sn.style.setProperty("--swipe-amount-y",`${Rn.y}px`)}},Ye&&!m.jsx&&pt!=="loading"?Ke.createElement("button",{"aria-label":de,"data-disabled":Mt,"data-close-button":!0,onClick:Mt||!gt?()=>{}:()=>{bn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:wa(re==null?void 0:re.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(tr=Ae==null?void 0:Ae.close)!=null?tr:M5):null,(pt||m.icon||m.promise)&&m.icon!==null&&((Ae==null?void 0:Ae[pt])!==null||m.icon)?Ke.createElement("div",{"data-icon":"",className:wa(re==null?void 0:re.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||zn():null,m.type!=="loading"?Kn:null):null,Ke.createElement("div",{"data-content":"",className:wa(re==null?void 0:re.content,m==null||(s=m.classNames)==null?void 0:s.content)},Ke.createElement("div",{"data-title":"",className:wa(re==null?void 0:re.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Ke.createElement("div",{"data-description":"",className:wa(ne,_e,re==null?void 0:re.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),Ke.isValidElement(m.cancel)?m.cancel:m.cancel&&Tb(m.cancel)?Ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||k,onClick:it=>{Tb(m.cancel)&&gt&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,it),bn())},className:wa(re==null?void 0:re.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,Ke.isValidElement(m.action)?m.action:m.action&&Tb(m.action)?Ke.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||$,onClick:it=>{Tb(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,it),!it.defaultPrevented&&bn())},className:wa(re==null?void 0:re.actionButton,m==null||(g=m.classNames)==null?void 0:g.actionButton)},m.action.label):null)};function YT(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function X5(e,t){const n={};return[e,t].forEach((r,i)=>{const s=i===1,l=s?"--mobile-offset":"--offset",u=s?G5:V5;function c(g){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof g=="number"?`${g}px`:g})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(g=>{r[g]===void 0?n[`${l}-${g}`]=u:n[`${l}-${g}`]=typeof r[g]=="number"?`${r[g]}px`:r[g]}):c(u)}),n}const Z5=Ke.forwardRef(function(t,n){const{invert:r,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:l,closeButton:u,className:c,offset:g,mobileOffset:p,theme:m="light",richColors:x,duration:b,style:E,visibleToasts:w=U5,toastOptions:C,dir:R=YT(),gap:T=H5,icons:N,containerAriaLabel:D="Notifications"}=t,[F,B]=Ke.useState([]),j=Ke.useMemo(()=>Array.from(new Set([i].concat(F.filter(oe=>oe.position).map(oe=>oe.position)))),[F,i]),[k,$]=Ke.useState([]),[Z,ne]=Ke.useState(!1),[ie,he]=Ke.useState(!1),[De,Te]=Ke.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=Ke.useRef(null),Ae=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),de=Ke.useRef(null),ue=Ke.useRef(!1),K=Ke.useCallback(oe=>{B(pe=>{var z;return(z=pe.find(U=>U.id===oe.id))!=null&&z.delete||Ki.dismiss(oe.id),pe.filter(({id:U})=>U!==oe.id)})},[]);return Ke.useEffect(()=>Ki.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{B(pe=>pe.map(z=>z.id===oe.id?{...z,delete:!0}:z))});return}setTimeout(()=>{gM.flushSync(()=>{B(pe=>{const z=pe.findIndex(U=>U.id===oe.id);return z!==-1?[...pe.slice(0,z),{...pe[z],...oe},...pe.slice(z+1)]:[oe,...pe]})})})}),[F]),Ke.useEffect(()=>{if(m!=="system"){Te(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Te("dark"):Te("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:pe})=>{Te(pe?"dark":"light")})}catch{oe.addListener(({matches:z})=>{try{Te(z?"dark":"light")}catch(U){console.error(U)}})}},[m]),Ke.useEffect(()=>{F.length<=1&&ne(!1)},[F]),Ke.useEffect(()=>{const oe=pe=>{var z;if(s.every(W=>pe[W]||pe.code===W)){var G;ne(!0),(G=re.current)==null||G.focus()}pe.code==="Escape"&&(document.activeElement===re.current||(z=re.current)!=null&&z.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[s]),Ke.useEffect(()=>{if(re.current)return()=>{de.current&&(de.current.focus({preventScroll:!0}),de.current=null,ue.current=!1)}},[re.current]),Ke.createElement("section",{ref:n,"aria-label":`${D} ${Ae}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((oe,pe)=>{var z;const[U,G]=oe.split("-");return F.length?Ke.createElement("ol",{key:oe,dir:R==="auto"?YT():R,tabIndex:-1,ref:re,className:c,"data-sonner-toaster":!0,"data-sonner-theme":De,"data-y-position":U,"data-lifted":Z&&F.length>1&&!l,"data-x-position":G,style:{"--front-toast-height":`${((z=k[0])==null?void 0:z.height)||0}px`,"--width":`${$5}px`,"--gap":`${T}px`,...E,...X5(g,p)},onBlur:W=>{ue.current&&!W.currentTarget.contains(W.relatedTarget)&&(ue.current=!1,de.current&&(de.current.focus({preventScroll:!0}),de.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,de.current=W.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{ie||ne(!1)},onDragEnd:()=>ne(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||he(!0)},onPointerUp:()=>he(!1)},F.filter(W=>!W.position&&pe===0||W.position===oe).map((W,Q)=>{var X,J;return Ke.createElement(K5,{key:W.id,icons:N,index:Q,toast:W,defaultRichColors:x,duration:(X=C==null?void 0:C.duration)!=null?X:b,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:w,closeButton:(J=C==null?void 0:C.closeButton)!=null?J:u,interacting:ie,position:oe,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:K,toasts:F.filter(se=>se.position==W.position),heights:k.filter(se=>se.position==W.position),setHeights:$,expandByDefault:l,gap:T,expanded:Z,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),qT=e=>{const t=Q5(e);return t.charAt(0).toUpperCase()+t.slice(1)},_M=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),eU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},c)=>P.createElement("svg",{ref:c,...tU,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:_M("lucide",i),...!s&&!eU(u)&&{"aria-hidden":"true"},...u},[...l.map(([g,p])=>P.createElement(g,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=(e,t)=>{const n=P.forwardRef(({className:r,...i},s)=>P.createElement(nU,{ref:s,iconNode:t,className:_M(`lucide-${J5(qT(e))}`,`lucide-${e}`,r),...i}));return n.displayName=qT(e),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],iU=Xi("check",rU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],IM=Xi("chevron-down",oU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],aU=Xi("chevron-up",sU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uU=Xi("circle-check",lU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fU=Xi("circle-x",cU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],OM=Xi("ellipsis",dU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 22v-6",key:"qhmiwi"}]],DM=Xi("grid-2x2-plus",hU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],MM=Xi("loader-circle",pU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],mU=Xi("panel-left",gU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],PM=Xi("pencil",vU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],LM=Xi("plus",yU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],bU=Xi("plug",xU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],FM=Xi("trash-2",SU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kM=Xi("x",AU);function BM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=BM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jM(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=BM(e))&&(r&&(r+=" "),r+=t);return r}const N2="-",EU=e=>{const t=wU(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(N2);return u[0]===""&&u.length!==1&&u.shift(),zM(u,t)||CU(l)},getConflictingClassGroupIds:(l,u)=>{const c=n[l]||[];return u&&r[l]?[...c,...r[l]]:c}}},zM=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?zM(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(N2);return(l=t.validators.find(({validator:u})=>u(s)))==null?void 0:l.classGroupId},KT=/^\[(.+)\]$/,CU=e=>{if(KT.test(e)){const t=KT.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},wU=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)yw(n[i],r,i,t);return r},yw=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:XT(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(RU(i)){yw(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,l])=>{yw(l,XT(t,s),n,r)})})},XT=(e,t)=>{let n=e;return t.split(N2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},RU=e=>e.isThemeGetter,TU=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,l)=>{n.set(s,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let l=n.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set(s,l){n.has(s)?n.set(s,l):i(s,l)}}},xw="!",bw=":",NU=bw.length,_U=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let l=0,u=0,c=0,g;for(let E=0;E<i.length;E++){let w=i[E];if(l===0&&u===0){if(w===bw){s.push(i.slice(c,E)),c=E+NU;continue}if(w==="/"){g=E;continue}}w==="["?l++:w==="]"?l--:w==="("?u++:w===")"&&u--}const p=s.length===0?i:i.substring(c),m=IU(p),x=m!==p,b=g&&g>c?g-c:void 0;return{modifiers:s,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:b}};if(t){const i=t+bw,s=r;r=l=>l.startsWith(i)?s(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},IU=e=>e.endsWith(xw)?e.substring(0,e.length-1):e.startsWith(xw)?e.substring(1):e,OU=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(l=>{l[0]==="["||t[l]?(i.push(...s.sort(),l),s=[]):s.push(l)}),i.push(...s.sort()),i}},DU=e=>({cache:TU(e.cacheSize),parseClassName:_U(e),sortModifiers:OU(e),...EU(e)}),MU=/\s+/,PU=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,l=[],u=e.trim().split(MU);let c="";for(let g=u.length-1;g>=0;g-=1){const p=u[g],{isExternal:m,modifiers:x,hasImportantModifier:b,baseClassName:E,maybePostfixModifierPosition:w}=n(p);if(m){c=p+(c.length>0?" "+c:c);continue}let C=!!w,R=r(C?E.substring(0,w):E);if(!R){if(!C){c=p+(c.length>0?" "+c:c);continue}if(R=r(E),!R){c=p+(c.length>0?" "+c:c);continue}C=!1}const T=s(x).join(":"),N=b?T+xw:T,D=N+R;if(l.includes(D))continue;l.push(D);const F=i(R,C);for(let B=0;B<F.length;++B){const j=F[B];l.push(N+j)}c=p+(c.length>0?" "+c:c)}return c};function LU(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=UM(t))&&(r&&(r+=" "),r+=n);return r}const UM=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=UM(e[r]))&&(n&&(n+=" "),n+=t);return n};function FU(e,...t){let n,r,i,s=l;function l(c){const g=t.reduce((p,m)=>m(p),e());return n=DU(g),r=n.cache.get,i=n.cache.set,s=u,u(c)}function u(c){const g=r(c);if(g)return g;const p=PU(c,n);return i(c,p),p}return function(){return s(LU.apply(null,arguments))}}const Or=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},VM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,GM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kU=/^\d+\/\d+$/,BU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,UU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zp=e=>kU.test(e),Jt=e=>!!e&&!Number.isNaN(Number(e)),Ic=e=>!!e&&Number.isInteger(Number(e)),BA=e=>e.endsWith("%")&&Jt(e.slice(0,-1)),bl=e=>BU.test(e),GU=()=>!0,$U=e=>jU.test(e)&&!zU.test(e),$M=()=>!1,HU=e=>UU.test(e),WU=e=>VU.test(e),YU=e=>!ct(e)&&!ft(e),qU=e=>wg(e,YM,$M),ct=e=>VM.test(e),td=e=>wg(e,qM,$U),jA=e=>wg(e,QU,Jt),ZT=e=>wg(e,HM,$M),KU=e=>wg(e,WM,WU),Nb=e=>wg(e,KM,HU),ft=e=>GM.test(e),L0=e=>Rg(e,qM),XU=e=>Rg(e,eV),JT=e=>Rg(e,HM),ZU=e=>Rg(e,YM),JU=e=>Rg(e,WM),_b=e=>Rg(e,KM,!0),wg=(e,t,n)=>{const r=VM.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Rg=(e,t,n=!1)=>{const r=GM.exec(e);return r?r[1]?t(r[1]):n:!1},HM=e=>e==="position"||e==="percentage",WM=e=>e==="image"||e==="url",YM=e=>e==="length"||e==="size"||e==="bg-size",qM=e=>e==="length",QU=e=>e==="number",eV=e=>e==="family-name",KM=e=>e==="shadow",tV=()=>{const e=Or("color"),t=Or("font"),n=Or("text"),r=Or("font-weight"),i=Or("tracking"),s=Or("leading"),l=Or("breakpoint"),u=Or("container"),c=Or("spacing"),g=Or("radius"),p=Or("shadow"),m=Or("inset-shadow"),x=Or("text-shadow"),b=Or("drop-shadow"),E=Or("blur"),w=Or("perspective"),C=Or("aspect"),R=Or("ease"),T=Or("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...D(),ft,ct],B=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],k=()=>[ft,ct,c],$=()=>[zp,"full","auto",...k()],Z=()=>[Ic,"none","subgrid",ft,ct],ne=()=>["auto",{span:["full",Ic,ft,ct]},Ic,ft,ct],ie=()=>[Ic,"auto",ft,ct],he=()=>["auto","min","max","fr",ft,ct],De=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Te=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...k()],Ae=()=>[zp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],de=()=>[e,ft,ct],ue=()=>[...D(),JT,ZT,{position:[ft,ct]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],oe=()=>["auto","cover","contain",ZU,qU,{size:[ft,ct]}],pe=()=>[BA,L0,td],z=()=>["","none","full",g,ft,ct],U=()=>["",Jt,L0,td],G=()=>["solid","dashed","dotted","double"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[Jt,BA,JT,ZT],X=()=>["","none",E,ft,ct],J=()=>["none",Jt,ft,ct],se=()=>["none",Jt,ft,ct],xe=()=>[Jt,ft,ct],be=()=>[zp,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bl],breakpoint:[bl],color:[GU],container:[bl],"drop-shadow":[bl],ease:["in","out","in-out"],font:[YU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bl],shadow:[bl],spacing:["px",Jt],text:[bl],"text-shadow":[bl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zp,ct,ft,C]}],container:["container"],columns:[{columns:[Jt,ct,ft,u]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Ic,"auto",ft,ct]}],basis:[{basis:[zp,"full","auto",u,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Jt,zp,"auto","initial","none",ct]}],grow:[{grow:["",Jt,ft,ct]}],shrink:[{shrink:["",Jt,ft,ct]}],order:[{order:[Ic,"first","last","none",ft,ct]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:ne()}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:ne()}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":he()}],"auto-rows":[{"auto-rows":he()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...De(),"normal"]}],"justify-items":[{"justify-items":[...Te(),"normal"]}],"justify-self":[{"justify-self":["auto",...Te()]}],"align-content":[{content:["normal",...De()]}],"align-items":[{items:[...Te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Te(),{baseline:["","last"]}]}],"place-content":[{"place-content":De()}],"place-items":[{"place-items":[...Te(),"baseline"]}],"place-self":[{"place-self":["auto",...Te()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ae()}],w:[{w:[u,"screen",...Ae()]}],"min-w":[{"min-w":[u,"screen","none",...Ae()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Ae()]}],h:[{h:["screen",...Ae()]}],"min-h":[{"min-h":["screen","none",...Ae()]}],"max-h":[{"max-h":["screen",...Ae()]}],"font-size":[{text:["base",n,L0,td]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ft,jA]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",BA,ct]}],"font-family":[{font:[XU,ct,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ft,ct]}],"line-clamp":[{"line-clamp":[Jt,"none",ft,jA]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",ft,ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ft,ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:de()}],"text-color":[{text:de()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Jt,"from-font","auto",ft,td]}],"text-decoration-color":[{decoration:de()}],"underline-offset":[{"underline-offset":[Jt,"auto",ft,ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft,ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft,ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ic,ft,ct],radial:["",ft,ct],conic:[Ic,ft,ct]},JU,KU]}],"bg-color":[{bg:de()}],"gradient-from-pos":[{from:pe()}],"gradient-via-pos":[{via:pe()}],"gradient-to-pos":[{to:pe()}],"gradient-from":[{from:de()}],"gradient-via":[{via:de()}],"gradient-to":[{to:de()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:de()}],"border-color-x":[{"border-x":de()}],"border-color-y":[{"border-y":de()}],"border-color-s":[{"border-s":de()}],"border-color-e":[{"border-e":de()}],"border-color-t":[{"border-t":de()}],"border-color-r":[{"border-r":de()}],"border-color-b":[{"border-b":de()}],"border-color-l":[{"border-l":de()}],"divide-color":[{divide:de()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Jt,ft,ct]}],"outline-w":[{outline:["",Jt,L0,td]}],"outline-color":[{outline:de()}],shadow:[{shadow:["","none",p,_b,Nb]}],"shadow-color":[{shadow:de()}],"inset-shadow":[{"inset-shadow":["none",m,_b,Nb]}],"inset-shadow-color":[{"inset-shadow":de()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:de()}],"ring-offset-w":[{"ring-offset":[Jt,td]}],"ring-offset-color":[{"ring-offset":de()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":de()}],"text-shadow":[{"text-shadow":["none",x,_b,Nb]}],"text-shadow-color":[{"text-shadow":de()}],opacity:[{opacity:[Jt,ft,ct]}],"mix-blend":[{"mix-blend":[...W(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":W()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Jt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":de()}],"mask-image-linear-to-color":[{"mask-linear-to":de()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":de()}],"mask-image-t-to-color":[{"mask-t-to":de()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":de()}],"mask-image-r-to-color":[{"mask-r-to":de()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":de()}],"mask-image-b-to-color":[{"mask-b-to":de()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":de()}],"mask-image-l-to-color":[{"mask-l-to":de()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":de()}],"mask-image-x-to-color":[{"mask-x-to":de()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":de()}],"mask-image-y-to-color":[{"mask-y-to":de()}],"mask-image-radial":[{"mask-radial":[ft,ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":de()}],"mask-image-radial-to-color":[{"mask-radial-to":de()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Jt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":de()}],"mask-image-conic-to-color":[{"mask-conic-to":de()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ft,ct]}],filter:[{filter:["","none",ft,ct]}],blur:[{blur:X()}],brightness:[{brightness:[Jt,ft,ct]}],contrast:[{contrast:[Jt,ft,ct]}],"drop-shadow":[{"drop-shadow":["","none",b,_b,Nb]}],"drop-shadow-color":[{"drop-shadow":de()}],grayscale:[{grayscale:["",Jt,ft,ct]}],"hue-rotate":[{"hue-rotate":[Jt,ft,ct]}],invert:[{invert:["",Jt,ft,ct]}],saturate:[{saturate:[Jt,ft,ct]}],sepia:[{sepia:["",Jt,ft,ct]}],"backdrop-filter":[{"backdrop-filter":["","none",ft,ct]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[Jt,ft,ct]}],"backdrop-contrast":[{"backdrop-contrast":[Jt,ft,ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Jt,ft,ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Jt,ft,ct]}],"backdrop-invert":[{"backdrop-invert":["",Jt,ft,ct]}],"backdrop-opacity":[{"backdrop-opacity":[Jt,ft,ct]}],"backdrop-saturate":[{"backdrop-saturate":[Jt,ft,ct]}],"backdrop-sepia":[{"backdrop-sepia":["",Jt,ft,ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ft,ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Jt,"initial",ft,ct]}],ease:[{ease:["linear","initial",R,ft,ct]}],delay:[{delay:[Jt,ft,ct]}],animate:[{animate:["none",T,ft,ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,ft,ct]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:se()}],"scale-x":[{"scale-x":se()}],"scale-y":[{"scale-y":se()}],"scale-z":[{"scale-z":se()}],"scale-3d":["scale-3d"],skew:[{skew:xe()}],"skew-x":[{"skew-x":xe()}],"skew-y":[{"skew-y":xe()}],transform:[{transform:[ft,ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:de()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:de()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft,ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft,ct]}],fill:[{fill:["none",...de()]}],"stroke-w":[{stroke:[Jt,L0,td,jA]}],stroke:[{stroke:["none",...de()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nV=FU(tV);function St(...e){return nV(jM(e))}function QT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jS(...e){return t=>{let n=!1;const r=e.map(i=>{const s=QT(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():QT(e[i],null)}}}}function wn(...e){return P.useCallback(jS(...e),e)}function Zc(e){const t=rV(e),n=P.forwardRef((r,i)=>{const{children:s,...l}=r,u=P.Children.toArray(s),c=u.find(oV);if(c){const g=c.props.children,p=u.map(m=>m===c?P.Children.count(g)>1?P.Children.only(null):P.isValidElement(g)?g.props.children:null:m);return I.jsx(t,{...l,ref:i,children:P.isValidElement(g)?P.cloneElement(g,void 0,p):null})}return I.jsx(t,{...l,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var _2=Zc("Slot");function rV(e){const t=P.forwardRef((n,r)=>{const{children:i,...s}=n;if(P.isValidElement(i)){const l=aV(i),u=sV(s,i.props);return i.type!==P.Fragment&&(u.ref=r?jS(r,l):l),P.cloneElement(i,u)}return P.Children.count(i)>1?P.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var XM=Symbol("radix.slottable");function iV(e){const t=({children:n})=>I.jsx(I.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=XM,t}function oV(e){return P.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===XM}function sV(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...u)=>{s(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function aV(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const eN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,tN=jM,zS=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return tN(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,l=Object.keys(i).map(g=>{const p=n==null?void 0:n[g],m=s==null?void 0:s[g];if(p===null)return null;const x=eN(p)||eN(m);return i[g][x]}),u=n&&Object.entries(n).reduce((g,p)=>{let[m,x]=p;return x===void 0||(g[m]=x),g},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((g,p)=>{let{class:m,className:x,...b}=p;return Object.entries(b).every(E=>{let[w,C]=E;return Array.isArray(C)?C.includes({...s,...u}[w]):{...s,...u}[w]===C})?[...g,m,x]:g},[]);return tN(e,l,c,n==null?void 0:n.class,n==null?void 0:n.className)},lV=zS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ir({className:e,variant:t,size:n,asChild:r=!1,...i}){const s=r?_2:"button";return I.jsx(s,{"data-slot":"button",className:St("cursor-pointer",lV({variant:t,size:n,className:e})),...i})}function uV({className:e,...t}){return I.jsxs("form",{className:St("flex flex-col gap-6",e),...t,children:[I.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[I.jsx("h1",{className:"text-2xl font-bold",children:"Login to Wafflebase"}),I.jsx("p",{className:"text-balance text-sm text-muted-foreground",children:"Wafflebase with your GitHub account."})]}),I.jsx("div",{className:"grid gap-6",children:I.jsx(ir,{variant:"outline",className:"w-full",asChild:!0,children:I.jsxs(Eg,{to:"https://wafflebase-api.yorkie.dev/auth/github",rel:"noopener noreferrer",children:[I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:I.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12",fill:"currentColor"})}),"Login with GitHub"]})})})]})}function cV(){return I.jsx("div",{className:"grid min-h-svh",children:I.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[I.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:I.jsxs("a",{href:"#",className:"flex items-center gap-2 font-medium",children:[I.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-md bg-primary text-primary-foreground",children:I.jsx(DM,{className:"!size-5"})}),"Wafflebase"]})}),I.jsx("div",{className:"flex flex-1 items-center justify-center",children:I.jsx("div",{className:"w-full max-w-xs",children:I.jsx(uV,{})})})]})})}async function ZM(){if(!(await fetch("https://wafflebase-api.yorkie.dev/auth/logout",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to log out");Vn.success("Logged out successfully"),window.location.href="/login"}async function Ch(){const e=await Ii("https://wafflebase-api.yorkie.dev/auth/me",{method:"GET",credentials:"include"});if(!e.ok)throw new Error("Failed to fetch user");return e.json()}async function Ii(e,t){const n=await fetch(e,{...t,credentials:"include"});if(n.status===401)throw await ZM(),new Error("Unauthorized");return n}async function fV(e){const t=await Ii("https://wafflebase-api.yorkie.dev/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create document");return t.json()}async function dV(){const e=await Ii("https://wafflebase-api.yorkie.dev/documents");if(!e.ok)throw new Error("Failed to fetch documents");return await e.json()}async function hV(e){const t=await Ii(`https://wafflebase-api.yorkie.dev/documents/${e}`);if(!t.ok)throw new Error("Failed to fetch document");const n=await t.json();if(!n)throw new Error("Document not found");return n}async function JM(e,t){const n=await Ii(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})});if(!n.ok)throw new Error("Failed to rename document");return n.json()}async function pV(e){if((await Ii(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"DELETE"})).ok)Vn.success("Document deleted successfully");else throw Vn.error("Failed to delete document"),new Error("Failed to delete document")}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Kc(e,t){return typeof e=="function"?e(t):e}function xo(e,t){return n=>{t.setState(r=>({...r,[e]:Kc(n,r[e])}))}}function US(e){return e instanceof Function}function gV(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function mV(e,t){const n=[],r=i=>{i.forEach(s=>{n.push(s);const l=t(s);l!=null&&l.length&&r(l)})};return r(e),n}function _t(e,t,n){let r=[],i;return s=>{let l;n.key&&n.debug&&(l=Date.now());const u=e(s);if(!(u.length!==r.length||u.some((p,m)=>r[m]!==p)))return i;r=u;let g;if(n.key&&n.debug&&(g=Date.now()),i=t(...u),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-l)*100)/100,m=Math.round((Date.now()-g)*100)/100,x=m/16,b=(E,w)=>{for(E=String(E);E.length<w;)E=" "+E;return E};console.info(`%c ${b(m,5)} /${b(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function It(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function vV(e,t,n,r){const i=()=>{var l;return(l=s.getValue())!=null?l:e.options.renderFallbackValue},s={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:_t(()=>[e,n,t,s],(l,u,c,g)=>({table:l,column:u,row:c,cell:g,getValue:g.getValue,renderValue:g.renderValue}),It(e.options,"debugCells"))};return e._features.forEach(l=>{l.createCell==null||l.createCell(s,n,t,e)},{}),s}function yV(e,t,n,r){var i,s;const u={...e._getDefaultColumnDef(),...t},c=u.accessorKey;let g=(i=(s=u.id)!=null?s:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?i:typeof u.header=="string"?u.header:void 0,p;if(u.accessorFn?p=u.accessorFn:c&&(c.includes(".")?p=x=>{let b=x;for(const w of c.split(".")){var E;b=(E=b)==null?void 0:E[w]}return b}:p=x=>x[u.accessorKey]),!g)throw new Error;let m={id:`${String(g)}`,accessorFn:p,parent:r,depth:n,columnDef:u,columns:[],getFlatColumns:_t(()=>[!0],()=>{var x;return[m,...(x=m.columns)==null?void 0:x.flatMap(b=>b.getFlatColumns())]},It(e.options,"debugColumns")),getLeafColumns:_t(()=>[e._getOrderColumnsFn()],x=>{var b;if((b=m.columns)!=null&&b.length){let E=m.columns.flatMap(w=>w.getLeafColumns());return x(E)}return[m]},It(e.options,"debugColumns"))};for(const x of e._features)x.createColumn==null||x.createColumn(m,e);return m}const gi="debugHeaders";function nN(e,t,n){var r;let s={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],u=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(u),l.push(c)};return u(s),l},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(s,e)}),s}const xV={createTable:e=>{e.getHeaderGroups=_t(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var s,l;const u=(s=r==null?void 0:r.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?s:[],c=(l=i==null?void 0:i.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?l:[],g=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(i!=null&&i.includes(m.id)));return Ib(t,[...u,...g,...c],e)},It(e.options,gi)),e.getCenterHeaderGroups=_t(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),Ib(t,n,e,"center")),It(e.options,gi)),e.getLeftHeaderGroups=_t(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(l=>n.find(u=>u.id===l)).filter(Boolean))!=null?i:[];return Ib(t,s,e,"left")},It(e.options,gi)),e.getRightHeaderGroups=_t(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(l=>n.find(u=>u.id===l)).filter(Boolean))!=null?i:[];return Ib(t,s,e,"right")},It(e.options,gi)),e.getFooterGroups=_t(()=>[e.getHeaderGroups()],t=>[...t].reverse(),It(e.options,gi)),e.getLeftFooterGroups=_t(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),It(e.options,gi)),e.getCenterFooterGroups=_t(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),It(e.options,gi)),e.getRightFooterGroups=_t(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),It(e.options,gi)),e.getFlatHeaders=_t(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),It(e.options,gi)),e.getLeftFlatHeaders=_t(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),It(e.options,gi)),e.getCenterFlatHeaders=_t(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),It(e.options,gi)),e.getRightFlatHeaders=_t(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),It(e.options,gi)),e.getCenterLeafHeaders=_t(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),It(e.options,gi)),e.getLeftLeafHeaders=_t(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),It(e.options,gi)),e.getRightLeafHeaders=_t(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),It(e.options,gi)),e.getLeafHeaders=_t(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,s,l,u,c,g;return[...(i=(s=t[0])==null?void 0:s.headers)!=null?i:[],...(l=(u=n[0])==null?void 0:u.headers)!=null?l:[],...(c=(g=r[0])==null?void 0:g.headers)!=null?c:[]].map(p=>p.getLeafHeaders()).flat()},It(e.options,gi))}};function Ib(e,t,n,r){var i,s;let l=0;const u=function(x,b){b===void 0&&(b=1),l=Math.max(l,b),x.filter(E=>E.getIsVisible()).forEach(E=>{var w;(w=E.columns)!=null&&w.length&&u(E.columns,b+1)},0)};u(e);let c=[];const g=(x,b)=>{const E={depth:b,id:[r,`${b}`].filter(Boolean).join("_"),headers:[]},w=[];x.forEach(C=>{const R=[...w].reverse()[0],T=C.column.depth===E.depth;let N,D=!1;if(T&&C.column.parent?N=C.column.parent:(N=C.column,D=!0),R&&(R==null?void 0:R.column)===N)R.subHeaders.push(C);else{const F=nN(n,N,{id:[r,b,N.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${w.filter(B=>B.column===N).length}`:void 0,depth:b,index:w.length});F.subHeaders.push(C),w.push(F)}E.headers.push(C),C.headerGroup=E}),c.push(E),b>0&&g(w,b-1)},p=t.map((x,b)=>nN(n,x,{depth:l,index:b}));g(p,l-1),c.reverse();const m=x=>x.filter(E=>E.column.getIsVisible()).map(E=>{let w=0,C=0,R=[0];E.subHeaders&&E.subHeaders.length?(R=[],m(E.subHeaders).forEach(N=>{let{colSpan:D,rowSpan:F}=N;w+=D,R.push(F)})):w=1;const T=Math.min(...R);return C=C+T,E.colSpan=w,E.rowSpan=C,{colSpan:w,rowSpan:C}});return m((i=(s=c[0])==null?void 0:s.headers)!=null?i:[]),c}const I2=(e,t,n,r,i,s,l)=>{let u={id:t,index:r,original:n,depth:i,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(u._valuesCache.hasOwnProperty(c))return u._valuesCache[c];const g=e.getColumn(c);if(g!=null&&g.accessorFn)return u._valuesCache[c]=g.accessorFn(u.original,r),u._valuesCache[c]},getUniqueValues:c=>{if(u._uniqueValuesCache.hasOwnProperty(c))return u._uniqueValuesCache[c];const g=e.getColumn(c);if(g!=null&&g.accessorFn)return g.columnDef.getUniqueValues?(u._uniqueValuesCache[c]=g.columnDef.getUniqueValues(u.original,r),u._uniqueValuesCache[c]):(u._uniqueValuesCache[c]=[u.getValue(c)],u._uniqueValuesCache[c])},renderValue:c=>{var g;return(g=u.getValue(c))!=null?g:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>mV(u.subRows,c=>c.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let c=[],g=u;for(;;){const p=g.getParentRow();if(!p)break;c.push(p),g=p}return c.reverse()},getAllCells:_t(()=>[e.getAllLeafColumns()],c=>c.map(g=>vV(e,u,g,g.id)),It(e.options,"debugRows")),_getAllCellsByColumnId:_t(()=>[u.getAllCells()],c=>c.reduce((g,p)=>(g[p.column.id]=p,g),{}),It(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const g=e._features[c];g==null||g.createRow==null||g.createRow(u,e)}return u},bV={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},QM=(e,t,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};QM.autoRemove=e=>Ps(e);const eP=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};eP.autoRemove=e=>Ps(e);const tP=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};tP.autoRemove=e=>Ps(e);const nP=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};nP.autoRemove=e=>Ps(e);const rP=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});rP.autoRemove=e=>Ps(e)||!(e!=null&&e.length);const iP=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});iP.autoRemove=e=>Ps(e)||!(e!=null&&e.length);const oP=(e,t,n)=>e.getValue(t)===n;oP.autoRemove=e=>Ps(e);const sP=(e,t,n)=>e.getValue(t)==n;sP.autoRemove=e=>Ps(e);const O2=(e,t,n)=>{let[r,i]=n;const s=e.getValue(t);return s>=r&&s<=i};O2.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,s=t===null||Number.isNaN(r)?-1/0:r,l=n===null||Number.isNaN(i)?1/0:i;if(s>l){const u=s;s=l,l=u}return[s,l]};O2.autoRemove=e=>Ps(e)||Ps(e[0])&&Ps(e[1]);const wu={includesString:QM,includesStringSensitive:eP,equalsString:tP,arrIncludes:nP,arrIncludesAll:rP,arrIncludesSome:iP,equals:oP,weakEquals:sP,inNumberRange:O2};function Ps(e){return e==null||e===""}const SV={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:xo("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?wu.includesString:typeof r=="number"?wu.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?wu.equals:Array.isArray(r)?wu.arrIncludes:wu.weakEquals},e.getFilterFn=()=>{var n,r;return US(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:wu[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),s=r==null?void 0:r.find(p=>p.id===e.id),l=Kc(n,s?s.value:void 0);if(rN(i,l,e)){var u;return(u=r==null?void 0:r.filter(p=>p.id!==e.id))!=null?u:[]}const c={id:e.id,value:l};if(s){var g;return(g=r==null?void 0:r.map(p=>p.id===e.id?c:p))!=null?g:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var s;return(s=Kc(t,i))==null?void 0:s.filter(l=>{const u=n.find(c=>c.id===l.id);if(u){const c=u.getFilterFn();if(rN(c,l.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function rN(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const AV=(e,t,n)=>n.reduce((r,i)=>{const s=i.getValue(e);return r+(typeof s=="number"?s:0)},0),EV=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},CV=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},wV=(e,t,n)=>{let r,i;return n.forEach(s=>{const l=s.getValue(e);l!=null&&(r===void 0?l>=l&&(r=i=l):(r>l&&(r=l),i<l&&(i=l)))}),[r,i]},RV=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let s=i.getValue(e);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},TV=(e,t)=>{if(!t.length)return;const n=t.map(s=>s.getValue(e));if(!gV(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,l)=>s-l);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},NV=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),_V=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,IV=(e,t)=>t.length,zA={sum:AV,min:EV,max:CV,extent:wV,mean:RV,median:TV,unique:NV,uniqueCount:_V,count:IV},OV={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:xo("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return zA.sum;if(Object.prototype.toString.call(r)==="[object Date]")return zA.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return US(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:zA[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function DV(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(s=>!t.includes(s.id));return n==="remove"?r:[...t.map(s=>e.find(l=>l.id===s)).filter(Boolean),...r]}const MV={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:xo("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=_t(n=>[Av(t,n)],n=>n.findIndex(r=>r.id===e.id),It(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Av(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=Av(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=_t(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let s=[];if(!(t!=null&&t.length))s=i;else{const l=[...t],u=[...i];for(;u.length&&l.length;){const c=l.shift(),g=u.findIndex(p=>p.id===c);g>-1&&s.push(u.splice(g,1)[0])}s=[...s,...u]}return DV(s,n,r)},It(e.options,"debugTable"))}},UA=()=>({left:[],right:[]}),PV={getInitialState:e=>({columnPinning:UA(),...e}),getDefaultOptions:e=>({onColumnPinningChange:xo("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var s,l;if(n==="right"){var u,c;return{left:((u=i==null?void 0:i.left)!=null?u:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((c=i==null?void 0:i.right)!=null?c:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var g,p;return{left:[...((g=i==null?void 0:i.left)!=null?g:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((p=i==null?void 0:i.right)!=null?p:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(m=>!(r!=null&&r.includes(m))),right:((l=i==null?void 0:i.right)!=null?l:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,s,l;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(l=t.options.enableColumnPinning)!=null?l:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(u=>u.id),{left:r,right:i}=t.getState().columnPinning,s=n.some(u=>r==null?void 0:r.includes(u)),l=n.some(u=>i==null?void 0:i.includes(u));return s?"left":l?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=_t(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(l=>!s.includes(l.column.id))},It(t.options,"debugRows")),e.getLeftVisibleCells=_t(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(l=>l.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),It(t.options,"debugRows")),e.getRightVisibleCells=_t(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(l=>l.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),It(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?UA():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:UA())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=_t(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),It(e.options,"debugColumns")),e.getRightLeafColumns=_t(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),It(e.options,"debugColumns")),e.getCenterLeafColumns=_t(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(s=>!i.includes(s.id))},It(e.options,"debugColumns"))}},Ob={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},VA=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),LV={getDefaultColumnDef:()=>Ob,getInitialState:e=>({columnSizing:{},columnSizingInfo:VA(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:xo("columnSizing",e),onColumnSizingInfoChange:xo("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Ob.minSize,(r=s??e.columnDef.size)!=null?r:Ob.size),(i=e.columnDef.maxSize)!=null?i:Ob.maxSize)},e.getStart=_t(n=>[n,Av(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),It(t.options,"debugColumns")),e.getAfter=_t(n=>[n,Av(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),It(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),GA(s)&&s.touches&&s.touches.length>1))return;const l=e.getSize(),u=e?e.getLeafHeaders().map(R=>[R.column.id,R.column.getSize()]):[[r.id,r.getSize()]],c=GA(s)?Math.round(s.touches[0].clientX):s.clientX,g={},p=(R,T)=>{typeof T=="number"&&(t.setColumnSizingInfo(N=>{var D,F;const B=t.options.columnResizeDirection==="rtl"?-1:1,j=(T-((D=N==null?void 0:N.startOffset)!=null?D:0))*B,k=Math.max(j/((F=N==null?void 0:N.startSize)!=null?F:0),-.999999);return N.columnSizingStart.forEach($=>{let[Z,ne]=$;g[Z]=Math.round(Math.max(ne+ne*k,0)*100)/100}),{...N,deltaOffset:j,deltaPercentage:k}}),(t.options.columnResizeMode==="onChange"||R==="end")&&t.setColumnSizing(N=>({...N,...g})))},m=R=>p("move",R),x=R=>{p("end",R),t.setColumnSizingInfo(T=>({...T,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=n||typeof document<"u"?document:null,E={moveHandler:R=>m(R.clientX),upHandler:R=>{b==null||b.removeEventListener("mousemove",E.moveHandler),b==null||b.removeEventListener("mouseup",E.upHandler),x(R.clientX)}},w={moveHandler:R=>(R.cancelable&&(R.preventDefault(),R.stopPropagation()),m(R.touches[0].clientX),!1),upHandler:R=>{var T;b==null||b.removeEventListener("touchmove",w.moveHandler),b==null||b.removeEventListener("touchend",w.upHandler),R.cancelable&&(R.preventDefault(),R.stopPropagation()),x((T=R.touches[0])==null?void 0:T.clientX)}},C=FV()?{passive:!1}:!1;GA(s)?(b==null||b.addEventListener("touchmove",w.moveHandler,C),b==null||b.addEventListener("touchend",w.upHandler,C)):(b==null||b.addEventListener("mousemove",E.moveHandler,C),b==null||b.addEventListener("mouseup",E.upHandler,C)),t.setColumnSizingInfo(R=>({...R,startOffset:c,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?VA():(n=e.initialState.columnSizingInfo)!=null?n:VA())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let Db=null;function FV(){if(typeof Db=="boolean")return Db;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Db=e,Db}function GA(e){return e.type==="touchstart"}const kV={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:xo("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=_t(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),It(t.options,"debugRows")),e.getVisibleCells=_t(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],It(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>_t(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),It(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Av(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const BV={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},jV={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:xo("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,s;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>wu.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return US(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:wu[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},zV={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:xo("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,s;e.setExpanded(r?{}:(i=(s=e.initialState)==null?void 0:s.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const l=s.split(".");r=Math.max(r,l.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[e.id]);let l={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(u=>{l[u]=!0}):l=r,n=(i=n)!=null?i:!s,!s&&n)return{...l,[e.id]:!0};if(s&&!n){const{[e.id]:u,...c}=l;return c}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Sw=0,Aw=10,$A=()=>({pageIndex:Sw,pageSize:Aw}),UV={getInitialState:e=>({...e,pagination:{...$A(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:xo("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=s=>Kc(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?$A():(i=e.initialState.pagination)!=null?i:$A())},e.setPageIndex=r=>{e.setPagination(i=>{let s=Kc(r,i.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,l)),{...i,pageIndex:s}})},e.resetPageIndex=r=>{var i,s;e.setPageIndex(r?Sw:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:Sw)},e.resetPageSize=r=>{var i,s;e.setPageSize(r?Aw:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:Aw)},e.setPageSize=r=>{e.setPagination(i=>{const s=Math.max(1,Kc(r,i.pageSize)),l=i.pageSize*i.pageIndex,u=Math.floor(l/s);return{...i,pageIndex:u,pageSize:s}})},e.setPageCount=r=>e.setPagination(i=>{var s;let l=Kc(r,(s=e.options.pageCount)!=null?s:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...i,pageCount:l}}),e.getPageOptions=_t(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,l)=>l)),i},It(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},HA=()=>({top:[],bottom:[]}),VV={getInitialState:e=>({rowPinning:HA(),...e}),getDefaultOptions:e=>({onRowPinningChange:xo("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const s=r?e.getLeafRows().map(c=>{let{id:g}=c;return g}):[],l=i?e.getParentRows().map(c=>{let{id:g}=c;return g}):[],u=new Set([...l,e.id,...s]);t.setRowPinning(c=>{var g,p;if(n==="bottom"){var m,x;return{top:((m=c==null?void 0:c.top)!=null?m:[]).filter(w=>!(u!=null&&u.has(w))),bottom:[...((x=c==null?void 0:c.bottom)!=null?x:[]).filter(w=>!(u!=null&&u.has(w))),...Array.from(u)]}}if(n==="top"){var b,E;return{top:[...((b=c==null?void 0:c.top)!=null?b:[]).filter(w=>!(u!=null&&u.has(w))),...Array.from(u)],bottom:((E=c==null?void 0:c.bottom)!=null?E:[]).filter(w=>!(u!=null&&u.has(w)))}}return{top:((g=c==null?void 0:c.top)!=null?g:[]).filter(w=>!(u!=null&&u.has(w))),bottom:((p=c==null?void 0:c.bottom)!=null?p:[]).filter(w=>!(u!=null&&u.has(w)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,s=n.some(u=>r==null?void 0:r.includes(u)),l=n.some(u=>i==null?void 0:i.includes(u));return s?"top":l?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const s=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(l=>{let{id:u}=l;return u});return(r=s==null?void 0:s.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?HA():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:HA())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(l=>{const u=e.getRow(l,!0);return u.getIsAllParentsExpanded()?u:null}):(n??[]).map(l=>t.find(u=>u.id===l))).filter(Boolean).map(l=>({...l,position:r}))},e.getTopRows=_t(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),It(e.options,"debugRows")),e.getBottomRows=_t(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),It(e.options,"debugRows")),e.getCenterRows=_t(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(s=>!i.has(s.id))},It(e.options,"debugRows"))}},GV={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:xo("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(s=>{Ew(i,s.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=_t(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?WA(e,n):{rows:[],flatRows:[],rowsById:{}},It(e.options,"debugTable")),e.getFilteredSelectedRowModel=_t(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?WA(e,n):{rows:[],flatRows:[],rowsById:{}},It(e.options,"debugTable")),e.getGroupedSelectedRowModel=_t(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?WA(e,n):{rows:[],flatRows:[],rowsById:{}},It(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(s=>{var l;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return s;const u={...s};return Ew(u,e.id,n,(l=r==null?void 0:r.selectChildren)!=null?l:!0,t),u})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return D2(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Cw(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Cw(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Ew=(e,t,n,r,i)=>{var s;const l=i.getRow(t,!0);n?(l.getCanMultiSelect()||Object.keys(e).forEach(u=>delete e[u]),l.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(s=l.subRows)!=null&&s.length&&l.getCanSelectSubRows()&&l.subRows.forEach(u=>Ew(e,u.id,n,r,i))};function WA(e,t){const n=e.getState().rowSelection,r=[],i={},s=function(l,u){return l.map(c=>{var g;const p=D2(c,n);if(p&&(r.push(c),i[c.id]=c),(g=c.subRows)!=null&&g.length&&(c={...c,subRows:s(c.subRows)}),p)return c}).filter(Boolean)};return{rows:s(t.rows),flatRows:r,rowsById:i}}function D2(e,t){var n;return(n=t[e.id])!=null?n:!1}function Cw(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return e.subRows.forEach(l=>{if(!(s&&!i)&&(l.getCanSelect()&&(D2(l,t)?s=!0:i=!1),l.subRows&&l.subRows.length)){const u=Cw(l,t);u==="all"?s=!0:(u==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const ww=/([0-9]+)/gm,$V=(e,t,n)=>aP(Jc(e.getValue(n)).toLowerCase(),Jc(t.getValue(n)).toLowerCase()),HV=(e,t,n)=>aP(Jc(e.getValue(n)),Jc(t.getValue(n))),WV=(e,t,n)=>M2(Jc(e.getValue(n)).toLowerCase(),Jc(t.getValue(n)).toLowerCase()),YV=(e,t,n)=>M2(Jc(e.getValue(n)),Jc(t.getValue(n))),qV=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},KV=(e,t,n)=>M2(e.getValue(n),t.getValue(n));function M2(e,t){return e===t?0:e>t?1:-1}function Jc(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function aP(e,t){const n=e.split(ww).filter(Boolean),r=t.split(ww).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),l=parseInt(i,10),u=parseInt(s,10),c=[l,u].sort();if(isNaN(c[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(c[1]))return isNaN(l)?-1:1;if(l>u)return 1;if(u>l)return-1}return n.length-r.length}const F0={alphanumeric:$V,alphanumericCaseSensitive:HV,text:WV,textCaseSensitive:YV,datetime:qV,basic:KV},XV={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:xo("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return F0.datetime;if(typeof s=="string"&&(r=!0,s.split(ww).length>1))return F0.alphanumeric}return r?F0.text:F0.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return US(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:F0[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),s=typeof n<"u"&&n!==null;t.setSorting(l=>{const u=l==null?void 0:l.find(b=>b.id===e.id),c=l==null?void 0:l.findIndex(b=>b.id===e.id);let g=[],p,m=s?n:i==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&r?u?p="toggle":p="add":l!=null&&l.length&&c!==l.length-1?p="replace":u?p="toggle":p="replace",p==="toggle"&&(s||i||(p="remove")),p==="add"){var x;g=[...l,{id:e.id,desc:m}],g.splice(0,g.length-((x=t.options.maxMultiSortColCount)!=null?x:Number.MAX_SAFE_INTEGER))}else p==="toggle"?g=l.map(b=>b.id===e.id?{...b,desc:m}:b):p==="remove"?g=l.filter(b=>b.id!==e.id):g=[{id:e.id,desc:m}];return g})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const s=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==s&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:l==="desc"?"asc":"desc":s},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},ZV=[xV,kV,MV,PV,bV,SV,BV,jV,XV,OV,zV,UV,VV,GV,LV];function JV(e){var t,n;const r=[...ZV,...(t=e._features)!=null?t:[]];let i={_features:r};const s=i._features.reduce((x,b)=>Object.assign(x,b.getDefaultOptions==null?void 0:b.getDefaultOptions(i)),{}),l=x=>i.options.mergeOptions?i.options.mergeOptions(s,x):{...s,...x};let c={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(x=>{var b;c=(b=x.getInitialState==null?void 0:x.getInitialState(c))!=null?b:c});const g=[];let p=!1;const m={_features:r,options:{...s,...e},initialState:c,_queue:x=>{g.push(x),p||(p=!0,Promise.resolve().then(()=>{for(;g.length;)g.shift()();p=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{i.setState(i.initialState)},setOptions:x=>{const b=Kc(x,i.options);i.options=l(b)},getState:()=>i.options.state,setState:x=>{i.options.onStateChange==null||i.options.onStateChange(x)},_getRowId:(x,b,E)=>{var w;return(w=i.options.getRowId==null?void 0:i.options.getRowId(x,b,E))!=null?w:`${E?[E.id,b].join("."):b}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(x,b)=>{let E=(b?i.getPrePaginationRowModel():i.getRowModel()).rowsById[x];if(!E&&(E=i.getCoreRowModel().rowsById[x],!E))throw new Error;return E},_getDefaultColumnDef:_t(()=>[i.options.defaultColumn],x=>{var b;return x=(b=x)!=null?b:{},{header:E=>{const w=E.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:E=>{var w,C;return(w=(C=E.renderValue())==null||C.toString==null?void 0:C.toString())!=null?w:null},...i._features.reduce((E,w)=>Object.assign(E,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...x}},It(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:_t(()=>[i._getColumnDefs()],x=>{const b=function(E,w,C){return C===void 0&&(C=0),E.map(R=>{const T=yV(i,R,C,w),N=R;return T.columns=N.columns?b(N.columns,T,C+1):[],T})};return b(x)},It(e,"debugColumns")),getAllFlatColumns:_t(()=>[i.getAllColumns()],x=>x.flatMap(b=>b.getFlatColumns()),It(e,"debugColumns")),_getAllFlatColumnsById:_t(()=>[i.getAllFlatColumns()],x=>x.reduce((b,E)=>(b[E.id]=E,b),{}),It(e,"debugColumns")),getAllLeafColumns:_t(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(x,b)=>{let E=x.flatMap(w=>w.getLeafColumns());return b(E)},It(e,"debugColumns")),getColumn:x=>i._getAllFlatColumnsById()[x]};Object.assign(i,m);for(let x=0;x<i._features.length;x++){const b=i._features[x];b==null||b.createTable==null||b.createTable(i)}return i}function lP(){return e=>_t(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,l){s===void 0&&(s=0);const u=[];for(let g=0;g<i.length;g++){const p=I2(e,e._getRowId(i[g],g,l),i[g],g,s,void 0,l==null?void 0:l.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,u.push(p),e.options.getSubRows){var c;p.originalSubRows=e.options.getSubRows(i[g],g),(c=p.originalSubRows)!=null&&c.length&&(p.subRows=r(p.originalSubRows,s+1,p))}}return u};return n.rows=r(t),n},It(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function QV(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function e4(e,t,n){return n.options.filterFromLeafRows?t4(e,t,n):n4(e,t,n)}function t4(e,t,n){var r;const i=[],s={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(c,g){g===void 0&&(g=0);const p=[];for(let x=0;x<c.length;x++){var m;let b=c[x];const E=I2(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(E.columnFilters=b.columnFilters,(m=b.subRows)!=null&&m.length&&g<l){if(E.subRows=u(b.subRows,g+1),b=E,t(b)&&!E.subRows.length){p.push(b),s[b.id]=b,i.push(b);continue}if(t(b)||E.subRows.length){p.push(b),s[b.id]=b,i.push(b);continue}}else b=E,t(b)&&(p.push(b),s[b.id]=b,i.push(b))}return p};return{rows:u(e),flatRows:i,rowsById:s}}function n4(e,t,n){var r;const i=[],s={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(c,g){g===void 0&&(g=0);const p=[];for(let x=0;x<c.length;x++){let b=c[x];if(t(b)){var m;if((m=b.subRows)!=null&&m.length&&g<l){const w=I2(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);w.subRows=u(b.subRows,g+1),b=w}p.push(b),i.push(b),s[b.id]=b}}return p};return{rows:u(e),flatRows:i,rowsById:s}}function uP(){return e=>_t(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let x=0;x<t.flatRows.length;x++)t.flatRows[x].columnFilters={},t.flatRows[x].columnFiltersMeta={};return t}const i=[],s=[];(n??[]).forEach(x=>{var b;const E=e.getColumn(x.id);if(!E)return;const w=E.getFilterFn();w&&i.push({id:x.id,filterFn:w,resolvedValue:(b=w.resolveFilterValue==null?void 0:w.resolveFilterValue(x.value))!=null?b:x.value})});const l=(n??[]).map(x=>x.id),u=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(x=>x.getCanGlobalFilter());r&&u&&c.length&&(l.push("__global__"),c.forEach(x=>{var b;s.push({id:x.id,filterFn:u,resolvedValue:(b=u.resolveFilterValue==null?void 0:u.resolveFilterValue(r))!=null?b:r})}));let g,p;for(let x=0;x<t.flatRows.length;x++){const b=t.flatRows[x];if(b.columnFilters={},i.length)for(let E=0;E<i.length;E++){g=i[E];const w=g.id;b.columnFilters[w]=g.filterFn(b,w,g.resolvedValue,C=>{b.columnFiltersMeta[w]=C})}if(s.length){for(let E=0;E<s.length;E++){p=s[E];const w=p.id;if(p.filterFn(b,w,p.resolvedValue,C=>{b.columnFiltersMeta[w]=C})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const m=x=>{for(let b=0;b<l.length;b++)if(x.columnFilters[l[b]]===!1)return!1;return!0};return e4(t.rows,m,e)},It(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function cP(e){return t=>_t(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:l,flatRows:u,rowsById:c}=r;const g=i*s,p=g+i;l=l.slice(g,p);let m;t.options.paginateExpandedRows?m={rows:l,flatRows:u,rowsById:c}:m=QV({rows:l,flatRows:u,rowsById:c}),m.flatRows=[];const x=b=>{m.flatRows.push(b),b.subRows.length&&b.subRows.forEach(x)};return m.rows.forEach(x),m},It(t.options,"debugTable"))}function fP(){return e=>_t(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],s=r.filter(c=>{var g;return(g=e.getColumn(c.id))==null?void 0:g.getCanSort()}),l={};s.forEach(c=>{const g=e.getColumn(c.id);g&&(l[c.id]={sortUndefined:g.columnDef.sortUndefined,invertSorting:g.columnDef.invertSorting,sortingFn:g.getSortingFn()})});const u=c=>{const g=c.map(p=>({...p}));return g.sort((p,m)=>{for(let b=0;b<s.length;b+=1){var x;const E=s[b],w=l[E.id],C=w.sortUndefined,R=(x=E==null?void 0:E.desc)!=null?x:!1;let T=0;if(C){const N=p.getValue(E.id),D=m.getValue(E.id),F=N===void 0,B=D===void 0;if(F||B){if(C==="first")return F?-1:1;if(C==="last")return F?1:-1;T=F&&B?0:F?C:-C}}if(T===0&&(T=w.sortingFn(p,m,E.id)),T!==0)return R&&(T*=-1),w.invertSorting&&(T*=-1),T}return p.index-m.index}),g.forEach(p=>{var m;i.push(p),(m=p.subRows)!=null&&m.length&&(p.subRows=u(p.subRows))}),g};return{rows:u(n.rows),flatRows:i,rowsById:n.rowsById}},It(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function vS(e,t){return e?r4(e)?P.createElement(e,t):e:null}function r4(e){return i4(e)||typeof e=="function"||o4(e)}function i4(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function o4(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function dP(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=P.useState(()=>({current:JV(t)})),[r,i]=P.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...e,state:{...r,...e.state},onStateChange:l=>{i(l),e.onStateChange==null||e.onStateChange(l)}})),n.current}const Mb=43200,iN=1440,oN=Symbol.for("constructDateFrom");function P2(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&oN in e?e[oN](t):e instanceof Date?new e.constructor(t):new Date(t)}function Qc(e,t){return P2(e,e)}let s4={};function a4(){return s4}function sN(e){const t=Qc(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function L2(e,...t){const n=P2.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function tS(e,t){const n=+Qc(e)-+Qc(t);return n<0?-1:n>0?1:n}function l4(e){return P2(e,Date.now())}function u4(e,t,n){const[r,i]=L2(n==null?void 0:n.in,e,t),s=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return s*12+l}function c4(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function f4(e,t){return+Qc(e)-+Qc(t)}function d4(e,t){const n=Qc(e);return n.setHours(23,59,59,999),n}function h4(e,t){const n=Qc(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function p4(e,t){const n=Qc(e);return+d4(n)==+h4(n)}function g4(e,t,n){const[r,i,s]=L2(n==null?void 0:n.in,e,e,t),l=tS(i,s),u=Math.abs(u4(i,s));if(u<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-l*u);let c=tS(i,s)===-l;p4(r)&&u===1&&tS(r,s)===1&&(c=!1);const g=l*(u-+c);return g===0?0:g}function m4(e,t,n){const r=f4(e,t)/1e3;return c4(n==null?void 0:n.roundingMethod)(r)}const v4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},y4=(e,t,n)=>{let r;const i=v4[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function YA(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const x4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},b4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},S4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},A4={date:YA({formats:x4,defaultWidth:"full"}),time:YA({formats:b4,defaultWidth:"full"}),dateTime:YA({formats:S4,defaultWidth:"full"})},E4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},C4=(e,t,n,r)=>E4[e];function k0(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):l;i=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[l]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const w4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},R4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},T4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},N4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},I4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O4=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},D4={ordinalNumber:O4,era:k0({values:w4,defaultWidth:"wide"}),quarter:k0({values:R4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:k0({values:T4,defaultWidth:"wide"}),day:k0({values:N4,defaultWidth:"wide"}),dayPeriod:k0({values:_4,defaultWidth:"wide",formattingValues:I4,defaultFormattingWidth:"wide"})};function B0(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const l=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(u)?P4(u,m=>m.test(l)):M4(u,m=>m.test(l));let g;g=e.valueCallback?e.valueCallback(c):c,g=n.valueCallback?n.valueCallback(g):g;const p=t.slice(l.length);return{value:g,rest:p}}}function M4(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function P4(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function L4(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(i.length);return{value:l,rest:u}}}const F4=/^(\d+)(th|st|nd|rd)?/i,k4=/\d+/i,B4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},j4={any:[/^b/i,/^(a|c)/i]},z4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},U4={any:[/1/i,/2/i,/3/i,/4/i]},V4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},G4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},H4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},W4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},q4={ordinalNumber:L4({matchPattern:F4,parsePattern:k4,valueCallback:e=>parseInt(e,10)}),era:B0({matchPatterns:B4,defaultMatchWidth:"wide",parsePatterns:j4,defaultParseWidth:"any"}),quarter:B0({matchPatterns:z4,defaultMatchWidth:"wide",parsePatterns:U4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:B0({matchPatterns:V4,defaultMatchWidth:"wide",parsePatterns:G4,defaultParseWidth:"any"}),day:B0({matchPatterns:$4,defaultMatchWidth:"wide",parsePatterns:H4,defaultParseWidth:"any"}),dayPeriod:B0({matchPatterns:W4,defaultMatchWidth:"any",parsePatterns:Y4,defaultParseWidth:"any"})},K4={code:"en-US",formatDistance:y4,formatLong:A4,formatRelative:C4,localize:D4,match:q4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X4(e,t,n){const r=a4(),i=(n==null?void 0:n.locale)??r.locale??K4,s=2520,l=tS(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[c,g]=L2(n==null?void 0:n.in,...l>0?[t,e]:[e,t]),p=m4(g,c),m=(sN(g)-sN(c))/1e3,x=Math.round((p-m)/60);let b;if(x<2)return n!=null&&n.includeSeconds?p<5?i.formatDistance("lessThanXSeconds",5,u):p<10?i.formatDistance("lessThanXSeconds",10,u):p<20?i.formatDistance("lessThanXSeconds",20,u):p<40?i.formatDistance("halfAMinute",0,u):p<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):x===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",x,u);if(x<45)return i.formatDistance("xMinutes",x,u);if(x<90)return i.formatDistance("aboutXHours",1,u);if(x<iN){const E=Math.round(x/60);return i.formatDistance("aboutXHours",E,u)}else{if(x<s)return i.formatDistance("xDays",1,u);if(x<Mb){const E=Math.round(x/iN);return i.formatDistance("xDays",E,u)}else if(x<Mb*2)return b=Math.round(x/Mb),i.formatDistance("aboutXMonths",b,u)}if(b=g4(g,c),b<12){const E=Math.round(x/Mb);return i.formatDistance("xMonths",E,u)}else{const E=b%12,w=Math.trunc(b/12);return E<3?i.formatDistance("aboutXYears",w,u):E<9?i.formatDistance("overXYears",w,u):i.formatDistance("almostXYears",w+1,u)}}function hP(e,t){return X4(e,l4(e),t)}function dt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Z4(e,t){const n=P.createContext(t),r=s=>{const{children:l,...u}=s,c=P.useMemo(()=>u,Object.values(u));return I.jsx(n.Provider,{value:c,children:l})};r.displayName=e+"Provider";function i(s){const l=P.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function za(e,t=[]){let n=[];function r(s,l){const u=P.createContext(l),c=n.length;n=[...n,l];const g=m=>{var R;const{scope:x,children:b,...E}=m,w=((R=x==null?void 0:x[e])==null?void 0:R[c])||u,C=P.useMemo(()=>E,Object.values(E));return I.jsx(w.Provider,{value:C,children:b})};g.displayName=s+"Provider";function p(m,x){var w;const b=((w=x==null?void 0:x[e])==null?void 0:w[c])||u,E=P.useContext(b);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[g,p]}const i=()=>{const s=n.map(l=>P.createContext(l));return function(u){const c=(u==null?void 0:u[e])||s;return P.useMemo(()=>({[`__scope${e}`]:{...u,[e]:c}}),[u,c])}};return i.scopeName=e,[r,J4(i,...t)]}function J4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=r.reduce((u,{useScope:c,scopeName:g})=>{const m=c(s)[`__scope${g}`];return{...u,...m}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Br=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},Q4=J3[" useId ".trim().toString()]||(()=>{}),e6=0;function Da(e){const[t,n]=P.useState(Q4());return Br(()=>{n(r=>r??String(e6++))},[e]),e||(t?`radix-${t}`:"")}function bo(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function bh({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=t6({defaultProp:t,onChange:n}),s=e!==void 0,l=s?e:r,u=bo(n),c=P.useCallback(g=>{if(s){const m=typeof g=="function"?g(e):g;m!==e&&u(m)}else i(g)},[s,e,i,u]);return[l,c]}function t6({defaultProp:e,onChange:t}){const n=P.useState(e),[r]=n,i=P.useRef(r),s=bo(t);return P.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var n6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Kt=n6.reduce((e,t)=>{const n=Zc(`Primitive.${t}`),r=P.forwardRef((i,s)=>{const{asChild:l,...u}=i,c=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(c,{...u,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function pP(e,t){e&&Oa.flushSync(()=>e.dispatchEvent(t))}function r6(e,t=globalThis==null?void 0:globalThis.document){const n=bo(e);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var i6="DismissableLayer",Rw="dismissableLayer.update",o6="dismissableLayer.pointerDownOutside",s6="dismissableLayer.focusOutside",aN,gP=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wv=P.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:u,...c}=e,g=P.useContext(gP),[p,m]=P.useState(null),x=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=P.useState({}),E=wn(t,j=>m(j)),w=Array.from(g.layers),[C]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),R=w.indexOf(C),T=p?w.indexOf(p):-1,N=g.layersWithOutsidePointerEventsDisabled.size>0,D=T>=R,F=u6(j=>{const k=j.target,$=[...g.branches].some(Z=>Z.contains(k));!D||$||(i==null||i(j),l==null||l(j),j.defaultPrevented||u==null||u())},x),B=c6(j=>{const k=j.target;[...g.branches].some(Z=>Z.contains(k))||(s==null||s(j),l==null||l(j),j.defaultPrevented||u==null||u())},x);return r6(j=>{T===g.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&u&&(j.preventDefault(),u()))},x),P.useEffect(()=>{if(p)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(aN=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(p)),g.layers.add(p),lN(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=aN)}},[p,x,n,g]),P.useEffect(()=>()=>{p&&(g.layers.delete(p),g.layersWithOutsidePointerEventsDisabled.delete(p),lN())},[p,g]),P.useEffect(()=>{const j=()=>b({});return document.addEventListener(Rw,j),()=>document.removeEventListener(Rw,j)},[]),I.jsx(Kt.div,{...c,ref:E,style:{pointerEvents:N?D?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,B.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,F.onPointerDownCapture)})});Wv.displayName=i6;var a6="DismissableLayerBranch",l6=P.forwardRef((e,t)=>{const n=P.useContext(gP),r=P.useRef(null),i=wn(t,r);return P.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),I.jsx(Kt.div,{...e,ref:i})});l6.displayName=a6;function u6(e,t=globalThis==null?void 0:globalThis.document){const n=bo(e),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let c=function(){mP(o6,n,g,{discrete:!0})};const g={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function c6(e,t=globalThis==null?void 0:globalThis.document){const n=bo(e),r=P.useRef(!1);return P.useEffect(()=>{const i=s=>{s.target&&!r.current&&mP(s6,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lN(){const e=new CustomEvent(Rw);document.dispatchEvent(e)}function mP(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?pP(i,s):i.dispatchEvent(s)}var qA="focusScope.autoFocusOnMount",KA="focusScope.autoFocusOnUnmount",uN={bubbles:!1,cancelable:!0},f6="FocusScope",VS=P.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=e,[u,c]=P.useState(null),g=bo(i),p=bo(s),m=P.useRef(null),x=wn(t,w=>c(w)),b=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let w=function(N){if(b.paused||!u)return;const D=N.target;u.contains(D)?m.current=D:Dc(m.current,{select:!0})},C=function(N){if(b.paused||!u)return;const D=N.relatedTarget;D!==null&&(u.contains(D)||Dc(m.current,{select:!0}))},R=function(N){if(document.activeElement===document.body)for(const F of N)F.removedNodes.length>0&&Dc(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const T=new MutationObserver(R);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),T.disconnect()}}},[r,u,b.paused]),P.useEffect(()=>{if(u){fN.add(b);const w=document.activeElement;if(!u.contains(w)){const R=new CustomEvent(qA,uN);u.addEventListener(qA,g),u.dispatchEvent(R),R.defaultPrevented||(d6(v6(vP(u)),{select:!0}),document.activeElement===w&&Dc(u))}return()=>{u.removeEventListener(qA,g),setTimeout(()=>{const R=new CustomEvent(KA,uN);u.addEventListener(KA,p),u.dispatchEvent(R),R.defaultPrevented||Dc(w??document.body,{select:!0}),u.removeEventListener(KA,p),fN.remove(b)},0)}}},[u,g,p,b]);const E=P.useCallback(w=>{if(!n&&!r||b.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,R=document.activeElement;if(C&&R){const T=w.currentTarget,[N,D]=h6(T);N&&D?!w.shiftKey&&R===D?(w.preventDefault(),n&&Dc(N,{select:!0})):w.shiftKey&&R===N&&(w.preventDefault(),n&&Dc(D,{select:!0})):R===T&&w.preventDefault()}},[n,r,b.paused]);return I.jsx(Kt.div,{tabIndex:-1,...l,ref:x,onKeyDown:E})});VS.displayName=f6;function d6(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Dc(r,{select:t}),document.activeElement!==n)return}function h6(e){const t=vP(e),n=cN(t,e),r=cN(t.reverse(),e);return[n,r]}function vP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function cN(e,t){for(const n of e)if(!p6(n,{upTo:t}))return n}function p6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function g6(e){return e instanceof HTMLInputElement&&"select"in e}function Dc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&g6(e)&&t&&e.select()}}var fN=m6();function m6(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=dN(e,t),e.unshift(t)},remove(t){var n;e=dN(e,t),(n=e[0])==null||n.resume()}}}function dN(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function v6(e){return e.filter(t=>t.tagName!=="A")}var y6="Portal",Yv=P.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,s]=P.useState(!1);Br(()=>s(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?gM.createPortal(I.jsx(Kt.div,{...r,ref:t}),l):null});Yv.displayName=y6;function x6(e,t){return P.useReducer((n,r)=>t[n][r]??n,e)}var Ua=e=>{const{present:t,children:n}=e,r=b6(t),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),s=wn(r.ref,S6(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:s}):null};Ua.displayName="Presence";function b6(e){const[t,n]=P.useState(),r=P.useRef({}),i=P.useRef(e),s=P.useRef("none"),l=e?"mounted":"unmounted",[u,c]=x6(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const g=Pb(r.current);s.current=u==="mounted"?g:"none"},[u]),Br(()=>{const g=r.current,p=i.current;if(p!==e){const x=s.current,b=Pb(g);e?c("MOUNT"):b==="none"||(g==null?void 0:g.display)==="none"?c("UNMOUNT"):c(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Br(()=>{if(t){let g;const p=t.ownerDocument.defaultView??window,m=b=>{const w=Pb(r.current).includes(b.animationName);if(b.target===t&&w&&(c("ANIMATION_END"),!i.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},x=b=>{b.target===t&&(s.current=Pb(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:P.useCallback(g=>{g&&(r.current=getComputedStyle(g)),n(g)},[])}}function Pb(e){return(e==null?void 0:e.animationName)||"none"}function S6(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var XA=0;function F2(){P.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hN()),document.body.insertAdjacentElement("beforeend",e[1]??hN()),XA++,()=>{XA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),XA--}},[])}function hN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ia=function(){return Ia=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ia.apply(this,arguments)};function yP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function A6(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var nS="right-scroll-bar-position",rS="width-before-scroll-bar",E6="with-scroll-bars-hidden",C6="--removed-body-scroll-bar-size";function ZA(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function w6(e,t){var n=P.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var R6=typeof window<"u"?P.useLayoutEffect:P.useEffect,pN=new WeakMap;function T6(e,t){var n=w6(null,function(r){return e.forEach(function(i){return ZA(i,r)})});return R6(function(){var r=pN.get(n);if(r){var i=new Set(r),s=new Set(e),l=n.current;i.forEach(function(u){s.has(u)||ZA(u,null)}),s.forEach(function(u){i.has(u)||ZA(u,l)})}pN.set(n,e)},[e]),n}function N6(e){return e}function _6(e,t){t===void 0&&(t=N6);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var l=t(s,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(s){for(r=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(u){return s(u)},filter:function(){return n}}},assignMedium:function(s){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(s),l=n}var c=function(){var p=l;l=[],p.forEach(s)},g=function(){return Promise.resolve().then(c)};g(),n={push:function(p){l.push(p),g()},filter:function(p){return l=l.filter(p),n}}}};return i}function I6(e){e===void 0&&(e={});var t=_6(null);return t.options=Ia({async:!0,ssr:!1},e),t}var xP=function(e){var t=e.sideCar,n=yP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,Ia({},n))};xP.isSideCarExport=!0;function O6(e,t){return e.useMedium(t),xP}var bP=I6(),JA=function(){},GS=P.forwardRef(function(e,t){var n=P.useRef(null),r=P.useState({onScrollCapture:JA,onWheelCapture:JA,onTouchMoveCapture:JA}),i=r[0],s=r[1],l=e.forwardProps,u=e.children,c=e.className,g=e.removeScrollBar,p=e.enabled,m=e.shards,x=e.sideCar,b=e.noIsolation,E=e.inert,w=e.allowPinchZoom,C=e.as,R=C===void 0?"div":C,T=e.gapMode,N=yP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=x,F=T6([n,t]),B=Ia(Ia({},N),i);return P.createElement(P.Fragment,null,p&&P.createElement(D,{sideCar:bP,removeScrollBar:g,shards:m,noIsolation:b,inert:E,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:T}),l?P.cloneElement(P.Children.only(u),Ia(Ia({},B),{ref:F})):P.createElement(R,Ia({},B,{className:c,ref:F}),u))});GS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};GS.classNames={fullWidth:rS,zeroRight:nS};var D6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=D6();return t&&e.setAttribute("nonce",t),e}function P6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function L6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var F6=function(){var e=0,t=null;return{add:function(n){e==0&&(t=M6())&&(P6(t,n),L6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},k6=function(){var e=F6();return function(t,n){P.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},SP=function(){var e=k6(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},B6={left:0,top:0,right:0,gap:0},QA=function(e){return parseInt(e||"",10)||0},j6=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[QA(n),QA(r),QA(i)]},z6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return B6;var t=j6(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},U6=SP(),Zp="data-scroll-locked",V6=function(e,t,n,r){var i=e.left,s=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(E6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Zp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nS,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(rS,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(nS," .").concat(nS,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rS," .").concat(rS,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zp,`] {
    `).concat(C6,": ").concat(u,`px;
  }
`)},gN=function(){var e=parseInt(document.body.getAttribute(Zp)||"0",10);return isFinite(e)?e:0},G6=function(){P.useEffect(function(){return document.body.setAttribute(Zp,(gN()+1).toString()),function(){var e=gN()-1;e<=0?document.body.removeAttribute(Zp):document.body.setAttribute(Zp,e.toString())}},[])},$6=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;G6();var s=P.useMemo(function(){return z6(i)},[i]);return P.createElement(U6,{styles:V6(s,!t,i,n?"":"!important")})},Tw=!1;if(typeof window<"u")try{var Lb=Object.defineProperty({},"passive",{get:function(){return Tw=!0,!0}});window.addEventListener("test",Lb,Lb),window.removeEventListener("test",Lb,Lb)}catch{Tw=!1}var Up=Tw?{passive:!1}:!1,H6=function(e){return e.tagName==="TEXTAREA"},AP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!H6(e)&&n[t]==="visible")},W6=function(e){return AP(e,"overflowY")},Y6=function(e){return AP(e,"overflowX")},mN=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=EP(e,r);if(i){var s=CP(e,r),l=s[1],u=s[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},q6=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},K6=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},EP=function(e,t){return e==="v"?W6(t):Y6(t)},CP=function(e,t){return e==="v"?q6(t):K6(t)},X6=function(e,t){return e==="h"&&t==="rtl"?-1:1},Z6=function(e,t,n,r,i){var s=X6(e,window.getComputedStyle(t).direction),l=s*r,u=n.target,c=t.contains(u),g=!1,p=l>0,m=0,x=0;do{var b=CP(e,u),E=b[0],w=b[1],C=b[2],R=w-C-s*E;(E||R)&&EP(e,u)&&(m+=R,x+=E),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!c&&u!==document.body||c&&(t.contains(u)||t===u));return(p&&Math.abs(m)<1||!p&&Math.abs(x)<1)&&(g=!0),g},Fb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vN=function(e){return[e.deltaX,e.deltaY]},yN=function(e){return e&&"current"in e?e.current:e},J6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Q6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},e9=0,Vp=[];function t9(e){var t=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),i=P.useState(e9++)[0],s=P.useState(SP)[0],l=P.useRef(e);P.useEffect(function(){l.current=e},[e]),P.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var w=A6([e.lockRef.current],(e.shards||[]).map(yN),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=P.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var R=Fb(w),T=n.current,N="deltaX"in w?w.deltaX:T[0]-R[0],D="deltaY"in w?w.deltaY:T[1]-R[1],F,B=w.target,j=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in w&&j==="h"&&B.type==="range")return!1;var k=mN(j,B);if(!k)return!0;if(k?F=j:(F=j==="v"?"h":"v",k=mN(j,B)),!k)return!1;if(!r.current&&"changedTouches"in w&&(N||D)&&(r.current=F),!F)return!0;var $=r.current||F;return Z6($,C,w,$==="h"?N:D)},[]),c=P.useCallback(function(w){var C=w;if(!(!Vp.length||Vp[Vp.length-1]!==s)){var R="deltaY"in C?vN(C):Fb(C),T=t.current.filter(function(F){return F.name===C.type&&(F.target===C.target||C.target===F.shadowParent)&&J6(F.delta,R)})[0];if(T&&T.should){C.cancelable&&C.preventDefault();return}if(!T){var N=(l.current.shards||[]).map(yN).filter(Boolean).filter(function(F){return F.contains(C.target)}),D=N.length>0?u(C,N[0]):!l.current.noIsolation;D&&C.cancelable&&C.preventDefault()}}},[]),g=P.useCallback(function(w,C,R,T){var N={name:w,delta:C,target:R,should:T,shadowParent:n9(R)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(D){return D!==N})},1)},[]),p=P.useCallback(function(w){n.current=Fb(w),r.current=void 0},[]),m=P.useCallback(function(w){g(w.type,vN(w),w.target,u(w,e.lockRef.current))},[]),x=P.useCallback(function(w){g(w.type,Fb(w),w.target,u(w,e.lockRef.current))},[]);P.useEffect(function(){return Vp.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",c,Up),document.addEventListener("touchmove",c,Up),document.addEventListener("touchstart",p,Up),function(){Vp=Vp.filter(function(w){return w!==s}),document.removeEventListener("wheel",c,Up),document.removeEventListener("touchmove",c,Up),document.removeEventListener("touchstart",p,Up)}},[]);var b=e.removeScrollBar,E=e.inert;return P.createElement(P.Fragment,null,E?P.createElement(s,{styles:Q6(i)}):null,b?P.createElement($6,{gapMode:e.gapMode}):null)}function n9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const r9=O6(bP,t9);var $S=P.forwardRef(function(e,t){return P.createElement(GS,Ia({},e,{ref:t,sideCar:r9}))});$S.classNames=GS.classNames;var i9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gp=new WeakMap,kb=new WeakMap,Bb={},eE=0,wP=function(e){return e&&(e.host||wP(e.parentNode))},o9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=wP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},s9=function(e,t,n,r){var i=o9(t,Array.isArray(e)?e:[e]);Bb[n]||(Bb[n]=new WeakMap);var s=Bb[n],l=[],u=new Set,c=new Set(i),g=function(m){!m||u.has(m)||(u.add(m),g(m.parentNode))};i.forEach(g);var p=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(x){if(u.has(x))p(x);else try{var b=x.getAttribute(r),E=b!==null&&b!=="false",w=(Gp.get(x)||0)+1,C=(s.get(x)||0)+1;Gp.set(x,w),s.set(x,C),l.push(x),w===1&&E&&kb.set(x,!0),C===1&&x.setAttribute(n,"true"),E||x.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",x,R)}})};return p(t),u.clear(),eE++,function(){l.forEach(function(m){var x=Gp.get(m)-1,b=s.get(m)-1;Gp.set(m,x),s.set(m,b),x||(kb.has(m)||m.removeAttribute(r),kb.delete(m)),b||m.removeAttribute(n)}),eE--,eE||(Gp=new WeakMap,Gp=new WeakMap,kb=new WeakMap,Bb={})}},k2=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=i9(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),s9(r,i,n,"aria-hidden")):function(){return null}},B2="Dialog",[RP,CJ]=za(B2),[a9,Us]=RP(B2),TP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,u=P.useRef(null),c=P.useRef(null),[g=!1,p]=bh({prop:r,defaultProp:i,onChange:s});return I.jsx(a9,{scope:t,triggerRef:u,contentRef:c,contentId:Da(),titleId:Da(),descriptionId:Da(),open:g,onOpenChange:p,onOpenToggle:P.useCallback(()=>p(m=>!m),[p]),modal:l,children:n})};TP.displayName=B2;var NP="DialogTrigger",_P=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Us(NP,n),s=wn(t,i.triggerRef);return I.jsx(Kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":U2(i.open),...r,ref:s,onClick:dt(e.onClick,i.onOpenToggle)})});_P.displayName=NP;var j2="DialogPortal",[l9,IP]=RP(j2,{forceMount:void 0}),OP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Us(j2,t);return I.jsx(l9,{scope:t,forceMount:n,children:P.Children.map(r,l=>I.jsx(Ua,{present:n||s.open,children:I.jsx(Yv,{asChild:!0,container:i,children:l})}))})};OP.displayName=j2;var yS="DialogOverlay",DP=P.forwardRef((e,t)=>{const n=IP(yS,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Us(yS,e.__scopeDialog);return s.modal?I.jsx(Ua,{present:r||s.open,children:I.jsx(c9,{...i,ref:t})}):null});DP.displayName=yS;var u9=Zc("DialogOverlay.RemoveScroll"),c9=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Us(yS,n);return I.jsx($S,{as:u9,allowPinchZoom:!0,shards:[i.contentRef],children:I.jsx(Kt.div,{"data-state":U2(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Sh="DialogContent",MP=P.forwardRef((e,t)=>{const n=IP(Sh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Us(Sh,e.__scopeDialog);return I.jsx(Ua,{present:r||s.open,children:s.modal?I.jsx(f9,{...i,ref:t}):I.jsx(d9,{...i,ref:t})})});MP.displayName=Sh;var f9=P.forwardRef((e,t)=>{const n=Us(Sh,e.__scopeDialog),r=P.useRef(null),i=wn(t,n.contentRef,r);return P.useEffect(()=>{const s=r.current;if(s)return k2(s)},[]),I.jsx(PP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&s.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,s=>s.preventDefault())})}),d9=P.forwardRef((e,t)=>{const n=Us(Sh,e.__scopeDialog),r=P.useRef(!1),i=P.useRef(!1);return I.jsx(PP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,g;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((g=n.triggerRef.current)==null?void 0:g.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),PP=P.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=e,u=Us(Sh,n),c=P.useRef(null),g=wn(t,c);return F2(),I.jsxs(I.Fragment,{children:[I.jsx(VS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:I.jsx(Wv,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":U2(u.open),...l,ref:g,onDismiss:()=>u.onOpenChange(!1)})}),I.jsxs(I.Fragment,{children:[I.jsx(h9,{titleId:u.titleId}),I.jsx(g9,{contentRef:c,descriptionId:u.descriptionId})]})]})}),z2="DialogTitle",LP=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Us(z2,n);return I.jsx(Kt.h2,{id:i.titleId,...r,ref:t})});LP.displayName=z2;var FP="DialogDescription",kP=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Us(FP,n);return I.jsx(Kt.p,{id:i.descriptionId,...r,ref:t})});kP.displayName=FP;var BP="DialogClose",jP=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Us(BP,n);return I.jsx(Kt.button,{type:"button",...r,ref:t,onClick:dt(e.onClick,()=>i.onOpenChange(!1))})});jP.displayName=BP;function U2(e){return e?"open":"closed"}var zP="DialogTitleWarning",[wJ,UP]=Z4(zP,{contentName:Sh,titleName:z2,docsSlug:"dialog"}),h9=({titleId:e})=>{const t=UP(zP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return P.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},p9="DialogDescriptionWarning",g9=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UP(p9).contentName}}.`;return P.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},VP=TP,m9=_P,GP=OP,$P=DP,HP=MP,WP=LP,YP=kP,qP=jP;function qv({...e}){return I.jsx(VP,{"data-slot":"dialog",...e})}function v9({...e}){return I.jsx(m9,{"data-slot":"dialog-trigger",...e})}function y9({...e}){return I.jsx(GP,{"data-slot":"dialog-portal",...e})}function x9({className:e,...t}){return I.jsx($P,{"data-slot":"dialog-overlay",className:St("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Kv({className:e,children:t,...n}){return I.jsxs(y9,{children:[I.jsx(x9,{}),I.jsxs(HP,{"data-slot":"dialog-content",className:St("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,I.jsxs(qP,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:size-4",children:[I.jsx(kM,{}),I.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Xv({className:e,...t}){return I.jsx("div",{"data-slot":"dialog-header",className:St("flex flex-col gap-2 text-center sm:text-left",e),...t})}function b9({className:e,...t}){return I.jsx("div",{"data-slot":"dialog-footer",className:St("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Zv({className:e,...t}){return I.jsx(WP,{"data-slot":"dialog-title",className:St("text-lg font-semibold leading-none",e),...t})}function Jv({className:e,...t}){return I.jsx(YP,{"data-slot":"dialog-description",className:St("text-muted-foreground text-sm",e),...t})}function V2(e){const t=e+"CollectionProvider",[n,r]=za(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:C,children:R}=w,T=Ke.useRef(null),N=Ke.useRef(new Map).current;return I.jsx(i,{scope:C,itemMap:N,collectionRef:T,children:R})};l.displayName=t;const u=e+"CollectionSlot",c=Zc(u),g=Ke.forwardRef((w,C)=>{const{scope:R,children:T}=w,N=s(u,R),D=wn(C,N.collectionRef);return I.jsx(c,{ref:D,children:T})});g.displayName=u;const p=e+"CollectionItemSlot",m="data-radix-collection-item",x=Zc(p),b=Ke.forwardRef((w,C)=>{const{scope:R,children:T,...N}=w,D=Ke.useRef(null),F=wn(C,D),B=s(p,R);return Ke.useEffect(()=>(B.itemMap.set(D,{ref:D,...N}),()=>void B.itemMap.delete(D))),I.jsx(x,{[m]:"",ref:F,children:T})});b.displayName=p;function E(w){const C=s(e+"CollectionConsumer",w);return Ke.useCallback(()=>{const T=C.collectionRef.current;if(!T)return[];const N=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((B,j)=>N.indexOf(B.ref.current)-N.indexOf(j.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:g,ItemSlot:b},E,r]}var S9=P.createContext(void 0);function G2(e){const t=P.useContext(S9);return e||t||"ltr"}const A9=["top","right","bottom","left"],ef=Math.min,vo=Math.max,xS=Math.round,jb=Math.floor,Ma=e=>({x:e,y:e}),E9={left:"right",right:"left",bottom:"top",top:"bottom"},C9={start:"end",end:"start"};function Nw(e,t,n){return vo(e,ef(t,n))}function Du(e,t){return typeof e=="function"?e(t):e}function Mu(e){return e.split("-")[0]}function Tg(e){return e.split("-")[1]}function $2(e){return e==="x"?"y":"x"}function H2(e){return e==="y"?"height":"width"}function tf(e){return["top","bottom"].includes(Mu(e))?"y":"x"}function W2(e){return $2(tf(e))}function w9(e,t,n){n===void 0&&(n=!1);const r=Tg(e),i=W2(e),s=H2(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=bS(l)),[l,bS(l)]}function R9(e){const t=bS(e);return[_w(e),t,_w(t)]}function _w(e){return e.replace(/start|end/g,t=>C9[t])}function T9(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:l;default:return[]}}function N9(e,t,n,r){const i=Tg(e);let s=T9(Mu(e),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(_w)))),s}function bS(e){return e.replace(/left|right|bottom|top/g,t=>E9[t])}function _9(e){return{top:0,right:0,bottom:0,left:0,...e}}function KP(e){return typeof e!="number"?_9(e):{top:e,right:e,bottom:e,left:e}}function SS(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function xN(e,t,n){let{reference:r,floating:i}=e;const s=tf(t),l=W2(t),u=H2(l),c=Mu(t),g=s==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,x=r[u]/2-i[u]/2;let b;switch(c){case"top":b={x:p,y:r.y-i.height};break;case"bottom":b={x:p,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-i.width,y:m};break;default:b={x:r.x,y:r.y}}switch(Tg(t)){case"start":b[l]-=x*(n&&g?-1:1);break;case"end":b[l]+=x*(n&&g?-1:1);break}return b}const I9=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,u=s.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let g=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:m}=xN(g,r,c),x=r,b={},E=0;for(let w=0;w<u.length;w++){const{name:C,fn:R}=u[w],{x:T,y:N,data:D,reset:F}=await R({x:p,y:m,initialPlacement:r,placement:x,strategy:i,middlewareData:b,rects:g,platform:l,elements:{reference:e,floating:t}});p=T??p,m=N??m,b={...b,[C]:{...b[C],...D}},F&&E<=50&&(E++,typeof F=="object"&&(F.placement&&(x=F.placement),F.rects&&(g=F.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):F.rects),{x:p,y:m}=xN(g,x,c)),w=-1)}return{x:p,y:m,placement:x,strategy:i,middlewareData:b}};async function Ov(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:l,elements:u,strategy:c}=e,{boundary:g="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:x=!1,padding:b=0}=Du(t,e),E=KP(b),C=u[x?m==="floating"?"reference":"floating":m],R=SS(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:g,rootBoundary:p,strategy:c})),T=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),D=await(s.isElement==null?void 0:s.isElement(N))?await(s.getScale==null?void 0:s.getScale(N))||{x:1,y:1}:{x:1,y:1},F=SS(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:N,strategy:c}):T);return{top:(R.top-F.top+E.top)/D.y,bottom:(F.bottom-R.bottom+E.bottom)/D.y,left:(R.left-F.left+E.left)/D.x,right:(F.right-R.right+E.right)/D.x}}const O9=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:l,elements:u,middlewareData:c}=t,{element:g,padding:p=0}=Du(e,t)||{};if(g==null)return{};const m=KP(p),x={x:n,y:r},b=W2(i),E=H2(b),w=await l.getDimensions(g),C=b==="y",R=C?"top":"left",T=C?"bottom":"right",N=C?"clientHeight":"clientWidth",D=s.reference[E]+s.reference[b]-x[b]-s.floating[E],F=x[b]-s.reference[b],B=await(l.getOffsetParent==null?void 0:l.getOffsetParent(g));let j=B?B[N]:0;(!j||!await(l.isElement==null?void 0:l.isElement(B)))&&(j=u.floating[N]||s.floating[E]);const k=D/2-F/2,$=j/2-w[E]/2-1,Z=ef(m[R],$),ne=ef(m[T],$),ie=Z,he=j-w[E]-ne,De=j/2-w[E]/2+k,Te=Nw(ie,De,he),re=!c.arrow&&Tg(i)!=null&&De!==Te&&s.reference[E]/2-(De<ie?Z:ne)-w[E]/2<0,Ae=re?De<ie?De-ie:De-he:0;return{[b]:x[b]+Ae,data:{[b]:Te,centerOffset:De-Te-Ae,...re&&{alignmentOffset:Ae}},reset:re}}}),D9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:u,platform:c,elements:g}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...C}=Du(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const R=Mu(i),T=tf(u),N=Mu(u)===u,D=await(c.isRTL==null?void 0:c.isRTL(g.floating)),F=x||(N||!w?[bS(u)]:R9(u)),B=E!=="none";!x&&B&&F.push(...N9(u,w,E,D));const j=[u,...F],k=await Ov(t,C),$=[];let Z=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&$.push(k[R]),m){const De=w9(i,l,D);$.push(k[De[0]],k[De[1]])}if(Z=[...Z,{placement:i,overflows:$}],!$.every(De=>De<=0)){var ne,ie;const De=(((ne=s.flip)==null?void 0:ne.index)||0)+1,Te=j[De];if(Te)return{data:{index:De,overflows:Z},reset:{placement:Te}};let re=(ie=Z.filter(Ae=>Ae.overflows[0]<=0).sort((Ae,de)=>Ae.overflows[1]-de.overflows[1])[0])==null?void 0:ie.placement;if(!re)switch(b){case"bestFit":{var he;const Ae=(he=Z.filter(de=>{if(B){const ue=tf(de.placement);return ue===T||ue==="y"}return!0}).map(de=>[de.placement,de.overflows.filter(ue=>ue>0).reduce((ue,K)=>ue+K,0)]).sort((de,ue)=>de[1]-ue[1])[0])==null?void 0:he[0];Ae&&(re=Ae);break}case"initialPlacement":re=u;break}if(i!==re)return{reset:{placement:re}}}return{}}}};function bN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function SN(e){return A9.some(t=>e[t]>=0)}const M9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Du(e,t);switch(r){case"referenceHidden":{const s=await Ov(t,{...i,elementContext:"reference"}),l=bN(s,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:SN(l)}}}case"escaped":{const s=await Ov(t,{...i,altBoundary:!0}),l=bN(s,n.floating);return{data:{escapedOffsets:l,escaped:SN(l)}}}default:return{}}}}};async function P9(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Mu(n),u=Tg(n),c=tf(n)==="y",g=["left","top"].includes(l)?-1:1,p=s&&c?-1:1,m=Du(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:E}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof E=="number"&&(b=u==="end"?E*-1:E),c?{x:b*p,y:x*g}:{x:x*g,y:b*p}}const L9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:l,middlewareData:u}=t,c=await P9(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:l}}}}},F9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:u={fn:C=>{let{x:R,y:T}=C;return{x:R,y:T}}},...c}=Du(e,t),g={x:n,y:r},p=await Ov(t,c),m=tf(Mu(i)),x=$2(m);let b=g[x],E=g[m];if(s){const C=x==="y"?"top":"left",R=x==="y"?"bottom":"right",T=b+p[C],N=b-p[R];b=Nw(T,b,N)}if(l){const C=m==="y"?"top":"left",R=m==="y"?"bottom":"right",T=E+p[C],N=E-p[R];E=Nw(T,E,N)}const w=u.fn({...t,[x]:b,[m]:E});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[x]:s,[m]:l}}}}}},k9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:l}=t,{offset:u=0,mainAxis:c=!0,crossAxis:g=!0}=Du(e,t),p={x:n,y:r},m=tf(i),x=$2(m);let b=p[x],E=p[m];const w=Du(u,t),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const N=x==="y"?"height":"width",D=s.reference[x]-s.floating[N]+C.mainAxis,F=s.reference[x]+s.reference[N]-C.mainAxis;b<D?b=D:b>F&&(b=F)}if(g){var R,T;const N=x==="y"?"width":"height",D=["top","left"].includes(Mu(i)),F=s.reference[m]-s.floating[N]+(D&&((R=l.offset)==null?void 0:R[m])||0)+(D?0:C.crossAxis),B=s.reference[m]+s.reference[N]+(D?0:((T=l.offset)==null?void 0:T[m])||0)-(D?C.crossAxis:0);E<F?E=F:E>B&&(E=B)}return{[x]:b,[m]:E}}}},B9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:l,elements:u}=t,{apply:c=()=>{},...g}=Du(e,t),p=await Ov(t,g),m=Mu(i),x=Tg(i),b=tf(i)==="y",{width:E,height:w}=s.floating;let C,R;m==="top"||m==="bottom"?(C=m,R=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(R=m,C=x==="end"?"top":"bottom");const T=w-p.top-p.bottom,N=E-p.left-p.right,D=ef(w-p[C],T),F=ef(E-p[R],N),B=!t.middlewareData.shift;let j=D,k=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=T),B&&!x){const Z=vo(p.left,0),ne=vo(p.right,0),ie=vo(p.top,0),he=vo(p.bottom,0);b?k=E-2*(Z!==0||ne!==0?Z+ne:vo(p.left,p.right)):j=w-2*(ie!==0||he!==0?ie+he:vo(p.top,p.bottom))}await c({...t,availableWidth:k,availableHeight:j});const $=await l.getDimensions(u.floating);return E!==$.width||w!==$.height?{reset:{rects:!0}}:{}}}};function HS(){return typeof window<"u"}function Ng(e){return XP(e)?(e.nodeName||"").toLowerCase():"#document"}function yo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Va(e){var t;return(t=(XP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function XP(e){return HS()?e instanceof Node||e instanceof yo(e).Node:!1}function ks(e){return HS()?e instanceof Element||e instanceof yo(e).Element:!1}function La(e){return HS()?e instanceof HTMLElement||e instanceof yo(e).HTMLElement:!1}function AN(e){return!HS()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof yo(e).ShadowRoot}function Qv(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Bs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function j9(e){return["table","td","th"].includes(Ng(e))}function WS(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Y2(e){const t=q2(),n=ks(e)?Bs(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function z9(e){let t=nf(e);for(;La(t)&&!pg(t);){if(Y2(t))return t;if(WS(t))return null;t=nf(t)}return null}function q2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pg(e){return["html","body","#document"].includes(Ng(e))}function Bs(e){return yo(e).getComputedStyle(e)}function YS(e){return ks(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nf(e){if(Ng(e)==="html")return e;const t=e.assignedSlot||e.parentNode||AN(e)&&e.host||Va(e);return AN(t)?t.host:t}function ZP(e){const t=nf(e);return pg(t)?e.ownerDocument?e.ownerDocument.body:e.body:La(t)&&Qv(t)?t:ZP(t)}function Dv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=ZP(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),l=yo(i);if(s){const u=Iw(l);return t.concat(l,l.visualViewport||[],Qv(i)?i:[],u&&n?Dv(u):[])}return t.concat(i,Dv(i,[],n))}function Iw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function JP(e){const t=Bs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=La(e),s=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=xS(n)!==s||xS(r)!==l;return u&&(n=s,r=l),{width:n,height:r,$:u}}function K2(e){return ks(e)?e:e.contextElement}function Jp(e){const t=K2(e);if(!La(t))return Ma(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=JP(t);let l=(s?xS(n.width):n.width)/r,u=(s?xS(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const U9=Ma(0);function QP(e){const t=yo(e);return!q2()||!t.visualViewport?U9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function V9(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==yo(e)?!1:t}function Ah(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=K2(e);let l=Ma(1);t&&(r?ks(r)&&(l=Jp(r)):l=Jp(e));const u=V9(s,n,r)?QP(s):Ma(0);let c=(i.left+u.x)/l.x,g=(i.top+u.y)/l.y,p=i.width/l.x,m=i.height/l.y;if(s){const x=yo(s),b=r&&ks(r)?yo(r):r;let E=x,w=Iw(E);for(;w&&r&&b!==E;){const C=Jp(w),R=w.getBoundingClientRect(),T=Bs(w),N=R.left+(w.clientLeft+parseFloat(T.paddingLeft))*C.x,D=R.top+(w.clientTop+parseFloat(T.paddingTop))*C.y;c*=C.x,g*=C.y,p*=C.x,m*=C.y,c+=N,g+=D,E=yo(w),w=Iw(E)}}return SS({width:p,height:m,x:c,y:g})}function X2(e,t){const n=YS(e).scrollLeft;return t?t.left+n:Ah(Va(e)).left+n}function eL(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:X2(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function G9(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",l=Va(r),u=t?WS(t.floating):!1;if(r===l||u&&s)return n;let c={scrollLeft:0,scrollTop:0},g=Ma(1);const p=Ma(0),m=La(r);if((m||!m&&!s)&&((Ng(r)!=="body"||Qv(l))&&(c=YS(r)),La(r))){const b=Ah(r);g=Jp(r),p.x=b.x+r.clientLeft,p.y=b.y+r.clientTop}const x=l&&!m&&!s?eL(l,c,!0):Ma(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-c.scrollLeft*g.x+p.x+x.x,y:n.y*g.y-c.scrollTop*g.y+p.y+x.y}}function $9(e){return Array.from(e.getClientRects())}function H9(e){const t=Va(e),n=YS(e),r=e.ownerDocument.body,i=vo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=vo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+X2(e);const u=-n.scrollTop;return Bs(r).direction==="rtl"&&(l+=vo(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:u}}function W9(e,t){const n=yo(e),r=Va(e),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,u=0,c=0;if(i){s=i.width,l=i.height;const g=q2();(!g||g&&t==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:s,height:l,x:u,y:c}}function Y9(e,t){const n=Ah(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=La(e)?Jp(e):Ma(1),l=e.clientWidth*s.x,u=e.clientHeight*s.y,c=i*s.x,g=r*s.y;return{width:l,height:u,x:c,y:g}}function EN(e,t,n){let r;if(t==="viewport")r=W9(e,n);else if(t==="document")r=H9(Va(e));else if(ks(t))r=Y9(t,n);else{const i=QP(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return SS(r)}function tL(e,t){const n=nf(e);return n===t||!ks(n)||pg(n)?!1:Bs(n).position==="fixed"||tL(n,t)}function q9(e,t){const n=t.get(e);if(n)return n;let r=Dv(e,[],!1).filter(u=>ks(u)&&Ng(u)!=="body"),i=null;const s=Bs(e).position==="fixed";let l=s?nf(e):e;for(;ks(l)&&!pg(l);){const u=Bs(l),c=Y2(l);!c&&u.position==="fixed"&&(i=null),(s?!c&&!i:!c&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Qv(l)&&!c&&tL(e,l))?r=r.filter(p=>p!==l):i=u,l=nf(l)}return t.set(e,r),r}function K9(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?WS(t)?[]:q9(t,this._c):[].concat(n),r],u=l[0],c=l.reduce((g,p)=>{const m=EN(t,p,i);return g.top=vo(m.top,g.top),g.right=ef(m.right,g.right),g.bottom=ef(m.bottom,g.bottom),g.left=vo(m.left,g.left),g},EN(t,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function X9(e){const{width:t,height:n}=JP(e);return{width:t,height:n}}function Z9(e,t,n){const r=La(t),i=Va(t),s=n==="fixed",l=Ah(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const c=Ma(0);if(r||!r&&!s)if((Ng(t)!=="body"||Qv(i))&&(u=YS(t)),r){const x=Ah(t,!0,s,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else i&&(c.x=X2(i));const g=i&&!r&&!s?eL(i,u):Ma(0),p=l.left+u.scrollLeft-c.x-g.x,m=l.top+u.scrollTop-c.y-g.y;return{x:p,y:m,width:l.width,height:l.height}}function tE(e){return Bs(e).position==="static"}function CN(e,t){if(!La(e)||Bs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Va(e)===n&&(n=n.ownerDocument.body),n}function nL(e,t){const n=yo(e);if(WS(e))return n;if(!La(e)){let i=nf(e);for(;i&&!pg(i);){if(ks(i)&&!tE(i))return i;i=nf(i)}return n}let r=CN(e,t);for(;r&&j9(r)&&tE(r);)r=CN(r,t);return r&&pg(r)&&tE(r)&&!Y2(r)?n:r||z9(e)||n}const J9=async function(e){const t=this.getOffsetParent||nL,n=this.getDimensions,r=await n(e.floating);return{reference:Z9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Q9(e){return Bs(e).direction==="rtl"}const eG={convertOffsetParentRelativeRectToViewportRelativeRect:G9,getDocumentElement:Va,getClippingRect:K9,getOffsetParent:nL,getElementRects:J9,getClientRects:$9,getDimensions:X9,getScale:Jp,isElement:ks,isRTL:Q9};function rL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tG(e,t){let n=null,r;const i=Va(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),s();const g=e.getBoundingClientRect(),{left:p,top:m,width:x,height:b}=g;if(u||t(),!x||!b)return;const E=jb(m),w=jb(i.clientWidth-(p+x)),C=jb(i.clientHeight-(m+b)),R=jb(p),N={rootMargin:-E+"px "+-w+"px "+-C+"px "+-R+"px",threshold:vo(0,ef(1,c))||1};let D=!0;function F(B){const j=B[0].intersectionRatio;if(j!==c){if(!D)return l();j?l(!1,j):r=setTimeout(()=>{l(!1,1e-7)},1e3)}j===1&&!rL(g,e.getBoundingClientRect())&&l(),D=!1}try{n=new IntersectionObserver(F,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(F,N)}n.observe(e)}return l(!0),s}function nG(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,g=K2(e),p=i||s?[...g?Dv(g):[],...Dv(t)]:[];p.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),s&&R.addEventListener("resize",n)});const m=g&&u?tG(g,n):null;let x=-1,b=null;l&&(b=new ResizeObserver(R=>{let[T]=R;T&&T.target===g&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(t)})),n()}),g&&!c&&b.observe(g),b.observe(t));let E,w=c?Ah(e):null;c&&C();function C(){const R=Ah(e);w&&!rL(w,R)&&n(),w=R,E=requestAnimationFrame(C)}return n(),()=>{var R;p.forEach(T=>{i&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),m==null||m(),(R=b)==null||R.disconnect(),b=null,c&&cancelAnimationFrame(E)}}const rG=L9,iG=F9,oG=D9,sG=B9,aG=M9,wN=O9,lG=k9,uG=(e,t,n)=>{const r=new Map,i={platform:eG,...n},s={...i.platform,_c:r};return I9(e,t,{...i,platform:s})};var iS=typeof document<"u"?P.useLayoutEffect:P.useEffect;function AS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!AS(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!AS(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function iL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function RN(e,t){const n=iL(e);return Math.round(t*n)/n}function nE(e){const t=P.useRef(e);return iS(()=>{t.current=e}),t}function cG(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:c,open:g}=e,[p,m]=P.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=P.useState(r);AS(x,r)||b(r);const[E,w]=P.useState(null),[C,R]=P.useState(null),T=P.useCallback(de=>{de!==B.current&&(B.current=de,w(de))},[]),N=P.useCallback(de=>{de!==j.current&&(j.current=de,R(de))},[]),D=s||E,F=l||C,B=P.useRef(null),j=P.useRef(null),k=P.useRef(p),$=c!=null,Z=nE(c),ne=nE(i),ie=nE(g),he=P.useCallback(()=>{if(!B.current||!j.current)return;const de={placement:t,strategy:n,middleware:x};ne.current&&(de.platform=ne.current),uG(B.current,j.current,de).then(ue=>{const K={...ue,isPositioned:ie.current!==!1};De.current&&!AS(k.current,K)&&(k.current=K,Oa.flushSync(()=>{m(K)}))})},[x,t,n,ne,ie]);iS(()=>{g===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,m(de=>({...de,isPositioned:!1})))},[g]);const De=P.useRef(!1);iS(()=>(De.current=!0,()=>{De.current=!1}),[]),iS(()=>{if(D&&(B.current=D),F&&(j.current=F),D&&F){if(Z.current)return Z.current(D,F,he);he()}},[D,F,he,Z,$]);const Te=P.useMemo(()=>({reference:B,floating:j,setReference:T,setFloating:N}),[T,N]),re=P.useMemo(()=>({reference:D,floating:F}),[D,F]),Ae=P.useMemo(()=>{const de={position:n,left:0,top:0};if(!re.floating)return de;const ue=RN(re.floating,p.x),K=RN(re.floating,p.y);return u?{...de,transform:"translate("+ue+"px, "+K+"px)",...iL(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ue,top:K}},[n,u,re.floating,p.x,p.y]);return P.useMemo(()=>({...p,update:he,refs:Te,elements:re,floatingStyles:Ae}),[p,he,Te,re,Ae])}const fG=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?wN({element:r.current,padding:i}).fn(n):{}:r?wN({element:r,padding:i}).fn(n):{}}}},dG=(e,t)=>({...rG(e),options:[e,t]}),hG=(e,t)=>({...iG(e),options:[e,t]}),pG=(e,t)=>({...lG(e),options:[e,t]}),gG=(e,t)=>({...oG(e),options:[e,t]}),mG=(e,t)=>({...sG(e),options:[e,t]}),vG=(e,t)=>({...aG(e),options:[e,t]}),yG=(e,t)=>({...fG(e),options:[e,t]});var xG="Arrow",oL=P.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return I.jsx(Kt.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:I.jsx("polygon",{points:"0,0 30,0 15,10"})})});oL.displayName=xG;var bG=oL;function sL(e){const[t,n]=P.useState(void 0);return Br(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,u;if("borderBoxSize"in s){const c=s.borderBoxSize,g=Array.isArray(c)?c[0]:c;l=g.inlineSize,u=g.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Z2="Popper",[aL,_g]=za(Z2),[SG,lL]=aL(Z2),uL=e=>{const{__scopePopper:t,children:n}=e,[r,i]=P.useState(null);return I.jsx(SG,{scope:t,anchor:r,onAnchorChange:i,children:n})};uL.displayName=Z2;var cL="PopperAnchor",fL=P.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=lL(cL,n),l=P.useRef(null),u=wn(t,l);return P.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:I.jsx(Kt.div,{...i,ref:u})});fL.displayName=cL;var J2="PopperContent",[AG,EG]=aL(J2),dL=P.forwardRef((e,t)=>{var Q,X,J,se,xe,be;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:c=!0,collisionBoundary:g=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:E,...w}=e,C=lL(J2,n),[R,T]=P.useState(null),N=wn(t,ae=>T(ae)),[D,F]=P.useState(null),B=sL(D),j=(B==null?void 0:B.width)??0,k=(B==null?void 0:B.height)??0,$=r+(s!=="center"?"-"+s:""),Z=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ne=Array.isArray(g)?g:[g],ie=ne.length>0,he={padding:Z,boundary:ne.filter(wG),altBoundary:ie},{refs:De,floatingStyles:Te,placement:re,isPositioned:Ae,middlewareData:de}=cG({strategy:"fixed",placement:$,whileElementsMounted:(...ae)=>nG(...ae,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[dG({mainAxis:i+k,alignmentAxis:l}),c&&hG({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?pG():void 0,...he}),c&&gG({...he}),mG({...he,apply:({elements:ae,rects:le,availableWidth:Ce,availableHeight:Oe})=>{const{width:je,height:Ue}=le.reference,ve=ae.floating.style;ve.setProperty("--radix-popper-available-width",`${Ce}px`),ve.setProperty("--radix-popper-available-height",`${Oe}px`),ve.setProperty("--radix-popper-anchor-width",`${je}px`),ve.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),D&&yG({element:D,padding:u}),RG({arrowWidth:j,arrowHeight:k}),x&&vG({strategy:"referenceHidden",...he})]}),[ue,K]=gL(re),oe=bo(E);Br(()=>{Ae&&(oe==null||oe())},[Ae,oe]);const pe=(Q=de.arrow)==null?void 0:Q.x,z=(X=de.arrow)==null?void 0:X.y,U=((J=de.arrow)==null?void 0:J.centerOffset)!==0,[G,W]=P.useState();return Br(()=>{R&&W(window.getComputedStyle(R).zIndex)},[R]),I.jsx("div",{ref:De.setFloating,"data-radix-popper-content-wrapper":"",style:{...Te,transform:Ae?Te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(se=de.transformOrigin)==null?void 0:se.x,(xe=de.transformOrigin)==null?void 0:xe.y].join(" "),...((be=de.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:I.jsx(AG,{scope:n,placedSide:ue,onArrowChange:F,arrowX:pe,arrowY:z,shouldHideArrow:U,children:I.jsx(Kt.div,{"data-side":ue,"data-align":K,...w,ref:N,style:{...w.style,animation:Ae?void 0:"none"}})})})});dL.displayName=J2;var hL="PopperArrow",CG={top:"bottom",right:"left",bottom:"top",left:"right"},pL=P.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=EG(hL,r),l=CG[s.placedSide];return I.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:I.jsx(bG,{...i,ref:n,style:{...i.style,display:"block"}})})});pL.displayName=hL;function wG(e){return e!==null}var RG=e=>({name:"transformOrigin",options:e,fn(t){var C,R,T;const{placement:n,rects:r,middlewareData:i}=t,l=((C=i.arrow)==null?void 0:C.centerOffset)!==0,u=l?0:e.arrowWidth,c=l?0:e.arrowHeight,[g,p]=gL(n),m={start:"0%",center:"50%",end:"100%"}[p],x=(((R=i.arrow)==null?void 0:R.x)??0)+u/2,b=(((T=i.arrow)==null?void 0:T.y)??0)+c/2;let E="",w="";return g==="bottom"?(E=l?m:`${x}px`,w=`${-c}px`):g==="top"?(E=l?m:`${x}px`,w=`${r.floating.height+c}px`):g==="right"?(E=`${-c}px`,w=l?m:`${b}px`):g==="left"&&(E=`${r.floating.width+c}px`,w=l?m:`${b}px`),{data:{x:E,y:w}}}});function gL(e){const[t,n="center"]=e.split("-");return[t,n]}var Q2=uL,eR=fL,tR=dL,nR=pL,rE="rovingFocusGroup.onEntryFocus",TG={bubbles:!1,cancelable:!0},qS="RovingFocusGroup",[Ow,mL,NG]=V2(qS),[_G,vL]=za(qS,[NG]),[IG,OG]=_G(qS),yL=P.forwardRef((e,t)=>I.jsx(Ow.Provider,{scope:e.__scopeRovingFocusGroup,children:I.jsx(Ow.Slot,{scope:e.__scopeRovingFocusGroup,children:I.jsx(DG,{...e,ref:t})})}));yL.displayName=qS;var DG=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:g,preventScrollOnEntryFocus:p=!1,...m}=e,x=P.useRef(null),b=wn(t,x),E=G2(s),[w=null,C]=bh({prop:l,defaultProp:u,onChange:c}),[R,T]=P.useState(!1),N=bo(g),D=mL(n),F=P.useRef(!1),[B,j]=P.useState(0);return P.useEffect(()=>{const k=x.current;if(k)return k.addEventListener(rE,N),()=>k.removeEventListener(rE,N)},[N]),I.jsx(IG,{scope:n,orientation:r,dir:E,loop:i,currentTabStopId:w,onItemFocus:P.useCallback(k=>C(k),[C]),onItemShiftTab:P.useCallback(()=>T(!0),[]),onFocusableItemAdd:P.useCallback(()=>j(k=>k+1),[]),onFocusableItemRemove:P.useCallback(()=>j(k=>k-1),[]),children:I.jsx(Kt.div,{tabIndex:R||B===0?-1:0,"data-orientation":r,...m,ref:b,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{F.current=!0}),onFocus:dt(e.onFocus,k=>{const $=!F.current;if(k.target===k.currentTarget&&$&&!R){const Z=new CustomEvent(rE,TG);if(k.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const ne=D().filter(re=>re.focusable),ie=ne.find(re=>re.active),he=ne.find(re=>re.id===w),Te=[ie,he,...ne].filter(Boolean).map(re=>re.ref.current);SL(Te,p)}}F.current=!1}),onBlur:dt(e.onBlur,()=>T(!1))})})}),xL="RovingFocusGroupItem",bL=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...l}=e,u=Da(),c=s||u,g=OG(xL,n),p=g.currentTabStopId===c,m=mL(n),{onFocusableItemAdd:x,onFocusableItemRemove:b}=g;return P.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),I.jsx(Ow.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:I.jsx(Kt.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...l,ref:t,onMouseDown:dt(e.onMouseDown,E=>{r?g.onItemFocus(c):E.preventDefault()}),onFocus:dt(e.onFocus,()=>g.onItemFocus(c)),onKeyDown:dt(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const w=LG(E,g.orientation,g.dir);if(w!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let R=m().filter(T=>T.focusable).map(T=>T.ref.current);if(w==="last")R.reverse();else if(w==="prev"||w==="next"){w==="prev"&&R.reverse();const T=R.indexOf(E.currentTarget);R=g.loop?FG(R,T+1):R.slice(T+1)}setTimeout(()=>SL(R))}})})})});bL.displayName=xL;var MG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function PG(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function LG(e,t,n){const r=PG(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return MG[r]}function SL(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function FG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var kG=yL,BG=bL,Dw=["Enter"," "],jG=["ArrowDown","PageUp","Home"],AL=["ArrowUp","PageDown","End"],zG=[...jG,...AL],UG={ltr:[...Dw,"ArrowRight"],rtl:[...Dw,"ArrowLeft"]},VG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ey="Menu",[Mv,GG,$G]=V2(ey),[wh,EL]=za(ey,[$G,_g,vL]),KS=_g(),CL=vL(),[HG,Rh]=wh(ey),[WG,ty]=wh(ey),wL=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:l=!0}=e,u=KS(t),[c,g]=P.useState(null),p=P.useRef(!1),m=bo(s),x=G2(i);return P.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),I.jsx(Q2,{...u,children:I.jsx(HG,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:g,children:I.jsx(WG,{scope:t,onClose:P.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:x,modal:l,children:r})})})};wL.displayName=ey;var YG="MenuAnchor",rR=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=KS(n);return I.jsx(eR,{...i,...r,ref:t})});rR.displayName=YG;var iR="MenuPortal",[qG,RL]=wh(iR,{forceMount:void 0}),TL=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=Rh(iR,t);return I.jsx(qG,{scope:t,forceMount:n,children:I.jsx(Ua,{present:n||s.open,children:I.jsx(Yv,{asChild:!0,container:i,children:r})})})};TL.displayName=iR;var Ko="MenuContent",[KG,oR]=wh(Ko),NL=P.forwardRef((e,t)=>{const n=RL(Ko,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=Rh(Ko,e.__scopeMenu),l=ty(Ko,e.__scopeMenu);return I.jsx(Mv.Provider,{scope:e.__scopeMenu,children:I.jsx(Ua,{present:r||s.open,children:I.jsx(Mv.Slot,{scope:e.__scopeMenu,children:l.modal?I.jsx(XG,{...i,ref:t}):I.jsx(ZG,{...i,ref:t})})})})}),XG=P.forwardRef((e,t)=>{const n=Rh(Ko,e.__scopeMenu),r=P.useRef(null),i=wn(t,r);return P.useEffect(()=>{const s=r.current;if(s)return k2(s)},[]),I.jsx(sR,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:dt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ZG=P.forwardRef((e,t)=>{const n=Rh(Ko,e.__scopeMenu);return I.jsx(sR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),JG=Zc("MenuContent.ScrollLock"),sR=P.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:c,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,disableOutsideScroll:E,...w}=e,C=Rh(Ko,n),R=ty(Ko,n),T=KS(n),N=CL(n),D=GG(n),[F,B]=P.useState(null),j=P.useRef(null),k=wn(t,j,C.onContentChange),$=P.useRef(0),Z=P.useRef(""),ne=P.useRef(0),ie=P.useRef(null),he=P.useRef("right"),De=P.useRef(0),Te=E?$S:P.Fragment,re=E?{as:JG,allowPinchZoom:!0}:void 0,Ae=ue=>{var Q,X;const K=Z.current+ue,oe=D().filter(J=>!J.disabled),pe=document.activeElement,z=(Q=oe.find(J=>J.ref.current===pe))==null?void 0:Q.textValue,U=oe.map(J=>J.textValue),G=c8(U,K,z),W=(X=oe.find(J=>J.textValue===G))==null?void 0:X.ref.current;(function J(se){Z.current=se,window.clearTimeout($.current),se!==""&&($.current=window.setTimeout(()=>J(""),1e3))})(K),W&&setTimeout(()=>W.focus())};P.useEffect(()=>()=>window.clearTimeout($.current),[]),F2();const de=P.useCallback(ue=>{var oe,pe;return he.current===((oe=ie.current)==null?void 0:oe.side)&&d8(ue,(pe=ie.current)==null?void 0:pe.area)},[]);return I.jsx(KG,{scope:n,searchRef:Z,onItemEnter:P.useCallback(ue=>{de(ue)&&ue.preventDefault()},[de]),onItemLeave:P.useCallback(ue=>{var K;de(ue)||((K=j.current)==null||K.focus(),B(null))},[de]),onTriggerLeave:P.useCallback(ue=>{de(ue)&&ue.preventDefault()},[de]),pointerGraceTimerRef:ne,onPointerGraceIntentChange:P.useCallback(ue=>{ie.current=ue},[]),children:I.jsx(Te,{...re,children:I.jsx(VS,{asChild:!0,trapped:i,onMountAutoFocus:dt(s,ue=>{var K;ue.preventDefault(),(K=j.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:I.jsx(Wv,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,children:I.jsx(kG,{asChild:!0,...N,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:F,onCurrentTabStopIdChange:B,onEntryFocus:dt(c,ue=>{R.isUsingKeyboardRef.current||ue.preventDefault()}),preventScrollOnEntryFocus:!0,children:I.jsx(tR,{role:"menu","aria-orientation":"vertical","data-state":$L(C.open),"data-radix-menu-content":"",dir:R.dir,...T,...w,ref:k,style:{outline:"none",...w.style},onKeyDown:dt(w.onKeyDown,ue=>{const oe=ue.target.closest("[data-radix-menu-content]")===ue.currentTarget,pe=ue.ctrlKey||ue.altKey||ue.metaKey,z=ue.key.length===1;oe&&(ue.key==="Tab"&&ue.preventDefault(),!pe&&z&&Ae(ue.key));const U=j.current;if(ue.target!==U||!zG.includes(ue.key))return;ue.preventDefault();const W=D().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);AL.includes(ue.key)&&W.reverse(),l8(W)}),onBlur:dt(e.onBlur,ue=>{ue.currentTarget.contains(ue.target)||(window.clearTimeout($.current),Z.current="")}),onPointerMove:dt(e.onPointerMove,Pv(ue=>{const K=ue.target,oe=De.current!==ue.clientX;if(ue.currentTarget.contains(K)&&oe){const pe=ue.clientX>De.current?"right":"left";he.current=pe,De.current=ue.clientX}}))})})})})})})});NL.displayName=Ko;var QG="MenuGroup",aR=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return I.jsx(Kt.div,{role:"group",...r,ref:t})});aR.displayName=QG;var e8="MenuLabel",_L=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return I.jsx(Kt.div,{...r,ref:t})});_L.displayName=e8;var ES="MenuItem",TN="menu.itemSelect",XS=P.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=P.useRef(null),l=ty(ES,e.__scopeMenu),u=oR(ES,e.__scopeMenu),c=wn(t,s),g=P.useRef(!1),p=()=>{const m=s.current;if(!n&&m){const x=new CustomEvent(TN,{bubbles:!0,cancelable:!0});m.addEventListener(TN,b=>r==null?void 0:r(b),{once:!0}),pP(m,x),x.defaultPrevented?g.current=!1:l.onClose()}};return I.jsx(IL,{...i,ref:c,disabled:n,onClick:dt(e.onClick,p),onPointerDown:m=>{var x;(x=e.onPointerDown)==null||x.call(e,m),g.current=!0},onPointerUp:dt(e.onPointerUp,m=>{var x;g.current||(x=m.currentTarget)==null||x.click()}),onKeyDown:dt(e.onKeyDown,m=>{const x=u.searchRef.current!=="";n||x&&m.key===" "||Dw.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});XS.displayName=ES;var IL=P.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,l=oR(ES,n),u=CL(n),c=P.useRef(null),g=wn(t,c),[p,m]=P.useState(!1),[x,b]=P.useState("");return P.useEffect(()=>{const E=c.current;E&&b((E.textContent??"").trim())},[s.children]),I.jsx(Mv.ItemSlot,{scope:n,disabled:r,textValue:i??x,children:I.jsx(BG,{asChild:!0,...u,focusable:!r,children:I.jsx(Kt.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:g,onPointerMove:dt(e.onPointerMove,Pv(E=>{r?l.onItemLeave(E):(l.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:dt(e.onPointerLeave,Pv(E=>l.onItemLeave(E))),onFocus:dt(e.onFocus,()=>m(!0)),onBlur:dt(e.onBlur,()=>m(!1))})})})}),t8="MenuCheckboxItem",OL=P.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return I.jsx(FL,{scope:e.__scopeMenu,checked:n,children:I.jsx(XS,{role:"menuitemcheckbox","aria-checked":CS(n)?"mixed":n,...i,ref:t,"data-state":uR(n),onSelect:dt(i.onSelect,()=>r==null?void 0:r(CS(n)?!0:!n),{checkForDefaultPrevented:!1})})})});OL.displayName=t8;var DL="MenuRadioGroup",[n8,r8]=wh(DL,{value:void 0,onValueChange:()=>{}}),ML=P.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=bo(r);return I.jsx(n8,{scope:e.__scopeMenu,value:n,onValueChange:s,children:I.jsx(aR,{...i,ref:t})})});ML.displayName=DL;var PL="MenuRadioItem",LL=P.forwardRef((e,t)=>{const{value:n,...r}=e,i=r8(PL,e.__scopeMenu),s=n===i.value;return I.jsx(FL,{scope:e.__scopeMenu,checked:s,children:I.jsx(XS,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":uR(s),onSelect:dt(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,n)},{checkForDefaultPrevented:!1})})})});LL.displayName=PL;var lR="MenuItemIndicator",[FL,i8]=wh(lR,{checked:!1}),kL=P.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=i8(lR,n);return I.jsx(Ua,{present:r||CS(s.checked)||s.checked===!0,children:I.jsx(Kt.span,{...i,ref:t,"data-state":uR(s.checked)})})});kL.displayName=lR;var o8="MenuSeparator",BL=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return I.jsx(Kt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});BL.displayName=o8;var s8="MenuArrow",jL=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=KS(n);return I.jsx(nR,{...i,...r,ref:t})});jL.displayName=s8;var a8="MenuSub",[RJ,zL]=wh(a8),dv="MenuSubTrigger",UL=P.forwardRef((e,t)=>{const n=Rh(dv,e.__scopeMenu),r=ty(dv,e.__scopeMenu),i=zL(dv,e.__scopeMenu),s=oR(dv,e.__scopeMenu),l=P.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:c}=s,g={__scopeMenu:e.__scopeMenu},p=P.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return P.useEffect(()=>p,[p]),P.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),c(null)}},[u,c]),I.jsx(rR,{asChild:!0,...g,children:I.jsx(IL,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":$L(n.open),...e,ref:jS(t,i.onTriggerChange),onClick:m=>{var x;(x=e.onClick)==null||x.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:dt(e.onPointerMove,Pv(m=>{s.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:dt(e.onPointerLeave,Pv(m=>{var b,E;p();const x=(b=n.content)==null?void 0:b.getBoundingClientRect();if(x){const w=(E=n.content)==null?void 0:E.dataset.side,C=w==="right",R=C?-5:5,T=x[C?"left":"right"],N=x[C?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+R,y:m.clientY},{x:T,y:x.top},{x:N,y:x.top},{x:N,y:x.bottom},{x:T,y:x.bottom}],side:w}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:dt(e.onKeyDown,m=>{var b;const x=s.searchRef.current!=="";e.disabled||x&&m.key===" "||UG[r.dir].includes(m.key)&&(n.onOpenChange(!0),(b=n.content)==null||b.focus(),m.preventDefault())})})})});UL.displayName=dv;var VL="MenuSubContent",GL=P.forwardRef((e,t)=>{const n=RL(Ko,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=Rh(Ko,e.__scopeMenu),l=ty(Ko,e.__scopeMenu),u=zL(VL,e.__scopeMenu),c=P.useRef(null),g=wn(t,c);return I.jsx(Mv.Provider,{scope:e.__scopeMenu,children:I.jsx(Ua,{present:r||s.open,children:I.jsx(Mv.Slot,{scope:e.__scopeMenu,children:I.jsx(sR,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:g,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var m;l.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:dt(e.onFocusOutside,p=>{p.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:dt(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:dt(e.onKeyDown,p=>{var b;const m=p.currentTarget.contains(p.target),x=VG[l.dir].includes(p.key);m&&x&&(s.onOpenChange(!1),(b=u.trigger)==null||b.focus(),p.preventDefault())})})})})})});GL.displayName=VL;function $L(e){return e?"open":"closed"}function CS(e){return e==="indeterminate"}function uR(e){return CS(e)?"indeterminate":e?"checked":"unchecked"}function l8(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function u8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function c8(e,t,n){const i=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=u8(e,Math.max(s,0));i.length===1&&(l=l.filter(g=>g!==n));const c=l.find(g=>g.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function f8(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s].x,c=t[s].y,g=t[l].x,p=t[l].y;c>r!=p>r&&n<(g-u)*(r-c)/(p-c)+u&&(i=!i)}return i}function d8(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return f8(n,t)}function Pv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var h8=wL,p8=rR,g8=TL,m8=NL,v8=aR,y8=_L,x8=XS,b8=OL,S8=ML,A8=LL,E8=kL,C8=BL,w8=jL,R8=UL,T8=GL,cR="DropdownMenu",[N8,TJ]=za(cR,[EL]),Oi=EL(),[_8,HL]=N8(cR),WL=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:l,modal:u=!0}=e,c=Oi(t),g=P.useRef(null),[p=!1,m]=bh({prop:i,defaultProp:s,onChange:l});return I.jsx(_8,{scope:t,triggerId:Da(),triggerRef:g,contentId:Da(),open:p,onOpenChange:m,onOpenToggle:P.useCallback(()=>m(x=>!x),[m]),modal:u,children:I.jsx(h8,{...c,open:p,onOpenChange:m,dir:r,modal:u,children:n})})};WL.displayName=cR;var YL="DropdownMenuTrigger",qL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=HL(YL,n),l=Oi(n);return I.jsx(p8,{asChild:!0,...l,children:I.jsx(Kt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:jS(t,s.triggerRef),onPointerDown:dt(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:dt(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});qL.displayName=YL;var I8="DropdownMenuPortal",KL=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Oi(t);return I.jsx(g8,{...r,...n})};KL.displayName=I8;var XL="DropdownMenuContent",ZL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=HL(XL,n),s=Oi(n),l=P.useRef(!1);return I.jsx(m8,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:dt(e.onCloseAutoFocus,u=>{var c;l.current||(c=i.triggerRef.current)==null||c.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:dt(e.onInteractOutside,u=>{const c=u.detail.originalEvent,g=c.button===0&&c.ctrlKey===!0,p=c.button===2||g;(!i.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZL.displayName=XL;var O8="DropdownMenuGroup",D8=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return I.jsx(v8,{...i,...r,ref:t})});D8.displayName=O8;var M8="DropdownMenuLabel",JL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return I.jsx(y8,{...i,...r,ref:t})});JL.displayName=M8;var P8="DropdownMenuItem",QL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return I.jsx(x8,{...i,...r,ref:t})});QL.displayName=P8;var L8="DropdownMenuCheckboxItem",F8=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return I.jsx(b8,{...i,...r,ref:t})});F8.displayName=L8;var k8="DropdownMenuRadioGroup",B8=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return I.jsx(S8,{...i,...r,ref:t})});B8.displayName=k8;var j8="DropdownMenuRadioItem",z8=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return I.jsx(A8,{...i,...r,ref:t})});z8.displayName=j8;var U8="DropdownMenuItemIndicator",V8=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return I.jsx(E8,{...i,...r,ref:t})});V8.displayName=U8;var G8="DropdownMenuSeparator",eF=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return I.jsx(C8,{...i,...r,ref:t})});eF.displayName=G8;var $8="DropdownMenuArrow",H8=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return I.jsx(w8,{...i,...r,ref:t})});H8.displayName=$8;var W8="DropdownMenuSubTrigger",Y8=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return I.jsx(R8,{...i,...r,ref:t})});Y8.displayName=W8;var q8="DropdownMenuSubContent",K8=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return I.jsx(T8,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});K8.displayName=q8;var X8=WL,Z8=qL,J8=KL,Q8=ZL,e$=JL,t$=QL,n$=eF;function Ho({...e}){return I.jsx(X8,{"data-slot":"dropdown-menu",...e})}function Wo({...e}){return I.jsx(Z8,{"data-slot":"dropdown-menu-trigger",...e})}function Yo({className:e,sideOffset:t=4,...n}){return I.jsx(J8,{children:I.jsx(Q8,{"data-slot":"dropdown-menu-content",sideOffset:t,className:St("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function Ct({className:e,inset:t,variant:n="default",...r}){return I.jsx(t$,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:St("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function oh({className:e,inset:t,...n}){return I.jsx(e$,{"data-slot":"dropdown-menu-label","data-inset":t,className:St("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function Vo({className:e,...t}){return I.jsx(n$,{"data-slot":"dropdown-menu-separator",className:St("bg-border -mx-1 my-1 h-px",e),...t})}function j0({className:e,...t}){return I.jsx("span",{"data-slot":"dropdown-menu-shortcut",className:St("text-muted-foreground ml-auto text-xs tracking-widest",e),...t})}function Ni({className:e,type:t,...n}){return I.jsx("input",{type:t,"data-slot":"input",className:St("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var r$="Label",tF=P.forwardRef((e,t)=>I.jsx(Kt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));tF.displayName=r$;var i$=tF;function Lr({className:e,...t}){return I.jsx(i$,{"data-slot":"label",className:St("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function nF({className:e,...t}){return I.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:I.jsx("table",{"data-slot":"table",className:St("w-full caption-bottom text-sm",e),...t})})}function rF({className:e,...t}){return I.jsx("thead",{"data-slot":"table-header",className:St("[&_tr]:border-b",e),...t})}function iF({className:e,...t}){return I.jsx("tbody",{"data-slot":"table-body",className:St("[&_tr:last-child]:border-0",e),...t})}function Qp({className:e,...t}){return I.jsx("tr",{"data-slot":"table-row",className:St("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function oF({className:e,...t}){return I.jsx("th",{"data-slot":"table-head",className:St("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function wS({className:e,...t}){return I.jsx("td",{"data-slot":"table-cell",className:St("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function o$({data:e}){var T,N;const t=Hv(),n=y2(),r=[{accessorKey:"id",header:"ID",enableHiding:!0},{accessorKey:"title",header:"Title",cell:({row:D})=>I.jsx("div",{className:"capitalize",children:D.getValue("title")})},{accessorKey:"createdAt",header:()=>I.jsx("div",{className:"text-right",children:"Created At"}),cell:({row:D})=>{const F=D.getValue("createdAt"),B=hP(new Date(F),{includeSeconds:!0,addSuffix:!0});return I.jsx("div",{className:"text-right font-medium",children:B})}},{id:"actions",enableHiding:!1,cell:({row:D})=>I.jsxs(Ho,{children:[I.jsx(Wo,{asChild:!0,children:I.jsxs(ir,{variant:"ghost",className:"h-8 w-8 p-0",children:[I.jsx("span",{className:"sr-only",children:"Open menu"}),I.jsx(OM,{})]})}),I.jsxs(Yo,{align:"end",children:[I.jsxs(Ct,{onClick:F=>{F.stopPropagation(),s({id:String(D.getValue("id")),title:D.getValue("title")})},children:[I.jsx(PM,{className:"mr-2 h-4 w-4"}),"Rename"]}),I.jsxs(Ct,{className:"text-red-500 focus:text-red-500",onClick:F=>{F.stopPropagation(),u.mutate(String(D.getValue("id")))},children:[I.jsx(FM,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}],[i,s]=P.useState(null),l=eS({mutationFn:async D=>await fV(D),onSuccess:D=>n(`/${D.id}`)}),u=eS({mutationFn:async D=>await pV(D),onSuccess:()=>t.invalidateQueries({queryKey:["documents"]})}),c=eS({mutationFn:async({id:D,title:F})=>await JM(D,F),onSuccess:()=>{t.invalidateQueries({queryKey:["documents"]}),s(null)}}),[g,p]=P.useState([]),[m,x]=P.useState([]),[b,E]=P.useState({id:!1}),[w,C]=P.useState({}),R=dP({data:e,columns:r,onSortingChange:p,onColumnFiltersChange:x,getCoreRowModel:lP(),getPaginationRowModel:cP(),getSortedRowModel:fP(),getFilteredRowModel:uP(),onColumnVisibilityChange:E,onRowSelectionChange:C,state:{sorting:g,columnFilters:m,columnVisibility:b,rowSelection:w}});return I.jsxs("div",{className:"w-full",children:[I.jsxs("div",{className:"flex items-center justify-between py-4",children:[I.jsx(Ni,{placeholder:"Filter by title...",value:((T=R.getColumn("title"))==null?void 0:T.getFilterValue())??"",onChange:D=>{var F;return(F=R.getColumn("title"))==null?void 0:F.setFilterValue(D.target.value)},className:"max-w-sm"}),I.jsxs(ir,{onClick:()=>{l.mutate({title:"New Document"})},className:"flex items-center gap-2",children:[I.jsx(LM,{className:"w-4 h-4"}),"New Document"]})]}),I.jsx("div",{className:"rounded-md border",children:I.jsxs(nF,{children:[I.jsx(rF,{children:R.getHeaderGroups().map(D=>I.jsx(Qp,{children:D.headers.map(F=>I.jsx(oF,{children:F.isPlaceholder?null:vS(F.column.columnDef.header,F.getContext())},F.id))},D.id))}),I.jsx(iF,{children:(N=R.getRowModel().rows)!=null&&N.length?R.getRowModel().rows.map(D=>I.jsx(Qp,{"data-state":D.getIsSelected()&&"selected",className:"cursor-pointer hover:bg-muted",onClick:F=>{F.target.closest("input, button")||n(`/${D.getValue("id")}`)},children:D.getVisibleCells().map(F=>I.jsx(wS,{children:vS(F.column.columnDef.cell,F.getContext())},F.id))},D.id)):I.jsx(Qp,{children:I.jsx(wS,{colSpan:r.length,className:"h-24 text-center",children:"No results."})})})]})}),I.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[I.jsx("div",{className:"flex-1"}),I.jsxs("div",{className:"space-x-2",children:[I.jsx(ir,{variant:"outline",size:"sm",onClick:()=>R.previousPage(),disabled:!R.getCanPreviousPage(),children:"Previous"}),I.jsx(ir,{variant:"outline",size:"sm",onClick:()=>R.nextPage(),disabled:!R.getCanNextPage(),children:"Next"})]})]}),I.jsx(qv,{open:i!==null,onOpenChange:D=>{D||s(null)},children:I.jsx(Kv,{className:"sm:max-w-md",children:I.jsxs("form",{onSubmit:D=>{if(D.preventDefault(),!i)return;const B=new FormData(D.target).get("title");B.trim()&&c.mutate({id:i.id,title:B.trim()})},children:[I.jsxs(Xv,{children:[I.jsx(Zv,{children:"Rename Document"}),I.jsx(Jv,{children:"Enter a new name for this document."})]}),I.jsx("div",{className:"grid gap-4 py-2",children:I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"rename-title",children:"Title"}),I.jsx(Ni,{id:"rename-title",name:"title",defaultValue:(i==null?void 0:i.title)??"",autoFocus:!0},i==null?void 0:i.id)]})}),I.jsxs(b9,{children:[I.jsx(ir,{type:"button",variant:"outline",onClick:()=>s(null),children:"Cancel"}),I.jsx(ir,{type:"submit",disabled:c.isPending,children:"Rename"})]})]})})})]})}function s$(){const{data:e=[],isLoading:t,isError:n}=ja({queryKey:["documents"],queryFn:dV});return t?I.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:I.jsx("p",{className:"text-gray-500 text-lg",children:"Loading documents..."})}):n?I.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[I.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load documents."}),I.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):I.jsx("div",{className:"p-4",children:I.jsx(o$,{data:e})})}var hv={exports:{}},a$=hv.exports,NN;function l$(){return NN||(NN=1,function(e,t){var n={};(function(r,i){i(t,X3(),FS())})(a$,function(r,i,s){var l;(function(h){h[h.Canceled=1]="Canceled",h[h.Unknown=2]="Unknown",h[h.InvalidArgument=3]="InvalidArgument",h[h.DeadlineExceeded=4]="DeadlineExceeded",h[h.NotFound=5]="NotFound",h[h.AlreadyExists=6]="AlreadyExists",h[h.PermissionDenied=7]="PermissionDenied",h[h.ResourceExhausted=8]="ResourceExhausted",h[h.FailedPrecondition=9]="FailedPrecondition",h[h.Aborted=10]="Aborted",h[h.OutOfRange=11]="OutOfRange",h[h.Unimplemented=12]="Unimplemented",h[h.Internal=13]="Internal",h[h.Unavailable=14]="Unavailable",h[h.DataLoss=15]="DataLoss",h[h.Unauthenticated=16]="Unauthenticated"})(l||(l={}));function u(h,o){return h!==null&&typeof h=="object"&&"$typeName"in h&&typeof h.$typeName=="string"?o===void 0?!0:o.typeName===h.$typeName:!1}var c;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(c||(c={}));function g(){let h=0,o=0;for(let v=0;v<28;v+=7){let A=this.buf[this.pos++];if(h|=(A&127)<<v,(A&128)==0)return this.assertBounds(),[h,o]}let f=this.buf[this.pos++];if(h|=(f&15)<<28,o=(f&112)>>4,(f&128)==0)return this.assertBounds(),[h,o];for(let v=3;v<=31;v+=7){let A=this.buf[this.pos++];if(o|=(A&127)<<v,(A&128)==0)return this.assertBounds(),[h,o]}throw new Error("invalid varint")}function p(h,o,f){for(let O=0;O<28;O=O+7){const L=h>>>O,V=!(!(L>>>7)&&o==0),q=(V?L|128:L)&255;if(f.push(q),!V)return}const v=h>>>28&15|(o&7)<<4,A=o>>3!=0;if(f.push((A?v|128:v)&255),!!A){for(let O=3;O<31;O=O+7){const L=o>>>O,V=!!(L>>>7),q=(V?L|128:L)&255;if(f.push(q),!V)return}f.push(o>>>31&1)}}const m=4294967296;function x(h){const o=h[0]==="-";o&&(h=h.slice(1));const f=1e6;let v=0,A=0;function O(L,V){const q=Number(h.slice(L,V));A*=f,v=v*f+q,v>=m&&(A=A+(v/m|0),v=v%m)}return O(-24,-18),O(-18,-12),O(-12,-6),O(-6),o?R(v,A):C(v,A)}function b(h,o){let f=C(h,o);const v=f.hi&2147483648;v&&(f=R(f.lo,f.hi));const A=E(f.lo,f.hi);return v?"-"+A:A}function E(h,o){if({lo:h,hi:o}=w(h,o),o<=2097151)return String(m*o+h);const f=h&16777215,v=(h>>>24|o<<8)&16777215,A=o>>16&65535;let O=f+v*6777216+A*6710656,L=v+A*8147497,V=A*2;const q=1e7;return O>=q&&(L+=Math.floor(O/q),O%=q),L>=q&&(V+=Math.floor(L/q),L%=q),V.toString()+T(L)+T(O)}function w(h,o){return{lo:h>>>0,hi:o>>>0}}function C(h,o){return{lo:h|0,hi:o|0}}function R(h,o){return o=~o,h?h=~h+1:o+=1,C(h,o)}const T=h=>{const o=String(h);return"0000000".slice(o.length)+o};function N(h,o){if(h>=0){for(;h>127;)o.push(h&127|128),h=h>>>7;o.push(h)}else{for(let f=0;f<9;f++)o.push(h&127|128),h=h>>7;o.push(1)}}function D(){let h=this.buf[this.pos++],o=h&127;if((h&128)==0)return this.assertBounds(),o;if(h=this.buf[this.pos++],o|=(h&127)<<7,(h&128)==0)return this.assertBounds(),o;if(h=this.buf[this.pos++],o|=(h&127)<<14,(h&128)==0)return this.assertBounds(),o;if(h=this.buf[this.pos++],o|=(h&127)<<21,(h&128)==0)return this.assertBounds(),o;h=this.buf[this.pos++],o|=(h&15)<<28;for(let f=5;(h&128)!==0&&f<10;f++)h=this.buf[this.pos++];if((h&128)!=0)throw new Error("invalid varint");return this.assertBounds(),o>>>0}const F=B();function B(){const h=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof h.getBigInt64=="function"&&typeof h.getBigUint64=="function"&&typeof h.setBigInt64=="function"&&typeof h.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof n!="object"||n.BUF_BIGINT_DISABLE!=="1")){const f=BigInt("-9223372036854775808"),v=BigInt("9223372036854775807"),A=BigInt("0"),O=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(L){const V=typeof L=="bigint"?L:BigInt(L);if(V>v||V<f)throw new Error(`invalid int64: ${L}`);return V},uParse(L){const V=typeof L=="bigint"?L:BigInt(L);if(V>O||V<A)throw new Error(`invalid uint64: ${L}`);return V},enc(L){return h.setBigInt64(0,this.parse(L),!0),{lo:h.getInt32(0,!0),hi:h.getInt32(4,!0)}},uEnc(L){return h.setBigInt64(0,this.uParse(L),!0),{lo:h.getInt32(0,!0),hi:h.getInt32(4,!0)}},dec(L,V){return h.setInt32(0,L,!0),h.setInt32(4,V,!0),h.getBigInt64(0,!0)},uDec(L,V){return h.setInt32(0,L,!0),h.setInt32(4,V,!0),h.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(f){return typeof f!="string"&&(f=f.toString()),j(f),f},uParse(f){return typeof f!="string"&&(f=f.toString()),k(f),f},enc(f){return typeof f!="string"&&(f=f.toString()),j(f),x(f)},uEnc(f){return typeof f!="string"&&(f=f.toString()),k(f),x(f)},dec(f,v){return b(f,v)},uDec(f,v){return E(f,v)}}}function j(h){if(!/^-?[0-9]+$/.test(h))throw new Error("invalid int64: "+h)}function k(h){if(!/^[0-9]+$/.test(h))throw new Error("invalid uint64: "+h)}function $(h,o){switch(h){case c.STRING:return"";case c.BOOL:return!1;case c.DOUBLE:case c.FLOAT:return 0;case c.INT64:case c.UINT64:case c.SFIXED64:case c.FIXED64:case c.SINT64:return o?"0":F.zero;case c.BYTES:return new Uint8Array(0);default:return 0}}function Z(h,o){switch(h){case c.BOOL:return o===!1;case c.STRING:return o==="";case c.BYTES:return o instanceof Uint8Array&&!o.byteLength;default:return o==0}}const ne=2,ie=Symbol.for("reflect unsafe local");function he(h,o){const f=h[o.localName].case;return f===void 0?f:o.fields.find(v=>v.localName===f)}function De(h,o){const f=o.localName;if(o.oneof)return h[o.oneof.localName].case===f;if(o.presence!=ne)return h[f]!==void 0&&Object.prototype.hasOwnProperty.call(h,f);switch(o.fieldKind){case"list":return h[f].length>0;case"map":return Object.keys(h[f]).length>0;case"scalar":return!Z(o.scalar,h[f]);case"enum":return h[f]!==o.enum.values[0].number}throw new Error("message field with implicit presence")}function Te(h,o){return Object.prototype.hasOwnProperty.call(h,o)&&h[o]!==void 0}function re(h,o){if(o.oneof){const f=h[o.oneof.localName];return f.case===o.localName?f.value:void 0}return h[o.localName]}function Ae(h,o,f){o.oneof?h[o.oneof.localName]={case:o.localName,value:f}:h[o.localName]=f}function de(h,o){const f=o.localName;if(o.oneof){const v=o.oneof.localName;h[v].case===f&&(h[v]={case:void 0})}else if(o.presence!=ne)delete h[f];else switch(o.fieldKind){case"map":h[f]={};break;case"list":h[f]=[];break;case"enum":h[f]=o.enum.values[0].number;break;case"scalar":h[f]=$(o.scalar,o.longAsString);break}}function ue(h){return h!==null&&typeof h=="object"&&!Array.isArray(h)}function K(h,o){var f,v,A,O;if(ue(h)&&ie in h&&"add"in h&&"field"in h&&typeof h.field=="function"){if(o!==void 0){const L=o,V=h.field();return L.listKind==V.listKind&&L.scalar===V.scalar&&((f=L.message)===null||f===void 0?void 0:f.typeName)===((v=V.message)===null||v===void 0?void 0:v.typeName)&&((A=L.enum)===null||A===void 0?void 0:A.typeName)===((O=V.enum)===null||O===void 0?void 0:O.typeName)}return!0}return!1}function oe(h,o){var f,v,A,O;if(ue(h)&&ie in h&&"has"in h&&"field"in h&&typeof h.field=="function"){if(o!==void 0){const L=o,V=h.field();return L.mapKey===V.mapKey&&L.mapKind==V.mapKind&&L.scalar===V.scalar&&((f=L.message)===null||f===void 0?void 0:f.typeName)===((v=V.message)===null||v===void 0?void 0:v.typeName)&&((A=L.enum)===null||A===void 0?void 0:A.typeName)===((O=V.enum)===null||O===void 0?void 0:O.typeName)}return!0}return!1}function pe(h,o){return ue(h)&&ie in h&&"desc"in h&&ue(h.desc)&&h.desc.kind==="message"&&(o===void 0||h.desc.typeName==o.typeName)}function z(h){return G(h.$typeName)}function U(h){const o=h.fields[0];return G(h.typeName)&&o!==void 0&&o.fieldKind=="scalar"&&o.name=="value"&&o.number==1}function G(h){return h.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(h.substring(16))}const W=999,Q=998,X=2;function J(h,o){if(u(o,h))return o;const f=ve(h);return o!==void 0&&se(h,f,o),f}function se(h,o,f){for(const v of h.members){let A=f[v.localName];if(A==null)continue;let O;if(v.kind=="oneof"){const L=he(f,v);if(!L)continue;O=L,A=re(f,L)}else O=v;switch(O.fieldKind){case"message":A=le(O,A);break;case"scalar":A=xe(O,A);break;case"list":A=ae(O,A);break;case"map":A=be(O,A);break}Ae(o,O,A)}return o}function xe(h,o){return h.scalar==c.BYTES?Ce(o):o}function be(h,o){if(ue(o)){if(h.scalar==c.BYTES)return Oe(o,Ce);if(h.mapKind=="message")return Oe(o,f=>le(h,f))}return o}function ae(h,o){if(Array.isArray(o)){if(h.scalar==c.BYTES)return o.map(Ce);if(h.listKind=="message")return o.map(f=>le(h,f))}return o}function le(h,o){if(h.fieldKind=="message"&&!h.oneof&&U(h.message))return xe(h.message.fields[0],o);if(ue(o)){if(h.message.typeName=="google.protobuf.Struct"&&h.parent.typeName!=="google.protobuf.Value")return o;if(!u(o,h.message))return J(h.message,o)}return o}function Ce(h){return Array.isArray(h)?new Uint8Array(h):h}function Oe(h,o){const f={};for(const v of Object.entries(h))f[v[0]]=o(v[1]);return f}const je=Symbol(),Ue=new WeakMap;function ve(h){let o;if(Pe(h)){const f=Ue.get(h);let v,A;if(f)({prototype:v,members:A}=f);else{v={},A=new Set;for(const O of h.members)O.kind!="oneof"&&(O.fieldKind!="scalar"&&O.fieldKind!="enum"||O.presence!=X&&(A.add(O),v[O.localName]=Ze(O)));Ue.set(h,{prototype:v,members:A})}o=Object.create(v),o.$typeName=h.typeName;for(const O of h.members)A.has(O)||O.kind=="field"&&(O.fieldKind=="message"||(O.fieldKind=="scalar"||O.fieldKind=="enum")&&O.presence!=X)||(o[O.localName]=Ze(O))}else{o={$typeName:h.typeName};for(const f of h.members)(f.kind=="oneof"||f.presence==X)&&(o[f.localName]=Ze(f))}return o}function Pe(h){switch(h.file.edition){case W:return!1;case Q:return!0;default:return h.fields.some(o=>o.presence!=X&&o.fieldKind!="message"&&!o.oneof)}}function Ze(h){if(h.kind=="oneof")return{case:void 0};if(h.fieldKind=="list")return[];if(h.fieldKind=="map")return{};if(h.fieldKind=="message")return je;const o=h.getDefaultValue();return o!==void 0?h.fieldKind=="scalar"&&h.longAsString?o.toString():o:h.fieldKind=="scalar"?$(h.scalar,h.longAsString):h.enum.values[0].number}const pt=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class gt extends Error{constructor(o,f,v="FieldValueInvalidError"){super(f),this.name=v,this.field=()=>o}}function me(h){return h instanceof Error&&pt.includes(h.name)&&"field"in h&&typeof h.field=="function"}const _e=Symbol.for("@bufbuild/protobuf/text-encoding");function qe(){if(globalThis[_e]==null){const h=new globalThis.TextEncoder,o=new globalThis.TextDecoder;globalThis[_e]={encodeUtf8(f){return h.encode(f)},decodeUtf8(f){return o.decode(f)},checkUtf8(f){try{return encodeURIComponent(f),!0}catch{return!1}}}}return globalThis[_e]}var Ye;(function(h){h[h.Varint=0]="Varint",h[h.Bit64=1]="Bit64",h[h.LengthDelimited=2]="LengthDelimited",h[h.StartGroup=3]="StartGroup",h[h.EndGroup=4]="EndGroup",h[h.Bit32=5]="Bit32"})(Ye||(Ye={}));const tt=34028234663852886e22,lt=-34028234663852886e22,xt=4294967295,Tt=2147483647,Ot=-2147483648;class un{constructor(o=qe().encodeUtf8){this.encodeUtf8=o,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let o=0;for(let A=0;A<this.chunks.length;A++)o+=this.chunks[A].length;let f=new Uint8Array(o),v=0;for(let A=0;A<this.chunks.length;A++)f.set(this.chunks[A],v),v+=this.chunks[A].length;return this.chunks=[],f}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let o=this.finish(),f=this.stack.pop();if(!f)throw new Error("invalid state, fork stack empty");return this.chunks=f.chunks,this.buf=f.buf,this.uint32(o.byteLength),this.raw(o)}tag(o,f){return this.uint32((o<<3|f)>>>0)}raw(o){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(o),this}uint32(o){for(mt(o);o>127;)this.buf.push(o&127|128),o=o>>>7;return this.buf.push(o),this}int32(o){return rt(o),N(o,this.buf),this}bool(o){return this.buf.push(o?1:0),this}bytes(o){return this.uint32(o.byteLength),this.raw(o)}string(o){let f=this.encodeUtf8(o);return this.uint32(f.byteLength),this.raw(f)}float(o){At(o);let f=new Uint8Array(4);return new DataView(f.buffer).setFloat32(0,o,!0),this.raw(f)}double(o){let f=new Uint8Array(8);return new DataView(f.buffer).setFloat64(0,o,!0),this.raw(f)}fixed32(o){mt(o);let f=new Uint8Array(4);return new DataView(f.buffer).setUint32(0,o,!0),this.raw(f)}sfixed32(o){rt(o);let f=new Uint8Array(4);return new DataView(f.buffer).setInt32(0,o,!0),this.raw(f)}sint32(o){return rt(o),o=(o<<1^o>>31)>>>0,N(o,this.buf),this}sfixed64(o){let f=new Uint8Array(8),v=new DataView(f.buffer),A=F.enc(o);return v.setInt32(0,A.lo,!0),v.setInt32(4,A.hi,!0),this.raw(f)}fixed64(o){let f=new Uint8Array(8),v=new DataView(f.buffer),A=F.uEnc(o);return v.setInt32(0,A.lo,!0),v.setInt32(4,A.hi,!0),this.raw(f)}int64(o){let f=F.enc(o);return p(f.lo,f.hi,this.buf),this}sint64(o){const f=F.enc(o),v=f.hi>>31,A=f.lo<<1^v,O=(f.hi<<1|f.lo>>>31)^v;return p(A,O,this.buf),this}uint64(o){const f=F.uEnc(o);return p(f.lo,f.hi,this.buf),this}}class ke{constructor(o,f=qe().decodeUtf8){this.decodeUtf8=f,this.varint64=g,this.uint32=D,this.buf=o,this.len=o.length,this.pos=0,this.view=new DataView(o.buffer,o.byteOffset,o.byteLength)}tag(){let o=this.uint32(),f=o>>>3,v=o&7;if(f<=0||v<0||v>5)throw new Error("illegal tag: field no "+f+" wire type "+v);return[f,v]}skip(o,f){let v=this.pos;switch(o){case Ye.Varint:for(;this.buf[this.pos++]&128;);break;case Ye.Bit64:this.pos+=4;case Ye.Bit32:this.pos+=4;break;case Ye.LengthDelimited:let A=this.uint32();this.pos+=A;break;case Ye.StartGroup:for(;;){const[O,L]=this.tag();if(L===Ye.EndGroup){if(f!==void 0&&O!==f)throw new Error("invalid end group tag");break}this.skip(L,O)}break;default:throw new Error("cant skip wire type "+o)}return this.assertBounds(),this.buf.subarray(v,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let o=this.uint32();return o>>>1^-(o&1)}int64(){return F.dec(...this.varint64())}uint64(){return F.uDec(...this.varint64())}sint64(){let[o,f]=this.varint64(),v=-(o&1);return o=(o>>>1|(f&1)<<31)^v,f=f>>>1^v,F.dec(o,f)}bool(){let[o,f]=this.varint64();return o!==0||f!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return F.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return F.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let o=this.uint32(),f=this.pos;return this.pos+=o,this.assertBounds(),this.buf.subarray(f,f+o)}string(){return this.decodeUtf8(this.bytes())}}function rt(h){if(typeof h=="string")h=Number(h);else if(typeof h!="number")throw new Error("invalid int32: "+typeof h);if(!Number.isInteger(h)||h>Tt||h<Ot)throw new Error("invalid int32: "+h)}function mt(h){if(typeof h=="string")h=Number(h);else if(typeof h!="number")throw new Error("invalid uint32: "+typeof h);if(!Number.isInteger(h)||h>xt||h<0)throw new Error("invalid uint32: "+h)}function At(h){if(typeof h=="string"){const o=h;if(h=Number(h),Number.isNaN(h)&&o!=="NaN")throw new Error("invalid float32: "+o)}else if(typeof h!="number")throw new Error("invalid float32: "+typeof h);if(Number.isFinite(h)&&(h>tt||h<lt))throw new Error("invalid float32: "+h)}function Mt(h,o){const f=h.fieldKind=="list"?K(o,h):h.fieldKind=="map"?oe(o,h):Kn(h,o);if(f===!0)return;let v;switch(h.fieldKind){case"list":v=`expected ${tn(h)}, got ${it(o)}`;break;case"map":v=`expected ${sn(h)}, got ${it(o)}`;break;default:v=tr(h,o,f)}return new gt(h,v)}function bn(h,o,f){const v=Kn(h,f);if(v!==!0)return new gt(h,`list item #${o+1}: ${tr(h,f,v)}`)}function zn(h,o,f){const v=cn(o,h.mapKey);if(v!==!0)return new gt(h,`invalid map key: ${tr({scalar:h.mapKey},o,v)}`);const A=Kn(h,f);if(A!==!0)return new gt(h,`map entry ${it(o)}: ${tr(h,f,A)}`)}function Kn(h,o){return h.scalar!==void 0?cn(o,h.scalar):h.enum!==void 0?h.enum.open?Number.isInteger(o):h.enum.values.some(f=>f.number===o):pe(o,h.message)}function cn(h,o){switch(o){case c.DOUBLE:return typeof h=="number";case c.FLOAT:return typeof h!="number"?!1:Number.isNaN(h)||!Number.isFinite(h)?!0:h>tt||h<lt?`${h.toFixed()} out of range`:!0;case c.INT32:case c.SFIXED32:case c.SINT32:return typeof h!="number"||!Number.isInteger(h)?!1:h>Tt||h<Ot?`${h.toFixed()} out of range`:!0;case c.FIXED32:case c.UINT32:return typeof h!="number"||!Number.isInteger(h)?!1:h>xt||h<0?`${h.toFixed()} out of range`:!0;case c.BOOL:return typeof h=="boolean";case c.STRING:return typeof h!="string"?!1:qe().checkUtf8(h)||"invalid UTF8";case c.BYTES:return h instanceof Uint8Array;case c.INT64:case c.SFIXED64:case c.SINT64:if(typeof h=="bigint"||typeof h=="number"||typeof h=="string"&&h.length>0)try{return F.parse(h),!0}catch{return`${h} out of range`}return!1;case c.FIXED64:case c.UINT64:if(typeof h=="bigint"||typeof h=="number"||typeof h=="string"&&h.length>0)try{return F.uParse(h),!0}catch{return`${h} out of range`}return!1}}function tr(h,o,f){return f=typeof f=="string"?`: ${f}`:`, got ${it(o)}`,h.scalar!==void 0?`expected ${vr(h.scalar)}`+f:h.enum!==void 0?`expected ${h.enum.toString()}`+f:`expected ${fn(h.message)}`+f}function it(h){switch(typeof h){case"object":return h===null?"null":h instanceof Uint8Array?`Uint8Array(${h.length})`:Array.isArray(h)?`Array(${h.length})`:K(h)?tn(h.field()):oe(h)?sn(h.field()):pe(h)?fn(h.desc):u(h)?`message ${h.$typeName}`:"object";case"string":return h.length>30?"string":`"${h.split('"').join('\\"')}"`;case"boolean":return String(h);case"number":return String(h);case"bigint":return String(h)+"n";default:return typeof h}}function fn(h){return`ReflectMessage (${h.typeName})`}function tn(h){switch(h.listKind){case"message":return`ReflectList (${h.message.toString()})`;case"enum":return`ReflectList (${h.enum.toString()})`;case"scalar":return`ReflectList (${c[h.scalar]})`}}function sn(h){switch(h.mapKind){case"message":return`ReflectMap (${c[h.mapKey]}, ${h.message.toString()})`;case"enum":return`ReflectMap (${c[h.mapKey]}, ${h.enum.toString()})`;case"scalar":return`ReflectMap (${c[h.mapKey]}, ${c[h.scalar]})`}}function vr(h){switch(h){case c.STRING:return"string";case c.BOOL:return"boolean";case c.INT64:case c.SINT64:case c.SFIXED64:return"bigint (int64)";case c.UINT64:case c.FIXED64:return"bigint (uint64)";case c.BYTES:return"Uint8Array";case c.DOUBLE:return"number (float64)";case c.FLOAT:return"number (float32)";case c.FIXED32:case c.UINT32:return"number (uint32)";case c.INT32:case c.SFIXED32:case c.SINT32:return"number (int32)"}}function Xt(h,o,f=!0){return new dn(h,o,f)}const jt=new WeakMap;class dn{get sortedFields(){const o=jt.get(this.desc);if(o)return o;const f=this.desc.fields.concat().sort((v,A)=>v.number-A.number);return jt.set(this.desc,f),f}constructor(o,f,v=!0){this.lists=new Map,this.maps=new Map,this.check=v,this.desc=o,this.message=this[ie]=f??J(o),this.fields=o.fields,this.oneofs=o.oneofs,this.members=o.members}findNumber(o){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(f=>[f.number,f]))),this._fieldsByNumber.get(o)}oneofCase(o){return Ft(this.message,o),he(this.message,o)}isSet(o){return Ft(this.message,o),De(this.message,o)}clear(o){Ft(this.message,o),de(this.message,o)}get(o){Ft(this.message,o);const f=re(this.message,o);switch(o.fieldKind){case"list":let v=this.lists.get(o);return(!v||v[ie]!==f)&&this.lists.set(o,v=new Rn(o,f,this.check)),v;case"map":let A=this.maps.get(o);return(!A||A[ie]!==f)&&this.maps.set(o,A=new Di(o,f,this.check)),A;case"message":return yi(o,f,this.check);case"scalar":return f===void 0?$(o.scalar,!1):Hs(o,f);case"enum":return f??o.enum.values[0].number}}set(o,f){if(Ft(this.message,o),this.check){const A=Mt(o,f);if(A)throw A}let v;o.fieldKind=="message"?v=Sr(o,f):oe(f)||K(f)?v=f[ie]:v=sr(o,f),Ae(this.message,o,v)}getUnknown(){return this.message.$unknown}setUnknown(o){this.message.$unknown=o}}function Ft(h,o){if(o.parent.typeName!==h.$typeName)throw new gt(o,`cannot use ${o.toString()} with message ${h.$typeName}`,"ForeignFieldError")}class Rn{field(){return this._field}get size(){return this._arr.length}constructor(o,f,v){this._field=o,this._arr=this[ie]=f,this.check=v}get(o){const f=this._arr[o];return f===void 0?void 0:Qi(this._field,f,this.check)}set(o,f){if(o<0||o>=this._arr.length)throw new gt(this._field,`list item #${o+1}: out of range`);if(this.check){const v=bn(this._field,o,f);if(v)throw v}this._arr[o]=Jo(this._field,f)}add(o){if(this.check){const f=bn(this._field,this._arr.length,o);if(f)throw f}this._arr.push(Jo(this._field,o))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const o of this._arr)yield Qi(this._field,o,this.check)}*entries(){for(let o=0;o<this._arr.length;o++)yield[o,Qi(this._field,this._arr[o],this.check)]}}class Di{constructor(o,f,v=!0){this.obj=this[ie]=f??{},this.check=v,this._field=o}field(){return this._field}set(o,f){if(this.check){const v=zn(this._field,o,f);if(v)throw v}return this.obj[Qo(o)]=Vg(this._field,f),this}delete(o){const f=Qo(o),v=Object.prototype.hasOwnProperty.call(this.obj,f);return v&&delete this.obj[f],v}clear(){for(const o of Object.keys(this.obj))delete this.obj[o]}get(o){let f=this.obj[Qo(o)];return f!==void 0&&(f=$s(this._field,f,this.check)),f}has(o){return Object.prototype.hasOwnProperty.call(this.obj,Qo(o))}*keys(){for(const o of Object.keys(this.obj))yield ku(o,this._field.mapKey)}*entries(){for(const o of Object.entries(this.obj))yield[ku(o[0],this._field.mapKey),$s(this._field,o[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const o of Object.values(this.obj))yield $s(this._field,o,this.check)}forEach(o,f){for(const v of this.entries())o.call(f,v[1],v[0],this)}}function Sr(h,o){return pe(o)?z(o.message)&&!h.oneof&&h.fieldKind=="message"?o.message.value:o.desc.typeName=="google.protobuf.Struct"&&h.parent.typeName!="google.protobuf.Value"?$g(o.message):o.message:o}function yi(h,o,f){return o!==void 0&&(U(h.message)&&!h.oneof&&h.fieldKind=="message"?o={$typeName:h.message.typeName,value:Hs(h.message.fields[0],o)}:h.message.typeName=="google.protobuf.Struct"&&h.parent.typeName!="google.protobuf.Value"&&ue(o)&&(o=Gg(o))),new dn(h.message,o,f)}function Jo(h,o){return h.listKind=="message"?Sr(h,o):sr(h,o)}function Qi(h,o,f){return h.listKind=="message"?yi(h,o,f):Hs(h,o)}function Vg(h,o){return h.mapKind=="message"?Sr(h,o):sr(h,o)}function $s(h,o,f){return h.mapKind=="message"?yi(h,o,f):o}function Qo(h){return typeof h=="string"||typeof h=="number"?h:String(h)}function ku(h,o){switch(o){case c.STRING:return h;case c.INT32:case c.FIXED32:case c.UINT32:case c.SFIXED32:case c.SINT32:{const f=Number.parseInt(h);if(Number.isFinite(f))return f;break}case c.BOOL:switch(h){case"true":return!0;case"false":return!1}break;case c.UINT64:case c.FIXED64:try{return F.uParse(h)}catch{}break;default:try{return F.parse(h)}catch{}break}return h}function Hs(h,o){switch(h.scalar){case c.INT64:case c.SFIXED64:case c.SINT64:"longAsString"in h&&h.longAsString&&typeof o=="string"&&(o=F.parse(o));break;case c.FIXED64:case c.UINT64:"longAsString"in h&&h.longAsString&&typeof o=="string"&&(o=F.uParse(o));break}return o}function sr(h,o){switch(h.scalar){case c.INT64:case c.SFIXED64:case c.SINT64:"longAsString"in h&&h.longAsString?o=String(o):(typeof o=="string"||typeof o=="number")&&(o=F.parse(o));break;case c.FIXED64:case c.UINT64:"longAsString"in h&&h.longAsString?o=String(o):(typeof o=="string"||typeof o=="number")&&(o=F.uParse(o));break}return o}function Gg(h){const o={$typeName:"google.protobuf.Struct",fields:{}};if(ue(h))for(const[f,v]of Object.entries(h))o.fields[f]=Ha(v);return o}function $g(h){const o={};for(const[f,v]of Object.entries(h.fields))o[f]=Ws(v);return o}function Ws(h){switch(h.kind.case){case"structValue":return $g(h.kind.value);case"listValue":return h.kind.value.values.map(Ws);case"nullValue":case void 0:return null;default:return h.kind.value}}function Ha(h){const o={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof h){case"number":o.kind={case:"numberValue",value:h};break;case"string":o.kind={case:"stringValue",value:h};break;case"boolean":o.kind={case:"boolValue",value:h};break;case"object":if(h===null)o.kind={case:"nullValue",value:0};else if(Array.isArray(h)){const f={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(h))for(const v of h)f.values.push(Ha(v));o.kind={case:"listValue",value:f}}else o.kind={case:"structValue",value:Gg(h)};break}return o}function Hg(h){const o=ts();let f=h.length*3/4;h[h.length-2]=="="?f-=2:h[h.length-1]=="="&&(f-=1);let v=new Uint8Array(f),A=0,O=0,L,V=0;for(let q=0;q<h.length;q++){if(L=o[h.charCodeAt(q)],L===void 0)switch(h[q]){case"=":O=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(O){case 0:V=L,O=1;break;case 1:v[A++]=V<<2|(L&48)>>4,V=L,O=2;break;case 2:v[A++]=(V&15)<<4|(L&60)>>2,V=L,O=3;break;case 3:v[A++]=(V&3)<<6|L,O=0;break}}if(O==1)throw Error("invalid base64 string");return v.subarray(0,A)}function yy(h,o="std"){const f=gf(o),v=o=="std";let A="",O=0,L,V=0;for(let q=0;q<h.length;q++)switch(L=h[q],O){case 0:A+=f[L>>2],V=(L&3)<<4,O=1;break;case 1:A+=f[V|L>>4],V=(L&15)<<2,O=2;break;case 2:A+=f[V|L>>6],A+=f[L&63],O=0;break}return O&&(A+=f[V],v&&(A+="=",O==1&&(A+="="))),A}let pf,xy,es;function gf(h){return pf||(pf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),xy=pf.slice(0,-2).concat("-","_")),h=="url"?xy:pf}function ts(){if(!es){es=[];const h=gf("std");for(let o=0;o<h.length;o++)es[h[o].charCodeAt(0)]=o;es[45]=h.indexOf("+"),es[95]=h.indexOf("/")}return es}function Wa(h){let o=!1;const f=[];for(let v=0;v<h.length;v++){let A=h.charAt(v);switch(A){case"_":o=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f.push(A),o=!1;break;default:o&&(o=!1,A=A.toUpperCase()),f.push(A);break}}return f.join("")}const by=new Set(["constructor","toString","toJSON","valueOf"]);function So(h){return by.has(h)?h+"$":h}function mf(h){for(const o of h.field)Te(o,"jsonName")||(o.jsonName=Wa(o.name));h.nestedType.forEach(mf)}function Wg(h,o){const f=h.values.find(v=>v.name===o);if(!f)throw new Error(`cannot parse ${h} default value: ${o}`);return f.number}function N1(h,o){switch(h){case c.STRING:return o;case c.BYTES:{const f=Sy(o);if(f===!1)throw new Error(`cannot parse ${c[h]} default value: ${o}`);return f}case c.INT64:case c.SFIXED64:case c.SINT64:return F.parse(o);case c.UINT64:case c.FIXED64:return F.uParse(o);case c.DOUBLE:case c.FLOAT:switch(o){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(o)}case c.BOOL:return o==="true";case c.INT32:case c.UINT32:case c.SINT32:case c.FIXED32:case c.SFIXED32:return parseInt(o,10)}}function Sy(h){const o=[],f={tail:h,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(v){if(this.tail.length>=v){const A=this.tail.substring(0,v);return this.tail=this.tail.substring(v),A}return!1}};for(;f.next();)switch(f.c){case"\\":if(f.next())switch(f.c){case"\\":o.push(f.c.charCodeAt(0));break;case"b":o.push(8);break;case"f":o.push(12);break;case"n":o.push(10);break;case"r":o.push(13);break;case"t":o.push(9);break;case"v":o.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const v=f.c,A=f.take(2);if(A===!1)return!1;const O=parseInt(v+A,8);if(Number.isNaN(O))return!1;o.push(O);break}case"x":{const v=f.c,A=f.take(2);if(A===!1)return!1;const O=parseInt(v+A,16);if(Number.isNaN(O))return!1;o.push(O);break}case"u":{const v=f.c,A=f.take(4);if(A===!1)return!1;const O=parseInt(v+A,16);if(Number.isNaN(O))return!1;const L=new Uint8Array(4);new DataView(L.buffer).setInt32(0,O,!0),o.push(L[0],L[1],L[2],L[3]);break}case"U":{const v=f.c,A=f.take(8);if(A===!1)return!1;const O=F.uEnc(v+A),L=new Uint8Array(8),V=new DataView(L.buffer);V.setInt32(0,O.lo,!0),V.setInt32(4,O.hi,!0),o.push(L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7]);break}}break;default:o.push(f.c.charCodeAt(0))}return new Uint8Array(o)}function*ni(h){switch(h.kind){case"file":for(const o of h.messages)yield o,yield*ni(o);yield*h.enums,yield*h.services,yield*h.extensions;break;case"message":for(const o of h.nestedMessages)yield o,yield*ni(o);yield*h.nestedEnums,yield*h.nestedExtensions;break}}function Yg(...h){const o=_1();if(!h.length)return o;if("$typeName"in h[0]&&h[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const f of h[0].file)xf(f,o);return o}if("$typeName"in h[0]){let f=function(L){const V=[];for(const q of L.dependency){if(o.getFile(q)!=null||O.has(q))continue;const te=A(q);if(!te)throw new Error(`Unable to resolve ${q}, imported by ${L.name}`);"kind"in te?o.addFile(te,!1,!0):(O.add(te.name),V.push(te))}return V.concat(...V.map(f))};const v=h[0],A=h[1],O=new Set;for(const L of[v,...f(v)].reverse())xf(L,o)}else for(const f of h)for(const v of f.files)o.addFile(v);return o}function _1(){const h=new Map,o=new Map,f=new Map;return{kind:"registry",types:h,extendees:o,[Symbol.iterator](){return h.values()},get files(){return f.values()},addFile(v,A,O){if(f.set(v.proto.name,v),!A)for(const L of ni(v))this.add(L);if(O)for(const L of v.dependencies)this.addFile(L,A,O)},add(v){if(v.kind=="extension"){let A=o.get(v.extendee.typeName);A||o.set(v.extendee.typeName,A=new Map),A.set(v.number,v)}h.set(v.typeName,v)},get(v){return h.get(v)},getFile(v){return f.get(v)},getMessage(v){const A=h.get(v);return(A==null?void 0:A.kind)=="message"?A:void 0},getEnum(v){const A=h.get(v);return(A==null?void 0:A.kind)=="enum"?A:void 0},getExtension(v){const A=h.get(v);return(A==null?void 0:A.kind)=="extension"?A:void 0},getExtensionFor(v,A){var O;return(O=o.get(v.typeName))===null||O===void 0?void 0:O.get(A)},getService(v){const A=h.get(v);return(A==null?void 0:A.kind)=="service"?A:void 0}}}const Oh=998,Ay=999,Dh=9,vf=10,jr=11,qg=12,Kg=14,yf=3,Bu=2,Xg=1,Ey=0,Ys=1,Cy=2,wy=3,Ry=1,Zg=2,I1=1,Ty={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function xf(h,o){var f,v;const A={kind:"file",proto:h,deprecated:(v=(f=h.options)===null||f===void 0?void 0:f.deprecated)!==null&&v!==void 0?v:!1,edition:ns(h),name:h.name.replace(/\.proto$/,""),dependencies:Qg(h,o),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${h.name}`}},O=new Map,L={get(V){return O.get(V)},add(V){var q;Wr(((q=V.proto.options)===null||q===void 0?void 0:q.mapEntry)===!0),O.set(V.typeName,V)}};for(const V of h.enumType)Ya(V,A,void 0,o);for(const V of h.messageType)qa(V,A,void 0,o,L);for(const V of h.service)Ny(V,A,o);bf(A,o);for(const V of O.values())Sf(V,o,L);for(const V of A.messages)Sf(V,o,L),bf(V,o);o.addFile(A,!0)}function bf(h,o){switch(h.kind){case"file":for(const f of h.proto.extension){const v=Ka(f,h,o);h.extensions.push(v),o.add(v)}break;case"message":for(const f of h.proto.extension){const v=Ka(f,h,o);h.nestedExtensions.push(v),o.add(v)}for(const f of h.nestedMessages)bf(f,o);break}}function Sf(h,o,f){const v=h.proto.oneofDecl.map(O=>_y(O,h)),A=new Set;for(const O of h.proto.field){const L=Iy(O,v),V=Ka(O,h,o,L,f);h.fields.push(V),h.field[V.localName]=V,L===void 0?h.members.push(V):(L.fields.push(V),A.has(L)||(A.add(L),h.members.push(L)))}for(const O of v.filter(L=>A.has(L)))h.oneofs.push(O);for(const O of h.nestedMessages)Sf(O,o,f)}function Ya(h,o,f,v){var A,O,L,V,q;const te=Af(h.name,h.value),ce={kind:"enum",proto:h,deprecated:(O=(A=h.options)===null||A===void 0?void 0:A.deprecated)!==null&&O!==void 0?O:!1,file:o,parent:f,open:!0,name:h.name,typeName:ju(h,f,o),value:{},values:[],sharedPrefix:te,toString(){return`enum ${this.typeName}`}};ce.open=ri(ce),v.add(ce);for(const Re of h.value){const Be=Re.name;ce.values.push(ce.value[Re.number]={kind:"enum_value",proto:Re,deprecated:(V=(L=Re.options)===null||L===void 0?void 0:L.deprecated)!==null&&V!==void 0?V:!1,parent:ce,name:Be,localName:So(te==null?Be:Be.substring(te.length)),number:Re.number,toString(){return`enum value ${ce.typeName}.${Be}`}})}((q=f==null?void 0:f.nestedEnums)!==null&&q!==void 0?q:o.enums).push(ce)}function qa(h,o,f,v,A){var O,L,V,q;const te={kind:"message",proto:h,deprecated:(L=(O=h.options)===null||O===void 0?void 0:O.deprecated)!==null&&L!==void 0?L:!1,file:o,parent:f,name:h.name,typeName:ju(h,f,o),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((V=h.options)===null||V===void 0?void 0:V.mapEntry)===!0?A.add(te):(((q=f==null?void 0:f.nestedMessages)!==null&&q!==void 0?q:o.messages).push(te),v.add(te));for(const ce of h.enumType)Ya(ce,o,te,v);for(const ce of h.nestedType)qa(ce,o,te,v,A)}function Ny(h,o,f){var v,A;const O={kind:"service",proto:h,deprecated:(A=(v=h.options)===null||v===void 0?void 0:v.deprecated)!==null&&A!==void 0?A:!1,file:o,name:h.name,typeName:ju(h,void 0,o),methods:[],method:{},toString(){return`service ${this.typeName}`}};o.services.push(O),f.add(O);for(const L of h.method){const V=Jg(L,O,f);O.methods.push(V),O.method[V.localName]=V}}function Jg(h,o,f){var v,A,O,L;let V;h.clientStreaming&&h.serverStreaming?V="bidi_streaming":h.clientStreaming?V="client_streaming":h.serverStreaming?V="server_streaming":V="unary";const q=f.getMessage(Mi(h.inputType)),te=f.getMessage(Mi(h.outputType));Wr(q,`invalid MethodDescriptorProto: input_type ${h.inputType} not found`),Wr(te,`invalid MethodDescriptorProto: output_type ${h.inputType} not found`);const ce=h.name;return{kind:"rpc",proto:h,deprecated:(A=(v=h.options)===null||v===void 0?void 0:v.deprecated)!==null&&A!==void 0?A:!1,parent:o,name:ce,localName:So(ce.length?So(ce[0].toLowerCase()+ce.substring(1)):ce),methodKind:V,input:q,output:te,idempotency:(L=(O=h.options)===null||O===void 0?void 0:O.idempotencyLevel)!==null&&L!==void 0?L:Ey,toString(){return`rpc ${o.typeName}.${ce}`}}}function _y(h,o){return{kind:"oneof",proto:h,deprecated:!1,parent:o,fields:[],name:h.name,localName:So(Wa(h.name)),toString(){return`oneof ${o.typeName}.${this.name}`}}}function Ka(h,o,f,v,A){var O,L,V;const q=A===void 0,te={kind:"field",proto:h,deprecated:(L=(O=h.options)===null||O===void 0?void 0:O.deprecated)!==null&&L!==void 0?L:!1,name:h.name,number:h.number,scalar:void 0,message:void 0,enum:void 0,presence:Mh(h,v,q,o),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(q){const Ne=o.kind=="file"?o:o.file,$e=o.kind=="file"?void 0:o,We=ju(h,$e,Ne);te.kind="extension",te.file=Ne,te.parent=$e,te.oneof=void 0,te.typeName=We,te.jsonName=`[${We}]`,te.toString=()=>`extension ${We}`;const st=f.getMessage(Mi(h.extendee));Wr(st,`invalid FieldDescriptorProto: extendee ${h.extendee} not found`),te.extendee=st}else{const Ne=o;Wr(Ne.kind=="message"),te.parent=Ne,te.oneof=v,te.localName=v?Wa(h.name):So(Wa(h.name)),te.jsonName=h.jsonName,te.toString=()=>`field ${Ne.typeName}.${h.name}`}const ce=h.label,Re=h.type,Be=(V=h.options)===null||V===void 0?void 0:V.jstype;if(ce===yf){const Ne=Re==jr?A==null?void 0:A.get(Mi(h.typeName)):void 0;if(Ne){te.fieldKind="map";const{key:$e,value:We}=Oy(Ne);return te.mapKey=$e.scalar,te.mapKind=We.fieldKind,te.message=We.message,te.delimitedEncoding=!1,te.enum=We.enum,te.scalar=We.scalar,te}switch(te.fieldKind="list",Re){case jr:case vf:te.listKind="message",te.message=f.getMessage(Mi(h.typeName)),Wr(te.message),te.delimitedEncoding=Ks(h,o);break;case Kg:te.listKind="enum",te.enum=f.getEnum(Mi(h.typeName)),Wr(te.enum);break;default:te.listKind="scalar",te.scalar=Re,te.longAsString=Be==Xg;break}return te.packed=Ph(h,o),te}switch(Re){case jr:case vf:te.fieldKind="message",te.message=f.getMessage(Mi(h.typeName)),Wr(te.message,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),te.delimitedEncoding=Ks(h,o),te.getDefaultValue=()=>{};break;case Kg:{const Ne=f.getEnum(Mi(h.typeName));Wr(Ne!==void 0,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),te.fieldKind="enum",te.enum=f.getEnum(Mi(h.typeName)),te.getDefaultValue=()=>Te(h,"defaultValue")?Wg(Ne,h.defaultValue):void 0;break}default:{te.fieldKind="scalar",te.scalar=Re,te.longAsString=Be==Xg,te.getDefaultValue=()=>Te(h,"defaultValue")?N1(Re,h.defaultValue):void 0;break}}return te}function ns(h){switch(h.syntax){case"":case"proto2":return Oh;case"proto3":return Ay;case"editions":if(h.edition in Ty)return h.edition;throw new Error(`${h.name}: unsupported edition`);default:throw new Error(`${h.name}: unsupported syntax "${h.syntax}"`)}}function Qg(h,o){return h.dependency.map(f=>{const v=o.getFile(f);if(!v)throw new Error(`Cannot find ${f}, imported by ${h.name}`);return v})}function Af(h,o){const f=qs(h)+"_";for(const v of o){if(!v.name.toLowerCase().startsWith(f))return;const A=v.name.substring(f.length);if(A.length==0||/^\d/.test(A))return}return f}function qs(h){return(h.substring(0,1)+h.substring(1).replace(/[A-Z]/g,o=>"_"+o)).toLowerCase()}function ju(h,o,f){let v;return o?v=`${o.typeName}.${h.name}`:f.proto.package.length>0?v=`${f.proto.package}.${h.name}`:v=`${h.name}`,v}function Mi(h){return h.startsWith(".")?h.substring(1):h}function Iy(h,o){if(!Te(h,"oneofIndex")||h.proto3Optional)return;const f=o[h.oneofIndex];return Wr(f,`invalid FieldDescriptorProto: oneof #${h.oneofIndex} for field #${h.number} not found`),f}function Mh(h,o,f,v){if(h.label==Bu)return wy;if(h.label==yf)return Cy;if(o||h.proto3Optional||f)return Ys;const A=rs("fieldPresence",{proto:h,parent:v});return A==Cy&&(h.type==jr||h.type==vf)?Ys:A}function Ph(h,o){if(h.label!=yf)return!1;switch(h.type){case Dh:case qg:case vf:case jr:return!1}const f=h.options;return f&&Te(f,"packed")?f.packed:Ry==rs("repeatedFieldEncoding",{proto:h,parent:o})}function Oy(h){const o=h.fields.find(v=>v.number===1),f=h.fields.find(v=>v.number===2);return Wr(o&&o.fieldKind=="scalar"&&o.scalar!=c.BYTES&&o.scalar!=c.FLOAT&&o.scalar!=c.DOUBLE&&f&&f.fieldKind!="list"&&f.fieldKind!="map"),{key:o,value:f}}function ri(h){var o;return I1==rs("enumType",{proto:h.proto,parent:(o=h.parent)!==null&&o!==void 0?o:h.file})}function Ks(h,o){return h.type==vf?!0:Zg==rs("messageEncoding",{proto:h,parent:o})}function rs(h,o){var f,v;const A=(f=o.proto.options)===null||f===void 0?void 0:f.features;if(A){const O=A[h];if(O!=0)return O}if("kind"in o){if(o.kind=="message")return rs(h,(v=o.parent)!==null&&v!==void 0?v:o.file);const O=Ty[o.edition];if(!O)throw new Error(`feature default for edition ${o.edition} not found`);return O[h]}return rs(h,o.parent)}function Wr(h,o){if(!h)throw new Error(o)}function O1(h){const o=em(h);return o.messageType.forEach(mf),Yg(o,()=>{}).getFile(o.name)}function em(h){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},h),{messageType:h.messageType.map(Lh),enumType:h.enumType.map(tm)}))}function Lh(h){var o,f,v,A,O,L,V,q;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:h.name,field:(f=(o=h.field)===null||o===void 0?void 0:o.map(Ef))!==null&&f!==void 0?f:[],extension:[],nestedType:(A=(v=h.nestedType)===null||v===void 0?void 0:v.map(Lh))!==null&&A!==void 0?A:[],enumType:(L=(O=h.enumType)===null||O===void 0?void 0:O.map(tm))!==null&&L!==void 0?L:[],extensionRange:(q=(V=h.extensionRange)===null||V===void 0?void 0:V.map(ce=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},ce)))!==null&&q!==void 0?q:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function Ef(h){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},h),{options:h.options?Fh(h.options):void 0}))}function Fh(h){var o,f,v;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},h),{targets:(o=h.targets)!==null&&o!==void 0?o:[],editionDefaults:(v=(f=h.editionDefaults)===null||f===void 0?void 0:f.map(O=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},O)))!==null&&v!==void 0?v:[],uninterpretedOption:[]}))}function tm(h){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:h.name,reservedName:[],reservedRange:[],value:h.value.map(f=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},f))})}function Pt(h,o,...f){return f.reduce((v,A)=>v.nestedMessages[A],h.messages[o])}const D1=Pt(O1({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),1);var kh;(function(h){h[h.DECLARATION=0]="DECLARATION",h[h.UNVERIFIED=1]="UNVERIFIED"})(kh||(kh={}));var Dy;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.GROUP=10]="GROUP",h[h.MESSAGE=11]="MESSAGE",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.ENUM=14]="ENUM",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(Dy||(Dy={}));var My;(function(h){h[h.OPTIONAL=1]="OPTIONAL",h[h.REPEATED=3]="REPEATED",h[h.REQUIRED=2]="REQUIRED"})(My||(My={}));var Py;(function(h){h[h.SPEED=1]="SPEED",h[h.CODE_SIZE=2]="CODE_SIZE",h[h.LITE_RUNTIME=3]="LITE_RUNTIME"})(Py||(Py={}));var Ly;(function(h){h[h.STRING=0]="STRING",h[h.CORD=1]="CORD",h[h.STRING_PIECE=2]="STRING_PIECE"})(Ly||(Ly={}));var Fy;(function(h){h[h.JS_NORMAL=0]="JS_NORMAL",h[h.JS_STRING=1]="JS_STRING",h[h.JS_NUMBER=2]="JS_NUMBER"})(Fy||(Fy={}));var nm;(function(h){h[h.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",h[h.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",h[h.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(nm||(nm={}));var ky;(function(h){h[h.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",h[h.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",h[h.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",h[h.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",h[h.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",h[h.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",h[h.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",h[h.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",h[h.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",h[h.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(ky||(ky={}));var By;(function(h){h[h.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",h[h.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",h[h.IDEMPOTENT=2]="IDEMPOTENT"})(By||(By={}));var jy;(function(h){h[h.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",h[h.EXPORT_ALL=1]="EXPORT_ALL",h[h.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",h[h.LOCAL_ALL=3]="LOCAL_ALL",h[h.STRICT=4]="STRICT"})(jy||(jy={}));var zy;(function(h){h[h.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",h[h.EXPLICIT=1]="EXPLICIT",h[h.IMPLICIT=2]="IMPLICIT",h[h.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(zy||(zy={}));var Bh;(function(h){h[h.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",h[h.OPEN=1]="OPEN",h[h.CLOSED=2]="CLOSED"})(Bh||(Bh={}));var Uy;(function(h){h[h.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",h[h.PACKED=1]="PACKED",h[h.EXPANDED=2]="EXPANDED"})(Uy||(Uy={}));var Vy;(function(h){h[h.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",h[h.VERIFY=2]="VERIFY",h[h.NONE=3]="NONE"})(Vy||(Vy={}));var Gy;(function(h){h[h.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",h[h.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",h[h.DELIMITED=2]="DELIMITED"})(Gy||(Gy={}));var rm;(function(h){h[h.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",h[h.ALLOW=1]="ALLOW",h[h.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(rm||(rm={}));var $y;(function(h){h[h.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",h[h.STYLE2024=1]="STYLE2024",h[h.STYLE_LEGACY=2]="STYLE_LEGACY"})($y||($y={}));var Hy;(function(h){h[h.NONE=0]="NONE",h[h.SET=1]="SET",h[h.ALIAS=2]="ALIAS"})(Hy||(Hy={}));var Wy;(function(h){h[h.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",h[h.EDITION_LEGACY=900]="EDITION_LEGACY",h[h.EDITION_PROTO2=998]="EDITION_PROTO2",h[h.EDITION_PROTO3=999]="EDITION_PROTO3",h[h.EDITION_2023=1e3]="EDITION_2023",h[h.EDITION_2024=1001]="EDITION_2024",h[h.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",h[h.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",h[h.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",h[h.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",h[h.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",h[h.EDITION_MAX=2147483647]="EDITION_MAX"})(Wy||(Wy={}));var Yy;(function(h){h[h.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",h[h.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",h[h.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(Yy||(Yy={}));const qy={readUnknownFields:!0};function M1(h){return h?Object.assign(Object.assign({},qy),h):qy}function Pi(h,o,f){const v=Xt(h,void 0,!1);return Ky(v,new ke(o),M1(f),!1,o.byteLength),v.message}function Ky(h,o,f,v,A){var O;const L=v?o.len:o.pos+A;let V,q;const te=(O=h.getUnknown())!==null&&O!==void 0?O:[];for(;o.pos<L&&([V,q]=o.tag(),!(v&&q==Ye.EndGroup));){const ce=h.findNumber(V);if(!ce){const Re=o.skip(q,V);f.readUnknownFields&&te.push({no:V,wireType:q,data:Re});continue}Xy(h,o,ce,q,f)}if(v&&(q!=Ye.EndGroup||V!==A))throw new Error("invalid end group tag");te.length>0&&h.setUnknown(te)}function Xy(h,o,f,v,A){var O;switch(f.fieldKind){case"scalar":h.set(f,Xa(o,f.scalar));break;case"enum":const L=Xa(o,c.INT32);if(f.enum.open)h.set(f,L);else if(f.enum.values.some(q=>q.number===L))h.set(f,L);else if(A.readUnknownFields){const q=[];N(L,q);const te=(O=h.getUnknown())!==null&&O!==void 0?O:[];te.push({no:f.number,wireType:v,data:new Uint8Array(q)}),h.setUnknown(te)}break;case"message":h.set(f,om(o,A,f,h.get(f)));break;case"list":Cf(o,v,h.get(f),A);break;case"map":im(o,h.get(f),A);break}}function im(h,o,f){const v=o.field();let A,O;const L=h.uint32(),V=h.pos+L;for(;h.pos<V;){const[q]=h.tag();switch(q){case 1:A=Xa(h,v.mapKey);break;case 2:switch(v.mapKind){case"scalar":O=Xa(h,v.scalar);break;case"enum":O=h.int32();break;case"message":O=om(h,f,v);break}break}}if(A===void 0&&(A=$(v.mapKey,!1)),O===void 0)switch(v.mapKind){case"scalar":O=$(v.scalar,!1);break;case"enum":O=v.enum.values[0].number;break;case"message":O=Xt(v.message,void 0,!1);break}o.set(A,O)}function Cf(h,o,f,v){var A;const O=f.field();if(O.listKind==="message"){f.add(om(h,v,O));return}const L=(A=O.scalar)!==null&&A!==void 0?A:c.INT32;if(!(o==Ye.LengthDelimited&&L!=c.STRING&&L!=c.BYTES)){f.add(Xa(h,L));return}const q=h.uint32()+h.pos;for(;h.pos<q;)f.add(Xa(h,L))}function om(h,o,f,v){const A=f.delimitedEncoding,O=v??Xt(f.message,void 0,!1);return Ky(O,h,o,A,A?f.number:h.uint32()),O}function Xa(h,o){switch(o){case c.STRING:return h.string();case c.BOOL:return h.bool();case c.DOUBLE:return h.double();case c.FLOAT:return h.float();case c.INT32:return h.int32();case c.INT64:return h.int64();case c.UINT64:return h.uint64();case c.FIXED64:return h.fixed64();case c.BYTES:return h.bytes();case c.FIXED32:return h.fixed32();case c.SFIXED32:return h.sfixed32();case c.SFIXED64:return h.sfixed64();case c.SINT64:return h.sint64();case c.UINT32:return h.uint32();case c.SINT32:return h.sint32()}}function Ao(h,o){var f;const v=Pi(D1,Hg(h));return v.messageType.forEach(mf),v.dependency=(f=o==null?void 0:o.map(O=>O.proto.name))!==null&&f!==void 0?f:[],Yg(v,O=>o==null?void 0:o.find(L=>L.proto.name===O)).getFile(v.name)}const Zy=Ao("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function Jy(h){return new Date(Qy(h))}function Qy(h){return Number(h.seconds)*1e3+Math.round(h.nanos/1e6)}const zu=Ao("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),ex=Ao("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),P1=Pt(ex,0),L1=3,sm={writeUnknownFields:!0};function tx(h){return h?Object.assign(Object.assign({},sm),h):sm}function Li(h,o,f){return Xs(new un,tx(f),Xt(h,o)).finish()}function Xs(h,o,f){var v;for(const A of f.sortedFields){if(!f.isSet(A)){if(A.presence==L1)throw new Error(`cannot encode ${A} to binary: required field not set`);continue}nx(h,o,f,A)}if(o.writeUnknownFields)for(const{no:A,wireType:O,data:L}of(v=f.getUnknown())!==null&&v!==void 0?v:[])h.tag(A,O).raw(L);return h}function nx(h,o,f,v){var A;switch(v.fieldKind){case"scalar":case"enum":Za(h,f.desc.typeName,v.name,(A=v.scalar)!==null&&A!==void 0?A:c.INT32,v.number,f.get(v));break;case"list":rx(h,o,v,f.get(v));break;case"message":am(h,o,v,f.get(v));break;case"map":for(const[O,L]of f.get(v))lm(h,o,v,O,L);break}}function Za(h,o,f,v,A,O){jh(h.tag(A,ix(v)),o,f,v,O)}function am(h,o,f,v){f.delimitedEncoding?Xs(h.tag(f.number,Ye.StartGroup),o,v).tag(f.number,Ye.EndGroup):Xs(h.tag(f.number,Ye.LengthDelimited).fork(),o,v).join()}function rx(h,o,f,v){var A;if(f.listKind=="message"){for(const L of v)am(h,o,f,L);return}const O=(A=f.scalar)!==null&&A!==void 0?A:c.INT32;if(f.packed){if(!v.size)return;h.tag(f.number,Ye.LengthDelimited).fork();for(const L of v)jh(h,f.parent.typeName,f.name,O,L);h.join();return}for(const L of v)Za(h,f.parent.typeName,f.name,O,f.number,L)}function lm(h,o,f,v,A){var O;switch(h.tag(f.number,Ye.LengthDelimited).fork(),Za(h,f.parent.typeName,f.name,f.mapKey,1,v),f.mapKind){case"scalar":case"enum":Za(h,f.parent.typeName,f.name,(O=f.scalar)!==null&&O!==void 0?O:c.INT32,2,A);break;case"message":Xs(h.tag(2,Ye.LengthDelimited).fork(),o,A).join();break}h.join()}function jh(h,o,f,v,A){try{switch(v){case c.STRING:h.string(A);break;case c.BOOL:h.bool(A);break;case c.DOUBLE:h.double(A);break;case c.FLOAT:h.float(A);break;case c.INT32:h.int32(A);break;case c.INT64:h.int64(A);break;case c.UINT64:h.uint64(A);break;case c.FIXED64:h.fixed64(A);break;case c.BYTES:h.bytes(A);break;case c.FIXED32:h.fixed32(A);break;case c.SFIXED32:h.sfixed32(A);break;case c.SFIXED64:h.sfixed64(A);break;case c.SINT64:h.sint64(A);break;case c.UINT32:h.uint32(A);break;case c.SINT32:h.sint32(A);break}}catch(O){throw O instanceof Error?new Error(`cannot encode field ${o}.${f} to binary: ${O.message}`):O}}function ix(h){switch(h){case c.BYTES:case c.STRING:return Ye.LengthDelimited;case c.DOUBLE:case c.FIXED64:case c.SFIXED64:return Ye.Bit64;case c.FIXED32:case c.SFIXED32:case c.FLOAT:return Ye.Bit32;default:return Ye.Varint}}function ox(h,o,f){let v=!1;return f||(f=J(P1),v=!0),f.value=Li(h,o),f.typeUrl=k1(o.$typeName),v?f:void 0}function sx(h,o){if(h.typeUrl==="")return!1;const f=typeof o=="string"?o:o.typeName,v=ax(h.typeUrl);return f===v}function F1(h,o){if(h.typeUrl==="")return;const f=o.kind=="message"?o:o.getMessage(ax(h.typeUrl));if(!(!f||!sx(h,f)))return Pi(f,h.value)}function k1(h){return`type.googleapis.com/${h}`}function ax(h){const o=h.lastIndexOf("/"),f=o>=0?h.substring(o+1):h;if(!f.length)throw new Error(`invalid type url: ${h}`);return f}const um=Ao("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),B1=Pt(um,0),ii=Pt(um,1),wf=Pt(um,2);var zh;(function(h){h[h.NULL_VALUE=0]="NULL_VALUE"})(zh||(zh={}));const lx=Ao("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function ux(h,o){Ja(o,h);const f=cm(h.$unknown,o),[v,A,O]=Uh(o);for(const L of f)Xy(v,new ke(L.data),A,L.wireType,{readUnknownFields:!0});return O()}function cx(h,o,f){var v;Ja(o,h);const A=((v=h.$unknown)!==null&&v!==void 0?v:[]).filter(te=>te.no!==o.number),[O,L]=Uh(o,f),V=new un;nx(V,{writeUnknownFields:!0},O,L);const q=new ke(V.finish());for(;q.pos<q.len;){const[te,ce]=q.tag(),Re=q.skip(ce,te);A.push({no:te,wireType:ce,data:Re})}h.$unknown=A}function cm(h,o){if(h===void 0)return[];if(o.fieldKind==="enum"||o.fieldKind==="scalar"){for(let f=h.length-1;f>=0;--f)if(h[f].no==o.number)return[h[f]];return[]}return h.filter(f=>f.no===o.number)}function Uh(h,o){const f=h.typeName,v=Object.assign(Object.assign({},h),{kind:"field",parent:h.extendee,localName:f}),A=Object.assign(Object.assign({},h.extendee),{fields:[v],members:[v],oneofs:[]}),O=J(A,o!==void 0?{[f]:o}:void 0);return[Xt(A,O),v,()=>{const L=O[f];if(L===void 0){const V=h.message;return U(V)?$(V.fields[0].scalar,V.fields[0].longAsString):J(V)}return L}]}function Ja(h,o){if(h.extendee.typeName!=o.$typeName)throw new Error(`extension ${h.typeName} can only be applied to message ${h.extendee.typeName}`)}const fm=3,Rf=2,Vh={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function fx(h){return h?Object.assign(Object.assign({},Vh),h):Vh}function Qa(h,o,f){return el(Xt(h,o),fx(f))}function Uu(h,o,f){var v;const A=Qa(h,o,f);return JSON.stringify(A,null,(v=f==null?void 0:f.prettySpaces)!==null&&v!==void 0?v:0)}function el(h,o){var f;const v=z1(h,o);if(v!==void 0)return v;const A={};for(const O of h.sortedFields){if(!h.isSet(O)){if(O.presence==fm)throw new Error(`cannot encode ${O} to JSON: required field not set`);if(!o.alwaysEmitImplicit||O.presence!==Rf)continue}const L=dm(O,h.get(O),o);L!==void 0&&(A[j1(O,o)]=L)}if(o.registry){const O=new Set;for(const{no:L}of(f=h.getUnknown())!==null&&f!==void 0?f:[])if(!O.has(L)){O.add(L);const V=o.registry.getExtensionFor(h.desc,L);if(!V)continue;const q=ux(h.message,V),[te,ce]=Uh(V,q),Re=dm(ce,te.get(ce),o);Re!==void 0&&(A[V.jsonName]=Re)}}return A}function dm(h,o,f){switch(h.fieldKind){case"scalar":return Tf(h,o);case"message":return el(o,f);case"enum":return Gh(h.enum,o,f.enumAsInteger);case"list":return dx(o,f);case"map":return tl(o,f)}}function tl(h,o){const f=h.field(),v={};switch(f.mapKind){case"scalar":for(const[A,O]of h)v[A]=Tf(f,O);break;case"message":for(const[A,O]of h)v[A]=el(O,o);break;case"enum":for(const[A,O]of h)v[A]=Gh(f.enum,O,o.enumAsInteger);break}return o.alwaysEmitImplicit||h.size>0?v:void 0}function dx(h,o){const f=h.field(),v=[];switch(f.listKind){case"scalar":for(const A of h)v.push(Tf(f,A));break;case"enum":for(const A of h)v.push(Gh(f.enum,A,o.enumAsInteger));break;case"message":for(const A of h)v.push(el(A,o));break}return o.alwaysEmitImplicit||v.length>0?v:void 0}function Gh(h,o,f){var v;if(typeof o!="number")throw new Error(`cannot encode ${h} to JSON: expected number, got ${it(o)}`);if(h.typeName=="google.protobuf.NullValue")return null;if(f)return o;const A=h.value[o];return(v=A==null?void 0:A.name)!==null&&v!==void 0?v:o}function Tf(h,o){var f,v,A,O,L,V;switch(h.scalar){case c.INT32:case c.SFIXED32:case c.SINT32:case c.FIXED32:case c.UINT32:if(typeof o!="number")throw new Error(`cannot encode ${h} to JSON: ${(f=Mt(h,o))===null||f===void 0?void 0:f.message}`);return o;case c.FLOAT:case c.DOUBLE:if(typeof o!="number")throw new Error(`cannot encode ${h} to JSON: ${(v=Mt(h,o))===null||v===void 0?void 0:v.message}`);return Number.isNaN(o)?"NaN":o===Number.POSITIVE_INFINITY?"Infinity":o===Number.NEGATIVE_INFINITY?"-Infinity":o;case c.STRING:if(typeof o!="string")throw new Error(`cannot encode ${h} to JSON: ${(A=Mt(h,o))===null||A===void 0?void 0:A.message}`);return o;case c.BOOL:if(typeof o!="boolean")throw new Error(`cannot encode ${h} to JSON: ${(O=Mt(h,o))===null||O===void 0?void 0:O.message}`);return o;case c.UINT64:case c.FIXED64:case c.INT64:case c.SFIXED64:case c.SINT64:if(typeof o!="bigint"&&typeof o!="string")throw new Error(`cannot encode ${h} to JSON: ${(L=Mt(h,o))===null||L===void 0?void 0:L.message}`);return o.toString();case c.BYTES:if(o instanceof Uint8Array)return yy(o);throw new Error(`cannot encode ${h} to JSON: ${(V=Mt(h,o))===null||V===void 0?void 0:V.message}`)}}function j1(h,o){return o.useProtoFieldName?h.name:h.jsonName}function z1(h,o){if(h.desc.typeName.startsWith("google.protobuf."))switch(h.desc.typeName){case"google.protobuf.Any":return U1(h.message,o);case"google.protobuf.Timestamp":return Fi(h.message);case"google.protobuf.Duration":return hx(h.message);case"google.protobuf.FieldMask":return px(h.message);case"google.protobuf.Struct":return $h(h.message);case"google.protobuf.Value":return xi(h.message);case"google.protobuf.ListValue":return hm(h.message);default:if(U(h.desc)){const f=h.desc.fields[0];return Tf(f,h.get(f))}return}}function U1(h,o){if(h.typeUrl==="")return{};const{registry:f}=o;let v,A;if(f&&(v=F1(h,f),v&&(A=f.getMessage(v.$typeName))),!A||!v)throw new Error(`cannot encode message ${h.$typeName} to JSON: "${h.typeUrl}" is not in the type registry`);let O=el(Xt(A,v),o);return(A.typeName.startsWith("google.protobuf.")||O===null||Array.isArray(O)||typeof O!="object")&&(O={value:O}),O["@type"]=h.typeUrl,O}function hx(h){const o=Number(h.seconds),f=h.nanos;if(o>315576e6||o<-315576e6)throw new Error(`cannot encode message ${h.$typeName} to JSON: value out of range`);if(o>0&&f<0||o<0&&f>0)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos sign must match seconds sign`);let v=h.seconds.toString();if(f!==0){let A=Math.abs(f).toString();A="0".repeat(9-A.length)+A,A.substring(3)==="000000"?A=A.substring(0,3):A.substring(6)==="000"&&(A=A.substring(0,6)),v+="."+A,f<0&&o==0&&(v="-"+v)}return v+"s"}function px(h){return h.paths.map(o=>{if(o.match(/_[0-9]?_/g)||o.match(/[A-Z]/g))throw new Error(`cannot encode message ${h.$typeName} to JSON: lowerCamelCase of path name "`+o+'" is irreversible');return Wa(o)}).join(",")}function $h(h){const o={};for(const[f,v]of Object.entries(h.fields))o[f]=xi(v);return o}function xi(h){switch(h.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(h.kind.value))throw new Error(`${h.$typeName} cannot be NaN or Infinity`);return h.kind.value;case"boolValue":return h.kind.value;case"stringValue":return h.kind.value;case"structValue":return $h(h.kind.value);case"listValue":return hm(h.kind.value);default:throw new Error(`${h.$typeName} must have a value`)}}function hm(h){return h.values.map(xi)}function Fi(h){const o=Number(h.seconds)*1e3;if(o<Date.parse("0001-01-01T00:00:00Z")||o>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${h.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(h.nanos<0)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos must not be negative`);if(h.nanos>999999999)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos must not be greater than 99999999`);let f="Z";if(h.nanos>0){const v=(h.nanos+1e9).toString().substring(1);v.substring(3)==="000000"?f="."+v.substring(0,3)+"Z":v.substring(6)==="000"?f="."+v.substring(0,6)+"Z":f="."+v+"Z"}return new Date(o).toISOString().replace(".000Z",f)}const bi={ignoreUnknownFields:!1};function Vu(h){return h?Object.assign(Object.assign({},bi),h):bi}function pm(h,o,f){return Hh(h,gm(o,h.typeName),f)}function Hh(h,o,f){const v=Xt(h);try{is(v,o,Vu(f))}catch(A){throw me(A)?new Error(`cannot decode ${A.field()} from JSON: ${A.message}`,{cause:A}):A}return v.message}function is(h,o,f){var v;if(mm(h,o,f))return;if(o==null||Array.isArray(o)||typeof o!="object")throw new Error(`cannot decode ${h.desc} from JSON: ${it(o)}`);const A=new Map,O=new Map;for(const L of h.desc.fields)O.set(L.name,L).set(L.jsonName,L);for(const[L,V]of Object.entries(o)){const q=O.get(L);if(q){if(q.oneof){if(V===null&&q.fieldKind=="scalar")continue;const te=A.get(q.oneof);if(te!==void 0)throw new gt(q.oneof,`oneof set multiple times by ${te.name} and ${q.name}`);A.set(q.oneof,q)}Wh(h,q,V,f)}else{let te;if(L.startsWith("[")&&L.endsWith("]")&&(te=(v=f.registry)===null||v===void 0?void 0:v.getExtension(L.substring(1,L.length-1)))&&te.extendee.typeName===h.desc.typeName){const[ce,Re,Be]=Uh(te);Wh(ce,Re,V,f),cx(h.message,te,Be())}if(!te&&!f.ignoreUnknownFields)throw new Error(`cannot decode ${h.desc} from JSON: key "${L}" is unknown`)}}}function Wh(h,o,f,v){switch(o.fieldKind){case"scalar":V1(h,o,f);break;case"enum":$u(h,o,f,v);break;case"message":Yh(h,o,f,v);break;case"list":gx(h.get(o),f,v);break;case"map":Gu(h.get(o),f,v);break}}function Gu(h,o,f){if(o===null)return;const v=h.field();if(typeof o!="object"||Array.isArray(o))throw new gt(v,"expected object, got "+it(o));for(const[A,O]of Object.entries(o)){if(O===null)throw new gt(v,"map value must not be null");let L;switch(v.mapKind){case"message":const q=Xt(v.message);is(q,O,f),L=q;break;case"enum":if(L=Nf(v.enum,O,f.ignoreUnknownFields,!0),L===zr)return;break;case"scalar":L=_f(v,O,!0);break}const V=qh(v.mapKey,A);h.set(V,L)}}function gx(h,o,f){if(o===null)return;const v=h.field();if(!Array.isArray(o))throw new gt(v,"expected Array, got "+it(o));for(const A of o){if(A===null)throw new gt(v,"list item must not be null");switch(v.listKind){case"message":const O=Xt(v.message);is(O,A,f),h.add(O);break;case"enum":const L=Nf(v.enum,A,f.ignoreUnknownFields,!0);L!==zr&&h.add(L);break;case"scalar":h.add(_f(v,A,!0));break}}}function Yh(h,o,f,v){if(f===null&&o.message.typeName!="google.protobuf.Value"){h.clear(o);return}const A=h.isSet(o)?h.get(o):Xt(o.message);is(A,f,v),h.set(o,A)}function $u(h,o,f,v){const A=Nf(o.enum,f,v.ignoreUnknownFields,!1);A===ki?h.clear(o):A!==zr&&h.set(o,A)}function V1(h,o,f){const v=_f(o,f,!1);v===ki?h.clear(o):h.set(o,v)}const zr=Symbol();function Nf(h,o,f,v){if(o===null)return h.typeName=="google.protobuf.NullValue"?0:v?h.values[0].number:ki;switch(typeof o){case"number":if(Number.isInteger(o))return o;break;case"string":const A=h.values.find(O=>O.name===o);if(A!==void 0)return A.number;if(f)return zr;break}throw new Error(`cannot decode ${h} from JSON: ${it(o)}`)}const ki=Symbol();function _f(h,o,f){if(o===null)return f?$(h.scalar,!1):ki;switch(h.scalar){case c.DOUBLE:case c.FLOAT:if(o==="NaN")return NaN;if(o==="Infinity")return Number.POSITIVE_INFINITY;if(o==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof o=="number"){if(Number.isNaN(o))throw new gt(h,"unexpected NaN number");if(!Number.isFinite(o))throw new gt(h,"unexpected infinite number");break}if(typeof o=="string"){if(o===""||o.trim().length!==o.length)break;const v=Number(o);if(!Number.isFinite(v))break;return v}break;case c.INT32:case c.FIXED32:case c.SFIXED32:case c.SINT32:case c.UINT32:return Zs(o);case c.BYTES:if(typeof o=="string"){if(o==="")return new Uint8Array(0);try{return Hg(o)}catch(v){const A=v instanceof Error?v.message:String(v);throw new gt(h,A)}}break}return o}function qh(h,o){switch(h){case c.BOOL:switch(o){case"true":return!0;case"false":return!1}return o;case c.INT32:case c.FIXED32:case c.UINT32:case c.SFIXED32:case c.SINT32:return Zs(o);default:return o}}function Zs(h){if(typeof h=="string"){if(h===""||h.trim().length!==h.length)return h;const o=Number(h);return Number.isNaN(o)?h:o}return h}function gm(h,o){try{return JSON.parse(h)}catch(f){const v=f instanceof Error?f.message:String(f);throw new Error(`cannot decode message ${o} from JSON: ${v}`,{cause:f})}}function mm(h,o,f){if(!h.desc.typeName.startsWith("google.protobuf."))return!1;switch(h.desc.typeName){case"google.protobuf.Any":return Hu(h.message,o,f),!0;case"google.protobuf.Timestamp":return Wu(h.message,o),!0;case"google.protobuf.Duration":return Kh(h.message,o),!0;case"google.protobuf.FieldMask":return Xh(h.message,o),!0;case"google.protobuf.Struct":return Si(h.message,o),!0;case"google.protobuf.Value":return oi(h.message,o),!0;case"google.protobuf.ListValue":return Js(h.message,o),!0;default:if(U(h.desc)){const v=h.desc.fields[0];return o===null?h.clear(v):h.set(v,_f(v,o,!0)),!0}return!1}}function Hu(h,o,f){var v;if(o===null||Array.isArray(o)||typeof o!="object")throw new Error(`cannot decode message ${h.$typeName} from JSON: expected object but got ${it(o)}`);if(Object.keys(o).length==0)return;const A=o["@type"];if(typeof A!="string"||A=="")throw new Error(`cannot decode message ${h.$typeName} from JSON: "@type" is empty`);const O=A.includes("/")?A.substring(A.lastIndexOf("/")+1):A;if(!O.length)throw new Error(`cannot decode message ${h.$typeName} from JSON: "@type" is invalid`);const L=(v=f.registry)===null||v===void 0?void 0:v.getMessage(O);if(!L)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${A} is not in the type registry`);const V=Xt(L);if(O.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(o,"value")){const q=o.value;is(V,q,f)}else{const q=Object.assign({},o);delete q["@type"],is(V,q,f)}ox(V.desc,V.message,h)}function Wu(h,o){if(typeof o!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${it(o)}`);const f=o.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!f)throw new Error(`cannot decode message ${h.$typeName} from JSON: invalid RFC 3339 string`);const v=Date.parse(f[1]+"-"+f[2]+"-"+f[3]+"T"+f[4]+":"+f[5]+":"+f[6]+(f[8]?f[8]:"Z"));if(Number.isNaN(v))throw new Error(`cannot decode message ${h.$typeName} from JSON: invalid RFC 3339 string`);if(v<Date.parse("0001-01-01T00:00:00Z")||v>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${h.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);h.seconds=F.parse(v/1e3),h.nanos=0,f[7]&&(h.nanos=parseInt("1"+f[7]+"0".repeat(9-f[7].length))-1e9)}function Kh(h,o){if(typeof o!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${it(o)}`);const f=o.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(f===null)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${it(o)}`);const v=Number(f[1]);if(v>315576e6||v<-315576e6)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${it(o)}`);if(h.seconds=F.parse(v),typeof f[2]!="string")return;const A=f[2]+"0".repeat(9-f[2].length);h.nanos=parseInt(A),(v<0||Object.is(v,-0))&&(h.nanos=-h.nanos)}function Xh(h,o){if(typeof o!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${it(o)}`);if(o==="")return;function f(v){if(v.includes("_"))throw new Error(`cannot decode message ${h.$typeName} from JSON: path names must be lowerCamelCase`);const A=v.replace(/[A-Z]/g,O=>"_"+O.toLowerCase());return A[0]==="_"?A.substring(1):A}h.paths=o.split(",").map(f)}function Si(h,o){if(typeof o!="object"||o==null||Array.isArray(o))throw new Error(`cannot decode message ${h.$typeName} from JSON ${it(o)}`);for(const[f,v]of Object.entries(o)){const A=J(ii);oi(A,v),h.fields[f]=A}}function oi(h,o){switch(typeof o){case"number":h.kind={case:"numberValue",value:o};break;case"string":h.kind={case:"stringValue",value:o};break;case"boolean":h.kind={case:"boolValue",value:o};break;case"object":if(o===null)h.kind={case:"nullValue",value:zh.NULL_VALUE};else if(Array.isArray(o)){const f=J(wf);Js(f,o),h.kind={case:"listValue",value:f}}else{const f=J(B1);Si(f,o),h.kind={case:"structValue",value:f}}break;default:throw new Error(`cannot decode message ${h.$typeName} from JSON ${it(o)}`)}return h}function Js(h,o){if(!Array.isArray(o))throw new Error(`cannot decode message ${h.$typeName} from JSON ${it(o)}`);for(const f of o){const v=J(ii);oi(v,f),h.values.push(v)}}function Eo(h){const o=l[h];return typeof o!="string"?h.toString():o[0].toLowerCase()+o.substring(1).replace(/[A-Z]/g,f=>"_"+f.toLowerCase())}class Zt extends Error{constructor(o,f=l.Unknown,v,A,O){super(nl(o,f)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=o,this.code=f,this.metadata=new Headers(v??{}),this.details=A??[],this.cause=O}static from(o,f=l.Unknown){return o instanceof Zt?o:o instanceof Error?o.name=="AbortError"||o.name=="TimeoutError"?new Zt(o.message,l.Canceled):new Zt(o.message,f,void 0,void 0,o):new Zt(String(o),f,void 0,void 0,o)}static[Symbol.hasInstance](o){return o instanceof Error?Object.getPrototypeOf(o)===Zt.prototype?!0:o.name==="ConnectError"&&"code"in o&&typeof o.code=="number"&&"metadata"in o&&"details"in o&&Array.isArray(o.details)&&"rawMessage"in o&&typeof o.rawMessage=="string"&&"cause"in o:!1}findDetails(o){const f=o.kind==="message"?{getMessage:A=>A===o.typeName?o:void 0}:o,v=[];for(const A of this.details){if("desc"in A){f.getMessage(A.desc.typeName)&&v.push(J(A.desc,A.value));continue}const O=f.getMessage(A.type);if(O)try{v.push(Pi(O,A.value))}catch{}}return v}}function nl(h,o){return h.length?`[${Eo(o)}] ${h}`:`[${Eo(o)}]`}function mx(h,o,f){try{const v=Hg(h);return o?Pi(o,v,f):v}catch(v){throw Zt.from(v,l.DataLoss)}}function vm(h,o){const f={};for(const v of h.methods){const A=o(v);A!=null&&(f[v.localName]=A)}return f}const Zh=1;function Yr(h,o,f=!1){if(o>h){let v=`message size is larger than configured readMaxBytes ${h}`;throw f&&(v=`message size ${o} is larger than configured readMaxBytes ${h}`),new Zt(v,l.ResourceExhausted)}}function Xn(h){return new hn(h)}class hn{constructor(o){this.readMaxBytes=o,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((o,f)=>o+f.byteLength,0)}decode(o){this.buf.push(o);const f=[];for(;;){let v=this.pop();if(!v)break;f.push(v)}return f}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const o=this.env;return this.env=void 0,o}}head(){if(!this.cons(this.header))return;const o=this.headerView.getUint8(0),f=this.headerView.getUint32(1);return Yr(this.readMaxBytes,f,!0),{flags:o,data:new Uint8Array(f)}}cons(o){const f=o.byteLength;if(this.byteLength<f)return!1;let v=0;for(;v<f;){const A=this.buf.shift();A.byteLength>f-v?(o.set(A.subarray(0,f-v),v),this.buf.unshift(A.subarray(f-v)),v+=f-v):(o.set(A,v),v+=A.byteLength)}return!0}}function Qs(h){let o;const f=Xn(4294967295);return new ReadableStream({start(){o=h.getReader()},async pull(v){let A=!1;for(;!A;){const O=await o.read();if(O.done)f.byteLength>0&&v.error(new Zt("protocol error: incomplete envelope",l.InvalidArgument)),v.close();else for(const L of f.decode(O.value))v.enqueue(L),A=!0}}})}function eo(h,o){const f=new Uint8Array(o.length+5);f.set(o,5);const v=new DataView(f.buffer,f.byteOffset,f.byteLength);return v.setUint8(0,h),v.setUint32(1,o.length),f}var ym=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=h[Symbol.asyncIterator],f;return o?o.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),f={},v("next"),v("throw"),v("return"),f[Symbol.asyncIterator]=function(){return this},f);function v(O){f[O]=h[O]&&function(L){return new Promise(function(V,q){L=h[O](L),A(V,q,L.done,L.value)})}}function A(O,L,V,q){Promise.resolve(q).then(function(te){O({value:te,done:V})},L)}},to=function(h){return this instanceof to?(this.v=h,this):new to(h)},vx=function(h,o,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=f.apply(h,o||[]),A,O=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),V("next"),V("throw"),V("return",L),A[Symbol.asyncIterator]=function(){return this},A;function L(Ne){return function($e){return Promise.resolve($e).then(Ne,Re)}}function V(Ne,$e){v[Ne]&&(A[Ne]=function(We){return new Promise(function(st,wt){O.push([Ne,We,st,wt])>1||q(Ne,We)})},$e&&(A[Ne]=$e(A[Ne])))}function q(Ne,$e){try{te(v[Ne]($e))}catch(We){Be(O[0][3],We)}}function te(Ne){Ne.value instanceof to?Promise.resolve(Ne.value.v).then(ce,Re):Be(O[0][2],Ne)}function ce(Ne){q("next",Ne)}function Re(Ne){q("throw",Ne)}function Be(Ne,$e){Ne($e),O.shift(),O.length&&q(O[0][0],O[0][1])}},yx=function(h){var o,f;return o={},v("next"),v("throw",function(A){throw A}),v("return"),o[Symbol.iterator]=function(){return this},o;function v(A,O){o[A]=h[A]?function(L){return(f=!f)?{value:to(h[A](L)),done:!1}:O?O(L):L}:O}};function If(h){return vx(this,arguments,function*(){yield to(yield*yx(ym(h)))})}var Yu=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=h[Symbol.asyncIterator],f;return o?o.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),f={},v("next"),v("throw"),v("return"),f[Symbol.asyncIterator]=function(){return this},f);function v(O){f[O]=h[O]&&function(L){return new Promise(function(V,q){L=h[O](L),A(V,q,L.done,L.value)})}}function A(O,L,V,q){Promise.resolve(q).then(function(te){O({value:te,done:V})},L)}},rl=function(h){return this instanceof rl?(this.v=h,this):new rl(h)},Of=function(h){var o,f;return o={},v("next"),v("throw",function(A){throw A}),v("return"),o[Symbol.iterator]=function(){return this},o;function v(A,O){o[A]=h[A]?function(L){return(f=!f)?{value:rl(h[A](L)),done:!1}:O?O(L):L}:O}},xm=function(h,o,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=f.apply(h,o||[]),A,O=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),V("next"),V("throw"),V("return",L),A[Symbol.asyncIterator]=function(){return this},A;function L(Ne){return function($e){return Promise.resolve($e).then(Ne,Re)}}function V(Ne,$e){v[Ne]&&(A[Ne]=function(We){return new Promise(function(st,wt){O.push([Ne,We,st,wt])>1||q(Ne,We)})},$e&&(A[Ne]=$e(A[Ne])))}function q(Ne,$e){try{te(v[Ne]($e))}catch(We){Be(O[0][3],We)}}function te(Ne){Ne.value instanceof rl?Promise.resolve(Ne.value.v).then(ce,Re):Be(O[0][2],Ne)}function ce(Ne){q("next",Ne)}function Re(Ne){q("throw",Ne)}function Be(Ne,$e){Ne($e),O.shift(),O.length&&q(O[0][0],O[0][1])}};function il(h,o){return vm(h,f=>{switch(f.methodKind){case"unary":return os(o,f);case"server_streaming":return ea(o,f);case"client_streaming":return ss(o,f);case"bidi_streaming":return bm(o,f);default:return null}})}function os(h,o){return async(f,v)=>{var A,O;const L=await h.unary(o,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,f,v==null?void 0:v.contextValues);return(A=v==null?void 0:v.onHeader)===null||A===void 0||A.call(v,L.header),(O=v==null?void 0:v.onTrailer)===null||O===void 0||O.call(v,L.trailer),L.message}}function ea(h,o){return(f,v)=>Jh(h.stream(o,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,If([f]),v==null?void 0:v.contextValues),v)}function ss(h,o){return async(f,v)=>{var A,O,L,V,q,te;const ce=await h.stream(o,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,f,v==null?void 0:v.contextValues);(q=v==null?void 0:v.onHeader)===null||q===void 0||q.call(v,ce.header);let Re,Be=0;try{for(var Ne=!0,$e=Yu(ce.message),We;We=await $e.next(),A=We.done,!A;Ne=!0)V=We.value,Ne=!1,Re=V,Be++}catch(st){O={error:st}}finally{try{!Ne&&!A&&(L=$e.return)&&await L.call($e)}finally{if(O)throw O.error}}if(!Re)throw new Zt("protocol error: missing response message",l.Unimplemented);if(Be>1)throw new Zt("protocol error: received extra messages for client streaming method",l.Unimplemented);return(te=v==null?void 0:v.onTrailer)===null||te===void 0||te.call(v,ce.trailer),Re}}function bm(h,o){return(f,v)=>Jh(h.stream(o,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,f,v==null?void 0:v.contextValues),v)}function Jh(h,o){const f=function(){return xm(this,arguments,function*(){var v,A;const O=yield rl(h);(v=o==null?void 0:o.onHeader)===null||v===void 0||v.call(o,O.header),yield rl(yield*Of(Yu(O.message))),(A=o==null?void 0:o.onTrailer)===null||A===void 0||A.call(o,O.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>f.next()})}}function Df(...h){const o=new AbortController,f=h.filter(A=>A!==void 0).concat(o.signal);for(const A of f){if(A.aborted){v.apply(A);break}A.addEventListener("abort",v)}function v(){o.signal.aborted||o.abort(ta(this));for(const A of f)A.removeEventListener("abort",v)}return o}function Qh(h){const o=new AbortController,f=()=>{o.abort(new Zt("the operation timed out",l.DeadlineExceeded))};let v;return h!==void 0&&(h<=0?f():v=setTimeout(f,h)),{signal:o.signal,cleanup:()=>clearTimeout(v)}}function ta(h){if(!h.aborted)return;if(h.reason!==void 0)return h.reason;const o=new Error("This operation was aborted");return o.name="AbortError",o}function Ar(){return{get(h){return h.id in this?this[h.id]:h.defaultValue},set(h,o){return this[h.id]=o,this},delete(h){return delete this[h.id],this}}}const qu=128;function Sm(h){const o=new Headers,f=new TextDecoder().decode(h).split(`\r
`);for(const v of f){if(v==="")continue;const A=v.indexOf(":");if(A>0){const O=v.substring(0,A).trim(),L=v.substring(A+1).trim();o.append(O,L)}}return o}const G1="Content-Type",$1="Grpc-Timeout",Ku="Grpc-Status",ar="Grpc-Message",Am="Grpc-Status-Details-Bin",Mf="User-Agent",Xu="X-User-Agent",Em="X-Grpc-Web",Zu="application/grpc-web+proto",Ju="application/grpc-web+json";function H1(h,o,...f){if(f.length>0)throw new Error;return h.services[o]}const Y1=Pt(Ao("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[ex]),0),xx="0";function na(h){var o;const f=h.get(Am);if(f!=null){const A=mx(f,Y1);if(A.code==0)return;const O=new Zt(A.message,A.code,h);return O.details=A.details.map(L=>({type:L.typeUrl.substring(L.typeUrl.lastIndexOf("/")+1),value:L.value})),O}const v=h.get(Ku);if(v!=null){if(v===xx)return;const A=parseInt(v,10);return A in l?new Zt(decodeURIComponent((o=h.get(ar))!==null&&o!==void 0?o:""),A,h):new Zt(`invalid grpc-status: ${v}`,l.Internal,h)}}function ep(h,o){return h.toString().replace(/\/?$/,`/${o.parent.typeName}/${o.name}`)}function Pf(h,o){return J(h,o)}function bx(h,o){function f(v){return v.done===!0?v:{done:v.done,value:Pf(h,v.value)}}return{[Symbol.asyncIterator](){const v=o[Symbol.asyncIterator](),A={next:()=>v.next().then(f)};return v.throw!==void 0&&(A.throw=O=>v.throw(O).then(f)),v.return!==void 0&&(A.return=O=>v.return(O).then(f)),A}}}function Qu(h,o){if(!o)return h;for(const f of o.concat().reverse())h=f(h);return h}function Sx(h){var o;const f=Object.assign({},h);return(o=f.ignoreUnknownFields)!==null&&o!==void 0||(f.ignoreUnknownFields=!0),f}function Lf(h,o,f,v){const A=o?tp(h.input,v):Cm(h.input,f);return{parse:(o?tp(h.output,v):Cm(h.output,f)).parse,serialize:A.serialize}}function tp(h,o){return{parse(f){try{return Pi(h,f,o)}catch(v){const A=v instanceof Error?v.message:String(v);throw new Zt(`parse binary: ${A}`,l.Internal)}},serialize(f){try{return Li(h,f,o)}catch(v){const A=v instanceof Error?v.message:String(v);throw new Zt(`serialize binary: ${A}`,l.Internal)}}}}function Cm(h,o){var f,v;const A=(f=o==null?void 0:o.textEncoder)!==null&&f!==void 0?f:new TextEncoder,O=(v=o==null?void 0:o.textDecoder)!==null&&v!==void 0?v:new TextDecoder,L=Sx(o);return{parse(V){try{const q=O.decode(V);return pm(h,q,L)}catch(q){throw Zt.from(q,l.InvalidArgument)}},serialize(V){try{const q=Uu(h,V,L);return A.encode(q)}catch(q){throw Zt.from(q,l.Internal)}}}}function np(h){const o=Qu(h.next,h.interceptors),[f,v,A]=ec(h),O=Object.assign(Object.assign({},h.req),{message:Pf(h.req.method.input,h.req.message),signal:f});return o(O).then(L=>(A(),L),v)}function Ax(h){const o=Qu(h.next,h.interceptors),[f,v,A]=ec(h),O=Object.assign(Object.assign({},h.req),{message:bx(h.req.method.input,h.req.message),signal:f});let L=!1;return f.addEventListener("abort",function(){var V,q;const te=h.req.message[Symbol.asyncIterator]();L||(V=te.throw)===null||V===void 0||V.call(te,this.reason).catch(()=>{}),(q=te.return)===null||q===void 0||q.call(te).catch(()=>{})}),o(O).then(V=>Object.assign(Object.assign({},V),{message:{[Symbol.asyncIterator](){const q=V.message[Symbol.asyncIterator]();return{next(){return q.next().then(te=>(te.done==!0&&(L=!0,A()),te),v)}}}}}),v)}function ec(h){const{signal:o,cleanup:f}=Qh(h.timeoutMs),v=Df(h.signal,o);return[v.signal,function(O){const L=Zt.from(o.aborted?ta(o):O);return v.abort(L),f(),Promise.reject(L)},function(){f(),v.abort()}]}function Ex(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function wm(h,o){const f=na(h);if(f)throw o.forEach((v,A)=>{f.metadata.append(A,v)}),f;if(!o.has(Ku)&&!h.has(Ku))throw new Zt("protocol error: missing status",l.Internal)}function as(h,o,f,v){var A,O;const L=new Headers(f??{});L.set(G1,h?Zu:Ju),L.set(Em,"1");const V=(O=(A=L.get(Mf))!==null&&A!==void 0?A:L.get(Xu))!==null&&O!==void 0?O:"connect-es/2.1.1";return L.set(Xu,V),o!==void 0&&L.set($1,`${o}m`),L}function Rm(h){switch(h){case 400:return l.Internal;case 401:return l.Unauthenticated;case 403:return l.PermissionDenied;case 404:return l.Unimplemented;case 429:return l.Unavailable;case 502:return l.Unavailable;case 503:return l.Unavailable;case 504:return l.Unavailable;default:return l.Unknown}}function rp(h,o){var f;if(h>=200&&h<300)return{foundStatus:o.has(Ku),headerError:na(o)};throw new Zt(decodeURIComponent((f=o.get(ar))!==null&&f!==void 0?f:`HTTP ${h}`),Rm(h),o)}var si=function(h){return this instanceof si?(this.v=h,this):new si(h)},ra=function(h,o,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=f.apply(h,o||[]),A,O=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),V("next"),V("throw"),V("return",L),A[Symbol.asyncIterator]=function(){return this},A;function L(Ne){return function($e){return Promise.resolve($e).then(Ne,Re)}}function V(Ne,$e){v[Ne]&&(A[Ne]=function(We){return new Promise(function(st,wt){O.push([Ne,We,st,wt])>1||q(Ne,We)})},$e&&(A[Ne]=$e(A[Ne])))}function q(Ne,$e){try{te(v[Ne]($e))}catch(We){Be(O[0][3],We)}}function te(Ne){Ne.value instanceof si?Promise.resolve(Ne.value.v).then(ce,Re):Be(O[0][2],Ne)}function ce(Ne){q("next",Ne)}function Re(Ne){q("throw",Ne)}function Be(Ne,$e){Ne($e),O.shift(),O.length&&q(O[0][0],O[0][1])}};const tc={redirect:"error"};function Tm(h){var o;Ex();const f=(o=h.useBinaryFormat)!==null&&o!==void 0?o:!0;return{async unary(v,A,O,L,V,q){const{serialize:te,parse:ce}=Lf(v,f,h.jsonOptions,h.binaryOptions);return O=O===void 0?h.defaultTimeoutMs:O<=0?void 0:O,await np({interceptors:h.interceptors,signal:A,timeoutMs:O,req:{stream:!1,service:v.parent,method:v,requestMethod:"POST",url:ep(h.baseUrl,v),header:as(f,O,L),contextValues:q??Ar(),message:V},next:async Re=>{var Be;const $e=await((Be=h.fetch)!==null&&Be!==void 0?Be:globalThis.fetch)(Re.url,Object.assign(Object.assign({},tc),{method:Re.requestMethod,headers:Re.header,signal:Re.signal,body:eo(0,te(Re.message))})),{headerError:We}=rp($e.status,$e.headers);if(!$e.body)throw We!==void 0?We:"missing response body";const st=Qs($e.body).getReader();let wt,ln;for(;;){const vn=await st.read();if(vn.done)break;const{flags:En,data:Ir}=vn.value;if((En&Zh)===Zh)throw new Zt("protocol error: received unsupported compressed output",l.Internal);if(En===qu){if(wt!==void 0)throw"extra trailer";wt=Sm(Ir);continue}if(ln!==void 0)throw new Zt("extra message",l.Unimplemented);ln=ce(Ir)}if(wt===void 0)throw We!==void 0?We:new Zt("missing trailer",$e.headers.has(Ku)?l.Unimplemented:l.Unknown);if(wm(wt,$e.headers),ln===void 0)throw new Zt("missing message",wt.has(Ku)?l.Unimplemented:l.Unknown);return{stream:!1,service:v.parent,method:v,header:$e.headers,message:ln,trailer:wt}}})},async stream(v,A,O,L,V,q){const{serialize:te,parse:ce}=Lf(v,f,h.jsonOptions,h.binaryOptions);function Re(Ne,$e,We,st,wt){return ra(this,arguments,function*(){const vn=Qs(Ne).getReader();if($e){if(!(yield si(vn.read())).done)throw"extra data for trailers-only";return yield si(void 0)}let En=!1;for(;;){const Ir=yield si(vn.read());if(Ir.done)break;const{flags:gn,data:Hn}=Ir.value;if((gn&qu)===qu){if(En)throw"extra trailer";En=!0;const Wn=Sm(Hn);wm(Wn,st),Wn.forEach((Yn,ho)=>We.set(ho,Yn));continue}if(En)throw"extra message";yield yield si(ce(Hn))}if("throwIfAborted"in wt&&wt.throwIfAborted(),!En)throw"missing trailer"})}async function Be(Ne){if(v.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const $e=await Ne[Symbol.asyncIterator]().next();if($e.done==!0)throw"missing request message";return eo(0,te($e.value))}return O=O===void 0?h.defaultTimeoutMs:O<=0?void 0:O,Ax({interceptors:h.interceptors,signal:A,timeoutMs:O,req:{stream:!0,service:v.parent,method:v,requestMethod:"POST",url:ep(h.baseUrl,v),header:as(f,O,L),contextValues:q??Ar(),message:V},next:async Ne=>{var $e;const st=await(($e=h.fetch)!==null&&$e!==void 0?$e:globalThis.fetch)(Ne.url,Object.assign(Object.assign({},tc),{method:Ne.requestMethod,headers:Ne.header,signal:Ne.signal,body:await Be(Ne.message)})),{foundStatus:wt,headerError:ln}=rp(st.status,st.headers);if(ln!=null)throw ln;if(!st.body)throw"missing response body";const vn=new Headers;return Object.assign(Object.assign({},Ne),{header:st.headers,trailer:vn,message:Re(st.body,wt,vn,st.headers,Ne.signal)})}})}}}const kt=Ao("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIokBCgZNZW1iZXISCgoCaWQYASABKAkSEgoKcHJvamVjdF9pZBgCIAEoCRIPCgd1c2VyX2lkGAMgASgJEhAKCHVzZXJuYW1lGAQgASgJEgwKBHJvbGUYBSABKAkSLgoKaW52aXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAi6QYKB1Byb2plY3QSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRISCgpwdWJsaWNfa2V5GAMgASgJEhIKCnNlY3JldF9rZXkYBCABKAkSGAoQYXV0aF93ZWJob29rX3VybBgFIAEoCRIcChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgGIAMoCRIgChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYESABKAQSJgoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGBIgASgJEiYKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgTIAEoCRIkChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBQgASgJEhkKEWV2ZW50X3dlYmhvb2tfdXJsGAcgASgJEhwKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAggAygJEiEKGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYFSABKAQSJwofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgWIAEoCRInCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBcgASgJEiUKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBggASgJEiMKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgJIAEoCRIaChJzbmFwc2hvdF90aHJlc2hvbGQYGSABKAMSGQoRc25hcHNob3RfaW50ZXJ2YWwYGiABKAMSJAocbWF4X3N1YnNjcmliZXJzX3Blcl9kb2N1bWVudBgKIAEoBRIkChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAsgASgFEh0KFW1heF9zaXplX3Blcl9kb2N1bWVudBgPIAEoBRIYChByZW1vdmVfb25fZGV0YWNoGBAgASgIEh0KFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgbIAEoCBIXCg9hbGxvd2VkX29yaWdpbnMYDiADKAkSLgoKY3JlYXRlZF9hdBgMIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiLwoLTWV0cmljUG9pbnQSEQoJdGltZXN0YW1wGAEgASgDEg0KBXZhbHVlGAIgASgFIqMMChZVcGRhdGFibGVQcm9qZWN0RmllbGRzEioKBG5hbWUYASABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSNgoQYXV0aF93ZWJob29rX3VybBgCIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgDIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkF1dGhXZWJob29rTWV0aG9kcxI+ChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYDCABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRAoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGA0gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkQKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgOIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJCChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GA8gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEWV2ZW50X3dlYmhvb2tfdXJsGAQgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlElIKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAUgASgLMjQueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuRXZlbnRXZWJob29rRXZlbnRzEj8KGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYECABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRQofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgRIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJFCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBIgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkMKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBMgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEnNuYXBzaG90X3RocmVzaG9sZBgUIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEjYKEXNuYXBzaG90X2ludGVydmFsGBUgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDY0VmFsdWUSQQobY2xpZW50X2RlYWN0aXZhdGVfdGhyZXNob2xkGAYgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkEKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYByABKAsyGy5nb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZRJBChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAggASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSOgoVbWF4X3NpemVfcGVyX2RvY3VtZW50GAogASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSNAoQcmVtb3ZlX29uX2RldGFjaBgLIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSOQoVYXV0b19yZXZpc2lvbl9lbmFibGVkGBYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkJvb2xWYWx1ZRJJCg9hbGxvd2VkX29yaWdpbnMYCSABKAsyMC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BbGxvd2VkT3JpZ2lucxolChJBdXRoV2ViaG9va01ldGhvZHMSDwoHbWV0aG9kcxgBIAMoCRokChJFdmVudFdlYmhvb2tFdmVudHMSDgoGZXZlbnRzGAEgAygJGiEKDkFsbG93ZWRPcmlnaW5zEg8KB29yaWdpbnMYASADKAkipwMKD0RvY3VtZW50U3VtbWFyeRIKCgJpZBgBIAEoCRILCgNrZXkYAiABKAkSDAoEcm9vdBgDIAEoCRIYChBhdHRhY2hlZF9jbGllbnRzGAcgASgFEikKDWRvY3VtZW50X3NpemUYCCABKAsyEi55b3JraWUudjEuRG9jU2l6ZRISCgpzY2hlbWFfa2V5GAkgASgJEjwKCXByZXNlbmNlcxgKIAMoCzIpLnlvcmtpZS52MS5Eb2N1bWVudFN1bW1hcnkuUHJlc2VuY2VzRW50cnkSLgoKY3JlYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLwoLYWNjZXNzZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wGkUKDlByZXNlbmNlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZToCOAEi2gEKDlByZXNlbmNlQ2hhbmdlEjIKBHR5cGUYASABKA4yJC55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UuQ2hhbmdlVHlwZRIlCghwcmVzZW5jZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZSJtCgpDaGFuZ2VUeXBlEhsKF0NIQU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASEwoPQ0hBTkdFX1RZUEVfUFVUEAESFgoSQ0hBTkdFX1RZUEVfREVMRVRFEAISFQoRQ0hBTkdFX1RZUEVfQ0xFQVIQAyJkCghQcmVzZW5jZRIrCgRkYXRhGAEgAygLMh0ueW9ya2llLnYxLlByZXNlbmNlLkRhdGFFbnRyeRorCglEYXRhRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASI0Cg5DaGFubmVsU3VtbWFyeRILCgNrZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoBSI0CgpDaGVja3BvaW50EhIKCnNlcnZlcl9zZXEYASABKAMSEgoKY2xpZW50X3NlcRgCIAEoDSJhCgtUZXh0Tm9kZVBvcxIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFEhcKD3JlbGF0aXZlX29mZnNldBgDIAEoBSJCCgpUaW1lVGlja2V0Eg8KB2xhbXBvcnQYASABKAMSEQoJZGVsaW1pdGVyGAIgASgNEhAKCGFjdG9yX2lkGAMgASgMIi4KDERvY0V2ZW50Qm9keRINCgV0b3BpYxgBIAEoCRIPCgdwYXlsb2FkGAIgASgMImsKCERvY0V2ZW50EiUKBHR5cGUYASABKA4yFy55b3JraWUudjEuRG9jRXZlbnRUeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRIlCgRib2R5GAMgASgLMhcueW9ya2llLnYxLkRvY0V2ZW50Qm9keSLWAQoMQ2hhbm5lbEV2ZW50EioKBHR5cGUYASABKA4yHC55b3JraWUudjEuQ2hhbm5lbEV2ZW50LlR5cGUSEQoJcHVibGlzaGVyGAIgASgJEhUKDXNlc3Npb25fY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[Zy,lx]),Ff=Pt(kt,0),kf=Pt(kt,1),Cx=Pt(kt,2),ip=Pt(kt,3),ia=Pt(kt,4),nc=Pt(kt,5),wx=Pt(kt,5,0),Nm=Pt(kt,5,1),_m=Pt(kt,5,2),oa=Pt(kt,5,3),Gt=Pt(kt,5,4),Tn=Pt(kt,5,5),lr=Pt(kt,5,6),op=Pt(kt,5,7),rc=Pt(kt,5,8),ol=Pt(kt,5,9),ls=Pt(kt,6),Ur=Pt(kt,7),ic=Pt(kt,7,0),q1=Pt(kt,7,1),nr=Pt(kt,7,2),Im=Pt(kt,7,3),Om=Pt(kt,7,4),Rx=Pt(kt,7,5),Tx=Pt(kt,8),K1=Pt(kt,9),sp=Pt(kt,10),Dm=Pt(kt,11),Mm=Pt(kt,12),ai=Pt(kt,13),ur=Pt(kt,14),Pm=Pt(kt,15),Bf=Pt(kt,16),jf=Pt(kt,23);var sl=(h=>(h[h.UNSPECIFIED=0]="UNSPECIFIED",h[h.PUT=1]="PUT",h[h.DELETE=2]="DELETE",h[h.CLEAR=3]="CLEAR",h))(sl||{});const us=Pt(kt,24),ap=Pt(kt,26),Lm=Pt(kt,27),Fm=Pt(kt,28);var km=(h=>(h[h.UNSPECIFIED=0]="UNSPECIFIED",h[h.PRESENCE=1]="PRESENCE",h[h.BROADCAST=2]="BROADCAST",h))(km||{}),zt=(h=>(h[h.NULL=0]="NULL",h[h.BOOLEAN=1]="BOOLEAN",h[h.INTEGER=2]="INTEGER",h[h.LONG=3]="LONG",h[h.DOUBLE=4]="DOUBLE",h[h.STRING=5]="STRING",h[h.BYTES=6]="BYTES",h[h.DATE=7]="DATE",h[h.JSON_OBJECT=8]="JSON_OBJECT",h[h.JSON_ARRAY=9]="JSON_ARRAY",h[h.TEXT=10]="TEXT",h[h.INTEGER_CNT=11]="INTEGER_CNT",h[h.LONG_CNT=12]="LONG_CNT",h[h.TREE=13]="TREE",h))(zt||{}),zf=(h=>(h[h.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",h[h.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",h[h.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",h[h.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",h))(zf||{});const Nx=H1(Ao("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayJTCgxXYXRjaFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEjAKCXJlc291cmNlcxgCIAMoCzIdLnlvcmtpZS52MS5SZXNvdXJjZURlc2NyaXB0b3IihAEKElJlc291cmNlRGVzY3JpcHRvchIxCghkb2N1bWVudBgBIAEoCzIdLnlvcmtpZS52MS5Eb2N1bWVudERlc2NyaXB0b3JIABIvCgdjaGFubmVsGAIgASgLMhwueW9ya2llLnYxLkNoYW5uZWxEZXNjcmlwdG9ySABCCgoIcmVzb3VyY2UiKQoSRG9jdW1lbnREZXNjcmlwdG9yEhMKC2RvY3VtZW50X2lkGAEgASgJIigKEUNoYW5uZWxEZXNjcmlwdG9yEhMKC2NoYW5uZWxfa2V5GAEgASgJInkKDVdhdGNoUmVzcG9uc2USOAoOaW5pdGlhbGl6YXRpb24YASABKAsyHi55b3JraWUudjEuV2F0Y2hJbml0aWFsaXphdGlvbkgAEiYKBWV2ZW50GAIgASgLMhUueW9ya2llLnYxLldhdGNoRXZlbnRIAEIGCgRib2R5IkYKE1dhdGNoSW5pdGlhbGl6YXRpb24SLwoOcmVzb3VyY2VfaW5pdHMYASADKAsyFy55b3JraWUudjEuUmVzb3VyY2VJbml0IngKDFJlc291cmNlSW5pdBIwCg1kb2N1bWVudF9pbml0GAEgASgLMhcueW9ya2llLnYxLkRvY3VtZW50SW5pdEgAEi4KDGNoYW5uZWxfaW5pdBgCIAEoCzIWLnlvcmtpZS52MS5DaGFubmVsSW5pdEgAQgYKBGluaXQiNwoMRG9jdW1lbnRJbml0EhMKC2RvY3VtZW50X2lkGAEgASgJEhIKCmNsaWVudF9pZHMYAiADKAkiRgoLQ2hhbm5lbEluaXQSEwoLY2hhbm5lbF9rZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoAxILCgNzZXEYAyABKAMiewoKV2F0Y2hFdmVudBItCglkb2NfZXZlbnQYASABKAsyGC55b3JraWUudjEuRG9jV2F0Y2hFdmVudEgAEjUKDWNoYW5uZWxfZXZlbnQYAiABKAsyHC55b3JraWUudjEuQ2hhbm5lbFdhdGNoRXZlbnRIAEIHCgVldmVudCJICg1Eb2NXYXRjaEV2ZW50EhMKC2RvY3VtZW50X2lkGAEgASgJEiIKBWV2ZW50GAIgASgLMhMueW9ya2llLnYxLkRvY0V2ZW50IlAKEUNoYW5uZWxXYXRjaEV2ZW50EhMKC2NoYW5uZWxfa2V5GAEgASgJEiYKBWV2ZW50GAIgASgLMhcueW9ya2llLnYxLkNoYW5uZWxFdmVudCJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIkIKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiLgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEhUKDXNlc3Npb25fY291bnQYASABKAMiUwoVUmVmcmVzaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIi8KFlJlZnJlc2hDaGFubmVsUmVzcG9uc2USFQoNc2Vzc2lvbl9jb3VudBgBIAEoAyJaChBCcm9hZGNhc3RSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRINCgV0b3BpYxgDIAEoCRIPCgdwYXlsb2FkGAQgASgMIhMKEUJyb2FkY2FzdFJlc3BvbnNlMpgKCg1Zb3JraWVTZXJ2aWNlElcKDkFjdGl2YXRlQ2xpZW50EiAueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVxdWVzdBohLnlvcmtpZS52MS5BY3RpdmF0ZUNsaWVudFJlc3BvbnNlIgASXQoQRGVhY3RpdmF0ZUNsaWVudBIiLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVxdWVzdBojLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJXCg5BdHRhY2hEb2N1bWVudBIgLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuQXR0YWNoRG9jdW1lbnRSZXNwb25zZSIAElcKDkRldGFjaERvY3VtZW50EiAueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5EZXRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoOUmVtb3ZlRG9jdW1lbnQSIC55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLlJlbW92ZURvY3VtZW50UmVzcG9uc2UiABJaCg9QdXNoUHVsbENoYW5nZXMSIS55b3JraWUudjEuUHVzaFB1bGxDaGFuZ2VzUmVxdWVzdBoiLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXNwb25zZSIAEj4KBVdhdGNoEhcueW9ya2llLnYxLldhdGNoUmVxdWVzdBoYLnlvcmtpZS52MS5XYXRjaFJlc3BvbnNlIgAwARJXCg5DcmVhdGVSZXZpc2lvbhIgLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlcXVlc3QaIS55b3JraWUudjEuQ3JlYXRlUmV2aXNpb25SZXNwb25zZSIAEk4KC0dldFJldmlzaW9uEh0ueW9ya2llLnYxLkdldFJldmlzaW9uUmVxdWVzdBoeLnlvcmtpZS52MS5HZXRSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAEkgKCUJyb2FkY2FzdBIbLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXF1ZXN0GhwueW9ya2llLnYxLkJyb2FkY2FzdFJlc3BvbnNlIgBCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[kt]),0),Bm=Pt(Ao("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[zu]),0);var ye=(h=>(h.Ok="ok",h.ErrClientNotActivated="ErrClientNotActivated",h.ErrClientNotFound="ErrClientNotFound",h.ErrUnimplemented="ErrUnimplemented",h.ErrInvalidType="ErrInvalidType",h.ErrDummy="ErrDummy",h.ErrNotAttached="ErrNotAttached",h.ErrNotDetached="ErrNotDetached",h.ErrDocumentRemoved="ErrDocumentRemoved",h.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",h.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",h.ErrInvalidObjectKey="ErrInvalidObjectKey",h.ErrInvalidArgument="ErrInvalidArgument",h.ErrNotInitialized="ErrNotInitialized",h.ErrNotReady="ErrNotReady",h.ErrRefused="ErrRefused",h.ErrContextNotProvided="ErrContextNotProvided",h.ErrPermissionDenied="ErrPermissionDenied",h.ErrUnauthenticated="ErrUnauthenticated",h.ErrTooManySubscribers="ErrTooManySubscribers",h.ErrTooManyAttachments="ErrTooManyAttachments",h))(ye||{});class Ee extends Error{constructor(f,v){super(v);Y(this,"name","YorkieError");Y(this,"stack");this.code=f,this.message=v,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var no=(h=>(h.Put="put",h.Clear="clear",h))(no||{});const lp="000000000000000000000000",ro=24;class li{constructor(o,f,v){Y(this,"lamport");Y(this,"delimiter");Y(this,"actorID");this.lamport=o,this.delimiter=f,this.actorID=v}static of(o,f,v){return new li(o,f,v)}static fromStruct(o){return li.of(BigInt(o.lamport),o.delimiter,o.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(o){return new li(this.lamport,this.delimiter,o)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(o){return this.compare(o)>0}equals(o){return this.compare(o)===0}compare(o){if(this.lamport>o.lamport)return 1;if(o.lamport>this.lamport)return-1;const f=this.actorID.localeCompare(o.actorID);return f!==0?f:this.delimiter>o.delimiter?1:o.delimiter>this.delimiter?-1:0}}const up=0n,jm=0,cp=9223372036854775807n,al=new li(up,jm,lp);function io(h){return h.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(o){switch(o){case'"':case"\\":return"\\"+o;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return o}})}class Uf{constructor(o){Y(this,"createdAt");Y(this,"movedAt");Y(this,"removedAt");this.createdAt=o}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(o){this.createdAt=o}setMovedAt(o){return!this.movedAt||o&&o.after(this.movedAt)?(this.movedAt=o,!0):!1}setRemovedAt(o){this.removedAt=o}remove(o){return o&&o.after(this.createdAt)&&(!this.removedAt||o.after(this.removedAt))?(this.removedAt=o,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let o=0;return this.getCreatedAt()&&(o+=ro),this.getMovedAt()&&(o+=ro),this.getRemovedAt()&&(o+=ro),o}}class cs extends Uf{constructor(o){super(o)}}class fs{constructor(o,f){Y(this,"strKey");Y(this,"value");this.strKey=o,this.value=f}static of(o,f){return new fs(o,f)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(o){return this.value.remove(o)}}class ds{constructor(){Y(this,"nodeMapByKey");Y(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new ds}set(o,f,v){let A;const O=this.nodeMapByKey.get(o);O&&!O.isRemoved()&&O.remove(v)&&(A=O.getValue());const L=fs.of(o,f);return this.nodeMapByCreatedAt.set(f.getCreatedAt().toIDString(),L),(!O||v.after(O.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(o,L),f.setMovedAt(v)),A}delete(o,f){if(!this.nodeMapByCreatedAt.has(o.toIDString()))throw new Ee(ye.ErrInvalidArgument,`fail to find ${o.toIDString()}`);const v=this.nodeMapByCreatedAt.get(o.toIDString());return v.remove(f),v.getValue()}subPathOf(o){const f=this.nodeMapByCreatedAt.get(o.toIDString());if(f)return f.getStrKey()}purge(o){const f=this.nodeMapByCreatedAt.get(o.getCreatedAt().toIDString());if(!f)throw new Ee(ye.ErrInvalidArgument,`fail to find ${o.getCreatedAt().toIDString()}`);const v=this.nodeMapByKey.get(f.getStrKey());f===v&&this.nodeMapByKey.delete(v.getStrKey()),this.nodeMapByCreatedAt.delete(f.getValue().getCreatedAt().toIDString())}deleteByKey(o,f){const v=this.nodeMapByKey.get(o);if(v&&v.remove(f))return v.getValue()}has(o){const f=this.nodeMapByKey.get(o);return f?!f.isRemoved():!1}getByID(o){return this.nodeMapByCreatedAt.get(o.toIDString())}get(o){const f=this.nodeMapByKey.get(o);if(!(!f||f.isRemoved()))return f}deepcopy(){const o=ds.create();for(const[,f]of this.nodeMapByCreatedAt)o.nodeMapByCreatedAt.set(f.getValue().getCreatedAt().toIDString(),fs.of(f.getStrKey(),f.getValue().deepcopy()));for(const[f,v]of this.nodeMapByKey)o.nodeMapByKey.set(f,o.nodeMapByCreatedAt.get(v.getValue().getCreatedAt().toIDString()));return o}*[Symbol.iterator](){for(const[,o]of this.nodeMapByCreatedAt)yield o}}class Er extends cs{constructor(f,v){super(f);Y(this,"memberNodes");this.memberNodes=v}static create(f,v){if(!v)return new Er(f,ds.create());const A=ds.create();for(const[O,L]of Object.entries(v))A.set(O,L.deepcopy(),L.getCreatedAt());return new Er(f,A)}subPathOf(f){return this.memberNodes.subPathOf(f)}purge(f){this.memberNodes.purge(f)}set(f,v,A){return this.memberNodes.set(f,v,A)}delete(f,v){return this.memberNodes.delete(f,v)}deleteByKey(f,v){return this.memberNodes.deleteByKey(f,v)}get(f){const v=this.memberNodes.get(f);return v==null?void 0:v.getValue()}getByID(f){const v=this.memberNodes.getByID(f);return v==null?void 0:v.getValue()}has(f){return this.memberNodes.has(f)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const f=[];for(const[v,A]of this)f.push(`"${io(v)}":${A.toJSON()}`);return`{${f.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const f={};for(const[v,A]of this){const{createdAt:O,value:L,type:V}=A.toJSForTest();f[v]={key:v,createdAt:O,value:L,type:V}}return{createdAt:this.getCreatedAt().toTestString(),value:f,type:"YORKIE_OBJECT"}}getKeys(){const f=Array();for(const[v]of this)f.push(v);return f}toSortedJSON(){var A;const f=new Set;for(const[O]of this)f.add(O);const v=[];for(const O of Array.from(f).sort()){const L=(A=this.memberNodes.get(O))==null?void 0:A.getValue();v.push(`"${io(O)}":${L.toSortedJSON()}`)}return`{${v.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const f=Er.create(this.getCreatedAt());return f.memberNodes=this.memberNodes.deepcopy(),f.setRemovedAt(this.getRemovedAt()),f.setMovedAt(this.getMovedAt()),f}getDescendants(f){for(const v of this.memberNodes){const A=v.getValue();if(f(A,this))return;A instanceof cs&&A.getDescendants(f)}}*[Symbol.iterator](){for(const f of this.memberNodes)f.isRemoved()||(yield[f.getStrKey(),f.getValue()])}}var Ln=(h=>(h.Local="local",h.Remote="remote",h.UndoRedo="undoredo",h))(Ln||{});class qr{constructor(o,f){Y(this,"parentCreatedAt");Y(this,"executedAt");this.parentCreatedAt=o,this.executedAt=f}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new Ee(ye.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(o){this.executedAt&&(this.executedAt=this.executedAt.setActor(o))}setExecutedAt(o){this.executedAt=o}}class zm{constructor(o){Y(this,"value");Y(this,"left");Y(this,"right");Y(this,"parent");Y(this,"weight");this.value=o,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(o){this.left=o}setRight(o){this.right=o}setParent(o){this.parent=o}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(o){this.weight+=o}initWeight(){this.weight=this.getLength()}}class oc{constructor(o){Y(this,"root");this.root=o}get length(){return this.root?this.root.getWeight():0}findForText(o){if(!this.root||o<0)return[void 0,0];let f=this.root;for(;;)if(f.hasLeft()&&o<=f.getLeftWeight())f=f.getLeft();else if(f.hasRight()&&f.getLeftWeight()+f.getLength()<o)o-=f.getLeftWeight()+f.getLength(),f=f.getRight();else{o-=f.getLeftWeight();break}if(o>f.getLength())throw new Ee(ye.ErrInvalidArgument,`out of index range: pos: ${o} > node.length: ${f.getLength()}`);return this.splayNode(f),[f,o]}findForArray(o){if(!this.root)return;if(o<0||o>=this.length)throw new Ee(ye.ErrInvalidArgument,`out of index range: idx: ${o}, length: ${this.length}`);let f=this.root;for(;;)if(f.hasLeft()&&o<f.getLeftWeight())f=f.getLeft();else if(f.hasRight()&&f.getLeftWeight()+f.getLength()<=o)o-=f.getLeftWeight()+f.getLength(),f=f.getRight();else break;return this.splayNode(f),f}indexOf(o){return!o||o!==this.root&&!o.hasLinks()?-1:(this.splayNode(o),this.root.getLeftWeight())}getRoot(){return this.root}insert(o){return this.insertAfter(this.root,o)}insertAfter(o,f){return o?(this.splayNode(o),this.root=f,f.setRight(o.getRight()),o.hasRight()&&o.getRight().setParent(f),f.setLeft(o),o.setParent(f),o.setRight(),this.updateWeight(o),this.updateWeight(f),f):(this.root=f,f)}updateWeight(o){o.initWeight(),o.hasLeft()&&o.increaseWeight(o.getLeftWeight()),o.hasRight()&&o.increaseWeight(o.getRightWeight())}updateTreeWeight(o){for(;o;)this.updateWeight(o),o=o.getParent()}splayNode(o){if(o)for(;;)if(this.isLeftChild(o.getParent())&&this.isRightChild(o))this.rotateLeft(o),this.rotateRight(o);else if(this.isRightChild(o.getParent())&&this.isLeftChild(o))this.rotateRight(o),this.rotateLeft(o);else if(this.isLeftChild(o.getParent())&&this.isLeftChild(o))this.rotateRight(o.getParent()),this.rotateRight(o);else if(this.isRightChild(o.getParent())&&this.isRightChild(o))this.rotateLeft(o.getParent()),this.rotateLeft(o);else{this.isLeftChild(o)?this.rotateRight(o):this.isRightChild(o)&&this.rotateLeft(o),this.updateWeight(o);return}}delete(o){this.splayNode(o);const f=new oc(o.getLeft());f.root&&f.root.setParent();const v=new oc(o.getRight());if(v.root&&v.root.setParent(),f.root){const A=f.getRightmost();f.splayNode(A),f.root.setRight(v.root),v.root&&v.root.setParent(f.root),this.root=f.root}else this.root=v.root;o.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(o,f){if(!f){this.splayNode(o),this.cutOffRight(o);return}this.splayNode(o),this.splayNode(f),f.getLeft()!=o&&this.rotateRight(o),this.cutOffRight(o)}cutOffRight(o){const f=[];this.traversePostorder(o.getRight(),f);for(const v of f)v.initWeight();this.updateTreeWeight(o)}toTestString(){const o=[];return this.traverseInorder(this.root,o),o.map(f=>`[${f.getWeight()},${f.getLength()}]${f.getValue()||""}`).join("")}checkWeight(){const o=[];this.traverseInorder(this.root,o);for(const f of o)if(f.getWeight()!=f.getLength()+f.getLeftWeight()+f.getRightWeight())return!1;return!0}getRightmost(){let o=this.root;for(;o.hasRight();)o=o.getRight();return o}traverseInorder(o,f){o&&(this.traverseInorder(o.getLeft(),f),f.push(o),this.traverseInorder(o.getRight(),f))}traversePostorder(o,f){o&&(this.traversePostorder(o.getLeft(),f),this.traversePostorder(o.getRight(),f),f.push(o))}rotateLeft(o){const f=o.getParent();f.hasParent()?f===f.getParent().getLeft()?f.getParent().setLeft(o):f.getParent().setRight(o):this.root=o,o.setParent(f.getParent()),f.setRight(o.getLeft()),f.hasRight()&&f.getRight().setParent(f),o.setLeft(f),o.getLeft().setParent(o),this.updateWeight(f),this.updateWeight(o)}rotateRight(o){const f=o.getParent();f.hasParent()?f===f.getParent().getLeft()?f.getParent().setLeft(o):f.getParent().setRight(o):this.root=o,o.setParent(f.getParent()),f.setLeft(o.getRight()),f.hasLeft()&&f.getLeft().setParent(f),o.setRight(f),o.getRight().setParent(o),this.updateWeight(f),this.updateWeight(o)}isLeftChild(o){return o&&o.hasParent()?o.getParent().getLeft()===o:!1}isRightChild(o){return o&&o.hasParent()?o.getParent().getRight()===o:!1}}var Ai=null;try{Ai=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ht(h,o,f){this.low=h|0,this.high=o|0,this.unsigned=!!f}Ht.prototype.__isLong__,Object.defineProperty(Ht.prototype,"__isLong__",{value:!0});function Cr(h){return(h&&h.__isLong__)===!0}function Um(h){var o=Math.clz32(h&-h);return h?31-o:o}Ht.isLong=Cr;var fp={},Vm={};function sa(h,o){var f,v,A;return o?(h>>>=0,(A=0<=h&&h<256)&&(v=Vm[h],v)?v:(f=nn(h,0,!0),A&&(Vm[h]=f),f)):(h|=0,(A=-128<=h&&h<128)&&(v=fp[h],v)?v:(f=nn(h,h<0?-1:0,!1),A&&(fp[h]=f),f))}Ht.fromInt=sa;function ui(h,o){if(isNaN(h))return o?Co:oo;if(o){if(h<0)return Co;if(h>=Hm)return Ym}else{if(h<=-9223372036854776e3)return wr;if(h+1>=Ix)return Wm}return h<0?ui(-h,o).neg():nn(h%aa|0,h/aa|0,o)}Ht.fromNumber=ui;function nn(h,o,f){return new Ht(h,o,f)}Ht.fromBits=nn;var Vf=Math.pow;function Gm(h,o,f){if(h.length===0)throw Error("empty string");if(typeof o=="number"?(f=o,o=!1):o=!!o,h==="NaN"||h==="Infinity"||h==="+Infinity"||h==="-Infinity")return o?Co:oo;if(f=f||10,f<2||36<f)throw RangeError("radix");var v;if((v=h.indexOf("-"))>0)throw Error("interior hyphen");if(v===0)return Gm(h.substring(1),o,f).neg();for(var A=ui(Vf(f,8)),O=oo,L=0;L<h.length;L+=8){var V=Math.min(8,h.length-L),q=parseInt(h.substring(L,L+V),f);if(V<8){var te=ui(Vf(f,V));O=O.mul(te).add(ui(q))}else O=O.mul(A),O=O.add(ui(q))}return O.unsigned=o,O}Ht.fromString=Gm;function ci(h,o){return typeof h=="number"?ui(h,o):typeof h=="string"?Gm(h,o):nn(h.low,h.high,typeof o=="boolean"?o:h.unsigned)}Ht.fromValue=ci;var $m=65536,_x=1<<24,aa=$m*$m,Hm=aa*aa,Ix=Hm/2,Ox=sa(_x),oo=sa(0);Ht.ZERO=oo;var Co=sa(0,!0);Ht.UZERO=Co;var wo=sa(1);Ht.ONE=wo;var dp=sa(1,!0);Ht.UONE=dp;var sc=sa(-1);Ht.NEG_ONE=sc;var Wm=nn(-1,2147483647,!1);Ht.MAX_VALUE=Wm;var Ym=nn(-1,-1,!0);Ht.MAX_UNSIGNED_VALUE=Ym;var wr=nn(0,-2147483648,!1);Ht.MIN_VALUE=wr;var Xe=Ht.prototype;Xe.toInt=function(){return this.unsigned?this.low>>>0:this.low},Xe.toNumber=function(){return this.unsigned?(this.high>>>0)*aa+(this.low>>>0):this.high*aa+(this.low>>>0)},Xe.toString=function(o){if(o=o||10,o<2||36<o)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(wr)){var f=ui(o),v=this.div(f),A=v.mul(f).sub(this);return v.toString(o)+A.toInt().toString(o)}else return"-"+this.neg().toString(o);for(var O=ui(Vf(o,6),this.unsigned),L=this,V="";;){var q=L.div(O),te=L.sub(q.mul(O)).toInt()>>>0,ce=te.toString(o);if(L=q,L.isZero())return ce+V;for(;ce.length<6;)ce="0"+ce;V=""+ce+V}},Xe.getHighBits=function(){return this.high},Xe.getHighBitsUnsigned=function(){return this.high>>>0},Xe.getLowBits=function(){return this.low},Xe.getLowBitsUnsigned=function(){return this.low>>>0},Xe.getNumBitsAbs=function(){if(this.isNegative())return this.eq(wr)?64:this.neg().getNumBitsAbs();for(var o=this.high!=0?this.high:this.low,f=31;f>0&&(o&1<<f)==0;f--);return this.high!=0?f+33:f+1},Xe.isSafeInteger=function(){var o=this.high>>21;return o?this.unsigned?!1:o===-1&&!(this.low===0&&this.high===-2097152):!0},Xe.isZero=function(){return this.high===0&&this.low===0},Xe.eqz=Xe.isZero,Xe.isNegative=function(){return!this.unsigned&&this.high<0},Xe.isPositive=function(){return this.unsigned||this.high>=0},Xe.isOdd=function(){return(this.low&1)===1},Xe.isEven=function(){return(this.low&1)===0},Xe.equals=function(o){return Cr(o)||(o=ci(o)),this.unsigned!==o.unsigned&&this.high>>>31===1&&o.high>>>31===1?!1:this.high===o.high&&this.low===o.low},Xe.eq=Xe.equals,Xe.notEquals=function(o){return!this.eq(o)},Xe.neq=Xe.notEquals,Xe.ne=Xe.notEquals,Xe.lessThan=function(o){return this.comp(o)<0},Xe.lt=Xe.lessThan,Xe.lessThanOrEqual=function(o){return this.comp(o)<=0},Xe.lte=Xe.lessThanOrEqual,Xe.le=Xe.lessThanOrEqual,Xe.greaterThan=function(o){return this.comp(o)>0},Xe.gt=Xe.greaterThan,Xe.greaterThanOrEqual=function(o){return this.comp(o)>=0},Xe.gte=Xe.greaterThanOrEqual,Xe.ge=Xe.greaterThanOrEqual,Xe.compare=function(o){if(Cr(o)||(o=ci(o)),this.eq(o))return 0;var f=this.isNegative(),v=o.isNegative();return f&&!v?-1:!f&&v?1:this.unsigned?o.high>>>0>this.high>>>0||o.high===this.high&&o.low>>>0>this.low>>>0?-1:1:this.sub(o).isNegative()?-1:1},Xe.comp=Xe.compare,Xe.negate=function(){return!this.unsigned&&this.eq(wr)?wr:this.not().add(wo)},Xe.neg=Xe.negate,Xe.add=function(o){Cr(o)||(o=ci(o));var f=this.high>>>16,v=this.high&65535,A=this.low>>>16,O=this.low&65535,L=o.high>>>16,V=o.high&65535,q=o.low>>>16,te=o.low&65535,ce=0,Re=0,Be=0,Ne=0;return Ne+=O+te,Be+=Ne>>>16,Ne&=65535,Be+=A+q,Re+=Be>>>16,Be&=65535,Re+=v+V,ce+=Re>>>16,Re&=65535,ce+=f+L,ce&=65535,nn(Be<<16|Ne,ce<<16|Re,this.unsigned)},Xe.subtract=function(o){return Cr(o)||(o=ci(o)),this.add(o.neg())},Xe.sub=Xe.subtract,Xe.multiply=function(o){if(this.isZero())return this;if(Cr(o)||(o=ci(o)),Ai){var f=Ai.mul(this.low,this.high,o.low,o.high);return nn(f,Ai.get_high(),this.unsigned)}if(o.isZero())return this.unsigned?Co:oo;if(this.eq(wr))return o.isOdd()?wr:oo;if(o.eq(wr))return this.isOdd()?wr:oo;if(this.isNegative())return o.isNegative()?this.neg().mul(o.neg()):this.neg().mul(o).neg();if(o.isNegative())return this.mul(o.neg()).neg();if(this.lt(Ox)&&o.lt(Ox))return ui(this.toNumber()*o.toNumber(),this.unsigned);var v=this.high>>>16,A=this.high&65535,O=this.low>>>16,L=this.low&65535,V=o.high>>>16,q=o.high&65535,te=o.low>>>16,ce=o.low&65535,Re=0,Be=0,Ne=0,$e=0;return $e+=L*ce,Ne+=$e>>>16,$e&=65535,Ne+=O*ce,Be+=Ne>>>16,Ne&=65535,Ne+=L*te,Be+=Ne>>>16,Ne&=65535,Be+=A*ce,Re+=Be>>>16,Be&=65535,Be+=O*te,Re+=Be>>>16,Be&=65535,Be+=L*q,Re+=Be>>>16,Be&=65535,Re+=v*ce+A*te+O*q+L*V,Re&=65535,nn(Ne<<16|$e,Re<<16|Be,this.unsigned)},Xe.mul=Xe.multiply,Xe.divide=function(o){if(Cr(o)||(o=ci(o)),o.isZero())throw Error("division by zero");if(Ai){if(!this.unsigned&&this.high===-2147483648&&o.low===-1&&o.high===-1)return this;var f=(this.unsigned?Ai.div_u:Ai.div_s)(this.low,this.high,o.low,o.high);return nn(f,Ai.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Co:oo;var v,A,O;if(this.unsigned){if(o.unsigned||(o=o.toUnsigned()),o.gt(this))return Co;if(o.gt(this.shru(1)))return dp;O=Co}else{if(this.eq(wr)){if(o.eq(wo)||o.eq(sc))return wr;if(o.eq(wr))return wo;var L=this.shr(1);return v=L.div(o).shl(1),v.eq(oo)?o.isNegative()?wo:sc:(A=this.sub(o.mul(v)),O=v.add(A.div(o)),O)}else if(o.eq(wr))return this.unsigned?Co:oo;if(this.isNegative())return o.isNegative()?this.neg().div(o.neg()):this.neg().div(o).neg();if(o.isNegative())return this.div(o.neg()).neg();O=oo}for(A=this;A.gte(o);){v=Math.max(1,Math.floor(A.toNumber()/o.toNumber()));for(var V=Math.ceil(Math.log(v)/Math.LN2),q=V<=48?1:Vf(2,V-48),te=ui(v),ce=te.mul(o);ce.isNegative()||ce.gt(A);)v-=q,te=ui(v,this.unsigned),ce=te.mul(o);te.isZero()&&(te=wo),O=O.add(te),A=A.sub(ce)}return O},Xe.div=Xe.divide,Xe.modulo=function(o){if(Cr(o)||(o=ci(o)),Ai){var f=(this.unsigned?Ai.rem_u:Ai.rem_s)(this.low,this.high,o.low,o.high);return nn(f,Ai.get_high(),this.unsigned)}return this.sub(this.div(o).mul(o))},Xe.mod=Xe.modulo,Xe.rem=Xe.modulo,Xe.not=function(){return nn(~this.low,~this.high,this.unsigned)},Xe.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Xe.clz=Xe.countLeadingZeros,Xe.countTrailingZeros=function(){return this.low?Um(this.low):Um(this.high)+32},Xe.ctz=Xe.countTrailingZeros,Xe.and=function(o){return Cr(o)||(o=ci(o)),nn(this.low&o.low,this.high&o.high,this.unsigned)},Xe.or=function(o){return Cr(o)||(o=ci(o)),nn(this.low|o.low,this.high|o.high,this.unsigned)},Xe.xor=function(o){return Cr(o)||(o=ci(o)),nn(this.low^o.low,this.high^o.high,this.unsigned)},Xe.shiftLeft=function(o){return Cr(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?nn(this.low<<o,this.high<<o|this.low>>>32-o,this.unsigned):nn(0,this.low<<o-32,this.unsigned)},Xe.shl=Xe.shiftLeft,Xe.shiftRight=function(o){return Cr(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?nn(this.low>>>o|this.high<<32-o,this.high>>o,this.unsigned):nn(this.high>>o-32,this.high>=0?0:-1,this.unsigned)},Xe.shr=Xe.shiftRight,Xe.shiftRightUnsigned=function(o){return Cr(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?nn(this.low>>>o|this.high<<32-o,this.high>>>o,this.unsigned):o===32?nn(this.high,0,this.unsigned):nn(this.high>>>o-32,0,this.unsigned)},Xe.shru=Xe.shiftRightUnsigned,Xe.shr_u=Xe.shiftRightUnsigned,Xe.rotateLeft=function(o){var f;return Cr(o)&&(o=o.toInt()),(o&=63)===0?this:o===32?nn(this.high,this.low,this.unsigned):o<32?(f=32-o,nn(this.low<<o|this.high>>>f,this.high<<o|this.low>>>f,this.unsigned)):(o-=32,f=32-o,nn(this.high<<o|this.low>>>f,this.low<<o|this.high>>>f,this.unsigned))},Xe.rotl=Xe.rotateLeft,Xe.rotateRight=function(o){var f;return Cr(o)&&(o=o.toInt()),(o&=63)===0?this:o===32?nn(this.high,this.low,this.unsigned):o<32?(f=32-o,nn(this.high<<f|this.low>>>o,this.low<<f|this.high>>>o,this.unsigned)):(o-=32,f=32-o,nn(this.low<<f|this.high>>>o,this.high<<f|this.low>>>o,this.unsigned))},Xe.rotr=Xe.rotateRight,Xe.toSigned=function(){return this.unsigned?nn(this.low,this.high,!1):this},Xe.toUnsigned=function(){return this.unsigned?this:nn(this.low,this.high,!0)},Xe.toBytes=function(o){return o?this.toBytesLE():this.toBytesBE()},Xe.toBytesLE=function(){var o=this.high,f=this.low;return[f&255,f>>>8&255,f>>>16&255,f>>>24,o&255,o>>>8&255,o>>>16&255,o>>>24]},Xe.toBytesBE=function(){var o=this.high,f=this.low;return[o>>>24,o>>>16&255,o>>>8&255,o&255,f>>>24,f>>>16&255,f>>>8&255,f&255]},Ht.fromBytes=function(o,f,v){return v?Ht.fromBytesLE(o,f):Ht.fromBytesBE(o,f)},Ht.fromBytesLE=function(o,f){return new Ht(o[0]|o[1]<<8|o[2]<<16|o[3]<<24,o[4]|o[5]<<8|o[6]<<16|o[7]<<24,f)},Ht.fromBytesBE=function(o,f){return new Ht(o[4]<<24|o[5]<<16|o[6]<<8|o[7],o[0]<<24|o[1]<<16|o[2]<<8|o[3],f)},typeof BigInt=="function"&&(Ht.fromBigInt=function(o,f){var v=Number(BigInt.asIntN(32,o)),A=Number(BigInt.asIntN(32,o>>BigInt(32)));return nn(v,A,f)},Ht.fromValue=function(o,f){return typeof o=="bigint"?Ht.fromBigInt(o,f):ci(o,f)},Xe.toBigInt=function(){var o=BigInt(this.low>>>0),f=BigInt(this.unsigned?this.high>>>0:this.high);return f<<BigInt(32)|o});var Nn=(h=>(h[h.Null=0]="Null",h[h.Boolean=1]="Boolean",h[h.Integer=2]="Integer",h[h.Long=3]="Long",h[h.Double=4]="Double",h[h.String=5]="String",h[h.Bytes=6]="Bytes",h[h.Date=7]="Date",h))(Nn||{});class Gn extends Uf{constructor(f,v){super(v);Y(this,"valueType");Y(this,"value");this.valueType=Gn.getPrimitiveType(f),this.value=f===void 0?null:f}static of(f,v){return new Gn(f,v)}static valueFromBytes(f,v){switch(f){case 0:return null;case 1:return!!v[0];case 2:return v[0]|v[1]<<8|v[2]<<16|v[3]<<24;case 4:{const A=new DataView(v.buffer);return v.forEach(function(O,L){A.setUint8(L,O)}),A.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(v);case 3:return Ht.fromBytesLE(Array.from(v));case 6:return v;case 7:return new Date(Ht.fromBytesLE(Array.from(v),!0).toNumber());default:throw new Ee(ye.ErrUnimplemented,`unimplemented type: ${f}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new Ee(ye.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${io(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const f=Gn.of(this.value,this.getCreatedAt());return f.setMovedAt(this.getMovedAt()),f.setRemovedAt(this.getRemovedAt()),f}getType(){return this.valueType}static getPrimitiveType(f){switch(typeof f){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(f)?2:4;case"string":return 5;case"object":if(f===null)return 0;if(f instanceof Ht)return 3;if(f instanceof Uint8Array)return 6;if(f instanceof Date)return 7}}static isSupport(f){return Gn.getPrimitiveType(f)!==void 0}static isInteger(f){return f%1===0}isNumericType(){const f=this.valueType;return f===2||f===3||f===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const f=this.value;return new Uint8Array([f&255,f>>8&255,f>>16&255,f>>24&255])}case 4:{const f=this.value,v=new Uint8Array(8);return new DataView(v.buffer).setFloat64(0,f,!0),v}case 5:return new TextEncoder().encode(this.value);case 3:{const v=this.value.toBytesLE();return Uint8Array.from(v)}case 6:return this.value;case 7:{const f=this.value,v=Ht.fromNumber(f.getTime(),!0).toBytesLE();return Uint8Array.from(v)}default:throw new Ee(ye.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class hs extends zm{constructor(f){super(f);Y(this,"prev");Y(this,"next");Y(this,"movedFrom");this.value=f}static createAfter(f,v){const A=new hs(v),O=f.next;return f.next=A,A.prev=f,A.next=O,O&&(O.prev=A),A}remove(f){return this.value.remove(f)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(f){this.movedFrom=f}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class ps{constructor(){Y(this,"dummyHead");Y(this,"last");Y(this,"nodeMapByIndex");Y(this,"nodeMapByCreatedAt");const o=Gn.of(0,al);o.setRemovedAt(al),this.dummyHead=new hs(o),this.last=this.dummyHead,this.nodeMapByIndex=new oc,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new ps}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(o,f){let v=this.nodeMapByCreatedAt.get(o.toIDString());if(!v)throw new Ee(ye.ErrInvalidArgument,`cant find the given node: ${o.toIDString()}`);for(;v.getValue().getMovedAt()&&v.getValue().getMovedAt().after(f)&&v.getMovedFrom();)v=v.getMovedFrom();for(;v.getNext()&&v.getNext().getPositionedAt().after(f);)v=v.getNext();return v}release(o){this.last===o&&(this.last=o.getPrev()),o.release(),this.nodeMapByIndex.delete(o),this.nodeMapByCreatedAt.delete(o.getValue().getCreatedAt().toIDString())}insertAfter(o,f,v=f.getCreatedAt()){const A=this.findNextBeforeExecutedAt(o,v),O=hs.createAfter(A,f);return A===this.last&&(this.last=O),this.nodeMapByIndex.insertAfter(A,O),this.nodeMapByCreatedAt.set(O.getCreatedAt().toIDString(),O),O}moveAfter(o,f,v){let A=this.nodeMapByCreatedAt.get(o.toIDString());if(!A)throw new Ee(ye.ErrInvalidArgument,`cant find the given node: ${o.toIDString()}`);let O=this.nodeMapByCreatedAt.get(f.toIDString());if(!O)throw new Ee(ye.ErrInvalidArgument,`cant find the given node: ${f.toIDString()}`);if(A!==O&&v.after(O.getPositionedAt())){const L=O.getPrev();let V=O.getNext();for(this.release(O),O=this.insertAfter(A.getCreatedAt(),O.getValue(),v),O.getValue().setMovedAt(v),O.setMovedFrom(L);V&&V.getPositionedAt().after(v);)A=O,O=V,V=O.getNext(),this.release(O),O=this.insertAfter(A.getCreatedAt(),O.getValue(),v),O.getValue().setMovedAt(v),O.setMovedFrom(L)}}insert(o){this.insertAfter(this.last.getCreatedAt(),o)}getByID(o){return this.nodeMapByCreatedAt.get(o.toIDString())}subPathOf(o){const f=this.nodeMapByCreatedAt.get(o.toIDString());if(f)return String(this.nodeMapByIndex.indexOf(f))}purge(o){const f=this.nodeMapByCreatedAt.get(o.getCreatedAt().toIDString());if(!f)throw new Ee(ye.ErrInvalidArgument,`fail to find the given createdAt: ${o.getCreatedAt().toIDString()}`);this.release(f)}getByIndex(o){return o>=this.length?void 0:this.nodeMapByIndex.findForArray(o)}getPrevCreatedAt(o){let f=this.nodeMapByCreatedAt.get(o.toIDString());do f=f.getPrev();while(this.dummyHead!==f&&f.isRemoved());return f.getValue().getCreatedAt()}delete(o,f){const v=this.nodeMapByCreatedAt.get(o.toIDString()),A=v.isRemoved();return v.remove(f)&&!A&&this.nodeMapByIndex.splayNode(v),v.getValue()}set(o,f,v){const A=this.nodeMapByCreatedAt.get(o.toIDString());if(!A)throw new Ee(ye.ErrInvalidArgument,`cant find the given node: ${o.toIDString()}`);return this.insertAfter(A.getCreatedAt(),f,v),this.delete(o,v)}deleteByIndex(o,f){const v=this.getByIndex(o);if(v)return v.remove(f)&&this.nodeMapByIndex.splayNode(v),v.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const o=[];for(const f of this){const v=`${f.getCreatedAt().toIDString()}:${f.getValue().toJSON()}`;f.isRemoved()?o.push(`{${v}}`):o.push(`[${v}]`)}return o.join("")}*[Symbol.iterator](){let o=this.dummyHead.getNext();for(;o;)yield o,o=o.getNext()}}class fr extends cs{constructor(f,v){super(f);Y(this,"elements");this.elements=v}static create(f,v){if(!v)return new fr(f,ps.create());const A=ps.create();for(const O of v)A.insertAfter(A.getLastCreatedAt(),O.deepcopy());return new fr(f,A)}subPathOf(f){return this.elements.subPathOf(f)}purge(f){this.elements.purge(f)}insertAfter(f,v,A){this.elements.insertAfter(f,v,A)}moveAfter(f,v,A){this.elements.moveAfter(f,v,A)}get(f){const v=this.elements.getByIndex(f);return v==null?void 0:v.getValue()}getByID(f){const v=this.elements.getByID(f);return v==null?void 0:v.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(f){return this.elements.getPrevCreatedAt(f)}delete(f,v){return this.elements.delete(f,v)}deleteByIndex(f,v){return this.elements.deleteByIndex(f,v)}set(f,v,A){return this.elements.set(f,v,A)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const f of this.elements)f.isRemoved()||(yield f.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(f){for(const v of this.elements){const A=v.getValue();if(f(A,this))return;A instanceof cs&&A.getDescendants(f)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const f=[];for(const v of this)f.push(v.toJSON());return`[${f.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const f={};for(let v=0;v<this.length;v++){const{createdAt:A,value:O,type:L}=this.get(v).toJSForTest();f[v]={key:String(v),createdAt:A,value:O,type:L}}return{createdAt:this.getCreatedAt().toTestString(),value:f,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const f=fr.create(this.getCreatedAt());for(const v of this.elements)f.elements.insertAfter(f.getLastCreatedAt(),v.getValue().deepcopy());return f.setRemovedAt(this.getRemovedAt()),f.setMovedAt(this.getMovedAt()),f}}class Bi extends qr{constructor(f,v,A,O){super(f,O);Y(this,"prevCreatedAt");Y(this,"value");this.prevCreatedAt=v,this.value=A}static create(f,v,A,O){return new Bi(f,v,A,O)}execute(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof fr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only array can execute add");const A=v,O=this.value.deepcopy();return A.insertAfter(this.prevCreatedAt,O,this.getExecutedAt()),f.registerElement(O,A),{opInfos:[{type:"add",path:f.createPath(this.getParentCreatedAt()),index:Number(A.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Ei.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(f){this.prevCreatedAt=f}}class Ei extends qr{constructor(f,v,A){super(f,A);Y(this,"createdAt");this.createdAt=v}static create(f,v,A){return new Ei(f,v,A)}execute(f,v){var te;const A=f.findByCreatedAt(this.getParentCreatedAt());if(!A)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(A instanceof cs))throw new Ee(ye.ErrInvalidArgument,`only object and array can execute remove: ${A}`);if(v===Ln.UndoRedo){let ce=A.getByID(this.createdAt);for(;ce;){if(ce.getRemovedAt())return;ce=(te=f.findElementPairByCreatedAt(ce.getCreatedAt()))==null?void 0:te.parent}}const O=A.subPathOf(this.createdAt),L=this.toReverseOperation(A),V=A.delete(this.createdAt,this.getExecutedAt());return f.registerRemovedElement(V),{opInfos:A instanceof fr?[{type:"remove",path:f.createPath(this.getParentCreatedAt()),index:Number(O)}]:[{type:"remove",path:f.createPath(this.getParentCreatedAt()),key:O}],reverseOp:L}}toReverseOperation(f){if(f instanceof fr){const v=f.getByID(this.createdAt);if(v!==void 0){const A=f.getPrevCreatedAt(this.createdAt);return Bi.create(this.getParentCreatedAt(),A,v.deepcopy())}}if(f instanceof Er){const v=f.subPathOf(this.createdAt);if(v!==void 0){const A=f.get(v);if(A!==void 0)return la.create(v,A.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(f){this.createdAt=f}}class la extends qr{constructor(f,v,A,O){super(A,O);Y(this,"key");Y(this,"value");this.key=f,this.value=v}static create(f,v,A,O){return new la(f,v,A,O)}execute(f,v){var te;const A=f.findByCreatedAt(this.getParentCreatedAt());if(!A)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(A instanceof Er))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only object can execute set");if(v===Ln.UndoRedo){let ce=A;for(;ce;){if(ce.getRemovedAt())return;ce=(te=f.findElementPairByCreatedAt(ce.getCreatedAt()))==null?void 0:te.parent}}const O=A.get(this.key),L=this.toReverseOperation(O),V=this.value.deepcopy(),q=A.set(this.key,V,this.getExecutedAt());return v===Ln.UndoRedo&&f.findByCreatedAt(V.getCreatedAt())&&f.deregisterElement(V),f.registerElement(V,A),q&&f.registerRemovedElement(q),{opInfos:[{type:"set",path:f.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:L}}toReverseOperation(f){let v=Ei.create(this.getParentCreatedAt(),this.value.getCreatedAt());return f!==void 0&&!f.isRemoved()&&(v=la.create(this.key,f.deepcopy(),this.getParentCreatedAt())),v}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class ji extends qr{constructor(f,v,A,O){super(f,O);Y(this,"prevCreatedAt");Y(this,"createdAt");this.prevCreatedAt=v,this.createdAt=A}static create(f,v,A,O){return new ji(f,v,A,O)}execute(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof fr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only array can execute move");const A=v,O=this.toReverseOperation(A),L=Number(A.subPathOf(this.createdAt));A.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const V=Number(A.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:f.createPath(this.getParentCreatedAt()),index:V,previousIndex:L}],reverseOp:O}}toReverseOperation(f){const v=f.getPrevCreatedAt(this.createdAt);return ji.create(this.getParentCreatedAt(),v,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(f){this.prevCreatedAt=f}setCreatedAt(f){this.createdAt=f}}const ac=(h,o)=>h===o?0:h<o?-1:1;class Dx{constructor(o,f,v){Y(this,"key");Y(this,"value");Y(this,"left");Y(this,"right");Y(this,"isRed");this.key=o,this.value=f,this.isRed=v}}class zi{constructor(o){Y(this,"stack");this.stack=[],this.traverseInorder(o)}traverseInorder(o){o&&(this.traverseInorder(o.left),this.stack.push({key:o.key,value:o.value}),this.traverseInorder(o.right))}}class so{constructor(o){Y(this,"root");Y(this,"comparator");Y(this,"counter");this.comparator=typeof o<"u"?o:ac,this.counter=0}put(o,f){return this.root=this.putInternal(o,f,this.root),this.root.isRed=!1,f}get(o){const f=this.getInternal(o,this.root);return f?f.value:void 0}remove(o){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,o),this.root&&(this.root.isRed=!1)}getIterator(){return new zi(this.root)}values(){const o=[];for(const f of this.getIterator().stack)o.push(f.value);return o}floorEntry(o){let f=this.root,v;for(;f;){const A=this.comparator(o,f.key);if(A===0)return f;A<0?f=f.left:(v=f,f=f.right)}return v}lastEntry(){if(!this.root)return this.root;let o=this.root;for(;o.right;)o=o.right;return o}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(o,f){for(;f;){const v=this.comparator(o,f.key);if(v===0)return f;v<0?f=f.left:v>0&&(f=f.right)}}putInternal(o,f,v){if(!v)return this.counter+=1,new Dx(o,f,!0);const A=this.comparator(o,v.key);return A<0?v.left=this.putInternal(o,f,v.left):A>0?v.right=this.putInternal(o,f,v.right):v.value=f,this.isRed(v.right)&&!this.isRed(v.left)&&(v=this.rotateLeft(v)),this.isRed(v.left)&&this.isRed(v.left.left)&&(v=this.rotateRight(v)),this.isRed(v.left)&&this.isRed(v.right)&&this.flipColors(v),v}removeInternal(o,f){if(this.comparator(f,o.key)<0)!this.isRed(o.left)&&!this.isRed(o.left.left)&&(o=this.moveRedLeft(o)),o.left=this.removeInternal(o.left,f);else{if(this.isRed(o.left)&&(o=this.rotateRight(o)),this.comparator(f,o.key)===0&&!o.right){this.counter-=1;return}if(!this.isRed(o.right)&&!this.isRed(o.right.left)&&(o=this.moveRedRight(o)),this.comparator(f,o.key)===0){this.counter-=1;const v=this.min(o.right);o.value=v.value,o.key=v.key,o.right=this.removeMin(o.right)}else o.right=this.removeInternal(o.right,f)}return this.fixUp(o)}min(o){return o.left?this.min(o.left):o}removeMin(o){if(o.left)return!this.isRed(o.left)&&!this.isRed(o.left.left)&&(o=this.moveRedLeft(o)),o.left=this.removeMin(o.left),this.fixUp(o)}fixUp(o){return this.isRed(o.right)&&(o=this.rotateLeft(o)),this.isRed(o.left)&&this.isRed(o.left.left)&&(o=this.rotateRight(o)),this.isRed(o.left)&&this.isRed(o.right)&&this.flipColors(o),o}moveRedLeft(o){return this.flipColors(o),this.isRed(o.right.left)&&(o.right=this.rotateRight(o.right),o=this.rotateLeft(o),this.flipColors(o)),o}moveRedRight(o){return this.flipColors(o),this.isRed(o.left.left)&&(o=this.rotateRight(o),this.flipColors(o)),o}isRed(o){return o&&o.isRed}rotateLeft(o){const f=o.right;return o.right=f.left,f.left=o,f.isRed=f.left.isRed,f.left.isRed=!0,f}rotateRight(o){const f=o.left;return o.left=f.right,f.right=o,f.isRed=f.right.isRed,f.right.isRed=!0,f}flipColors(o){o.isRed=!o.isRed,o.left.isRed=!o.left.isRed,o.right.isRed=!o.right.isRed}}function ua(h){return h?qm(h.live)+qm(h.gc):0}function qm(h){return h.data+h.meta}function Un(h,...o){for(const f of o)h.data+=f.data,h.meta+=f.meta}function Kr(h,o){h.data-=o.data,h.meta-=o.meta}class _n{constructor(o,f){Y(this,"createdAt");Y(this,"offset");this.createdAt=o,this.offset=f}static of(o,f){return new _n(o,f)}static fromStruct(o){return _n.of(li.fromStruct(o.createdAt),o.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(o){return this.createdAt.compare(o.createdAt)===0&&this.offset===o.offset}hasSameCreatedAt(o){return this.createdAt.compare(o.createdAt)===0}split(o){return new _n(this.createdAt,this.offset+o)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const hp=_n.of(al,0);class dr{constructor(o,f){Y(this,"id");Y(this,"relativeOffset");this.id=o,this.relativeOffset=f}static of(o,f){return new dr(o,f)}static fromStruct(o){const f=_n.fromStruct(o.id);return dr.of(f,o.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return _n.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(o){return this.id.equals(o.id)?this.relativeOffset===o.relativeOffset:!1}}class Ro extends zm{constructor(f,v,A){super(v);Y(this,"id");Y(this,"removedAt");Y(this,"prev");Y(this,"next");Y(this,"insPrev");Y(this,"insNext");this.id=f,this.removedAt=A}static create(f,v){return new Ro(f,v)}static createComparator(){return(f,v)=>{const A=f.getCreatedAt().compare(v.getCreatedAt());return A!==0?A:f.getOffset()>v.getOffset()?1:f.getOffset()<v.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(f){this.prev=f,f&&(f.next=this)}setNext(f){this.next=f,f&&(f.prev=this)}setInsPrev(f){this.insPrev=f,f&&(f.insNext=this)}setInsNext(f){this.insNext=f,f&&(f.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(f){return new Ro(this.id.split(f),this.splitValue(f),this.removedAt)}canRemove(f,v,A){return v?!!(!this.removedAt||!A&&(f!=null&&f.after(this.removedAt))):!1}canStyle(f,v){return this.getCreatedAt().getLamport()<=v&&(!this.removedAt||f.after(this.removedAt))}setRemovedAt(f){this.removedAt=f}remove(f){if(!this.removedAt){this.removedAt=f;return}f.after(this.removedAt)&&(this.removedAt=f)}createPosRange(){return[dr.of(this.id,0),dr.of(this.id,this.getLength())]}getDataSize(){const f=this.value.getDataSize();return this.id&&(f.meta+=ro),this.removedAt&&(f.meta+=ro),f}deepcopy(){return new Ro(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(f){const v=this.value;return this.value=v.substring(0,f),v.substring(f,v.length)}toIDString(){return this.id.toIDString()}}class ll{constructor(){Y(this,"head");Y(this,"treeByIndex");Y(this,"treeByID");this.head=Ro.create(hp),this.treeByIndex=new oc,this.treeByID=new so(Ro.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new ll}edit(o,f,v,A){const O={data:0,meta:0},[L,V,q]=this.findNodeWithSplit(o[1],f),[te,ce,Re]=this.findNodeWithSplit(o[0],f);Un(O,V,ce);const Be=this.findBetween(Re,q),[Ne,$e]=this.deleteNodes(Be,f,A),We=q?q.getID():L.getID();let st=dr.of(We,0);if(v){const vn=this.posToIndex(te.createPosRange()[1],!0),En=this.insertAfter(te,Ro.create(_n.of(f,0),v));Un(O,En.getDataSize()),Ne.length&&Ne[Ne.length-1].from===vn?Ne[Ne.length-1].value=v:Ne.push({actor:f.getActorID(),from:vn,to:vn,value:v}),st=dr.of(En.getID(),En.getContentLength())}const wt=[],ln=[];for(const[,vn]of $e)wt.push({parent:this,child:vn}),ln.push(vn.getValue());return[st,wt,O,Ne,ln]}indexToPos(o){const[f,v]=this.treeByIndex.findForText(o),A=f;return dr.of(A.getID(),v)}findIndexesFromRange(o){const[f,v]=o;return[this.posToIndex(f,!1),this.posToIndex(v,!0)]}posToIndex(o,f){const v=o.getAbsoluteID(),A=f?this.findFloorNodePreferToLeft(v):this.findFloorNode(v);if(!A)throw new Ee(ye.ErrInvalidArgument,`the node of the given id should be found: ${v.toTestString()}`);const O=this.treeByIndex.indexOf(A),L=A.isRemoved()?0:v.getOffset()-A.getID().getOffset();return O+L}findNode(o){return this.findFloorNode(o)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const o=[];for(const f of this)f.isRemoved()||o.push(f.getValue());return o.join("")}*[Symbol.iterator](){let o=this.head.getNext();for(;o;)yield o,o=o.getNext()}getHead(){return this.head}deepcopy(){const o=new ll;let f=this.head.getNext(),v=o.head,A;for(;f;){if(A=o.insertAfter(v,f.deepcopy()),f.hasInsPrev()){const O=o.findNode(f.getInsPrevID());A.setInsPrev(O)}v=A,f=f.getNext()}return o}normalizePos(o){const f=this.findFloorNode(o.getID());if(!f)throw new Ee(ye.ErrInvalidArgument,`the node of the given id should be found: ${o.getID().toTestString()}`);let v=o.getRelativeOffset(),A=f,O=f.getPrev();for(;O;)v+=O.getLength(),A=O,O=O.getPrev();return dr.of(A.getID(),v)}refinePos(o){let f=this.findFloorNode(o.getID());if(!f)throw new Ee(ye.ErrInvalidArgument,`the node of the given id should be found: ${o.getID().toTestString()}`);let v=o.getRelativeOffset(),A=f.getContentLength();for(;v>A;){v-=A;const O=f.getNext();if(!O)return dr.of(f.getID(),A);f=O,A=f.getLength()}return dr.of(f.getID(),v)}toTestString(){const o=[];let f=this.head;for(;f;)f.isRemoved()?o.push(`{${f.toTestString()}}`):o.push(`[${f.toTestString()}]`),f=f.getNext();return o.join("")}insertAfter(o,f){const v=o.getNext();return f.setPrev(o),v&&v.setPrev(f),this.treeByID.put(f.getID(),f),this.treeByIndex.insertAfter(o,f),f}findNodeWithSplit(o,f){const v=o.getAbsoluteID();let A=this.findFloorNodePreferToLeft(v);const O=v.getOffset()-A.getID().getOffset(),[,L]=this.splitNode(A,O);for(;A.hasNext()&&A.getNext().getCreatedAt().after(f);)A=A.getNext();return[A,L,A.getNext()]}findFloorNodePreferToLeft(o){let f=this.findFloorNode(o);if(!f)throw new Ee(ye.ErrInvalidArgument,`the node of the given id should be found: ${o.toTestString()}`);if(o.getOffset()>0&&f.getID().getOffset()==o.getOffset()){if(!f.hasInsPrev())return f;f=f.getInsPrev()}return f}findFloorNode(o){const f=this.treeByID.floorEntry(o);if(f&&!(!f.key.equals(o)&&!f.key.hasSameCreatedAt(o)))return f.value}findBetween(o,f){const v=[];let A=o;for(;A&&A!==f;)v.push(A),A=A.getNext();return v}splitNode(o,f){const v={data:0,meta:0};if(f>o.getContentLength())throw new Ee(ye.ErrInvalidArgument,"offset should be less than or equal to length");if(f===0)return[o,v];if(f===o.getContentLength())return[o.getNext(),v];const A=o.getDataSize(),O=o.split(f);this.treeByIndex.updateWeight(O),this.insertAfter(o,O);const L=o.getInsNext();return L&&L.setInsPrev(O),O.setInsPrev(o),Un(v,o.getDataSize(),O.getDataSize()),Kr(v,A),[O,v]}deleteNodes(o,f,v){if(!o.length)return[[],new Map];const A=v===void 0||v.size()===0,O=[],L=[],[V,q]=this.findEdgesOfCandidates(o);L.push(V);for(const Re of o){let Be=!1;if(A)Be=!0;else{const $e=v==null?void 0:v.get(Re.getCreatedAt().getActorID());$e&&$e>=Re.getCreatedAt().getLamport()&&(Be=!0)}let Ne=!1;if(Re.getRemovedAt()){const $e=v==null?void 0:v.get(Re.getRemovedAt().getActorID());(A||$e&&$e>=Re.getRemovedAt().getLamport())&&(Ne=!0)}Re.canRemove(f,Be,Ne)?O.push(Re):L.push(Re)}L.push(q);const te=this.makeChanges(L,f),ce=new Map;for(const Re of O)ce.set(Re.getID().toIDString(),Re),Re.remove(f);return this.deleteIndexNodes(L),[te,ce]}findEdgesOfCandidates(o){return[o[0].getPrev(),o[o.length-1].getNext()]}makeChanges(o,f){const v=[];let A,O;for(let L=0;L<o.length-1;L++){const V=o[L],q=o[L+1];V.getNext()!=q&&([A]=this.findIndexesFromRange(V.getNext().createPosRange()),q?[,O]=this.findIndexesFromRange(q.getPrev().createPosRange()):O=this.treeByIndex.length,A<O&&v.push({actor:f.getActorID(),from:A,to:O}))}return v.reverse()}deleteIndexNodes(o){for(let f=0;f<o.length-1;f++){const v=o[f],A=o[f+1];v.getNext()!=A&&this.treeByIndex.deleteRange(v,A)}}purge(o){this.treeByIndex.delete(o),this.treeByID.remove(o.getID());const f=o.getPrev(),v=o.getNext(),A=o.getInsPrev(),O=o.getInsNext();f&&f.setNext(v),v&&v.setPrev(f),o.setPrev(void 0),o.setNext(void 0),A&&A.setInsNext(O),O&&O.setInsPrev(A),o.setInsPrev(void 0),o.setInsNext(void 0)}}class gs{constructor(o,f,v,A){Y(this,"key");Y(this,"value");Y(this,"updatedAt");Y(this,"_isRemoved");this.key=o,this.value=f,this.updatedAt=v,this._isRemoved=A}static of(o,f,v,A){return new gs(o,f,v,A)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:ro}}}class Xr{constructor(){Y(this,"nodeMapByKey");Y(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Xr}getNodeMapByKey(){return this.nodeMapByKey}set(o,f,v){const A=this.nodeMapByKey.get(o);if(A&&A.isRemoved()&&v.after(A.getUpdatedAt())&&(this.numberOfRemovedElement-=1),A===void 0||v.after(A.getUpdatedAt())){const O=gs.of(o,f,v,!1);return this.nodeMapByKey.set(o,O),A!==void 0&&A.isRemoved()?[A,O]:[void 0,O]}return A.isRemoved()?[A,void 0]:[void 0,void 0]}setInternal(o,f,v,A){const O=gs.of(o,f,v,A);this.nodeMapByKey.set(o,O),A&&this.numberOfRemovedElement++}remove(o,f){const v=this.nodeMapByKey.get(o),A=[];if(v===void 0||f.after(v.getUpdatedAt())){if(v===void 0){this.numberOfRemovedElement+=1;const V=gs.of(o,"",f,!0);return this.nodeMapByKey.set(o,V),A.push(V),A}const O=v.isRemoved();O||(this.numberOfRemovedElement+=1),O&&A.push(v);const L=gs.of(o,v.getValue(),f,!0);return this.nodeMapByKey.set(o,L),A.push(L),A}return A}has(o){if(this.nodeMapByKey.has(o)){const f=this.nodeMapByKey.get(o);return f!==void 0&&!f.isRemoved()}return!1}get(o){if(this.nodeMapByKey.has(o))return this.nodeMapByKey.get(o).getValue()}deepcopy(){const o=new Xr;for(const[,f]of this.nodeMapByKey)o.setInternal(f.getKey(),f.getValue(),f.getUpdatedAt(),f.isRemoved());return o}toJSON(){if(!this.size())return"{}";const o=[];for(const[f,v]of this.nodeMapByKey)v.isRemoved()||o.push(`"${io(f)}":"${io(v.getValue())}"`);return`{${o.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const o={};for(const[f,v]of this.nodeMapByKey)v.isRemoved()||(o[f]=v.getValue());return o}*[Symbol.iterator](){for(const[,o]of this.nodeMapByKey)yield o}purge(o){const f=this.nodeMapByKey.get(o.getKey());f==null||f.toIDString()!=o.toIDString()||(this.nodeMapByKey.delete(o.getKey()),this.numberOfRemovedElement--)}}function fi(h){if(h instanceof Map){const o=Array.from(h);return new Map(JSON.parse(JSON.stringify(o)))}return JSON.parse(JSON.stringify(h))}const Km=h=>h?Object.entries(h).length===0:!0,ul=h=>{const o={};for(const[f,v]of Object.entries(h))o[f]=JSON.stringify(v);return o},To=h=>{const o={};for(const[f,v]of Object.entries(h))o[f]=JSON.parse(v);return o};class ca{constructor(o){Y(this,"attributes");Y(this,"content");this.attributes=Xr.create(),this.content=o}static create(o){return new ca(o)}get length(){return this.content.length}substring(o,f){const v=new ca(this.content.substring(o,f));return v.attributes=this.attributes.deepcopy(),v}setAttr(o,f,v){return this.attributes.set(o,f,v)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const o={data:0,meta:0};o.data+=this.content.length*2;for(const f of this.attributes){const v=f.getDataSize();o.meta+=v.meta,o.data+=v.data}return o}toJSON(){const o=io(this.content),f=this.attributes.toObject(),v=[];for(const[A,O]of Object.entries(f)){const L=JSON.parse(O),V=typeof L=="string"?`"${io(A)}":"${io(L)}"`:`"${io(A)}":${String(L)}`;v.push(V)}return v.sort(),v.length===0?`{"val":"${o}"}`:`{"attrs":{${v.join(",")}},"val":"${o}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(o){this.attributes&&o instanceof gs&&this.attributes.purge(o)}getGCPairs(){const o=[];for(const f of this.attributes)f.getRemovedAt()&&o.push({parent:this,child:f});return o}}class Zr extends Uf{constructor(f,v){super(v);Y(this,"rgaTreeSplit");this.rgaTreeSplit=f}static create(f,v){return new Zr(f,v)}edit(f,v,A,O,L){const V=v?ca.create(v):void 0;if(V&&O)for(const[$e,We]of Object.entries(O))V.setAttr($e,We,A);const[q,te,ce,Re,Be]=this.rgaTreeSplit.edit(f,A,V,L);return[Re.map($e=>({...$e,value:$e.value?{attributes:To($e.value.getAttributes()),content:$e.value.getContent()}:{attributes:void 0,content:""},type:"content"})),te,ce,[q,q],Be]}setStyle(f,v,A,O){const L={data:0,meta:0},[,V,q]=this.rgaTreeSplit.findNodeWithSplit(f[1],A),[,te,ce]=this.rgaTreeSplit.findNodeWithSplit(f[0],A);Un(L,V,te);const Re=[],Be=this.rgaTreeSplit.findBetween(ce,q),Ne=[];for(const We of Be){const st=We.getCreatedAt().getActorID();let wt=cp;O!=null&&(wt=O.get(st)?O.get(st):0n),We.canStyle(A,wt)&&Ne.push(We)}const $e=[];for(const We of Ne){if(We.isRemoved())continue;const[st,wt]=this.rgaTreeSplit.findIndexesFromRange(We.createPosRange());Re.push({type:"style",actor:A.getActorID(),from:st,to:wt,value:{attributes:To(v)}});for(const[ln,vn]of Object.entries(v)){const[En]=We.getValue().setAttr(ln,vn,A);En!==void 0&&$e.push({parent:We.getValue(),child:En});const Ir=We.getValue().getAttrs().getNodeMapByKey().get(ln);Ir!==void 0&&Un(L,Ir.getDataSize())}}return[$e,L,Re]}indexRangeToPosRange(f,v){const A=this.rgaTreeSplit.indexToPos(f);return f===v?[A,A]:[A,this.rgaTreeSplit.indexToPos(v)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(f){return this.rgaTreeSplit.refinePos(f)}normalizePos(f){return this.rgaTreeSplit.normalizePos(f)}getDataSize(){const f={data:0,meta:0};for(const v of this.rgaTreeSplit){if(v.isRemoved())continue;const A=v.getDataSize();f.data+=A.data,f.meta+=A.meta}return{data:f.data,meta:f.meta+this.getMetaUsage()}}toJSON(){const f=[];for(const v of this.rgaTreeSplit)v.isRemoved()||f.push(v.getValue().toJSON());return`[${f.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const f=[];for(const v of this.rgaTreeSplit)if(!v.isRemoved()){const A=v.getValue();f.push({attributes:To(A.getAttributes()),content:A.getContent()})}return f}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const f=new Zr(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return f.setRemovedAt(this.getRemovedAt()),f.setMovedAt(this.getMovedAt()),f}findIndexesFromRange(f){return this.rgaTreeSplit.findIndexesFromRange(f)}posToIndex(f,v=!1){return this.rgaTreeSplit.posToIndex(f,v)}getGCPairs(){const f=[];for(const v of this.rgaTreeSplit){v.getRemovedAt()&&f.push({parent:this.rgaTreeSplit,child:v});for(const A of v.getValue().getGCPairs())f.push(A)}return f}}class No extends qr{constructor(f,v,A,O,L,V,q){super(f,V);Y(this,"fromPos");Y(this,"toPos");Y(this,"content");Y(this,"attributes");Y(this,"isUndoOp");this.fromPos=v,this.toPos=A,this.content=O,this.attributes=L,this.isUndoOp=q}static create(f,v,A,O,L,V,q){return new No(f,v,A,O,L,V,q)}execute(f,v,A){const O=f.findByCreatedAt(this.getParentCreatedAt());if(!O)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(O instanceof Zr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only Text can execute edit");const L=O;this.isUndoOp&&(this.fromPos=L.refinePos(this.fromPos),this.toPos=L.refinePos(this.toPos));const[V,q,te,,ce]=L.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),A),Re=this.toReverseOperation(ce,L.normalizePos(this.fromPos));f.acc(te);for(const Be of q)f.registerGCPair(Be);return{opInfos:V.map(({from:Be,to:Ne,value:$e})=>({type:"edit",from:Be,to:Ne,value:$e,path:f.createPath(this.getParentCreatedAt())})),reverseOp:Re}}toReverseOperation(f,v){var L;const A=f!=null&&f.length?f.map(V=>V.getContent()).join(""):"";let O;if(f.length===1){const V=f[0].getAttributes();V&&(O=Array.from(Object.entries(V)))}return No.create(this.getParentCreatedAt(),v,dr.of(v.getID(),v.getRelativeOffset()+(((L=this.content)==null?void 0:L.length)??0)),A,O?new Map(O):new Map,void 0,!0)}normalizePos(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof Zr))throw new Ee(ye.ErrInvalidArgument,"only Text can normalize edit");const A=v,O=A.normalizePos(this.fromPos).getRelativeOffset(),L=A.normalizePos(this.toPos).getRelativeOffset();return[O,L]}reconcileOperation(f,v,A){if(!this.isUndoOp||f>v)return;const O=v-f,L=this.fromPos.getRelativeOffset(),V=this.toPos.getRelativeOffset(),q=(te,ce)=>{this.fromPos=dr.of(this.fromPos.getID(),Math.max(0,te)),this.toPos=dr.of(this.toPos.getID(),Math.max(0,ce))};if(v<=L){q(L-O+A,V-O+A);return}if(!(V<=f)){if(f<=L&&V<=v&&f!==v){q(f,f);return}if(L<=f&&v<=V&&L!==V){q(L,V-O+A);return}if(f<L&&L<v&&v<V){q(f,f+(V-v));return}if(L<f&&f<V&&V<v){q(L,f);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const f=this.getParentCreatedAt().toTestString(),v=this.fromPos.toTestString(),A=this.toPos.toTestString(),O=this.content;return`${f}.EDIT(${v},${A},${O})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class lc extends qr{constructor(f,v,A,O,L){super(f,L);Y(this,"fromPos");Y(this,"toPos");Y(this,"attributes");this.fromPos=v,this.toPos=A,this.attributes=O}static create(f,v,A,O,L){return new lc(f,v,A,O,L)}execute(f,v,A){const O=f.findByCreatedAt(this.getParentCreatedAt());if(!O)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(O instanceof Zr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only Text can execute edit");const L=O,[V,q,te]=L.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),A);f.acc(q);for(const ce of V)f.registerGCPair(ce);return{opInfos:te.map(({from:ce,to:Re,value:Be})=>({type:"style",from:ce,to:Re,value:Be,path:f.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const f=this.getParentCreatedAt().toTestString(),v=this.fromPos.toTestString(),A=this.toPos.toTestString(),O=this.attributes;return`${f}.STYL(${v},${A},${JSON.stringify(O)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const Mx=2,J1="root",ao="text";function Zn(h,o,f=!1){let v=0;const A=f?h.allChildren:h.children;for(let O=0;O<o;O++){const L=A[O];!L||!f&&L.isRemoved||(v+=L.paddedSize(f))}return v}class Rr{constructor(o,f=[]){Y(this,"type");Y(this,"parent");Y(this,"_children");Y(this,"visibleSize");Y(this,"totalSize");if(this.type=o,this.visibleSize=0,this.totalSize=0,this._children=f,this.isText&&this._children.length>0)throw new Ee(ye.ErrRefused,"Text node cannot have children")}updateAncestorsSize(o,f=!1){let v=this.parent;for(;v;){if(f)v.totalSize+=o;else if(v.visibleSize+=o,v.isRemoved)break;v=v.parent}}updateDescendantsSize(o=!1){let f=0;for(const v of this._children){const A=v.updateDescendantsSize(o);!o&&v.isRemoved||(f+=A)}return o?this.totalSize+=f:this.visibleSize+=f,this.paddedSize(o)}get isText(){return this.type===ao}paddedSize(o=!1){let f=this.visibleSize;return o&&(f=this.totalSize),this.isText||(f+=Mx),f}isAncestorOf(o){return Px(this,o)}get nextSibling(){const o=this.parent.findOffset(this),f=this.parent.children[o+1];if(f)return f}get prevSibling(){const o=this.parent.findOffset(this),f=this.parent.children[o-1];if(f)return f}splitText(o,f){const v={data:0,meta:0};if(o===0||o===this.visibleSize)return[void 0,v];const A=this.value.slice(0,o),O=this.value.slice(o);if(!O.length)return[void 0,v];const L=this.getDataSize();this.value=A;const V=this.cloneText(o+f);return V.value=O,this.parent.insertAfterInternal(V,this),Un(v,this.getDataSize(),V.getDataSize()),Kr(v,L),[V,v]}get children(){return this._children.filter(o=>!o.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(o=>o.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(o=>o.value).join(""):""}append(...o){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");this._children.push(...o);for(const f of o)f.parent=this,f.updateAncestorsSize(f.paddedSize()),f.updateAncestorsSize(f.paddedSize(!0),!0)}prepend(...o){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");this._children.unshift(...o);for(const f of o)f.parent=this}insertBefore(o,f){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(f);if(v===-1)throw new Ee(ye.ErrInvalidArgument,"child not found");this.insertAtInternal(o,v),o.updateAncestorsSize(o.paddedSize()),o.updateAncestorsSize(o.paddedSize(!0),!0)}insertAfter(o,f){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(f);if(v===-1)throw new Ee(ye.ErrInvalidArgument,"child not found");this.insertAtInternal(o,v+1),o.updateAncestorsSize(o.paddedSize()),o.updateAncestorsSize(o.paddedSize(!0),!0)}insertAt(o,f){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");this.insertAtInternal(o,f),o.updateAncestorsSize(o.paddedSize()),o.updateAncestorsSize(o.paddedSize(!0),!0)}removeChild(o){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");const f=this._children.indexOf(o);if(f===-1)throw new Ee(ye.ErrInvalidArgument,"child not found");this._children.splice(f,1),o.updateAncestorsSize(-o.paddedSize(!0),!0),o.parent=void 0}splitElement(o,f){const v={data:0,meta:0},A=this.getDataSize(),O=this.cloneElement(f);this.parent.insertAfterInternal(O,this),O.updateAncestorsSize(O.paddedSize()),O.updateAncestorsSize(O.paddedSize(!0),!0);const L=this.children.slice(0,o),V=this.children.slice(o);this._children=L,O._children=V,this.visibleSize=this._children.reduce((q,te)=>q+te.paddedSize(),0),this.totalSize=this._children.reduce((q,te)=>q+te.paddedSize(!0),0),O.visibleSize=O._children.reduce((q,te)=>q+te.paddedSize(!0),0),O.totalSize=O._children.reduce((q,te)=>q+te.paddedSize(!0),0);for(const q of O._children)q.parent=O;return Un(v,this.getDataSize(),O.getDataSize()),Kr(v,A),[O,v]}insertAfterInternal(o,f){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(f);if(v===-1)throw new Ee(ye.ErrInvalidArgument,"child not found");this.insertAtInternal(o,v+1)}insertAtInternal(o,f){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");this._children.splice(f,0,o),o.parent=this}findOffset(o,f=!1){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");if(f)return this._children.indexOf(o);if(o.isRemoved){const v=this._children.indexOf(o);return this.allChildren.splice(0,v).filter(O=>!O.isRemoved).length}return this.children.indexOf(o)}findBranchOffset(o){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");let f=o;for(;f;){const v=this._children.indexOf(f);if(v!==-1)return v;f=f.parent}return-1}}function Px(h,o){if(h===o)return!1;for(;o.parent;){if(o.parent===h)return!0;o=o.parent}return!1}var Jn=(h=>(h.Start="Start",h.End="End",h.Text="Text",h))(Jn||{});function Xm(h,o,f,v,A=!1){if(o>f)throw new Ee(ye.ErrInvalidArgument,`from is greater than to: ${o} > ${f}`);const O=A?h.totalSize:h.visibleSize;if(o>O)throw new Ee(ye.ErrInvalidArgument,`from is out of range: ${o} > ${O}`);if(f>O)throw new Ee(ye.ErrInvalidArgument,`to is out of range: ${f} > ${O}`);if(o===f)return;let L=0;const V=A?h._children:h.children;for(const q of V){if(o-q.paddedSize(A)<L&&L<f){const te=q.isText?o-L:o-L-1,ce=q.isText?f-L:f-L-1,Re=A?q.totalSize:q.visibleSize,Be=!q.isText&&te<0,Ne=!q.isText&&ce>Re;(q.isText||Be)&&v([q,q.isText?"Text":"Start"],Ne),Xm(q,Math.max(0,te),Math.min(ce,Re),v,A),Ne&&v([q,"End"],Ne)}L+=q.paddedSize(A)}}function Zm(h,o,f=0){for(const v of h.children)Zm(v,o,f+1);o(h,f)}function Gf(h,o,f=0){for(const v of h._children)Gf(v,o,f+1);o(h,f)}function uc(h,o,f=!0){if(o>h.visibleSize)throw new Ee(ye.ErrInvalidArgument,`index is out of range: ${o} > ${h.visibleSize}`);if(h.isText)return{node:h,offset:o};let v=0,A=0;for(const O of h.children){if(f&&O.isText&&O.visibleSize>=o-A)return uc(O,o-A,f);if(o===A)return{node:h,offset:v};if(!f&&O.paddedSize()===o-A)return{node:h,offset:v+1};if(O.paddedSize()>o-A)return uc(O,o-A-1,f);A+=O.paddedSize(),v+=1}return{node:h,offset:v}}function pp(h){return h.isText||h.children.length===0?h:pp(h.children[0])}function Lx(h,o){if(h.visibleSize<o)throw new Ee(ye.ErrInvalidArgument,"unacceptable path");for(let f=0;f<h.children.length;f++){const v=h.children[f];if(v.visibleSize<o)o-=v.visibleSize;else{h=v;break}}return{node:h,offset:o}}class Fx{constructor(o){Y(this,"root");this.root=o}tokensBetween(o,f,v,A=!1){Xm(this.root,o,f,v,A)}traverse(o){Zm(this.root,o,0)}traverseAll(o){Gf(this.root,o,0)}findTreePos(o,f=!0){return uc(this.root,o,f)}treePosToPath(o){const f=[];let v=o.node;if(v.isText){const A=v.parent.findOffset(v);if(A===-1)throw new Ee(ye.ErrInvalidArgument,"invalid treePos");const O=Zn(v.parent,A);f.push(O+o.offset),v=v.parent}else if(v.hasTextChild()){const A=Zn(v,o.offset);f.push(A)}else f.push(o.offset);for(;v.parent;){const A=v.parent.findOffset(v);if(A===-1)throw new Ee(ye.ErrInvalidArgument,"invalid treePos");f.push(A),v=v.parent}return f.reverse()}pathToIndex(o){const f=this.pathToTreePos(o);return this.indexOf(f)}pathToTreePos(o){if(!o.length)throw new Ee(ye.ErrInvalidArgument,"unacceptable path");let f=this.root;for(let v=0;v<o.length-1;v++){const A=o[v];if(f=f.children[A],!f)throw new Ee(ye.ErrInvalidArgument,"unacceptable path")}if(f.hasTextChild())return Lx(f,o[o.length-1]);if(f.children.length<o[o.length-1])throw new Ee(ye.ErrInvalidArgument,"unacceptable path");return{node:f,offset:o[o.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(o){const{node:f,offset:v}=o;if(f.isText){if(f.visibleSize===v){const A=f.nextSibling;return A||f.parent}return f}return f.children.length===v?f:pp(f.children[v])}indexOf(o,f=!1){let{node:v}=o;const{offset:A}=o;let O=0,L=1;if(v.isText){O+=A;const V=v.parent,q=V.findOffset(v,f);if(q===-1)throw new Ee(ye.ErrInvalidArgument,"invalid pos");O+=Zn(V,q,f),v=v.parent}else O+=Zn(v,A,f);for(;v!=null&&v.parent;){const V=v.parent,q=V.findOffset(v,f);if(q===-1)throw new Ee(ye.ErrInvalidArgument,"invalid pos");O+=Zn(V,q,f),L++,v=v.parent}return O+L-1}indexToPath(o){const f=this.findTreePos(o);return this.treePosToPath(f)}}class Ui{constructor(o,f){Y(this,"parentID");Y(this,"leftSiblingID");this.parentID=o,this.leftSiblingID=f}static of(o,f){return new Ui(o,f)}static fromTreePos(o){const{offset:f}=o;let{node:v}=o,A;return v.isText?(v.parent.children[0]===v&&f===0?A=v.parent:A=v,v=v.parent):f===0?A=v:A=v.children[f-1],Ui.of(v.id,hr.of(A.getCreatedAt(),A.getOffset()+f))}getParentID(){return this.parentID}static fromStruct(o){return Ui.of(hr.of(li.fromStruct(o.parentID.createdAt),o.parentID.offset),hr.of(li.fromStruct(o.leftSiblingID.createdAt),o.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(o){const f=this.getParentID(),v=this.getLeftSiblingID(),A=o.findFloorNode(f);let O=o.findFloorNode(v);if(!A||!O)throw new Ee(ye.ErrRefused,`cannot find node of CRDTTreePos(${f.toTestString()}, ${v.toTestString()})`);return!v.equals(f)&&v.getOffset()>0&&v.getOffset()===O.id.getOffset()&&O.insPrevID&&(O=o.findFloorNode(O.insPrevID)),[A,O]}getLeftSiblingID(){return this.leftSiblingID}equals(o){return this.getParentID().getCreatedAt().equals(o.getParentID().getCreatedAt())&&this.getParentID().getOffset()===o.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(o.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===o.getLeftSiblingID().getOffset()}}class hr{constructor(o,f){Y(this,"createdAt");Y(this,"offset");this.createdAt=o,this.offset=f}static of(o,f){return new hr(o,f)}static fromStruct(o){return hr.of(li.fromStruct(o.createdAt),o.offset)}static createComparator(){return(o,f)=>{const v=o.getCreatedAt().compare(f.getCreatedAt());return v!==0?v:o.getOffset()>f.getOffset()?1:o.getOffset()<f.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(o){return this.createdAt.compare(o.createdAt)===0&&this.offset===o.offset}getOffset(){return this.offset}setOffset(o){this.offset=o}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Jr extends Rr{constructor(f,v,A,O,L){super(v);Y(this,"id");Y(this,"removedAt");Y(this,"attrs");Y(this,"insPrevID");Y(this,"insNextID");Y(this,"_value","");this.id=f,this.removedAt=L,O&&(this.attrs=O),typeof A=="string"?this.value=A:Array.isArray(A)&&(this._children=A)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(f,v,A,O){return new Jr(f,v,A,O)}deepcopy(){var v;const f=new Jr(this.id,this.type);return f.removedAt=this.removedAt,f._value=this._value,f.visibleSize=this.visibleSize,f.totalSize=this.totalSize,f.attrs=(v=this.attrs)==null?void 0:v.deepcopy(),f._children=this._children.map(A=>{const O=A.deepcopy();return O.parent=f,O}),f.insPrevID=this.insPrevID,f.insNextID=this.insNextID,f}get value(){if(!this.isText)throw new Ee(ye.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(f){if(!this.isText)throw new Ee(ye.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=f,this.visibleSize=f.length,this.totalSize=f.length}get isRemoved(){return!!this.removedAt}remove(f){return this.removedAt?(f.after(this.removedAt)&&(this.removedAt=f),!1):(this.removedAt=f,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(f){return new Jr(hr.of(this.id.getCreatedAt(),f),this.type,void 0,void 0,this.removedAt)}cloneElement(f){return new Jr(hr.of(f(),0),this.type,void 0,void 0,this.removedAt)}split(f,v,A){const[O,L]=this.isText?this.splitText(v,this.id.getOffset()):this.splitElement(v,A);if(O){if(O.insPrevID=this.id,this.insNextID){const V=f.findFloorNode(this.insNextID);V.insPrevID=O.id,O.insNextID=this.insNextID}this.insNextID=O.id,f.registerNode(O)}return[O,L]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(f,v,A){return v?!!(!this.removedAt||!A&&(f!=null&&f.after(this.removedAt))):!1}canStyle(f,v){return this.isText?!1:this.getCreatedAt().getLamport()<=v&&(!this.removedAt||f.after(this.removedAt))}setAttrs(f,v){this.attrs||(this.attrs=new Xr);const A=[];for(const[O,L]of Object.entries(f))A.push(this.attrs.set(O,L,v));return A}purge(f){this.attrs&&this.attrs.purge(f)}getDataSize(){const f={data:0,meta:0};if(this.isText&&(f.data+=this.visibleSize*2),this.id&&(f.meta+=ro),this.removedAt&&(f.meta+=ro),this.attrs)for(const v of this.attrs){if(v.getRemovedAt())continue;const A=v.getDataSize();f.meta+=A.meta,f.data+=A.data}return f}getGCPairs(){const f=[];if(!this.attrs)return f;for(const v of this.attrs)v.getRemovedAt()&&f.push({parent:this,child:v});return f}}function $f(h){var f;if(h.isText){const v=h;return{type:v.type,value:v.value}}const o={type:h.type,children:h.children.map($f)};return h.attrs&&(o.attributes=To((f=h.attrs)==null?void 0:f.toObject())),o}function gp(h){if(h.isText)return h.value;let o="";return h.attrs&&h.attrs.size()&&(o=" "+Array.from(h.attrs).filter(f=>!f.isRemoved()).sort((f,v)=>f.getKey().localeCompare(v.getKey())).map(f=>{const v=JSON.parse(f.getValue());return typeof v=="string"?`${f.getKey()}="${v}"`:`${f.getKey()}="${io(f.getValue())}"`}).join(" ")),`<${h.type}${o}>${h.children.map(f=>gp(f)).join("")}</${h.type}>`}function mp(h){if(h.isText){const o=h;return{type:o.type,value:o.value,visibleSize:o.visibleSize,isRemoved:o.isRemoved}}return{type:h.type,children:h.children.map(mp),visibleSize:h.visibleSize,isRemoved:h.isRemoved}}class Vr extends Uf{constructor(f,v){super(v);Y(this,"indexTree");Y(this,"nodeMapByID");this.indexTree=new Fx(f),this.nodeMapByID=new so(hr.createComparator()),this.indexTree.traverseAll(A=>{this.nodeMapByID.put(A.id,A)})}static create(f,v){return new Vr(f,v)}findFloorNode(f){const v=this.nodeMapByID.floorEntry(f);if(!(!v||!v.key.getCreatedAt().equals(f.getCreatedAt())))return v.value}registerNode(f){this.nodeMapByID.put(f.id,f)}findNodesAndSplitText(f,v){let A={data:0,meta:0};const[O,L]=f.toTreeNodePair(this);let V=L;const q=O===V,te=V.parent&&!q?V.parent:O;if(V.isText){const[,ce]=V.split(this,f.getLeftSiblingID().getOffset()-V.id.getOffset());A=ce}if(v){const ce=te.allChildren,Re=q?0:ce.indexOf(V)+1;for(let Be=Re;Be<ce.length;Be++){const Ne=ce[Be];if(!Ne.id.getCreatedAt().after(v))break;V=Ne}}return[[te,V],A]}style(f,v,A,O){const L={data:0,meta:0},[[V,q],te]=this.findNodesAndSplitText(f[0],A),[[ce,Re],Be]=this.findNodesAndSplitText(f[1],A);Un(L,Be,te);const Ne=[],$e=v?To(v):{},We=[];return this.traverseInPosRange(V,q,ce,Re,([st,wt])=>{var En;const ln=st.getCreatedAt().getActorID();let vn=cp;if(O!=null&&(vn=O.get(ln)?O.get(ln):0n),st.canStyle(A,vn)&&v){const Ir=st.setAttrs(v,A),gn=Ir.reduce((Yn,[,ho])=>(ho&&(Yn[ho.getKey()]=$e[ho.getKey()]),Yn),{}),Hn=st.parent,Wn=st.prevSibling||st.parent;Object.keys(gn).length>0&&Ne.push({type:"style",from:this.toIndex(Hn,Wn),to:this.toIndex(st,st),fromPath:this.toPath(Hn,Wn),toPath:this.toPath(st,st),actor:A.getActorID(),value:gn});for(const[Yn]of Ir)Yn&&We.push({parent:st,child:Yn});for(const[Yn]of Object.entries($e)){const ho=(En=st.attrs)==null?void 0:En.getNodeMapByKey().get(Yn);ho!==void 0&&wt!==Jn.End&&Un(L,ho.getDataSize())}}}),[We,Ne,L]}removeStyle(f,v,A,O){const L={data:0,meta:0},[[V,q],te]=this.findNodesAndSplitText(f[0],A),[[ce,Re],Be]=this.findNodesAndSplitText(f[1],A);Un(L,Be,te);const Ne=[],$e=[];return this.traverseInPosRange(V,q,ce,Re,([We])=>{const st=We.getCreatedAt().getActorID();let wt=cp;if(O!=null&&(wt=O.get(st)?O.get(st):0n),We.canStyle(A,wt)&&v){We.attrs||(We.attrs=new Xr);for(const En of v){const Ir=We.attrs.remove(En,A);for(const gn of Ir)$e.push({parent:We,child:gn})}const ln=We.parent,vn=We.prevSibling||We.parent;Ne.push({actor:A.getActorID(),type:"removeStyle",from:this.toIndex(ln,vn),to:this.toIndex(We,We),fromPath:this.toPath(ln,vn),toPath:this.toPath(We,We),value:v})}}),[$e,Ne,L]}edit(f,v,A,O,L,V){const q={data:0,meta:0},[[te,ce],Re]=this.findNodesAndSplitText(f[0],O),[[Be,Ne],$e]=this.findNodesAndSplitText(f[1],O);Un(q,$e,Re);const We=this.toIndex(te,ce),st=this.toPath(te,ce),wt=[],ln=[],vn=[];this.traverseInPosRange(te,ce,Be,Ne,([gn,Hn],Wn)=>{if(Hn===Jn.Start&&!Wn)for(const ed of gn.children)vn.push(ed);const Yn=V===void 0;let ho=!1;const Cc=V==null?void 0:V.get(gn.id.getCreatedAt().getActorID());ho=Yn||Cc!==void 0&&Cc>=gn.id.getCreatedAt().getLamport();let mb=!1;if(gn.removedAt){const ed=V==null?void 0:V.get(gn.removedAt.getActorID());mb=Yn||ed!==void 0&&ed>=gn.removedAt.getLamport()}(gn.canDelete(O,ho,mb)||wt.includes(gn.parent))&&((Hn===Jn.Text||Hn===Jn.Start)&&wt.push(gn),ln.push([gn,Hn]))},!0);const En=this.makeDeletionChanges(ln,O),Ir=[];for(const gn of wt)gn.remove(O),gn.isRemoved&&Ir.push({parent:this,child:gn});for(const gn of vn)gn.removedAt||te.append(gn);if(A>0){let gn=0,Hn=te,Wn=ce;for(;gn<A;)Hn.split(this,Hn.findOffset(Wn)+1,L),Wn=Hn,Hn=Hn.parent,gn++;En.push({type:"content",from:We,to:We,fromPath:st,toPath:st,actor:O.getActorID()})}if(v!=null&&v.length){const gn=[];let Hn=ce;for(const Wn of v)Hn===te?te.insertAt(Wn,0):te.insertAfter(Wn,Hn),Hn=Wn,Gf(Wn,Yn=>{te.isRemoved?(Yn.remove(O),Ir.push({parent:this,child:Yn})):Un(q,Yn.getDataSize()),this.nodeMapByID.put(Yn.id,Yn)}),Wn.isRemoved||gn.push(Wn);if(gn.length){const Wn=gn.map(Yn=>$f(Yn));En.length&&En[En.length-1].from===We?En[En.length-1].value=Wn:En.push({type:"content",from:We,to:We,fromPath:st,toPath:st,actor:O.getActorID(),value:Wn})}}return[En,Ir,q]}editT(f,v,A,O,L){const V=this.findPos(f[0]),q=this.findPos(f[1]);return this.edit([V,q],v,A,O,L)}move(f,v,A){throw new Ee(ye.ErrUnimplemented,`not implemented: ${f}, ${v}, ${A}`)}pathToTreePos(f){return this.indexTree.pathToTreePos(f)}purge(f){var O;(O=f.parent)==null||O.removeChild(f),this.nodeMapByID.remove(f.id);const v=f.insPrevID,A=f.insNextID;if(v){const L=this.findFloorNode(v);L.insNextID=A}if(A){const L=this.findFloorNode(A);L.insPrevID=v}f.insPrevID=void 0,f.insNextID=void 0}getGCPairs(){const f=[];return this.indexTree.traverse(v=>{v.getRemovedAt()&&f.push({parent:this,child:v});for(const A of v.getGCPairs())f.push(A)}),f}findPos(f,v=!0){const A=this.indexTree.findTreePos(f,v);return Ui.fromTreePos(A)}pathToPosRange(f){const v=this.pathToIndex(f);return[this.findPos(v),this.findPos(v+1)]}pathToPos(f){const v=this.indexTree.pathToIndex(f);return this.findPos(v)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return gp(this.indexTree.getRoot())}getDataSize(){const f={data:0,meta:0};return this.indexTree.traverse(v=>{if(v.getRemovedAt())return;const A=v.getDataSize();f.data+=A.data,f.meta+=A.meta}),{data:f.data,meta:f.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const f=this.indexTree.getRoot(),v=(A,O=void 0,L=void 0,V=0)=>{var Ne,$e,We,st;let q,te,ce;const Re=A.isText?{node:A,offset:0}:O&&L?this.toTreePos(O,L):null;Re&&(q=this.indexTree.indexOf(Re),te=this.indexTree.treePosToPath(Re),ce=Ui.fromTreePos(Re).toStruct());const Be={type:A.type,parent:O==null?void 0:O.id.toTestString(),size:A.visibleSize,id:A.id.toTestString(),removedAt:(Ne=A.removedAt)==null?void 0:Ne.toTestString(),insPrev:($e=A.insPrevID)==null?void 0:$e.toTestString(),insNext:(We=A.insNextID)==null?void 0:We.toTestString(),value:A.isText?A.value:void 0,isRemoved:A.isRemoved,children:[],depth:V,attributes:A.attrs?To((st=A.attrs)==null?void 0:st.toObject()):void 0,index:q,path:te,pos:ce};for(let wt=0;wt<A.allChildren.length;wt++){const ln=wt===0?A:A.allChildren[wt-1];Be.children.push(v(A.allChildren[wt],A,ln,V+1))}return Be};return v(f)}getRootTreeNode(){return $f(this.indexTree.getRoot())}toTestTreeNode(){return mp(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const f=this.getRoot(),v=new Vr(f.deepcopy(),this.getCreatedAt());return v.setRemovedAt(this.getRemovedAt()),v.setMovedAt(this.getMovedAt()),v}toPath(f,v){const A=this.toTreePos(f,v);return A?this.indexTree.treePosToPath(A):[]}toIndex(f,v,A=!1){const O=this.toTreePos(f,v,A);return O?this.indexTree.indexOf(O,A):-1}indexToPath(f){return this.indexTree.indexToPath(f)}pathToIndex(f){return this.indexTree.pathToIndex(f)}indexRangeToPosRange(f){const v=this.findPos(f[0]);return f[0]===f[1]?[v,v]:[v,this.findPos(f[1])]}indexRangeToPosStructRange(f){const[v,A]=f,O=this.findPos(v);return v===A?[O.toStruct(),O.toStruct()]:[O.toStruct(),this.findPos(A).toStruct()]}posRangeToPathRange(f){const[[v,A]]=this.findNodesAndSplitText(f[0]),[[O,L]]=this.findNodesAndSplitText(f[1]);return[this.toPath(v,A),this.toPath(O,L)]}posRangeToIndexRange(f){const[[v,A]]=this.findNodesAndSplitText(f[0]),[[O,L]]=this.findNodesAndSplitText(f[1]);return[this.toIndex(v,A),this.toIndex(O,L)]}traverseInPosRange(f,v,A,O,L,V=!1){const q=this.toIndex(f,v,V),te=this.toIndex(A,O,V);this.indexTree.tokensBetween(q,te,L,V)}toTreePos(f,v,A=!1){if(!f||!v)return;if(!A&&f.isRemoved){let L;for(;f.isRemoved;)L=f,f=L.parent;const V=f.findOffset(L,A);return{node:f,offset:V}}if(f===v)return{node:f,offset:0};let O=f.findOffset(v,A);if(A||!v.isRemoved){if(v.isText)return{node:v,offset:v.paddedSize(A)};O++}return{node:f,offset:O}}makeDeletionChanges(f,v){const A=[],O=[];let L=null,V=null;for(let q=0;q<f.length;q++){const te=f[q],ce=f[q+1];L||(L=te),V=te;const Re=this.findRightToken(te);(!Re||!ce||Re[0]!==ce[0]||Re[1]!==ce[1])&&(O.push([L,V]),L=null,V=null)}for(const q of O){const[te,ce]=q,[Re,Be]=this.findLeftToken(te),[Ne,$e]=ce,We=Be===Jn.Start?Re:Re.parent,st=$e===Jn.Start?Ne:Ne.parent,wt=this.toIndex(We,Re),ln=this.toIndex(st,Ne);wt<ln&&(A.length>0&&wt===A[A.length-1].to?(A[A.length-1].to=ln,A[A.length-1].toPath=this.toPath(st,Ne)):A.push({type:"content",from:wt,to:ln,fromPath:this.toPath(We,Re),toPath:this.toPath(st,Ne),actor:v.getActorID()}))}return A.reverse()}findRightToken([f,v]){if(v===Jn.Start){const q=f.allChildren;return q.length>0?[q[0],q[0].isText?Jn.Text:Jn.Start]:[f,Jn.End]}const A=f.parent,O=A.allChildren,L=O.indexOf(f);if(A&&L===O.length-1)return[A,Jn.End];const V=O[L+1];return[V,V.isText?Jn.Text:Jn.Start]}findLeftToken([f,v]){if(v===Jn.End){const q=f.allChildren;if(q.length>0){const te=q[q.length-1];return[te,te.isText?Jn.Text:Jn.End]}return[f,Jn.Start]}const A=f.parent,O=A.allChildren,L=O.indexOf(f);if(A&&L===0)return[A,Jn.Start];const V=O[L-1];return[V,V.isText?Jn.Text:Jn.End]}}class cl extends qr{constructor(f,v,A,O,L,V){super(f,V);Y(this,"fromPos");Y(this,"toPos");Y(this,"contents");Y(this,"splitLevel");this.fromPos=v,this.toPos=A,this.contents=O,this.splitLevel=L}static create(f,v,A,O,L,V){return new cl(f,v,A,O,L,V)}execute(f,v,A){var Re;const O=f.findByCreatedAt(this.getParentCreatedAt());if(!O)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(O instanceof Vr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const L=this.getExecutedAt(),V=O,[q,te,ce]=V.edit([this.fromPos,this.toPos],(Re=this.contents)==null?void 0:Re.map(Be=>Be.deepcopy()),this.splitLevel,L,(()=>{let Be=L.getDelimiter();return this.contents!==void 0&&(Be+=this.contents.length),()=>li.of(L.getLamport(),++Be,L.getActorID())})(),A);f.acc(ce);for(const Be of te)f.registerGCPair(Be);return{opInfos:q.map(({from:Be,to:Ne,value:$e,splitLevel:We,fromPath:st,toPath:wt})=>({type:"tree-edit",path:f.createPath(this.getParentCreatedAt()),from:Be,to:Ne,value:$e,splitLevel:We,fromPath:st,toPath:wt}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const f=this.getParentCreatedAt().toTestString(),v=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,A=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,O=this.contents||[];return`${f}.EDIT(${v},${A},${O.map(L=>gp(L)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class fl{constructor(o){Y(this,"vector");this.vector=o||new Map}set(o,f){this.vector.set(o,f)}unset(o){this.vector.delete(o)}get(o){return this.vector.get(o)}has(o){return this.vector.has(o)}maxLamport(){let o=BigInt(0);for(const[,f]of this)f>o&&(o=f);return o}max(o){const f=new Map;for(const[v,A]of o){const O=this.vector.get(v),L=O&&O>A?O:A;f.set(v,L)}for(const[v,A]of this){const O=o.get(v),L=O&&O>A?O:A;f.set(v,L)}return new fl(f)}afterOrEqual(o){const f=this.vector.get(o.getActorID());return f===void 0?!1:f>=o.getLamport()}deepcopy(){const o=new Map;for(const[f,v]of this.vector)o.set(f,v);return new fl(o)}filter(o){const f=new Map;for(const[v]of o){const A=this.vector.get(v);A!==void 0&&f.set(v,A)}return new fl(f)}size(){return this.vector.size}*[Symbol.iterator](){for(const[o,f]of this.vector)yield[o,f]}}const vp=new fl(new Map);class Vi{constructor(o,f,v,A,O){Y(this,"clientSeq");Y(this,"serverSeq");Y(this,"actor");Y(this,"lamport");Y(this,"versionVector");this.clientSeq=o,this.serverSeq=O,this.lamport=f,this.versionVector=A,this.actor=v}hasClocks(){return this.versionVector.size()>0&&this.lamport!=up}static of(o,f,v,A,O){return new Vi(o,f,v,A,O)}next(o=!1){if(o)return new Vi(this.clientSeq+1,this.lamport,this.actor,vp,up);const f=this.versionVector.deepcopy();return f.set(this.actor,this.lamport+1n),new Vi(this.clientSeq+1,this.lamport+1n,this.actor,f)}syncClocks(o){if(!o.hasClocks())return this;const f=o.lamport>this.lamport?o.lamport+1n:this.lamport+1n,v=this.versionVector.max(o.versionVector),A=new Vi(this.clientSeq,f,this.actor,v);return A.versionVector.set(this.actor,f),A}setClocks(o,f){const v=o>this.lamport?o+1n:this.lamport+1n,A=this.versionVector.max(f);return A.set(this.actor,v),Vi.of(this.clientSeq,v,this.actor,A)}createTimeTicket(o){return li.of(this.lamport,o,this.actor)}setActor(o){return new Vi(this.clientSeq,this.lamport,o,this.versionVector,this.serverSeq)}setLamport(o){return new Vi(this.clientSeq,o,this.actor,this.versionVector,this.serverSeq)}setVersionVector(o){return new Vi(this.clientSeq,this.lamport,this.actor,o,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const ms=new Vi(0,0n,lp,vp);class fa{constructor({id:o,operations:f,presenceChange:v,message:A}){Y(this,"id");Y(this,"operations");Y(this,"presenceChange");Y(this,"message");this.id=o,this.operations=f||[],this.presenceChange=v,this.message=A}static create({id:o,operations:f,presenceChange:v,message:A}){return new fa({id:o,operations:f,presenceChange:v,message:A})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(o){for(const f of this.operations)f.setActor(o);this.id=this.id.setActor(o)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(o,f,v){const A=[],O=[],L=[];for(const V of this.operations){const q=V.execute(o,v,this.id.getVersionVector());if(!q)continue;const{opInfos:te,reverseOp:ce}=q;A.push(...te),O.push(V),ce&&L.unshift(ce)}return this.presenceChange&&(this.presenceChange.type===no.Put?f.set(this.id.getActorID(),fi(this.presenceChange.presence)):f.delete(this.id.getActorID())),{operations:O,opInfos:A,reverseOps:L}}toTestString(){return`${this.operations.map(o=>o.toTestString()).join(",")}`}toStruct(){return{changeID:An.bytesToHex(An.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(o=>An.bytesToHex(An.operationToBinary(o))),presenceChange:this.getPresenceChange()}}static fromStruct(o){const{changeID:f,operations:v,presenceChange:A,message:O}=o;return fa.create({id:An.bytesToChangeID(An.hexToBytes(f)),operations:v==null?void 0:v.map(L=>An.bytesToOperation(An.hexToBytes(L))),presenceChange:A,message:O})}}class yp{constructor(o,f,v,A,O,L){Y(this,"documentKey");Y(this,"checkpoint");Y(this,"isRemoved");Y(this,"changes");Y(this,"snapshot");Y(this,"versionVector");this.documentKey=o,this.checkpoint=f,this.isRemoved=v,this.changes=A,this.snapshot=L,this.versionVector=O}static create(o,f,v,A,O,L){return new yp(o,f,v,A,O,L)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class dl{constructor(o,f){Y(this,"serverSeq");Y(this,"clientSeq");this.serverSeq=o,this.clientSeq=f}static of(o,f){return new dl(o,f)}increaseClientSeq(o){return o===0?this:new dl(this.serverSeq,this.clientSeq+o)}forward(o){if(this.equals(o))return this;const f=this.serverSeq>o.serverSeq?this.serverSeq:o.serverSeq,v=Math.max(this.clientSeq,o.clientSeq);return dl.of(f,v)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(o){return this.clientSeq===o.clientSeq&&this.serverSeq==o.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const vs=new dl(0n,0),Jm=h=>h<0?Math.ceil(h):Math.floor(h);var Ci=(h=>(h[h.Int=0]="Int",h[h.Long=1]="Long",h))(Ci||{});class yr extends Uf{constructor(f,v,A){super(A);Y(this,"valueType");Y(this,"value");switch(this.valueType=f,f){case 0:typeof v=="number"?v>Math.pow(2,31)-1||v<-Math.pow(2,31)?this.value=Ht.fromNumber(v).toInt():this.value=Jm(v):this.value=v.toInt();break;case 1:typeof v=="number"?this.value=Ht.fromNumber(v):this.value=v;break;default:throw new Ee(ye.ErrUnimplemented,`unimplemented type: ${f}`)}}static create(f,v,A){return new yr(f,v,A)}static valueFromBytes(f,v){switch(f){case 0:return v[0]|v[1]<<8|v[2]<<16|v[3]<<24;case 1:return Ht.fromBytesLE(Array.from(v));default:throw new Ee(ye.ErrUnimplemented,`unimplemented type: ${f}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const f=yr.create(this.valueType,this.value,this.getCreatedAt());return f.setRemovedAt(this.getRemovedAt()),f.setMovedAt(this.getMovedAt()),f}getType(){return this.valueType}static getCounterType(f){switch(typeof f){case"object":return f instanceof Ht?1:void 0;case"number":return f>Math.pow(2,31)-1||f<-Math.pow(2,31)?1:0;default:return}}static isSupport(f){return!!yr.getCounterType(f)}static isInteger(f){return f%1===0}isNumericType(){const f=this.valueType;return f===0||f===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const f=this.value;return new Uint8Array([f&255,f>>8&255,f>>16&255,f>>24&255])}case 1:{const v=this.value.toBytesLE();return Uint8Array.from(v)}default:throw new Ee(ye.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(f){function v(A){if(!A.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof A.getValue()}`)}return v(this),v(f),this.valueType===1?this.value=this.value.add(f.getValue()):f.getType()===Nn.Long?this.value=this.value+f.getValue().toInt():this.value=Ht.fromNumber(this.value+Jm(f.getValue())).toInt(),this}}class In extends qr{constructor(f,v,A){super(f,A);Y(this,"value");this.value=v}static create(f,v,A){return new In(f,v,A)}execute(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof yr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const A=v,O=this.value.deepcopy();return A.increase(O),{opInfos:[{type:"increase",path:f.createPath(this.getParentCreatedAt()),value:O.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const f=this.value.deepcopy(),A=f.getType()===Nn.Long?f.getValue().multiply(-1):f.getValue()*-1;return In.create(this.getParentCreatedAt(),Gn.of(A,f.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class ys extends qr{constructor(f,v,A,O,L,V){super(f,V);Y(this,"fromPos");Y(this,"toPos");Y(this,"attributes");Y(this,"attributesToRemove");this.fromPos=v,this.toPos=A,this.attributes=O,this.attributesToRemove=L}static create(f,v,A,O,L){return new ys(f,v,A,O,[],L)}static createTreeRemoveStyleOperation(f,v,A,O,L){return new ys(f,v,A,new Map,O,L)}execute(f,v,A){const O=f.findByCreatedAt(this.getParentCreatedAt());if(!O)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(O instanceof Vr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const L=O;let V,q,te={data:0,meta:0};if(this.attributes.size){const ce={};[...this.attributes].forEach(([Re,Be])=>ce[Re]=Be),[q,V,te]=L.style([this.fromPos,this.toPos],ce,this.getExecutedAt(),A)}else{const ce=this.attributesToRemove;[q,V,te]=L.removeStyle([this.fromPos,this.toPos],ce,this.getExecutedAt(),A)}f.acc(te);for(const ce of q)f.registerGCPair(ce);return{opInfos:V.map(({from:ce,to:Re,value:Be,fromPath:Ne,toPath:$e})=>({type:"tree-style",from:ce,to:Re,value:this.attributes.size?{attributes:Be}:{attributesToRemove:Be},fromPath:Ne,toPath:$e,path:f.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const f=this.getParentCreatedAt().toTestString(),v=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,A=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${f}.STYLE(${v},${A},${Object.entries(this.attributes||{}).map(([O,L])=>`${O}:"${L}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class xs extends qr{constructor(f,v,A,O){super(f,O);Y(this,"createdAt");Y(this,"value");this.createdAt=v,this.value=A}static create(f,v,A,O){return new xs(f,v,A,O)}execute(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof fr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only array can execute set");const A=v.getByID(this.createdAt).deepcopy(),O=this.toReverseOperation(this.value,A),L=this.value.deepcopy();return v.insertAfter(this.createdAt,L,this.getExecutedAt()),v.delete(this.createdAt,this.getExecutedAt()),f.registerElement(L),{opInfos:[{type:"array-set",path:f.createPath(this.getParentCreatedAt())}],reverseOp:O}}toReverseOperation(f,v){return xs.create(this.getParentCreatedAt(),f.getCreatedAt(),v)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(f){this.createdAt=f}}function kx(h){const o={};for(const[f,v]of Object.entries(h))o[f]=JSON.stringify(v);return J(us,{data:o})}function Hf(h){if(h.type===no.Put)return J(jf,{type:sl.PUT,presence:kx(h.presence)});if(h.type===no.Clear)return J(jf,{type:sl.CLEAR});throw new Ee(ye.ErrUnimplemented,"unimplemented type")}function da(h){return J(ap,{serverSeq:h.getServerSeq(),clientSeq:h.getClientSeq()})}function xp(h){return J(ip,{clientSeq:h.getClientSeq(),lamport:h.getLamport(),actorId:Cs(h.getActorID()),versionVector:hl(h.getVersionVector())})}function vt(h){if(h)return J(Fm,{lamport:h.getLamport(),delimiter:h.getDelimiter(),actorId:Cs(h.getActorID())})}function hl(h){if(!h)return;const o=J(ia);for(const[f,v]of h){const A=s0(Cs(f));o.vector[A]=BigInt(v.toString())}return o}function lo(h){switch(h){case Nn.Null:return zt.NULL;case Nn.Boolean:return zt.BOOLEAN;case Nn.Integer:return zt.INTEGER;case Nn.Long:return zt.LONG;case Nn.Double:return zt.DOUBLE;case Nn.String:return zt.STRING;case Nn.Bytes:return zt.BYTES;case Nn.Date:return zt.DATE;default:throw new Ee(ye.ErrInvalidType,`unsupported type: ${h}`)}}function Qm(h){switch(h){case Ci.Int:return zt.INTEGER_CNT;case Ci.Long:return zt.LONG_CNT;default:throw new Ee(ye.ErrInvalidType,`unsupported type: ${h}`)}}function cc(h){if(h instanceof Er)return J(ls,{type:zt.JSON_OBJECT,createdAt:vt(h.getCreatedAt()),value:ei(h)});if(h instanceof fr)return J(ls,{type:zt.JSON_ARRAY,createdAt:vt(h.getCreatedAt()),value:o0(h)});if(h instanceof Zr)return J(ls,{type:zt.TEXT,createdAt:vt(h.getCreatedAt())});if(h instanceof Gn)return J(ls,{type:lo(h.getType()),createdAt:vt(h.getCreatedAt()),value:h.toBytes()});if(h instanceof yr)return J(ls,{type:Qm(h.getType()),createdAt:vt(h.getCreatedAt()),value:h.toBytes()});if(h instanceof Vr)return J(ls,{type:zt.TREE,createdAt:vt(h.getCreatedAt()),value:wp(h)});throw new Ee(ye.ErrUnimplemented,"unimplemented element")}function Bx(h){return J(Mm,{createdAt:vt(h.getCreatedAt()),offset:h.getOffset()})}function fc(h){return J(Lm,{createdAt:vt(h.getID().getCreatedAt()),offset:h.getID().getOffset(),relativeOffset:h.getRelativeOffset()})}function dc(h){return J(Bf,{parentId:ha(h.getParentID()),leftSiblingId:ha(h.getLeftSiblingID())})}function ha(h){return J(Pm,{createdAt:vt(h.getCreatedAt()),offset:h.getOffset()})}function bp(h){const o=J(nc);if(h instanceof la){const f=h,v=J(wx);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.key=f.getKey(),v.value=cc(f.getValue()),v.executedAt=vt(f.getExecutedAt()),o.body.case="set",o.body.value=v}else if(h instanceof Bi){const f=h,v=J(Nm);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.prevCreatedAt=vt(f.getPrevCreatedAt()),v.value=cc(f.getValue()),v.executedAt=vt(f.getExecutedAt()),o.body.case="add",o.body.value=v}else if(h instanceof ji){const f=h,v=J(_m);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.prevCreatedAt=vt(f.getPrevCreatedAt()),v.createdAt=vt(f.getCreatedAt()),v.executedAt=vt(f.getExecutedAt()),o.body.case="move",o.body.value=v}else if(h instanceof Ei){const f=h,v=J(oa);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.createdAt=vt(f.getCreatedAt()),v.executedAt=vt(f.getExecutedAt()),o.body.case="remove",o.body.value=v}else if(h instanceof No){const f=h,v=J(Gt);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.from=fc(f.getFromPos()),v.to=fc(f.getToPos()),v.content=f.getContent();const A=v.attributes;for(const[O,L]of f.getAttributes())A[O]=L;v.executedAt=vt(f.getExecutedAt()),o.body.case="edit",o.body.value=v}else if(h instanceof lc){const f=h,v=J(Tn);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.from=fc(f.getFromPos()),v.to=fc(f.getToPos());const A=v.attributes;for(const[O,L]of f.getAttributes())A[O]=L;v.executedAt=vt(f.getExecutedAt()),o.body.case="style",o.body.value=v}else if(h instanceof In){const f=h,v=J(lr);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.value=cc(f.getValue()),v.executedAt=vt(f.getExecutedAt()),o.body.case="increase",o.body.value=v}else if(h instanceof cl){const f=h,v=J(op);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.from=dc(f.getFromPos()),v.to=dc(f.getToPos()),v.contents=zx(f.getContents()),v.splitLevel=f.getSplitLevel(),v.executedAt=vt(f.getExecutedAt()),o.body.case="treeEdit",o.body.value=v}else if(h instanceof ys){const f=h,v=J(rc);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.from=dc(f.getFromPos()),v.to=dc(f.getToPos());const A=f.getAttributesToRemove();if(A.length>0)v.attributesToRemove=A;else{const O=v.attributes;for(const[L,V]of f.getAttributes())O[L]=V}v.executedAt=vt(f.getExecutedAt()),o.body.case="treeStyle",o.body.value=v}else if(h instanceof xs){const f=h,v=J(ol);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.createdAt=vt(f.getCreatedAt()),v.value=cc(f.getValue()),v.executedAt=vt(f.getExecutedAt()),o.body.case="arraySet",o.body.value=v}else throw new Ee(ye.ErrUnimplemented,"unimplemented operation");return o}function bs(h){const o=[];for(const f of h)o.push(bp(f));return o}function rr(h){const o=J(Cx,{id:xp(h.getID()),message:h.getMessage()});return h.hasOperations()&&(o.operations=bs(h.getOperations())),h.hasPresenceChange()&&(o.presenceChange=Hf(h.getPresenceChange())),o}function e0(h){const o=[];for(const f of h)o.push(rr(f));return o}function jx(h){const o=[];for(const f of h)o.push(J(Tx,{key:f.getStrKey(),element:Qr(f.getValue())}));return o}function xr(h){const o=[];for(const f of h)o.push(J(K1,{element:Qr(f.getValue())}));return o}function Q1(h){const o=[];for(const f of h){const v=J(Dm);v.id=Bx(f.getID()),v.value=f.getValue().getContent(),v.removedAt=vt(f.getRemovedAt());const A=v.attributes,O=f.getValue().getAttrs();for(const L of O){const V=J(sp);V.value=L.getValue(),V.updatedAt=vt(L.getUpdatedAt()),A[L.getKey()]=V}o.push(v)}return o}function zx(h){const o=[];if(!h||!h.length)return o;for(const f of h)o.push(J(ur,{content:Fn(f)}));return o}function Ux(h){const o={};for(const f of h)o[f.getKey()]=J(sp,{value:f.getValue(),updatedAt:vt(f.getUpdatedAt()),isRemoved:f.isRemoved()});return o}function Fn(h){if(!h)return[];const o=[];return Gf(h,(f,v)=>{const A=J(ai,{id:ha(f.id),type:f.type,removedAt:vt(f.removedAt),depth:v});f.isText&&(A.value=f.value),f.insPrevID&&(A.insPrevId=ha(f.insPrevID)),f.insNextID&&(A.insNextId=ha(f.insNextID)),f.attrs&&(A.attributes=Ux(f.attrs)),o.push(A)}),o}function di(h){return J(Ur,{body:{case:"jsonObject",value:J(ic,{nodes:jx(h.getRHT()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function _o(h){return J(Ur,{body:{case:"jsonArray",value:J(q1,{nodes:xr(h.getElements()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Vx(h){return J(Ur,{body:{case:"primitive",value:J(nr,{type:lo(h.getType()),value:h.toBytes(),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Gx(h){return J(Ur,{body:{case:"text",value:J(Im,{nodes:Q1(h.getRGATreeSplit()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function eA(h){return J(Ur,{body:{case:"counter",value:J(Om,{type:Qm(h.getType()),value:h.toBytes(),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Sp(h){return J(Ur,{body:{case:"tree",value:J(Rx,{nodes:Fn(h.getRoot()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Qr(h){if(h instanceof Er)return di(h);if(h instanceof fr)return _o(h);if(h instanceof Gn)return Vx(h);if(h instanceof Zr)return Gx(h);if(h instanceof yr)return eA(h);if(h instanceof Vr)return Sp(h);throw new Ee(ye.ErrUnimplemented,"unimplemented element")}function uo(h){return J(kf,{documentKey:h.getDocumentKey(),checkpoint:da(h.getCheckpoint()),isRemoved:h.getIsRemoved(),changes:e0(h.getChanges()),snapshot:h.getSnapshot(),versionVector:hl(h.getVersionVector())})}function $x(h){return{id:h.id,label:h.label,description:h.description,snapshot:h.snapshot,createdAt:h.createdAt?Jy(h.createdAt):new Date}}function Tr(h){if(!(h instanceof Zt))return{};const o=h.findDetails(Bm);for(const f of o)return f.metadata;return{}}function pl(h){return Tr(h).code??""}function Io(h,o){return h instanceof Zt&&pl(h)===o}function pa(h){return Vi.of(h.clientSeq,BigInt(h.lamport),pr(h.actorId),Oo(h.versionVector),BigInt(h.serverSeq))}function Oo(h){if(!h)return;const o=new fl;return Object.entries(h.vector).forEach(([f,v])=>{const A=co(vc(f));o.set(A,BigInt(v.toString()))}),o}function yt(h){if(h)return li.of(BigInt(h.lamport),h.delimiter,pr(h.actorId))}function Wf(h){const o={};return Object.entries(h.data).forEach(([f,v])=>{o[f]=JSON.parse(v)}),o}function Do(h){const o=h.type;if(o===sl.PUT){const f=Wf(h.presence);return{type:no.Put,presence:f}}if(o===sl.CLEAR)return{type:no.Clear};throw new Ee(ye.ErrInvalidType,`unsupported type: ${o}`)}function Hx(h){const o=new Map;return Object.entries(h).forEach(([f,v])=>{o.set(f,Wf(v))}),o}function gl(h){switch(h){case zt.NULL:return Nn.Null;case zt.BOOLEAN:return Nn.Boolean;case zt.INTEGER:return Nn.Integer;case zt.LONG:return Nn.Long;case zt.DOUBLE:return Nn.Double;case zt.STRING:return Nn.String;case zt.BYTES:return Nn.Bytes;case zt.DATE:return Nn.Date}throw new Ee(ye.ErrUnimplemented,`unimplemented value type: ${h}`)}function ga(h){switch(h){case zt.INTEGER_CNT:return Ci.Int;case zt.LONG_CNT:return Ci.Long}throw new Ee(ye.ErrUnimplemented,`unimplemented value type: ${h}`)}function ma(h){switch(h.type){case zt.JSON_OBJECT:return h.value?mc(h.value):Er.create(yt(h.createdAt));case zt.JSON_ARRAY:return h.value?i0(h.value):fr.create(yt(h.createdAt));case zt.TEXT:return Zr.create(ll.create(),yt(h.createdAt));case zt.TREE:return Cp(h.value);case zt.NULL:case zt.BOOLEAN:case zt.INTEGER:case zt.LONG:case zt.DOUBLE:case zt.STRING:case zt.BYTES:case zt.DATE:return Gn.of(Gn.valueFromBytes(gl(h.type),h.value),yt(h.createdAt));case zt.INTEGER_CNT:case zt.LONG_CNT:return yr.create(ga(h.type),yr.valueFromBytes(ga(h.type),h.value),yt(h.createdAt))}}function Ss(h){return dr.of(_n.of(yt(h.createdAt),h.offset),h.relativeOffset)}function t0(h){return _n.of(yt(h.createdAt),h.offset)}function Wx(h){const o=ca.create(h.value);Object.entries(h.attributes).forEach(([v,A])=>{o.setAttr(v,A.value,yt(A.updatedAt))});const f=Ro.create(t0(h.id),o);return f.setRemovedAt(yt(h.removedAt)),f}function Mo(h){return Ui.of(hc(h.parentId),hc(h.leftSiblingId))}function hc(h){return hr.of(yt(h.createdAt),h.offset)}function Ap(h){if(!h.length)return;const o=[];return h.forEach(f=>{const v=Ep(f.content);o.push(v)}),o}function Ep(h){if(h.length===0)return;const o=[];for(const A of h)o.push(nA(A));const f=o[o.length-1],v=new Map;v.set(h[o.length-1].depth,o[o.length-1]);for(let A=o.length-2;A>=0;A--)v.get(h[A].depth-1).prepend(o[A]),v.set(h[A].depth,o[A]);return f.updateDescendantsSize(),f.updateDescendantsSize(!0),Vr.create(f,al).getRoot()}function tA(h){const o=Xr.create();for(const[f,v]of Object.entries(h))o.setInternal(f,v.value,yt(v.updatedAt),v.isRemoved);return o}function nA(h){const o=hc(h.id),f=Jr.create(o,h.type),v=Object.entries(h.attributes);return f.isText?f.value=h.value:v.length&&(f.attrs=tA(h.attributes)),h.insPrevId&&(f.insPrevID=hc(h.insPrevId)),h.insNextId&&(f.insNextID=hc(h.insNextId)),f.removedAt=yt(h.removedAt),f}function mn(h){if(h.body.case==="set"){const o=h.body.value;return la.create(o.key,ma(o.value),yt(o.parentCreatedAt),yt(o.executedAt))}else if(h.body.case==="add"){const o=h.body.value;return Bi.create(yt(o.parentCreatedAt),yt(o.prevCreatedAt),ma(o.value),yt(o.executedAt))}else if(h.body.case==="move"){const o=h.body.value;return ji.create(yt(o.parentCreatedAt),yt(o.prevCreatedAt),yt(o.createdAt),yt(o.executedAt))}else if(h.body.case==="remove"){const o=h.body.value;return Ei.create(yt(o.parentCreatedAt),yt(o.createdAt),yt(o.executedAt))}else if(h.body.case==="edit"){const o=h.body.value,f=new Map;return Object.entries(o.attributes).forEach(([v,A])=>{f.set(v,A)}),No.create(yt(o.parentCreatedAt),Ss(o.from),Ss(o.to),o.content,f,yt(o.executedAt))}else if(h.body.case==="style"){const o=h.body.value,f=new Map;return Object.entries(o.attributes).forEach(([v,A])=>{f.set(v,A)}),lc.create(yt(o.parentCreatedAt),Ss(o.from),Ss(o.to),f,yt(o.executedAt))}else if(h.body.case==="increase"){const o=h.body.value;return In.create(yt(o.parentCreatedAt),ma(o.value),yt(o.executedAt))}else if(h.body.case==="treeEdit"){const o=h.body.value;return cl.create(yt(o.parentCreatedAt),Mo(o.from),Mo(o.to),Ap(o.contents),o.splitLevel,yt(o.executedAt))}else if(h.body.case==="treeStyle"){const o=h.body.value,f=new Map,v=o.attributesToRemove;return(v==null?void 0:v.length)>0?ys.createTreeRemoveStyleOperation(yt(o.parentCreatedAt),Mo(o.from),Mo(o.to),v,yt(o.executedAt)):(Object.entries(o.attributes).forEach(([A,O])=>{f.set(A,O)}),ys.create(yt(o.parentCreatedAt),Mo(o.from),Mo(o.to),f,yt(o.executedAt)))}else if(h.body.case==="arraySet"){const o=h.body.value;return xs.create(yt(o.parentCreatedAt),yt(o.createdAt),ma(o.value),yt(o.executedAt))}else throw new Ee(ye.ErrUnimplemented,"unimplemented operation")}function kn(h){const o=[];for(const f of h){const v=mn(f);v&&o.push(v)}return o}function Wt(h){const o=[];for(const f of h)o.push(fa.create({id:pa(f.id),operations:kn(f.operations),presenceChange:f.presenceChange?Do(f.presenceChange):void 0,message:f.message}));return o}function rn(h){return dl.of(BigInt(h.serverSeq),h.clientSeq)}function Sn(h){return yp.create(h.documentKey,rn(h.checkpoint),h.isRemoved,Wt(h.changes),Oo(h.versionVector),h.snapshot)}function hi(h){const o=new ds;for(const v of h.nodes){const A=Po(v.element);o.set(v.key,A,A.getPositionedAt())}const f=new Er(yt(h.createdAt),o);return f.setMovedAt(yt(h.movedAt)),f.setRemovedAt(yt(h.removedAt)),f}function As(h){const o=new ps;for(const v of h.nodes)o.insert(Po(v.element));const f=new fr(yt(h.createdAt),o);return f.setMovedAt(yt(h.movedAt)),f.setRemovedAt(yt(h.removedAt)),f}function pc(h){const o=Gn.of(Gn.valueFromBytes(gl(h.type),h.value),yt(h.createdAt));return o.setMovedAt(yt(h.movedAt)),o.setRemovedAt(yt(h.removedAt)),o}function n0(h){const o=new ll;let f=o.getHead();for(const A of h.nodes){const O=o.insertAfter(f,Wx(A));A.insPrevId&&O.setInsPrev(o.findNode(t0(A.insPrevId))),f=O}const v=new Zr(o,yt(h.createdAt));return v.setMovedAt(yt(h.movedAt)),v.setRemovedAt(yt(h.removedAt)),v}function Es(h){const o=yr.create(ga(h.type),yr.valueFromBytes(ga(h.type),h.value),yt(h.createdAt));return o.setMovedAt(yt(h.movedAt)),o.setRemovedAt(yt(h.removedAt)),o}function $n(h){const o=Ep(h.nodes);return Vr.create(o,yt(h.createdAt))}function Po(h){if(h.body.case==="jsonObject")return hi(h.body.value);if(h.body.case==="jsonArray")return As(h.body.value);if(h.body.case==="primitive")return pc(h.body.value);if(h.body.case==="text")return n0(h.body.value);if(h.body.case==="counter")return Es(h.body.value);if(h.body.case==="tree")return $n(h.body.value);throw new Ee(ye.ErrUnimplemented,"unimplemented element")}function ml(h){return h.map(o=>({path:o.path,type:o.type}))}function r0(h){if(!h)return{root:Er.create(al),presences:new Map};const o=Pi(Ff,h);return{root:Po(o.root),presences:Hx(o.presences)}}function Gi(h){const o=hl(h);return co(Li(ia,o))}function gc(h){const o=Lo(h),f=Pi(ia,o);return Oo(f)}function mc(h){if(!h)throw new Ee(ye.ErrInvalidArgument,"bytes is empty");const o=Pi(Ur,h);return hi(o.body.value)}function ei(h){return Li(Ur,Qr(h))}function i0(h){if(!h)throw new Ee(ye.ErrInvalidArgument,"bytes is empty");const o=Pi(Ur,h);return As(o.body.value)}function o0(h){return Li(Ur,_o(h))}function Cp(h){if(!h)throw new Ee(ye.ErrInvalidArgument,"bytes is empty");const o=Pi(Ur,h);return $n(o.body.value)}function wp(h){return Li(Ur,Sp(h))}function co(h){return h?Array.from(h).map(o=>o.toString(16).padStart(2,"0")).join(""):""}function pr(h){return co(h)}function Lo(h){return new Uint8Array(h.match(/.{1,2}/g).map(o=>parseInt(o,16)))}function vc(h){if(typeof window<"u"&&typeof window.atob=="function"){const o=window.atob(h),f=o.length,v=new Uint8Array(f);for(let A=0;A<f;A++)v[A]=o.charCodeAt(A);return v}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const o=globalThis.Buffer;return new Uint8Array(o.from(h,"base64"))}else throw new Error("No base64 decoder available")}function Cs(h){return Lo(h)}function s0(h){if(typeof window<"u"&&typeof window.btoa=="function"){let o="";for(let f=0;f<h.byteLength;f++)o+=String.fromCharCode(h[f]);return window.btoa(o)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(h).toString("base64");throw new Error("No base64 encoder available")}}function a0(h){const o=Pi(ip,h);return pa(o)}function Yx(h){const o=Pi(nc,h);return mn(o)}const An={fromPresence:Wf,toChangePack:uo,fromChangePack:Sn,fromChanges:Wt,toTreeNodes:Fn,fromTreeNodes:Ep,objectToBytes:ei,bytesToObject:mc,bytesToSnapshot:r0,bytesToHex:co,hexToBytes:Lo,toHexString:pr,toUint8Array:Cs,toOperation:bp,toChangeID:xp,bytesToChangeID:a0,bytesToOperation:Yx,versionVectorToHex:Gi,hexToVersionVector:gc,fromSchemaRules:ml,toRevisionSummary:$x,changeIDToBinary:h=>Li(ip,xp(h)),operationToBinary:h=>Li(nc,bp(h))};var Gr=(h=>(h[h.Trivial=0]="Trivial",h[h.Debug=1]="Debug",h[h.Info=2]="Info",h[h.Warn=3]="Warn",h[h.Error=4]="Error",h[h.Fatal=5]="Fatal",h))(Gr||{});let gr=3;function qx(h){gr=h}const Je={trivial:(...h)=>{gr>0||typeof console<"u"&&console.log("YORKIE T:",...h)},debug:(...h)=>{gr>1||typeof console<"u"&&console.log("YORKIE D:",...h)},info:(...h)=>{gr>2||typeof console<"u"&&console.log("YORKIE I:",...h)},warn:(...h)=>{gr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...h):console.log("YORKIE W:",...h))},error:(...h)=>{gr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...h):console.log("YORKIE E:",...h))},fatal:(...h)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...h):console.log("YORKIE F:",...h))},isEnabled:h=>gr<=h};function l0(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,h=>{const o=Math.random()*16|0;return(h==="x"?o:o&3|8).toString(16)})}const Rp=()=>{};class rA{constructor(o){Y(this,"finalized",!1);Y(this,"observers",[]);Y(this,"finalError");try{o(this)}catch(f){this.error(f)}}next(o){this.forEachObserver(f=>{f.next(o)})}error(o){this.forEachObserver(f=>{f.error(o)}),this.close(o)}complete(){this.forEachObserver(o=>{o.complete()}),this.close()}subscribe(o,f,v){let A;if(!o)throw new Ee(ye.ErrInvalidArgument,"missing observer");if(this.finalized)throw new Ee(ye.ErrRefused,"observable is finalized due to previous error");typeof o=="object"?A=o:A={next:o,error:f,complete:v},A.next===void 0&&(A.next=Rp),A.error===void 0&&(A.error=Rp),A.complete===void 0&&(A.complete=Rp);const O=l0(),L=this.unsubscribeOne.bind(this,O);if(this.observers.push({subscriptionID:O,observer:A}),this.finalized)try{this.finalError?A.error(this.finalError):A.complete()}catch(V){Je.warn(V)}return L}unsubscribeOne(o){var f;this.observers=(f=this.observers)==null?void 0:f.filter(v=>v.subscriptionID!==o)}forEachObserver(o){if(!this.finalized)for(let f=0;f<this.observers.length;f++)this.sendOne(f,o)}sendOne(o,f){if(this.observers!==void 0&&this.observers[o]!==void 0)try{f(this.observers[o].observer)}catch(v){Je.error(v)}}close(o){this.finalized||(this.finalized=!0,o!==void 0&&(this.finalError=o),this.observers=void 0)}}function ws(h){const o=new rA(h);return{subscribe:o.subscribe.bind(o),getProxy:()=>o}}class va{constructor(o,f,v,A){Y(this,"prevID");Y(this,"nextID");Y(this,"delimiter");Y(this,"message");Y(this,"root");Y(this,"operations");Y(this,"presenceChange");Y(this,"previousPresence");Y(this,"reversePresenceKeys");this.prevID=o,this.nextID=o.next(),this.delimiter=jm,this.root=f,this.operations=[],this.previousPresence=fi(v),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=A}static create(o,f,v,A){return new va(o,f,v,A)}push(o){this.operations.push(o)}registerElement(o,f){this.root.registerElement(o,f)}registerRemovedElement(o){this.root.registerRemovedElement(o)}registerGCPair(o){this.root.registerGCPair(o)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const o=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return fa.create({id:o,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(o){this.presenceChange=o}setReversePresence(o,f){for(const v of Object.keys(o))f!=null&&f.addToHistory?this.reversePresenceKeys.add(v):this.reversePresenceKeys.delete(v)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const o={};for(const f of this.reversePresenceKeys)o[f]=this.previousPresence[f];return o}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(o){this.root.acc(o)}}function Tp(h,o){const f=new Fo(h);return new Proxy(o,f.getHandlers())}class Fo{constructor(o){Y(this,"context");Y(this,"handlers");this.context=o,this.handlers={set:(f,v,A)=>(Je.isEnabled(Gr.Trivial)&&Je.trivial(`obj[${v}]=${JSON.stringify(A)}`),Fo.setInternal(o,f,v,A),!0),get:(f,v)=>(Je.isEnabled(Gr.Trivial)&&Je.trivial(`obj[${v}]`),v==="getID"?()=>f.getCreatedAt():v==="toJSON"||v==="toString"?()=>f.toJSON():v==="toJS"?()=>f.toJS():v==="toJSForTest"?()=>f.toJSForTest():xa(o,f.get(v))),ownKeys:f=>f.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(f,v)=>(Je.isEnabled(Gr.Trivial)&&Je.trivial(`obj[${v}]`),Fo.deleteInternal(o,f,v),!0)}}static setInternal(o,f,v,A){if(v.includes("."))throw new Ee(ye.ErrInvalidObjectKey,"key must not contain the '.'.");const O=o.issueTimeTicket(),L=ba(o,A,O),V=f.set(v,L,O);o.registerElement(L,f),V&&o.registerRemovedElement(V),o.push(la.create(v,L.deepcopy(),f.getCreatedAt(),O))}static buildObjectMembers(o,f){const v={};for(const[A,O]of Object.entries(f)){if(A.includes("."))throw new Ee(ye.ErrInvalidObjectKey,"key must not contain the '.'.");const L=o.issueTimeTicket(),V=ba(o,O,L);v[A]=V}return v}static deleteInternal(o,f,v){const A=o.issueTimeTicket(),O=f.deleteByKey(v,A);O&&(o.push(Ei.create(f.getCreatedAt(),O.getCreatedAt(),A)),o.registerRemovedElement(O))}getHandlers(){return this.handlers}}function Kx(h,o){const f=new an(h,o);return new Proxy(o,f.getHandlers())}function u0(h){return typeof h=="string"||h instanceof String?!isNaN(h):!1}function Xx(h){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(h)}class an{constructor(o,f){Y(this,"context");Y(this,"handlers");Y(this,"array");this.context=o,this.array=f,this.handlers={get:(v,A,O)=>A==="getID"?()=>v.getCreatedAt():A==="getElementByID"?L=>{const V=v.getByID(L);if(!(!V||V.isRemoved()))return $i(o,V)}:A==="getElementByIndex"?L=>{const V=v.get(L);return $i(o,V)}:A==="getLast"?()=>$i(o,v.getLast()):A==="delete"?L=>{const V=an.deleteInternalByIndex(o,v,L);return $i(o,V)}:A==="deleteByID"?L=>{const V=an.deleteInternalByID(o,v,L);return $i(o,V)}:A==="insertAfter"?(L,V)=>{const q=an.insertAfterInternal(o,v,L,V);return $i(o,q)}:A==="insertIntegerAfter"?(L,V)=>{const q=an.insertIntegerAfterInternal(o,v,L,V);return $i(o,q)}:A==="insertBefore"?(L,V)=>{const q=an.insertBeforeInternal(o,v,L,V);return $i(o,q)}:A==="setValue"?(L,V)=>{const q=an.setValueInternal(o,v,L,V);return $i(o,q)}:A==="moveBefore"?(L,V)=>{an.moveBeforeInternal(o,v,L,V)}:A==="moveAfter"?(L,V)=>{an.moveAfterInternal(o,v,L,V)}:A==="moveAfterByIndex"?(L,V)=>{an.moveAfterByIndexInternal(o,v,L,V)}:A==="moveFront"?L=>{an.moveFrontInternal(o,v,L)}:A==="moveLast"?L=>{an.moveLastInternal(o,v,L)}:u0(A)?xa(o,v.get(Number(A))):A==="push"?L=>an.pushInternal(o,v,L):A==="splice"?(L,V,...q)=>an.splice(o,v,L,V,...q):A==="length"?v.length:typeof A=="symbol"&&A===Symbol.iterator?an.iteratorInternal.bind(this,o,v):A==="includes"?(L,V)=>an.includes(o,v,L,V):A==="indexOf"?(L,V)=>an.indexOf(o,v,L,V):A==="lastIndexOf"?(L,V)=>an.lastIndexOf(o,v,L,V):A==="toJSForTest"?()=>v.toJSForTest():A==="toTestString"?()=>an.toTestString(v):typeof A=="string"&&Xx(A)?(...L)=>{const V=Array.from(v).map(q=>xa(o,q));return Array.prototype[A].apply(V,L)}:Reflect.get(v,A,O),set:(v,A,O)=>{if(u0(A)){const L=Number(A);return an.setValueInternal(o,v,L,O),!0}return Reflect.set(v,A,O)},deleteProperty:(v,A)=>(Je.isEnabled(Gr.Trivial)&&Je.trivial(`array[${A}]`),an.deleteInternalByIndex(o,v,Number.parseInt(A)),!0)}}static*iteratorInternal(o,f){for(const v of f)yield $i(o,v)}static buildArrayElements(o,f){const v=[];for(const A of f){const O=o.issueTimeTicket(),L=ba(o,A,O);v.push(L)}return v}static pushInternal(o,f,v){return an.insertAfterInternal(o,f,f.getLastCreatedAt(),v),f.length}static moveBeforeInternal(o,f,v,A){const O=o.issueTimeTicket(),L=f.getPrevCreatedAt(v);f.moveAfter(L,A,O),o.push(ji.create(f.getCreatedAt(),L,A,O))}static moveAfterInternal(o,f,v,A){const O=o.issueTimeTicket();o.push(ji.create(f.getCreatedAt(),v,A,O)),f.moveAfter(v,A,O)}static moveAfterByIndexInternal(o,f,v,A){const O=f.get(v);if(!O)throw new Ee(ye.ErrInvalidArgument,`index out of bounds: ${v}`);const L=f.get(A);if(!L)throw new Ee(ye.ErrInvalidArgument,`index out of bounds: ${A}`);an.moveAfterInternal(o,f,O.getCreatedAt(),L.getCreatedAt())}static moveFrontInternal(o,f,v){const A=o.issueTimeTicket(),O=f.getHead();f.moveAfter(O.getCreatedAt(),v,A),o.push(ji.create(f.getCreatedAt(),O.getCreatedAt(),v,A))}static moveLastInternal(o,f,v){const A=o.issueTimeTicket(),O=f.getLastCreatedAt();f.moveAfter(O,v,A),o.push(ji.create(f.getCreatedAt(),O,v,A))}static insertAfterInternal(o,f,v,A){const O=o.issueTimeTicket(),L=ba(o,A,O);return f.insertAfter(v,L),o.registerElement(L,f),o.push(Bi.create(f.getCreatedAt(),v,L.deepcopy(),O)),L}static insertIntegerAfterInternal(o,f,v,A){const O=f.get(v);if(!O)throw new Ee(ye.ErrInvalidArgument,`index out of bounds: ${v}`);return an.insertAfterInternal(o,f,O.getCreatedAt(),A),f}static insertBeforeInternal(o,f,v,A){return an.insertAfterInternal(o,f,f.getPrevCreatedAt(v),A)}static setValueInternal(o,f,v,A){const O=f.get(v);if(!O)throw new Ee(ye.ErrInvalidArgument,`index out of bounds: ${v}`);return an.setByIndexInternal(o,f,O.getCreatedAt(),A),f}static setByIndexInternal(o,f,v,A){const O=o.issueTimeTicket(),L=ba(o,A,O),V=L.deepcopy();return o.push(xs.create(f.getCreatedAt(),v,V,O)),f.set(v,L,O),o.registerElement(L,f),L}static deleteInternalByIndex(o,f,v){const A=o.issueTimeTicket(),O=f.deleteByIndex(v,A);if(O)return o.push(Ei.create(f.getCreatedAt(),O.getCreatedAt(),A)),o.registerRemovedElement(O),O}static deleteInternalByID(o,f,v){const A=o.issueTimeTicket(),O=f.delete(v,A);return o.push(Ei.create(f.getCreatedAt(),O.getCreatedAt(),A)),o.registerRemovedElement(O),O}static splice(o,f,v,A,...O){const L=f.length,V=v>=0?Math.min(v,L):Math.max(L+v,0),q=A===void 0?L:A<0?V:Math.min(V+A,L),te=[];for(let ce=V;ce<q;ce++){const Re=an.deleteInternalByIndex(o,f,V);if(Re){const Be=Re.deepcopy();Be.setRemovedAt(),te.push(xa(o,Be))}}if(O){let ce=V===0?f.getHead().getID():f.get(V-1).getID();for(const Re of O)ce=an.insertAfterInternal(o,f,ce,Re).getID()}return te}static includes(o,f,v,A){var V;const O=f.length,L=A===void 0?0:A<0?Math.max(A+O,0):A;if(L>=O)return!1;if(Gn.isSupport(v))return Array.from(f).map(te=>xa(o,te)).includes(v,L);for(let q=L;q<O;q++)if(((V=f.get(q))==null?void 0:V.getID())===v.getID())return!0;return!1}static indexOf(o,f,v,A){var V;const O=f.length,L=A===void 0?0:A<0?Math.max(A+O,0):A;if(L>=O)return-1;if(Gn.isSupport(v))return Array.from(f).map(te=>xa(o,te)).indexOf(v,L);for(let q=L;q<O;q++)if(((V=f.get(q))==null?void 0:V.getID())===v.getID())return q;return-1}static lastIndexOf(o,f,v,A){var V;const O=f.length,L=A===void 0||A>=O?O-1:A<0?A+O:A;if(L<0)return-1;if(Gn.isSupport(v))return Array.from(f).map(te=>xa(o,te)).lastIndexOf(v,L);for(let q=L;q>0;q--)if(((V=f.get(q))==null?void 0:V.getID())===v.getID())return q;return-1}static toTestString(o){return o.toTestString()}getHandlers(){return this.handlers}}class Yf{constructor(o,f){Y(this,"context");Y(this,"text");this.context=o,this.text=f}initialize(o,f){this.context=o,this.text=f}getID(){return this.text.getID()}edit(o,f,v,A){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");if(o>f)throw new Ee(ye.ErrInvalidArgument,"from should be less than or equal to to");const O=this.text.indexRangeToPosRange(o,f);Je.isEnabled(Gr.Debug)&&Je.debug(`EDIT: f:${o}->${O[0].toTestString()}, t:${f}->${O[1].toTestString()} c:${v}`);const L=A?ul(A):void 0,V=this.context.issueTimeTicket(),[,q,te,ce]=this.text.edit(O,v,V,L);this.context.acc(te);for(const Re of q)this.context.registerGCPair(Re);return this.context.push(new No(this.text.getCreatedAt(),O[0],O[1],v,L?new Map(Object.entries(L)):new Map,V)),this.text.findIndexesFromRange(ce)}delete(o,f){return this.edit(o,f,"")}empty(){return this.edit(0,this.length,"")}setStyle(o,f,v){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");if(o>f)throw new Ee(ye.ErrInvalidArgument,"from should be less than or equal to to");const A=this.text.indexRangeToPosRange(o,f);Je.isEnabled(Gr.Debug)&&Je.debug(`STYL: f:${o}->${A[0].toTestString()}, t:${f}->${A[1].toTestString()} a:${JSON.stringify(v)}`);const O=ul(v),L=this.context.issueTimeTicket(),[V,q]=this.text.setStyle(A,O,L);this.context.acc(q);for(const te of V)this.context.registerGCPair(te);return this.context.push(new lc(this.text.getCreatedAt(),A[0],A[1],new Map(Object.entries(O)),L)),!0}indexRangeToPosRange(o){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");const f=this.text.indexRangeToPosRange(o[0],o[1]);return[f[0].toStruct(),f[1].toStruct()]}posRangeToIndexRange(o){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");const f=this.text.findIndexesFromRange([dr.fromStruct(o[0]),dr.fromStruct(o[1])]);return[f[0],f[1]]}toTestString(){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(o,f){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(o,f)}}class c0{constructor(o,f){Y(this,"valueType");Y(this,"value");Y(this,"context");Y(this,"counter");this.valueType=o,this.value=f}initialize(o,f){this.valueType=f.getValueType(),this.context=o,this.counter=f,this.value=f.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(o){if(!this.context||!this.counter)throw new Ee(ye.ErrNotInitialized,"Counter is not initialized yet");const f=this.context.issueTimeTicket(),v=Gn.of(o,f);if(!v.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof v.getValue()}`);return this.counter.increase(v),this.context.push(In.create(this.counter.getCreatedAt(),v,f)),this}toJSForTest(){if(!this.context||!this.counter)throw new Ee(ye.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function f0(h){if(h.isText)return{type:h.type,value:h.value};const o={type:h.type,children:h.children.map(f=>f0(f))};return h.attrs&&(o.attributes=To(h.attrs.toObject())),o}function iA(h,o){const f={type:h.isText?h.parent.type:h.type,children:h.isText?h.parent.getChildrenText().length===o?[]:[{type:ao,value:h.parent.getChildrenText().slice(o)}]:h.children.slice(o).map(v=>f0(v))};return h.attrs?f.attributes=To(h.attrs.toObject()):h.isText&&h.parent.attrs&&(f.attributes=To(h.parent.attrs.toObject())),f}function Zx(h,o){const{node:f}=h,v=[...o].slice(0,-1),A=f.isText?f.parent.getChildrenText().length:f.children.length,O=[...v,A],L=[...v],V=[];L[L.length-1]+=1,o.every((te,ce)=>te===O[ce])||V.push({fromPath:[...o],toPath:O});const q=iA(f,o[o.length-1]);return q&&V.push({fromPath:L,toPath:L,content:q}),V}function Jx(h,o){const{node:f,offset:v}=h,A=f.children[v],O=f.children[v-1],{children:L}=A,V=[...o].slice(0,-1),q=[{fromPath:[...o],toPath:[...V,v+1]}];if(!A.children.length)return q;const te=[...V,v-1,O.hasTextChild()?O.getChildrenText().length:O.children.length],ce=L.map(Re=>f0(Re));return q.push({fromPath:te,toPath:te,content:ce}),q}function ya(h,o,f){const{type:v}=h,A=f.issueTimeTicket();if(v===ao){d0(h);const{value:O}=h,L=Jr.create(hr.of(A,0),v,O);o.append(L)}else{const{children:O=[]}=h,{attributes:L}=h;let V;if(typeof L=="object"&&!Km(L)){const te=ul(L);V=new Xr;for(const[ce,Re]of Object.entries(te))V.set(ce,Re,A)}const q=Jr.create(hr.of(A,0),v,void 0,V);o.append(q);for(const te of O)ya(te,q,f)}}function Np(h,o){const{type:f}=o,v=h.issueTimeTicket();let A;if(o.type===ao){const{value:O}=o;A=Jr.create(hr.of(v,0),f,O)}else if(o){const{children:O=[]}=o,{attributes:L}=o;let V;if(typeof L=="object"&&!Km(L)){const q=ul(L);V=new Xr;for(const[te,ce]of Object.entries(q))V.set(te,ce,v)}A=Jr.create(hr.of(h.issueTimeTicket(),0),f,void 0,V);for(const q of O)ya(q,A,h)}return A}function d0(h){if(!h.value.length)throw new Ee(ye.ErrInvalidArgument,"text node cannot have empty value");return!0}function h0(h){if(!h.length)return!0;if(h[0].type===ao)for(const f of h){const{type:v}=f;if(v!==ao)throw new Ee(ye.ErrInvalidArgument,"element node and text node cannot be passed together");d0(f)}else for(const f of h){const{type:v}=f;if(v===ao)throw new Ee(ye.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class _p{constructor(o){Y(this,"initialRoot");Y(this,"context");Y(this,"tree");this.initialRoot=o}initialize(o,f){this.context=o,this.tree=f}getID(){return this.tree.getID()}buildRoot(o){if(!this.initialRoot)return Jr.create(hr.of(o.issueTimeTicket(),0),J1);const f=Jr.create(hr.of(o.issueTimeTicket(),0),this.initialRoot.type);for(const v of this.initialRoot.children)ya(v,f,o);return f}getSize(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(!o.length)throw new Ee(ye.ErrInvalidArgument,"path should not be empty");const f=this.tree.pathToTreePos(o),v=Zx(f,o);for(const A of v){const{fromPath:O,toPath:L,content:V}=A,q=this.tree.pathToPos(O),te=this.tree.pathToPos(L);this.editInternal(q,te,V?[V]:[],0)}}mergeByPath(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(!o.length)throw new Ee(ye.ErrInvalidArgument,"path should not be empty");const f=this.tree.pathToTreePos(o);if(f.node.isText)throw new Ee(ye.ErrInvalidArgument,"text node cannot be merged");const v=Jx(f,o);for(const A of v){const{fromPath:O,toPath:L,content:V}=A,q=this.tree.pathToPos(O),te=this.tree.pathToPos(L);this.editInternal(q,te,V??[],0)}}styleByPath(o,f){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(!o.length)throw new Ee(ye.ErrInvalidArgument,"path should not be empty");const[v,A]=this.tree.pathToPosRange(o),O=this.context.issueTimeTicket(),L=f?ul(f):void 0,[V,,q]=this.tree.style([v,A],L,O);this.context.acc(q);for(const te of V)this.context.registerGCPair(te);this.context.push(ys.create(this.tree.getCreatedAt(),v,A,L?new Map(Object.entries(L)):new Map,O))}style(o,f,v){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(o>f)throw new Ee(ye.ErrInvalidArgument,"from should be less than or equal to to");const A=this.tree.findPos(o),O=this.tree.findPos(f),L=this.context.issueTimeTicket(),V=v?ul(v):void 0,[q,,te]=this.tree.style([A,O],V,L);this.context.acc(te);for(const ce of q)this.context.registerGCPair(ce);this.context.push(ys.create(this.tree.getCreatedAt(),A,O,V?new Map(Object.entries(V)):new Map,L))}removeStyle(o,f,v){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(o>f)throw new Ee(ye.ErrInvalidArgument,"from should be less than or equal to to");const A=this.tree.findPos(o),O=this.tree.findPos(f),L=this.context.issueTimeTicket(),[V,,q]=this.tree.removeStyle([A,O],v,L);this.context.acc(q);for(const te of V)this.context.registerGCPair(te);this.context.push(ys.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),A,O,v,L))}editInternal(o,f,v,A=0){var te;if(v.length!==0&&v[0]&&(h0(v),v[0].type!==ao))for(const ce of v){const{children:Re=[]}=ce;h0(Re)}const O=this.context.getLastTimeTicket();let L=new Array;if(((te=v[0])==null?void 0:te.type)===ao){let ce="";for(const Re of v){const{value:Be}=Re;ce+=Be}L.push(Jr.create(hr.of(this.context.issueTimeTicket(),0),ao,ce))}else L=v.map(ce=>ce&&Np(this.context,ce)).filter(ce=>ce);const[,V,q]=this.tree.edit([o,f],L.length?L.map(ce=>ce==null?void 0:ce.deepcopy()):void 0,A,O,()=>this.context.issueTimeTicket());this.context.acc(q);for(const ce of V)this.context.registerGCPair(ce);return this.context.push(cl.create(this.tree.getCreatedAt(),o,f,L.length?L:void 0,A,O)),!0}editByPath(o,f,v,A=0){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(o.length!==f.length)throw new Ee(ye.ErrInvalidArgument,"path length should be equal");if(!o.length||!f.length)throw new Ee(ye.ErrInvalidArgument,"path should not be empty");const O=this.tree.pathToPos(o),L=this.tree.pathToPos(f);return this.editInternal(O,L,v?[v]:[],A)}editBulkByPath(o,f,v,A=0){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(o.length!==f.length)throw new Ee(ye.ErrInvalidArgument,"path length should be equal");if(!o.length||!f.length)throw new Ee(ye.ErrInvalidArgument,"path should not be empty");const O=this.tree.pathToPos(o),L=this.tree.pathToPos(f);return this.editInternal(O,L,v,A)}edit(o,f,v,A=0){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(o>f)throw new Ee(ye.ErrInvalidArgument,"from should be less than or equal to to");const O=this.tree.findPos(o),L=this.tree.findPos(f);return this.editInternal(O,L,v?[v]:[],A)}editBulk(o,f,v,A=0){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(o>f)throw new Ee(ye.ErrInvalidArgument,"from should be less than or equal to to");const O=this.tree.findPos(o),L=this.tree.findPos(f);return this.editInternal(O,L,v,A)}toXML(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(o)}pathToIndex(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(o)}pathRangeToPosRange(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");const f=[this.tree.pathToIndex(o[0]),this.tree.pathToIndex(o[1])],v=this.tree.indexRangeToPosRange(f);return[v[0].toStruct(),v[1].toStruct()]}indexRangeToPosRange(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(o)}posRangeToIndexRange(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");const f=[Ui.fromStruct(o[0]),Ui.fromStruct(o[1])];return this.tree.posRangeToIndexRange(f)}posRangeToPathRange(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");const f=[Ui.fromStruct(o[0]),Ui.fromStruct(o[1])];return this.tree.posRangeToPathRange(f)}}function p0(h,o){return Tp(h,o)}function $i(h,o){if(o){if(o instanceof Gn)return o;if(o instanceof Er)return Tp(h,o);if(o instanceof fr)return Kx(h,o);if(o instanceof Zr)return new Yf(h,o);if(o instanceof yr){const f=new c0(Ci.Int,0);return f.initialize(h,o),f}else if(o instanceof Vr){const f=new _p;return f.initialize(h,o),f}}else return;throw new TypeError(`Unsupported type of element: ${typeof o}`)}function xa(h,o){const f=$i(h,o);return f instanceof Gn?f.getValue():f}function ba(h,o,f){let v;if(Gn.isSupport(o))v=Gn.of(o,f);else if(Array.isArray(o))v=fr.create(f,an.buildArrayElements(h,o));else if(typeof o=="object")o instanceof Yf?(v=Zr.create(ll.create(),f),o.initialize(h,v)):o instanceof c0?(v=yr.create(o.getValueType(),o.getValue(),f),o.initialize(h,v)):o instanceof _p?(v=Vr.create(o.buildRoot(h),f),o.initialize(h,v)):v=Er.create(f,Fo.buildObjectMembers(h,o));else throw new TypeError(`Unsupported type of value: ${typeof o}`);return v}class yc{constructor(o){Y(this,"rootObject");Y(this,"elementPairMapByCreatedAt");Y(this,"gcElementSetByCreatedAt");Y(this,"gcPairMap");Y(this,"docSize");this.rootObject=o,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(o,void 0),o.getDescendants(f=>{if(f.getRemovedAt()&&this.registerRemovedElement(f),f instanceof Zr||f instanceof Vr)for(const v of f.getGCPairs())this.registerGCPair(v);return!1})}static create(){return new yc(Er.create(al))}findByCreatedAt(o){const f=this.elementPairMapByCreatedAt.get(o.toIDString());if(f)return f.element}findElementPairByCreatedAt(o){return this.elementPairMapByCreatedAt.get(o.toIDString())}createSubPaths(o){let f=this.elementPairMapByCreatedAt.get(o.toIDString());if(!f)return[];const v=[];for(;f.parent;){const A=f.element.getCreatedAt(),O=f.parent.subPathOf(A);if(O===void 0)throw new Ee(ye.ErrInvalidArgument,`cant find the given element: ${A.toIDString()}`);v.unshift(O),f=this.elementPairMapByCreatedAt.get(f.parent.getCreatedAt().toIDString())}return v.unshift("$"),v}createPath(o){return this.createSubPaths(o).join(".")}registerElement(o,f){this.elementPairMapByCreatedAt.set(o.getCreatedAt().toIDString(),{parent:f,element:o}),Un(this.docSize.live,o.getDataSize()),o instanceof cs&&o.getDescendants((v,A)=>(this.elementPairMapByCreatedAt.set(v.getCreatedAt().toIDString(),{parent:A,element:v}),Un(this.docSize.live,v.getDataSize()),!1))}deregisterElement(o){let f=0;const v=A=>{const O=A.getCreatedAt().toIDString();Kr(this.docSize.gc,A.getDataSize()),this.elementPairMapByCreatedAt.delete(O),this.gcElementSetByCreatedAt.delete(O),f++};return v(o),o instanceof cs&&o.getDescendants(A=>(v(A),!1)),f}registerRemovedElement(o){Un(this.docSize.gc,o.getDataSize()),Kr(this.docSize.live,o.getDataSize()),this.docSize.live.meta+=ro,this.gcElementSetByCreatedAt.add(o.getCreatedAt().toIDString())}registerGCPair(o){if(this.gcPairMap.get(o.child.toIDString())){this.gcPairMap.delete(o.child.toIDString());return}this.gcPairMap.set(o.child.toIDString(),o);const v=this.gcPairMap.get(o.child.toIDString()).child.getDataSize();Un(this.docSize.gc,v),Kr(this.docSize.live,v),o.child instanceof gs||(this.docSize.live.meta+=ro)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const o=new Set;for(const f of this.gcElementSetByCreatedAt){o.add(f);const v=this.elementPairMapByCreatedAt.get(f);v.element instanceof cs&&v.element.getDescendants(A=>(o.add(A.getCreatedAt().toIDString()),!1))}return o.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new yc(this.rootObject.deepcopy())}garbageCollect(o){let f=0;for(const v of this.gcElementSetByCreatedAt){const A=this.elementPairMapByCreatedAt.get(v),O=A.element.getRemovedAt();O&&(o!=null&&o.afterOrEqual(O))&&(A.parent.purge(A.element),f+=this.deregisterElement(A.element))}for(const[,v]of this.gcPairMap){const A=v.child.getRemovedAt();A&&(o!=null&&o.afterOrEqual(A))&&(v.parent.purge(v.child),Kr(this.docSize.gc,v.child.getDataSize()),this.gcPairMap.delete(v.child.toIDString()),f+=1)}return f}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(o){Un(this.docSize.live,o)}*getGCElementPairs(){for(const o of this.gcElementSetByCreatedAt){const f=this.elementPairMapByCreatedAt.get(o);f&&(yield f)}}}let g0=class{constructor(o,f){Y(this,"context");Y(this,"presence");this.context=o,this.presence=f}set(o,f){for(const v of Object.keys(o))this.presence[v]=o[v];this.context.setPresenceChange({type:no.Put,presence:fi(this.presence)}),this.context.setReversePresence(o,f)}get(o){return this.presence[o]}clear(){this.presence={},this.context.setPresenceChange({type:no.Clear})}};const On=50;class m0{constructor(){Y(this,"undoStack",[]);Y(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(o){this.undoStack.length>=On&&this.undoStack.shift(),this.undoStack.push(o)}popUndo(){return this.undoStack.pop()}pushRedo(o){this.redoStack.length>=On&&this.redoStack.shift(),this.redoStack.push(o)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(o,f){const v=A=>{for(const O of A)for(const L of O)(L instanceof xs||L instanceof Ei||L instanceof ji)&&L.getCreatedAt()===o&&L.setCreatedAt(f),(L instanceof Bi||L instanceof ji)&&L.getPrevCreatedAt()===o&&L.setPrevCreatedAt(f)};v(this.undoStack),v(this.redoStack)}reconcileTextEdit(o,f,v,A){const O=L=>{for(const V of L)for(const q of V)q instanceof No&&q.getParentCreatedAt().compare(o)===0&&q.reconcileOperation(f,v,A)};O(this.undoStack),O(this.redoStack)}}function oA(h,o){const f=[];for(const v of o){const A=Qx(h,v.path),O=sA(A,v);if(!O.valid)for(const L of O.errors||[])f.push(L)}return{valid:f.length===0,errors:f}}function Qx(h,o){if(!o.startsWith("$"))throw new Error(`Path must start with $, got ${o}`);const f=o.split(".");let v=h;for(let A=1;A<f.length;A++){const O=f[A];if(!(v instanceof Er))return;v=v.get(O)}return v}function sA(h,o){switch(o.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return lA(h,o);case"object":if(!(h instanceof Er))return{valid:!1,errors:[{path:o.path,message:`expected object at path ${o.path}`}]};break;case"array":if(!(h instanceof fr))return{valid:!1,errors:[{path:o.path,message:`expected array at path ${o.path}`}]};break;case"yorkie.Text":if(!(h instanceof Zr))return{valid:!1,errors:[{path:o.path,message:`expected yorkie.Text at path ${o.path}`}]};break;case"yorkie.Tree":if(!(h instanceof Vr))return{valid:!1,errors:[{path:o.path,message:`expected yorkie.Tree at path ${o.path}`}]};break;case"yorkie.Counter":if(!(h instanceof yr))return{valid:!1,errors:[{path:o.path,message:`expected yorkie.Counter at path ${o.path}`}]};break;default:throw new Error(`Unknown rule type: ${o.type}`)}return{valid:!0}}function aA(h){switch(h){case"null":return Nn.Null;case"boolean":return Nn.Boolean;case"integer":return Nn.Integer;case"long":return Nn.Long;case"double":return Nn.Double;case"string":return Nn.String;case"bytes":return Nn.Bytes;case"date":return Nn.Date;default:throw new Error(`Unknown primitive type: ${h}`)}}function lA(h,o){return h instanceof Gn&&h.getType()===aA(o.type)?{valid:!0}:{valid:!1,errors:[{path:o.path,message:`expected ${o.type} at path ${o.path}`}]}}const Ip="yorkie-devtools-panel",xc="yorkie-devtools-sdk";function v0(h){return[Nr.StatusChanged,Nr.Snapshot,Nr.LocalChange,Nr.RemoteChange,Nr.Initialized,Nr.Watched,Nr.Unwatched,Nr.PresenceChanged].includes(h.type)}function Op(h){return h.every(v0)}let Sa="disconnected";const Aa=new Map,wi=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=wi);function Ea(h,o){(o!=null&&o.force||Sa!=="disconnected")&&window.postMessage({source:xc,...h},"*")}function uA(h){if(!h.isEnableDevtools()||typeof window>"u"||Aa.has(h.getKey()))return;wi.set(h.getKey(),[]);const o=h.subscribe("all",f=>{Op(f)&&(wi.get(h.getKey()).push(f),Sa==="synced"&&Ea({msg:"doc::sync::partial",docKey:h.getKey(),event:f}))});Aa.set(h.getKey(),[o]),Ea({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",f=>{var A;if(((A=f.data)==null?void 0:A.source)!==Ip)return;switch(f.data.msg){case"devtools::connect":if(Sa!=="disconnected")break;Sa="connected",Ea({msg:"doc::available",docKey:h.getKey()}),Je.info(`[YD] Devtools connected. Doc: ${h.getKey()}`);break;case"devtools::disconnect":Sa="disconnected",Je.info(`[YD] Devtools disconnected. Doc: ${h.getKey()}`);break;case"devtools::subscribe":Sa="synced",Ea({msg:"doc::sync::full",docKey:h.getKey(),events:wi.get(h.getKey())}),Je.info(`[YD] Devtools subscribed. Doc: ${h.getKey()}`);break}})}var Rs=(h=>(h.Detached="detached",h.Attached="attached",h.Removed="removed",h))(Rs||{}),Nr=(h=>(h.StatusChanged="status-changed",h.ConnectionChanged="connection-changed",h.SyncStatusChanged="sync-status-changed",h.Snapshot="snapshot",h.LocalChange="local-change",h.RemoteChange="remote-change",h.Initialized="initialized",h.Watched="watched",h.Unwatched="unwatched",h.PresenceChanged="presence-changed",h.AuthError="auth-error",h))(Nr||{}),bc=(h=>(h.Connected="connected",h.Disconnected="disconnected",h))(bc||{}),Dp=(h=>(h.Synced="synced",h.SyncFailed="sync-failed",h))(Dp||{});class Ca{constructor(o,f){Y(this,"key");Y(this,"status");Y(this,"opts");Y(this,"maxSizeLimit");Y(this,"schemaRules");Y(this,"changeID");Y(this,"checkpoint");Y(this,"localChanges");Y(this,"root");Y(this,"presences");Y(this,"clone");Y(this,"internalHistory");Y(this,"isUpdating");Y(this,"onlineClients");Y(this,"eventStream");Y(this,"eventStreamObserver");Y(this,"history");this.key=o,this.status="detached",this.opts=f||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=ms,this.checkpoint=vs,this.localChanges=[],this.root=yc.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new m0,this.isUpdating=!1,this.eventStream=ws(v=>this.eventStreamObserver=v),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},uA(this)}update(o,f){var V,q,te;if(this.getStatus()==="removed")throw new Ee(ye.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const v=this.changeID.getActorID(),A=va.create(this.changeID,this.clone.root,this.clone.presences.get(v)||{},f);try{const ce=p0(A,this.clone.root.getObject());this.presences.has(v)||this.clone.presences.set(v,{}),this.isUpdating=!0,o(ce,new g0(A,this.clone.presences.get(v)))}catch(ce){throw this.clone=void 0,ce}finally{this.isUpdating=!1}const O=this.getSchemaRules();if(!A.isPresenceOnlyChange()&&O.length){const ce=oA((V=this.clone)==null?void 0:V.root.getObject(),O);if(!ce.valid)throw this.clone=void 0,new Ee(ye.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(q=ce.errors)==null?void 0:q.map(Re=>Re.message).join(", ")}`)}const L=ua((te=this.clone)==null?void 0:te.root.getDocSize());if(!A.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<L)throw this.clone=void 0,new Ee(ye.ErrDocumentSizeExceedsLimit,`document size exceeded: ${L} > ${this.maxSizeLimit}`);if(A.hasChange()){Je.isEnabled(Gr.Trivial)&&Je.trivial(`trying to update a local change: ${this.toJSON()}`);const ce=A.toChange(),{opInfos:Re,reverseOps:Be}=ce.execute(this.root,this.presences,Ln.Local);for(const We of ce.getOperations())We instanceof xs&&this.internalHistory.reconcileCreatedAt(We.getCreatedAt(),We.getValue().getCreatedAt());const Ne=A.getReversePresence();Ne&&Be.push({type:"presence",value:Ne}),this.localChanges.push(ce),Be.length&&this.internalHistory.pushUndo(Be),Re.length&&this.internalHistory.clearRedo(),this.changeID=A.getNextID();const $e=[];Re.length&&$e.push({type:"local-change",source:Ln.Local,value:{message:ce.getMessage()||"",operations:Re,actor:v,clientSeq:ce.getID().getClientSeq(),serverSeq:ce.getID().getServerSeq()},rawChange:this.isEnableDevtools()?ce.toStruct():void 0}),ce.hasPresenceChange()&&$e.push({type:"presence-changed",source:Ln.Local,value:{clientID:v,presence:this.getPresence(v)}}),this.publish($e),Je.isEnabled(Gr.Trivial)&&Je.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(o,f,v,A){if(typeof o=="string"){if(typeof f!="function")throw new Ee(ye.ErrInvalidArgument,"Second argument must be a callback function");if(o==="presence"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type!=="initialized"&&te.type!=="watched"&&te.type!=="unwatched"&&te.type!=="presence-changed"||V(te)},v,A)}if(o==="my-presence"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type!=="initialized"&&te.type!=="presence-changed"||te.type==="presence-changed"&&te.value.clientID!==this.changeID.getActorID()||V(te)},v,A)}if(o==="others"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type!=="watched"&&te.type!=="unwatched"&&te.type!=="presence-changed"||te.value.clientID!==this.changeID.getActorID()&&V(te)},v,A)}if(o==="connection"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type==="connection-changed"&&V(te)},v,A)}if(o==="status"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type==="status-changed"&&V(te)},v,A)}if(o==="sync"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type==="sync-status-changed"&&V(te)},v,A)}if(o==="auth-error"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type==="auth-error"&&V(te)},v)}if(o==="all"){const V=f;return this.eventStream.subscribe(V,v,A)}const O=o,L=f;return this.eventStream.subscribe(V=>{for(const q of V){if(q.type!=="local-change"&&q.type!=="remote-change")continue;const te=[];for(const ce of q.value.operations)this.isSameElementOrChildOf(ce.path,O)&&te.push(ce);te.length&&L({...q,value:{...q.value,operations:te}})}},v,A)}if(typeof o=="function"){const O=o,L=f,V=v;return this.eventStream.subscribe(q=>{for(const te of q)te.type!=="snapshot"&&te.type!=="local-change"&&te.type!=="remote-change"||O(te)},L,V)}throw new Ee(ye.ErrInvalidArgument,`"${o}" is not a valid`)}publish(o){this.eventStreamObserver&&this.eventStreamObserver.next(o)}applyChangePack(o){o.hasSnapshot()?this.applySnapshot(o.getCheckpoint().getServerSeq(),o.getVersionVector(),o.getSnapshot(),o.getCheckpoint().getClientSeq()):(this.applyChanges(o.getChanges(),Ln.Remote),this.removePushedLocalChanges(o.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(o.getCheckpoint()),o.hasSnapshot()||this.garbageCollect(o.getVersionVector()),o.getIsRemoved()&&this.applyStatus("removed"),Je.isEnabled(Gr.Trivial)&&Je.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:fi(this.presences)})}createChangePack(){const o=Array.from(this.localChanges),f=this.checkpoint.increaseClientSeq(o.length);return yp.create(this.key,f,!1,o,this.getVersionVector())}setActor(o){for(const f of this.localChanges)f.setActor(o);this.changeID=this.changeID.setActor(o)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const o=va.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return p0(o,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(o){this.maxSizeLimit=o}getSchemaRules(){return this.schemaRules}setSchemaRules(o){this.schemaRules=o}garbageCollect(o){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(o),this.root.garbageCollect(o))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(o,f,v,A=-1){const{root:O,presences:L}=An.bytesToSnapshot(v);this.root=new yc(O),this.presences=L,this.changeID=this.changeID.setClocks(f.maxLamport(),f),this.clone=void 0,this.removePushedLocalChanges(A),this.applyChanges(this.localChanges,Ln.Local),this.clearHistory(),this.publish([{type:"snapshot",source:Ln.Remote,value:{serverSeq:o.toString(),snapshot:this.isEnableDevtools()?An.bytesToHex(v):void 0,snapshotVector:An.versionVectorToHex(f)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(o,f){Je.isEnabled(Gr.Debug)&&Je.debug(`trying to apply ${o.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),Je.isEnabled(Gr.Trivial)&&Je.trivial(o.map(v=>`${v.getID().toTestString()}	${v.toTestString()}`).join(`
`));for(const v of o)this.applyChange(v,f);Je.isEnabled(Gr.Debug)&&Je.debug(`after appling ${o.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(o,f){var V;this.ensureClone(),o.execute(this.clone.root,this.clone.presences,f);const v=[],A=o.getID().getActorID();if(o.hasPresenceChange()&&this.onlineClients.has(A)){const q=o.getPresenceChange();switch(q.type){case no.Put:v.push(this.presences.has(A)?{type:"presence-changed",source:f,value:{clientID:A,presence:q.presence}}:{type:"watched",source:Ln.Remote,value:{clientID:A,presence:q.presence}});break;case no.Clear:v.push({type:"unwatched",source:Ln.Remote,value:{clientID:A,presence:this.getPresence(A)}}),this.removeOnlineClient(A);break}}const{opInfos:O,operations:L}=o.execute(this.root,this.presences,f);for(const q of L)if(q instanceof No){const[te,ce]=q.normalizePos(this.root);this.internalHistory.reconcileTextEdit(q.getParentCreatedAt(),te,ce,((V=q.getContent())==null?void 0:V.length)??0)}if(this.changeID=this.changeID.syncClocks(o.getID()),O.length){const q=this.isEnableDevtools()?o.toStruct():void 0;v.push(f===Ln.Remote?{type:"remote-change",source:f,value:{actor:A,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq(),message:o.getMessage()||"",operations:O},rawChange:q}:{type:"local-change",source:f,value:{actor:A,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq(),message:o.getMessage()||"",operations:O},rawChange:q})}v.length&&this.publish(v)}applyWatchInit(o){const f=new Set;for(const v of o)v!==this.changeID.getActorID()&&f.add(v);this.setOnlineClients(f);for(const v of Array.from(this.presences.keys()))v!==this.changeID.getActorID()&&!f.has(v)&&this.presences.delete(v);this.publish([{type:"initialized",source:Ln.Local,value:this.getPresences()}])}applyDocEvent(o,f){const v=[];if(o===zf.DOCUMENT_WATCHED){if(this.onlineClients.has(f)&&this.hasPresence(f))return;this.addOnlineClient(f),this.hasPresence(f)&&v.push({type:"watched",source:Ln.Remote,value:{clientID:f,presence:this.getPresence(f)}})}else if(o===zf.DOCUMENT_UNWATCHED){const A=this.getPresence(f);this.removeOnlineClient(f),this.presences.delete(f),A&&v.push({type:"unwatched",source:Ln.Remote,value:{clientID:f,presence:A}})}v.length&&this.publish(v)}applyStatus(o){this.status=o,o==="detached"&&this.setActor(lp),this.publish([{source:o==="removed"?Ln.Remote:Ln.Local,type:"status-changed",value:o==="attached"?{status:o,actorID:this.changeID.getActorID()}:{status:o}}])}applyDocEventsForReplay(o){for(const f of o){if(f.type==="status-changed"){this.applyStatus(f.value.status),f.value.status==="attached"&&this.setActor(f.value.actorID);continue}if(f.type==="snapshot"){const{snapshot:v,serverSeq:A,snapshotVector:O}=f.value;if(!v)continue;this.applySnapshot(BigInt(A),An.hexToVersionVector(O),An.hexToBytes(v));continue}if(f.type==="local-change"||f.type==="remote-change"){if(!f.rawChange)continue;const v=fa.fromStruct(f.rawChange);this.applyChange(v,f.source)}if(f.type==="initialized"){const v=new Set;for(const{clientID:A,presence:O}of f.value)v.add(A),this.presences.set(A,O);this.setOnlineClients(v)}else if(f.type==="watched"){const{clientID:v,presence:A}=f.value;this.addOnlineClient(v),this.presences.set(v,A)}else if(f.type==="unwatched"){const{clientID:v}=f.value;this.removeOnlineClient(v),this.presences.delete(v)}else if(f.type==="presence-changed"){const{clientID:v,presence:A}=f.value;this.presences.set(v,A)}}}getValueByPath(o){if(!o.startsWith("$"))throw new Ee(ye.ErrInvalidArgument,'path must start with "$"');const f=o.split(".");f.shift();let v=this.getRoot();for(const A of f)if(v=v[A],!v)return;return v}setOnlineClients(o){this.onlineClients=o}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(o){this.onlineClients.add(o)}removeOnlineClient(o){this.onlineClients.delete(o)}hasPresence(o){return this.presences.has(o)}getMyPresence(){if(this.status!=="attached")return{};const o=this.presences.get(this.changeID.getActorID());return o?fi(o):{}}getOthersPresences(){const o=[],f=this.changeID.getActorID();for(const v of this.onlineClients)v!==f&&this.presences.has(v)&&o.push({clientID:v,presence:fi(this.presences.get(v))});return o}getPresence(o){if(o===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(o))return;const f=this.presences.get(o);return f?fi(f):void 0}getPresences(){const o=[];o.push({clientID:this.changeID.getActorID(),presence:fi(this.getMyPresence())});for(const f of this.onlineClients)this.presences.has(f)&&o.push({clientID:f,presence:fi(this.presences.get(f))});return o}getPresenceForTest(o){const f=this.presences.get(o);return f?fi(f):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const o=this.getChangeID().getActorID();return this.getPresences().filter(f=>f.clientID!==o).sort((f,v)=>f.clientID>v.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(o,f){if(f===o)return!0;const v=o.split(".");return f.split(".").every((A,O)=>A===v[O])}removePushedLocalChanges(o){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>o);)this.localChanges.shift()}executeUndoRedo(o){if(this.isUpdating)throw new Ee(ye.ErrRefused,`${o?"Undo":"Redo"} is not allowed during an update`);const f=o?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!f)throw new Ee(ye.ErrRefused,`There is no operation to be ${o?"undone":"redone"}`);this.ensureClone();const v=va.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const ce of f){if(!(ce instanceof qr)){new g0(v,fi(this.clone.presences.get(this.changeID.getActorID()))).set(ce.value,{addToHistory:!0});continue}const Re=v.issueTimeTicket();if(ce.setExecutedAt(Re),ce instanceof xs){const Be=ce.getCreatedAt();ce.getValue().setCreatedAt(Re),this.internalHistory.reconcileCreatedAt(Be,Re)}else if(ce instanceof Bi){const Be=ce.getValue().getCreatedAt();ce.getValue().setCreatedAt(Re),this.internalHistory.reconcileCreatedAt(Be,Re)}v.push(ce)}const A=v.toChange();A.execute(this.clone.root,this.clone.presences,Ln.UndoRedo);const{opInfos:O,reverseOps:L}=A.execute(this.root,this.presences,Ln.UndoRedo),V=v.getReversePresence();if(V&&L.push({type:"presence",value:V}),L.length&&(o?this.internalHistory.pushRedo(L):this.internalHistory.pushUndo(L)),!A.hasPresenceChange()&&!O.length)return;this.localChanges.push(A),this.changeID=v.getNextID();const q=this.changeID.getActorID(),te=[];O.length&&te.push({type:"local-change",source:Ln.UndoRedo,value:{message:A.getMessage()||"",operations:O,actor:q,clientSeq:A.getID().getClientSeq(),serverSeq:A.getID().getServerSeq()},rawChange:this.isEnableDevtools()?A.toStruct():void 0}),A.hasPresenceChange()&&te.push({type:"presence-changed",source:Ln.UndoRedo,value:{clientID:q,presence:this.getPresence(q)}}),this.publish(te)}}class Mp{constructor(o,f,v,A){Y(this,"resource");Y(this,"resourceID");Y(this,"syncMode");Y(this,"changeEventReceived");Y(this,"lastHeartbeatTime");Y(this,"reconnectStreamDelay");Y(this,"cancelled");Y(this,"watchStream");Y(this,"watchLoopTimerID");Y(this,"watchAbortController");this.reconnectStreamDelay=o,this.resource=f,this.resourceID=v,this.syncMode=A,this.changeEventReceived=A!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(o){this.syncMode=o}needRealtimeSync(){return this.syncMode===vl.RealtimeSyncOff?!1:this.syncMode===vl.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==vl.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(o){return this.resource instanceof Ca?this.needRealtimeSync():this.syncMode===vl.Manual?!1:Date.now()-this.lastHeartbeatTime>=o}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(o){const f=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await o(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(f,this.reconnectStreamDelay))})}catch{}};await f()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function eb(h,o){let f=o;return{authInterceptor:O=>async L=>(h&&L.header.set("x-api-key",h),f&&L.header.set("authorization",f),await O(L)),setToken:O=>{f=O}}}const Pp={name:"@yorkie-js/sdk",version:"0.6.48"};function y0(h){return o=>async f=>(h?f.header.set("x-yorkie-user-agent",h):f.header.set("x-yorkie-user-agent",Pp.name+"/"+Pp.version),await o(f))}const fA=h=>{try{if(JSON.stringify(h)===void 0)return!1}catch{return!1}return!0};var qf=(h=>(h.Detached="detached",h.Attached="attached",h.Removed="removed",h))(qf||{}),ko=(h=>(h.PresenceChanged="presence-changed",h.Initialized="initialized",h.Broadcast="broadcast",h.LocalBroadcast="local-broadcast",h.AuthError="auth-error",h))(ko||{});const Kf=".";class Bo{constructor(o){Y(this,"key");Y(this,"status");Y(this,"actorID");Y(this,"sessionID");Y(this,"sessionCount");Y(this,"seq");Y(this,"eventStream");Y(this,"eventStreamObserver");this.validateChannelKey(o),this.key=o,this.status="detached",this.sessionCount=0,this.seq=0,this.eventStream=ws(f=>this.eventStreamObserver=f)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Kf)[0]}getStatus(){return this.status}applyStatus(o){this.status=o}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(o){this.actorID=o}getSessionID(){return this.sessionID}setSessionID(o){this.sessionID=o}getSessionCount(){return this.sessionCount}updateSessionCount(o,f){return f===0||f>this.seq?(this.sessionCount=o,this.seq=f,!0):!1}hasLocalChanges(){return!1}subscribe(o,f){if(typeof o=="function")return this.eventStream.subscribe(o);const v=o,A=f;if(!A)throw new Error("callback is required when subscribing to specific event type or topic");if(v==="broadcast")return this.eventStream.subscribe(L=>{L.type==="broadcast"&&A(L)});if(v==="local-broadcast")return this.eventStream.subscribe(L=>{L.type==="local-broadcast"&&A(L)});if(v==="auth-error")return this.eventStream.subscribe(L=>{L.type==="auth-error"&&A(L)});if(v==="presence")return this.eventStream.subscribe(L=>{(L.type==="presence-changed"||L.type==="initialized")&&A(L)});if(v==="all")return this.eventStream.subscribe(A);const O=v;return this.eventStream.subscribe(L=>{L.type==="broadcast"&&L.topic===O&&A(L)})}publish(o){this.eventStreamObserver&&this.eventStreamObserver.next(o)}broadcast(o,f,v){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:o,payload:f,options:v})}validateChannelKey(o){if(o==="")throw new Error("channel key must not be empty");if(o.includes(" "))throw new Error("channel key must not contain a whitespace");if(o.startsWith(Kf))throw new Error("channel key must not start with a period");if(o.endsWith(Kf))throw new Error("channel key must not end with a period");if(o.includes(`${Kf}${Kf}`))throw new Error("channel key path must not empty")}}function Yt(h,o,f){const{stream:v,ac:A,isInit:O,onResponse:L,onStreamEnd:V,onError:q,onDisconnect:te,shouldIgnoreError:ce}=h;return new Promise((Re,Be)=>{(async()=>{try{let $e=!1;for await(const We of v)L(We),!$e&&O(We)&&($e=!0,Re([v,A]));V(),te()}catch($e){if(ce&&ce($e))return;q($e),await o($e)?te():f(),Be($e)}})()})}var vl=(h=>(h.Manual="manual",h.Realtime="realtime",h.RealtimePushOnly="realtime-pushonly",h.RealtimeSyncOff="realtime-syncoff",h))(vl||{});const Ts={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},Xf={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class x0{constructor(o){Y(this,"id");Y(this,"key");Y(this,"metadata");Y(this,"status");Y(this,"attachmentMap");Y(this,"apiKey");Y(this,"authTokenInjector");Y(this,"conditions");Y(this,"syncLoopDuration");Y(this,"reconnectStreamDelay");Y(this,"retrySyncLoopDelay");Y(this,"channelHeartbeatInterval");Y(this,"rpcClient");Y(this,"setAuthToken");Y(this,"taskQueue");Y(this,"processing",!1);Y(this,"keepalive",!1);o=o||Ts;const f=o.rpcAddr||Ts.rpcAddr;this.key=o.key||l0(),this.metadata=o.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=o.apiKey||"",this.authTokenInjector=o.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=o.syncLoopDuration??Ts.syncLoopDuration,this.reconnectStreamDelay=o.reconnectStreamDelay??Ts.reconnectStreamDelay,this.retrySyncLoopDelay=o.retrySyncLoopDelay??Ts.retrySyncLoopDelay,this.channelHeartbeatInterval=o.channelHeartbeatInterval??Ts.channelHeartbeatInterval;const{authInterceptor:v,setToken:A}=eb(this.apiKey);this.setAuthToken=A,this.rpcClient=il(Nx,Tm({baseUrl:f,interceptors:[v,y0(o==null?void 0:o.userAgent)],fetch:(O,L)=>fetch(O,{...L,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const o=await this.authTokenInjector();this.setAuthToken(o)}return this.enqueueTask(async()=>{try{const o=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=o.clientId,this.status="activated",this.runSyncLoop(),Je.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(o){throw Je.error(`[AC] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}deactivate(o={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const f=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:o.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),Je.info(`[DC] c"${this.getKey()}" deactivated`)}catch(v){throw Je.error(`[DC] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}};if(o.keepalive){this.keepalive=!0;const v=f();return this.keepalive=!1,v}return this.enqueueTask(f)}has(o){return this.attachmentMap.has(o)}attach(o,f){return o instanceof Bo?this.attachChannel(o,f):this.attachDocument(o,f)}attachDocument(o,f={}){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);if(o.getStatus()!==Rs.Detached)throw new Ee(ye.ErrNotDetached,`${o.getKey()} is not detached`);o.setActor(this.id),o.update((A,O)=>O.set(f.initialPresence||{}));const v=f.syncMode??"realtime";return this.enqueueTask(async()=>{try{const A=await this.rpcClient.attachDocument({clientId:this.id,changePack:An.toChangePack(o.createChangePack()),schemaKey:f.schema},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}});(A.maxSizePerDocument??0)>0&&o.setMaxSizePerDocument(A.maxSizePerDocument),A.schemaRules.length>0&&o.setSchemaRules(An.fromSchemaRules(A.schemaRules));const L=An.fromChangePack(A.changePack);if(o.applyChangePack(L),o.getStatus()===Rs.Removed)return o;o.applyStatus(Rs.Attached),this.attachmentMap.set(o.getKey(),new Mp(this.reconnectStreamDelay,o,A.documentId,v)),v!=="manual"&&await this.runWatchLoop(o.getKey()),Je.info(`[AD] c:"${this.getKey()}" attaches d:"${o.getKey()}"`);const V=o.getRootObject();if(f.initialRoot){const q=f.initialRoot;o.update(te=>{for(const[ce,Re]of Object.entries(q))if(!V.has(ce)){const Be=ce;te[Be]=Re}})}return o}catch(A){throw Je.error(`[AD] c:"${this.getKey()}" err :`,A),await this.handleConnectError(A),A}})}detach(o,f){return o instanceof Bo?this.detachChannel(o):this.detachDocument(o,f)}detachDocument(o,f={keepalive:!1}){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);o.update((O,L)=>L.clear());const A=async()=>{try{const O=await this.rpcClient.detachDocument({clientId:this.id,documentId:v.resourceID,changePack:An.toChangePack(o.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),L=An.fromChangePack(O.changePack);return o.applyChangePack(L),o.getStatus()!==Rs.Removed&&o.applyStatus(Rs.Detached),this.detachInternal(o.getKey()),Je.info(`[DD] c:"${this.getKey()}" detaches d:"${o.getKey()}"`),o}catch(O){throw Je.error(`[DD] c:"${this.getKey()}" err :`,O),await this.handleConnectError(O),O}};if(f.keepalive){this.keepalive=!0;const O=A();return this.keepalive=!1,O}return this.enqueueTask(A)}async attachChannel(o,f={}){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);if(o.getStatus()!==qf.Detached)throw new Ee(ye.ErrNotDetached,`${o.getKey()} is not detached`);o.setActor(this.id);const v=async()=>{try{const A=await this.rpcClient.attachChannel({clientId:this.id,channelKey:o.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${o.getFirstKeyPath()}`}});o.setSessionID(A.sessionId),o.updateSessionCount(Number(A.sessionCount),0),o.applyStatus(qf.Attached);const O=f.isRealtime!==!1?"realtime":"manual",L=new Mp(this.reconnectStreamDelay,o,A.sessionId,O);return o.subscribe("local-broadcast",V=>{const{topic:q,payload:te,options:ce}=V;this.broadcast(o.getKey(),q,te,ce).catch(Re=>{ce!=null&&ce.error&&ce.error(Re),Je.error(`[BC] c:"${this.getKey()}" failed: ${Re}`)})}),this.attachmentMap.set(o.getKey(),L),O==="realtime"&&await this.runWatchLoop(o.getKey()),Je.info(`[AP] c:"${this.getKey()}" attaches p:"${o.getKey()}" mode:${O} count:${o.getSessionCount()}`),o}catch(A){throw Je.error(`[AP] c:"${this.getKey()}" err :`,A),await this.handleConnectError(A),A}};return this.enqueueTask(v)}async detachChannel(o){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(o.getKey()))throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);const f=async()=>{try{const v=await this.rpcClient.detachChannel({clientId:this.id,channelKey:o.getKey(),sessionId:o.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${o.getFirstKeyPath()}`}});return o.updateSessionCount(Number(v.sessionCount),0),o.applyStatus(qf.Detached),this.detachInternal(o.getKey()),Je.info(`[DP] c:"${this.getKey()}" detaches p:"${o.getKey()}" count:${o.getSessionCount()}`),o}catch(v){throw Je.error(`[DP] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}};return this.enqueueTask(f)}async changeSyncMode(o,f){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);const A=v.syncMode;return A===f?o:(v.changeSyncMode(f),f==="manual"?(v.cancelWatchStream(),o):(f==="realtime"&&(v.changeEventReceived=!0),A==="manual"&&await this.runWatchLoop(o.getKey()),o))}sync(o){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);if(o instanceof Bo){const f=this.attachmentMap.get(o.getKey());if(!f)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(f).catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}))}if(o instanceof Ca){const f=this.attachmentMap.get(o.getKey());if(!f)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(f,"realtime").catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}))}return this.enqueueTask(async()=>{const f=[];for(const[,v]of this.attachmentMap)v.syncMode!==void 0&&v.resource instanceof Ca&&f.push(this.syncInternal(v,v.syncMode));return Promise.all(f).catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v})})}remove(o){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const f=this.attachmentMap.get(o.getKey());if(!f)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);o.setActor(this.id);const v=An.toChangePack(o.createChangePack());return v.isRemoved=!0,this.enqueueTask(async()=>{try{const A=await this.rpcClient.removeDocument({clientId:this.id,documentId:f.resourceID,changePack:v},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),O=An.fromChangePack(A.changePack);o.applyChangePack(O),this.detachInternal(o.getKey()),Je.info(`[RD] c:"${this.getKey()}" removes d:"${o.getKey()}"`)}catch(A){throw Je.error(`[RD] c:"${this.getKey()}" err :`,A),await this.handleConnectError(A),A}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(o){return this.conditions[o]}async createRevision(o,f,v){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const A=this.attachmentMap.get(o.getKey());if(!A)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);const O=async()=>{try{const L=await this.rpcClient.createRevision({clientId:this.id,documentId:A.resourceID,label:f,description:v||""},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}});if(!L.revision)throw new Ee(ye.ErrInvalidArgument,"revision is not returned");return Je.info(`[CR] c:"${this.getKey()}" creates revision d:"${o.getKey()}" l:"${f}"`),An.toRevisionSummary(L.revision)}catch(L){throw Je.error(`[CR] c:"${this.getKey()}" err :`,L),await this.handleConnectError(L),L}};return this.enqueueTask(O)}async listRevisions(o,f){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);const A=async()=>{try{const O=await this.rpcClient.listRevisions({clientId:this.id,documentId:v.resourceID,pageSize:(f==null?void 0:f.pageSize)||10,offset:(f==null?void 0:f.offset)||0,isForward:(f==null?void 0:f.isForward)??!1},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}});return Je.info(`[LR] c:"${this.getKey()}" lists revisions d:"${o.getKey()}" count:${O.revisions.length}`),O.revisions.map(An.toRevisionSummary)}catch(O){throw Je.error(`[LR] c:"${this.getKey()}" err :`,O),await this.handleConnectError(O),O}};return this.enqueueTask(A)}async getRevision(o,f){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);const A=async()=>{try{const O=await this.rpcClient.getRevision({clientId:this.id,documentId:v.resourceID,revisionId:f},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}});if(!O.revision)throw new Ee(ye.ErrInvalidArgument,"revision is not returned");return Je.info(`[GR] c:"${this.getKey()}" gets revision d:"${o.getKey()}" r:"${f}"`),An.toRevisionSummary(O.revision)}catch(O){throw Je.error(`[GR] c:"${this.getKey()}" err :`,O),await this.handleConnectError(O),O}};return this.enqueueTask(A)}async restoreRevision(o,f){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);const A=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:v.resourceID,revisionId:f},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),Je.info(`[RR] c:"${this.getKey()}" restores revision d:"${o.getKey()}" r:"${f}"`)}catch(O){throw Je.error(`[RR] c:"${this.getKey()}" err :`,O),await this.handleConnectError(O),O}};return this.enqueueTask(A)}async broadcast(o,f,v,A){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const O=this.attachmentMap.get(o);if(!O)throw new Ee(ye.ErrNotAttached,`${o} is not attached`);if(!fA(v))throw new Ee(ye.ErrInvalidArgument,"payload is not serializable");const L=O.resource,V=(A==null?void 0:A.maxRetries)??Xf.maxRetries,q=Xf.maxBackoff;let te=0;const ce=Be=>Math.min(Xf.initialRetryInterval*2**Be,q),Re=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:o,topic:f,payload:new TextEncoder().encode(JSON.stringify(v))},{headers:{"x-shard-key":`${this.apiKey}/${L.getFirstKeyPath()}`}}),Je.info(`[BC] c:"${this.getKey()}" broadcasts p:"${o}" t:"${f}"`)}catch(Be){if(Je.error(`[BC] c:"${this.getKey()}" err:`,Be),await this.handleConnectError(Be))if(Io(Be,ye.ErrUnauthenticated)&&O.resource instanceof Bo&&O.resource.publish({type:ko.AuthError,reason:Tr(Be).reason||"unauthenticated",method:"Broadcast"}),te<V)te++,setTimeout(()=>Re(),ce(te-1)),Je.info(`[BC] c:"${this.getKey()}" retry attempt ${te}/${V}`);else throw Je.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),Be}});return Re()}runSyncLoop(){const o=async()=>{if(!this.isActive()){Je.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const f=[];for(const[,v]of this.attachmentMap)v.needSync(this.channelHeartbeatInterval)&&(v.changeEventReceived!==void 0&&(v.changeEventReceived=!1),f.push(this.syncInternal(v,v.syncMode).catch(A=>{throw Io(A,ye.ErrUnauthenticated)&&v.resource.publish([{type:Nr.AuthError,value:{reason:Tr(A).reason,method:"PushPull"}}]),A})));await Promise.all(f),setTimeout(o,this.syncLoopDuration)})}catch(f){Je.error(`[SL] c:"${this.getKey()}" sync failed:`,f),await this.handleConnectError(f)?setTimeout(o,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};Je.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,o()}async runWatchLoop(o){const f=this.attachmentMap.get(o);if(!f)throw new Ee(ye.ErrNotAttached,`${o} is not attached`);return this.conditions.WatchLoop=!0,f.runWatchLoop(v=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new Ee(ye.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(o))return this.conditions.WatchLoop=!1,Promise.reject(new Ee(ye.ErrNotAttached,`${o} is not attached`));const A=new AbortController;return f.resource instanceof Ca?this.createDocumentWatchStream(f,o,A,v):f.resource instanceof Bo?this.createChannelWatchStream(f,o,A,v):Promise.reject(new Ee(ye.ErrClientNotActivated,`Unknown resource type for ${o}`))})}createDocumentWatchStream(o,f,v,A){const O=this.rpcClient.watch({clientId:this.id,resources:[{resource:{case:"document",value:{documentId:o.resourceID}}}]},{headers:{"x-shard-key":`${this.apiKey}/${f}`},signal:v.signal});o.resource.publish([{type:Nr.ConnectionChanged,value:bc.Connected}]),Je.info(`[WD] c:"${this.getKey()}" watches d:"${f}"`),o.changeEventReceived!==void 0&&(o.changeEventReceived=!0);const L=()=>{o.resource.resetOnlineClients(),o.resource.publish([{type:Nr.Initialized,source:Ln.Local,value:o.resource.getPresences()}]),o.resource.publish([{type:Nr.ConnectionChanged,value:bc.Disconnected}])};return Yt({stream:O,ac:v,isInit:V=>V.body.case==="initialization",onResponse:V=>this.handleWatchDocumentResponse(o,V),onStreamEnd:()=>{L(),Je.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`)},onError:V=>{L(),Je.debug(`[WD] c:"${this.getKey()}" unwatches`),Io(V,ye.ErrUnauthenticated)&&o.resource.publish([{type:Nr.AuthError,value:{reason:Tr(V).reason,method:"Watch"}}])},onDisconnect:A},V=>this.handleConnectError(V),()=>{this.conditions.WatchLoop=!1})}createChannelWatchStream(o,f,v,A){const O=this.rpcClient.watch({clientId:this.id,resources:[{resource:{case:"channel",value:{channelKey:f}}}]},{headers:{"x-shard-key":`${this.apiKey}/${o.resource.getFirstKeyPath()}`},signal:v.signal});return Je.info(`[WP] c:"${this.getKey()}" watches p:"${f}"`),Yt({stream:O,ac:v,isInit:L=>L.body.case==="initialization",onResponse:L=>this.handleWatchChannelResponse(o,L),onStreamEnd:()=>{Je.debug(`[WP] c:"${this.getKey()}" p:"${f}" stream ended`)},onError:L=>{Je.debug(`[WP] c:"${this.getKey()}" p:"${f}" err:`,L)},onDisconnect:A,shouldIgnoreError:L=>L instanceof Error&&L.name==="AbortError"?(Je.debug(`[WP] c:"${this.getKey()}" p:"${f}" stream aborted`),!0):!1},L=>this.handleConnectError(L),()=>{this.conditions.WatchLoop=!1})}handleWatchChannelResponse(o,f){const v=o.resource;if(f.body.case==="initialization"){for(const A of f.body.value.resourceInits)if(A.init.case==="channelInit"){const{sessionCount:O,seq:L}=A.init.value;v.updateSessionCount(Number(O),Number(L))&&v.publish({type:ko.Initialized,count:Number(O)})}return}if(f.body.case==="event"){const A=f.body.value;if(A.event.case==="channelEvent"){const O=A.event.value.event;if(!O)return;if(O.type===km.BROADCAST){const L=new TextDecoder;try{const V=JSON.parse(L.decode(O.payload));v.publish({type:ko.Broadcast,clientID:O.publisher,topic:O.topic,payload:V})}catch(V){Je.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,V)}return}v.updateSessionCount(Number(O.sessionCount),Number(O.seq))&&v.publish({type:ko.PresenceChanged,count:Number(O.sessionCount)})}}}handleWatchDocumentResponse(o,f){var v;if(f.body.case==="initialization"){for(const A of f.body.value.resourceInits)A.init.case==="documentInit"&&o.resource.applyWatchInit(A.init.value.clientIds);return}if(f.body.case==="event"){const A=f.body.value;if(A.event.case==="docEvent"){const O=A.event.value;if(((v=O.event)==null?void 0:v.type)===zf.DOCUMENT_CHANGED){o.changeEventReceived!==void 0&&(o.changeEventReceived=!0);return}O.event&&o.resource.applyDocEvent(O.event.type,O.event.publisher)}}}deactivateInternal(){this.status="deactivated";for(const[o,f]of this.attachmentMap)this.detachInternal(o),f.resource instanceof Ca?f.resource.applyStatus(Rs.Detached):f.resource instanceof Bo&&f.resource.applyStatus(qf.Detached)}detachInternal(o){const f=this.attachmentMap.get(o);f&&(f.cancelWatchStream(),f.resource instanceof Ca&&f.resource.resetOnlineClients(),this.attachmentMap.delete(o))}async syncInternal(o,f){const{resource:v}=o;if(v instanceof Bo){try{const V=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:v.getKey(),sessionId:v.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${v.getFirstKeyPath()}`}});v.updateSessionCount(Number(V.sessionCount),0),o.updateHeartbeatTime(),Je.debug(`[RP] c:"${this.getKey()}" refreshes p:"${v.getKey()}" mode:${o.syncMode}`)}catch(V){throw Je.error(`[RP] c:"${this.getKey()}" err :`,V),V}return v}const A=v,{resourceID:O}=o,L=A.createChangePack();try{const V=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:O,changePack:An.toChangePack(L),pushOnly:f==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${A.getKey()}`}}),q=An.fromChangePack(V.changePack);if(q.hasChanges()&&(o.syncMode==="realtime-pushonly"||o.syncMode==="realtime-syncoff"))return A;A.applyChangePack(q),o.resource.publish([{type:Nr.SyncStatusChanged,value:Dp.Synced}]),A.getStatus()===Rs.Removed&&this.detachInternal(A.getKey());const te=A.getKey(),ce=q.getChangeSize();return Je.info(`[PP] c:"${this.getKey()}" sync d:"${te}", push:${L.getChangeSize()} pull:${ce} cp:${q.getCheckpoint().toTestString()}`),A}catch(V){throw A.publish([{type:Nr.SyncStatusChanged,value:Dp.SyncFailed}]),Je.error(`[PP] c:"${this.getKey()}" err :`,V),V}}async handleConnectError(o){if(!(o instanceof Zt))return!1;if(o.code===l.Canceled||o.code===l.Unknown||o.code===l.ResourceExhausted||o.code===l.Unavailable)return!0;if(pl(o)===ye.ErrUnauthenticated){if(this.authTokenInjector){const f=await this.authTokenInjector(Tr(o).reason);this.setAuthToken(f)}return!0}return pl(o)===ye.ErrTooManySubscribers?(Je.error(`[WD] c:"${this.getKey()}" err :`,o.rawMessage),!0):(pl(o)===ye.ErrTooManyAttachments||(pl(o)===ye.ErrClientNotActivated||pl(o)===ye.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(o){return new Promise((f,v)=>{this.taskQueue.push(()=>o().then(f).catch(v)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{Je.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function Lp(h){return typeof h=="object"&&h!==null&&h.type==="Text"&&Array.isArray(h.nodes)}function Sc(h){return typeof h=="object"&&h!==null&&h.type==="Tree"&&typeof h.root=="object"}function Zf(h){return typeof h=="object"&&h!==null&&h.type==="Int"&&typeof h.value=="number"}function yl(h){return typeof h=="object"&&h!==null&&h.type==="Long"&&typeof h.value=="number"}function b0(h){return typeof h=="object"&&h!==null&&h.type==="Date"&&typeof h.value=="string"}function tb(h){return typeof h=="object"&&h!==null&&h.type==="BinData"&&typeof h.value=="string"}function nb(h){return typeof h=="object"&&h!==null&&h.type==="Counter"&&typeof h.value=="object"}function rb(h){return typeof h=="object"&&h!==null&&!Array.isArray(h)&&!Lp(h)&&!Sc(h)&&!Zf(h)&&!yl(h)&&!b0(h)&&!tb(h)&&!nb(h)}function ib(h){try{const o=Fp(h),f=JSON.parse(o);return pn(f)}catch(o){throw new Ee(ye.ErrInvalidArgument,`Failed to parse YSON: ${o instanceof Error?o.message:String(o)}`)}}function Fp(h){let o=h;return o=o.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(f,v,A)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${v}","__yson_data":${A}}}`),o=o.replace(/Int\((-?\d+)\)/g,(f,v)=>`{"__yson_type":"Int","__yson_data":${v}}`),o=o.replace(/Long\((-?\d+)\)/g,(f,v)=>`{"__yson_type":"Long","__yson_data":${v}}`),o=o.replace(/Date\("([^"]*)"\)/g,(f,v)=>`{"__yson_type":"Date","__yson_data":"${v}"}`),o=o.replace(/BinData\("([^"]*)"\)/g,(f,v)=>`{"__yson_type":"BinData","__yson_data":"${v}"}`),o=o.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(f,v)=>`{"__yson_type":"Text","__yson_data":${v}}`),o=o.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(f,v)=>`{"__yson_type":"Tree","__yson_data":${v}}`),o}function pn(h){if(h===null||typeof h!="object")return h;if(h.__yson_type==="Int"&&typeof h.__yson_data=="number")return{type:"Int",value:h.__yson_data};if(h.__yson_type==="Long"&&typeof h.__yson_data=="number")return{type:"Long",value:h.__yson_data};if(h.__yson_type==="Date"&&typeof h.__yson_data=="string")return{type:"Date",value:h.__yson_data};if(h.__yson_type==="BinData"&&typeof h.__yson_data=="string")return{type:"BinData",value:h.__yson_data};if(h.__yson_type==="Counter"&&typeof h.__yson_data=="object"){const f=pn(h.__yson_data);if(typeof f=="object"&&f!==null&&"type"in f&&(f.type==="Int"||f.type==="Long"))return{type:"Counter",value:f};throw new Ee(ye.ErrInvalidArgument,"Counter must contain Int or Long")}if(h.__yson_type==="Text"&&Array.isArray(h.__yson_data))return{type:"Text",nodes:h.__yson_data.map(f=>S0(f))};if(h.__yson_type==="Tree"&&typeof h.__yson_data=="object")return{type:"Tree",root:br(h.__yson_data)};if(Array.isArray(h))return h.map(f=>pn(f));const o={};for(const[f,v]of Object.entries(h))o[f]=pn(v);return o}function S0(h){if(typeof h!="object"||h===null||typeof h.val!="string")throw new Ee(ye.ErrInvalidArgument,"invalid text node format");const o={val:h.val};return h.attrs&&typeof h.attrs=="object"&&(o.attrs=h.attrs),o}function br(h){if(typeof h!="object"||h===null||typeof h.type!="string")throw new Ee(ye.ErrInvalidArgument,"invalid tree node format");const o={type:h.type};return h.type==="text"&&typeof h.value=="string"?(o.value=h.value,o):(h.attrs&&typeof h.attrs=="object"&&(o.attrs=h.attrs),Array.isArray(h.children)&&(o.children=h.children.map(f=>br(f))),o)}function dA(h){return h.nodes.map(o=>o.val).join("")}function A0(h){return kp(h.root)}function kp(h){const o=h.attrs?Object.entries(h.attrs).map(([v,A])=>` ${v}="${Jf(A)}"`).join(""):"";if(h.type==="text"&&h.value!==void 0)return`<${h.type}${o}>${Jf(h.value)}</${h.type}>`;if(!h.children||h.children.length===0)return`<${h.type}${o} />`;const f=h.children.map(v=>kp(v)).join("");return`<${h.type}${o}>${f}</${h.type}>`}function Jf(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const ob=Object.freeze(Object.defineProperty({__proto__:null,isBinData:tb,isCounter:nb,isDate:b0,isInt:Zf,isLong:yl,isObject:rb,isText:Lp,isTree:Sc,parse:ib,textToString:dA,treeToXML:A0},Symbol.toStringTag,{value:"Module"}));Ci.Int,Ci.Long,typeof globalThis<"u"&&(globalThis.yorkie={Client:x0,Document:Ca,Primitive:Gn,Text:Yf,Counter:c0,Tree:_p,Channel:Bo,ChannelEventType:ko,YSON:ob,LogLevel:Gr,setLogLevel:qx,IntType:Ci.Int,LongType:Ci.Long});const Ac={name:"@yorkie-js/react",version:"0.6.48"},ab=s.createContext({client:void 0,loading:!0,error:void 0});function E0(h){const[o,f]=s.useState(void 0),[v,A]=s.useState(!0),[O,L]=s.useState(void 0),[V,q]=s.useState(!1);return s.useEffect(()=>{q(!0)},[]),s.useEffect(()=>{A(!0),L(void 0);async function te(){if(V)try{const ce=new x0(h);await ce.activate(),f(ce)}catch(ce){L(ce instanceof Error?ce:new Error("Failed to activate client"))}finally{A(!1)}}return te(),()=>{o!=null&&o.isActive()&&o.deactivate({keepalive:!0})}},[h.apiKey,h.rpcAddr,V]),{client:o,loading:v,error:O}}const pA=({children:h,...o})=>{const f=s.useMemo(()=>({userAgent:Ac.name+"/"+Ac.version,...o}),[o.apiKey,o.rpcAddr]),{client:v,loading:A,error:O}=E0(f);return i.jsx(ab.Provider,{value:{client:v,loading:A,error:O},children:h})},C0=()=>{const h=s.useContext(ab);if(!h)throw new Error("useYorkie must be used under YorkieProvider");return{client:h.client,loading:h.loading,error:h.error}};function lb(h){const o=new Set;let f=h;const v=()=>{o.forEach(q=>q(f))};return{subscribe:q=>(o.add(q),()=>o.delete(q)),getSnapshot:()=>f,setState:q=>{const te=f;f=typeof q=="function"?q(te):q,te!==f&&v()},destroy:()=>{o.clear()}}}const ub=h=>lb(h);function _r(h,o,f=Object.is){const v=s.useRef(o),A=s.useRef(f),O=s.useRef(void 0);v.current=o,A.current=f;const L=()=>{const V=h.getSnapshot(),q=v.current?v.current(V):V;return O.current!==void 0&&A.current(O.current,q)?O.current:(O.current=q,q)};return s.useSyncExternalStore(h.subscribe,L,L)}function w0(h){return h!=null&&typeof h[Symbol.iterator]=="function"}function Bp(h){return"entries"in h&&typeof h.entries=="function"}function gA(h,o){const f=h instanceof Map?h:new Map(h.entries()),v=o instanceof Map?o:new Map(o.entries());if(f.size!==v.size)return!1;for(const[A,O]of f)if(!v.has(A)||!Object.is(O,v.get(A)))return!1;return!0}function mA(h,o){const f=h[Symbol.iterator](),v=o[Symbol.iterator]();let A=f.next(),O=v.next();for(;!A.done&&!O.done;){if(!Object.is(A.value,O.value))return!1;A=f.next(),O=v.next()}return A.done===O.done}function R0(h,o){const f=Object.keys(h),v=Object.keys(o);if(f.length!==v.length)return!1;for(const A of f)if(!Object.prototype.hasOwnProperty.call(o,A)||!Object.is(h[A],o[A]))return!1;return!0}function cb(h,o){if(Object.is(h,o))return!0;if(typeof h!="object"||h===null||typeof o!="object"||o===null||Object.getPrototypeOf(h)!==Object.getPrototypeOf(o))return!1;const f=w0(h),v=w0(o);return f!==v?!1:f&&v?Bp(h)&&Bp(o)?gA(h,o):mA(h,o):R0(h,o)}function Hi(h,o,f,v,A,O,L,V){const q=s.useRef(A),te=s.useRef(O),[ce,Re]=s.useState(!1);s.useEffect(()=>{Re(!0)},[]),s.useEffect(()=>{if(f){V.setState(We=>({...We,loading:!1,error:f}));return}if(!h||o||!ce){V.setState(We=>({...We,loading:!0}));return}V.setState(We=>({...We,loading:!0,error:void 0}));const Be=new Ca(v,{enableDevtools:L}),Ne=[];Ne.push(Be.subscribe(()=>{V.setState(We=>({...We,root:Be.getRoot()}))})),Ne.push(Be.subscribe("presence",()=>{V.setState(We=>({...We,presences:Be.getPresences()}))})),Ne.push(Be.subscribe("connection",We=>{V.setState(st=>({...st,connection:We.value}))}));async function $e(){try{await(h==null?void 0:h.attach(Be,{initialRoot:q.current,initialPresence:te.current}));const We=st=>{try{Be.update(st)}catch(wt){V.setState(ln=>({...ln,error:wt instanceof Error?wt:new Error("Failed to update document")}))}};V.setState(st=>({...st,doc:Be,root:Be.getRoot(),presences:Be.getPresences(),update:We}))}catch(We){V.setState(st=>({...st,error:We instanceof Error?We:new Error("Failed to attach document")}))}finally{V.setState(We=>({...We,loading:!1}))}}return $e(),()=>{h&&h.has(v)&&h.detach(Be);for(const We of Ne)We()}},[h,o,f,v,V,ce])}const Ec=s.createContext(void 0),fb=({docKey:h,initialRoot:o={},initialPresence:f={},enableDevtools:v=!1,children:A})=>{const{client:O,loading:L,error:V}=C0(),q=s.useRef(void 0);q.current||(q.current=ub({doc:void 0,root:o,presences:[],connection:bc.Disconnected,update:()=>{},loading:!0,error:void 0}));const te=q.current;return Hi(O,L,V,h,o,f,v,te),i.jsx(Ec.Provider,{value:te,children:A})};function db(){const h=s.useContext(Ec);if(!h)throw new Error("useDocument must be used within a DocumentProvider");return _r(h)}const Qf=()=>(h,o=cb)=>{const f=s.useContext(Ec);if(!f)throw new Error("useDocument must be used within a DocumentProvider");return _r(f,h,o)},Wi=()=>{const h=fo("useRoot");return{root:_r(h,f=>f.root)}},hb=()=>{const h=fo("usePresences");return _r(h,o=>o.presences)},jp=()=>{const h=fo("useConnection");return _r(h,o=>o.connection)},fo=h=>{const o=s.useContext(Ec);if(!o)throw new Error(`${h} must be used within a DocumentProvider`);return o};function vA(h,o,f){const v=s.useRef(void 0);v.current||(v.current=ub({doc:void 0,root:(f==null?void 0:f.initialRoot)??{},presences:[],connection:bc.Disconnected,update:()=>{},loading:!0,error:void 0}));const A=v.current,O=s.useMemo(()=>({apiKey:h,userAgent:Ac.name+"/"+Ac.version,...f}),[h,f]),{client:L,loading:V,error:q}=E0(O);Hi(L,V,q,o,(f==null?void 0:f.initialRoot)??{},(f==null?void 0:f.initialPresence)??{},(f==null?void 0:f.enableDevtools)??!1,A);const te=_r(A);return{root:te.root,presences:te.presences,connection:te.connection,update:te.update,loading:te.loading,error:te.error}}function yA(h){return lb(h)}const xl=s.createContext(void 0);function pb(h,o,f,v,A,O){const L=s.useRef(void 0),[V,q]=s.useState(!1);s.useEffect(()=>{q(!0)},[]),s.useEffect(()=>{if(!V||o||f||!h){f&&O.setState(Re=>({...Re,error:f,loading:!1}));return}let te;async function ce(){if(!(!h||!h.isActive())){O.setState(Re=>({...Re,loading:!0,error:void 0}));try{const Re=new Bo(v);await h.attach(Re,{isRealtime:A}),L.current=Re,te=Re.subscribe(()=>{O.setState(Be=>({...Be,sessionCount:Re.getSessionCount()}))}),O.setState({channel:Re,sessionCount:Re.getSessionCount(),loading:!1,error:void 0})}catch(Re){O.setState(Be=>({...Be,loading:!1,error:Re instanceof Error?Re:new Error("Failed to attach channel")}))}}}return ce(),()=>{te&&te();async function Re(){if(L.current&&(h!=null&&h.isActive()))try{await h.detach(L.current)}catch(Be){console.error("Failed to detach channel:",Be)}}Re()}},[h,o,f,v,A,V])}const xA=({children:h,channelKey:o,isRealtime:f=!0})=>{const{client:v,loading:A,error:O}=C0(),L=s.useRef(void 0);L.current||(L.current=yA({channel:void 0,sessionCount:0,loading:!0,error:void 0}));const V=L.current;return pb(v,A,O,o,f,V),i.jsx(xl.Provider,{value:V,children:h})},gb=h=>{const o=s.useContext(xl);if(!o)throw new Error(`${h} must be used within ChannelProvider`);return o},bA=()=>{const h=gb("useChannel"),o=_r(h,A=>A.sessionCount),f=_r(h,A=>A.loading),v=_r(h,A=>A.error);return{sessionCount:o,loading:f,error:v}},SA=()=>{const h=gb("useChannelSessionCount");return _r(h,o=>o.sessionCount)};r.ChannelProvider=xA,r.DocumentProvider=fb,r.YorkieProvider=pA,r.createDocumentSelector=Qf,r.shallowEqual=cb,r.useChannel=bA,r.useChannelSessionCount=SA,r.useConnection=jp,r.useDocument=db,r.usePresences=hb,r.useRoot=Wi,r.useYorkieDoc=vA,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})})}(hv,hv.exports)),hv.exports}var Fa=l$();const Pu=()=>I.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]","aria-live":"polite",children:[I.jsx(MM,{className:"h-8 w-8 animate-spin text-primary"}),I.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading..."})]}),iE=768;function fR(){const[e,t]=P.useState(void 0);return P.useEffect(()=>{const n=window.matchMedia(`(max-width: ${iE-1}px)`),r=()=>{t(window.innerWidth<iE)};return n.addEventListener("change",r),t(window.innerWidth<iE),()=>n.removeEventListener("change",r)},[]),!!e}var u$="Separator",_N="horizontal",c$=["horizontal","vertical"],sF=P.forwardRef((e,t)=>{const{decorative:n,orientation:r=_N,...i}=e,s=f$(r)?r:_N,u=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return I.jsx(Kt.div,{"data-orientation":s,...u,...i,ref:t})});sF.displayName=u$;function f$(e){return c$.includes(e)}var d$=sF;function ah({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return I.jsx(d$,{"data-slot":"separator-root",decorative:n,orientation:t,className:St("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function h$({...e}){return I.jsx(VP,{"data-slot":"sheet",...e})}function p$({...e}){return I.jsx(GP,{"data-slot":"sheet-portal",...e})}function g$({className:e,...t}){return I.jsx($P,{"data-slot":"sheet-overlay",className:St("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function m$({className:e,children:t,side:n="right",...r}){return I.jsxs(p$,{children:[I.jsx(g$,{}),I.jsxs(HP,{"data-slot":"sheet-content",className:St("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,I.jsxs(qP,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[I.jsx(kM,{className:"size-4"}),I.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function v$({className:e,...t}){return I.jsx("div",{"data-slot":"sheet-header",className:St("flex flex-col gap-1.5 p-4",e),...t})}function y$({className:e,...t}){return I.jsx(WP,{"data-slot":"sheet-title",className:St("text-foreground font-semibold",e),...t})}function x$({className:e,...t}){return I.jsx(YP,{"data-slot":"sheet-description",className:St("text-muted-foreground text-sm",e),...t})}var b$="VisuallyHidden",dR=P.forwardRef((e,t)=>I.jsx(Kt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));dR.displayName=b$;var S$=dR,[ZS,_J]=za("Tooltip",[_g]),JS=_g(),aF="TooltipProvider",A$=700,Mw="tooltip.open",[E$,hR]=ZS(aF),lF=e=>{const{__scopeTooltip:t,delayDuration:n=A$,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,l=P.useRef(!0),u=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const g=c.current;return()=>window.clearTimeout(g)},[]),I.jsx(E$,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:P.useCallback(g=>{u.current=g},[]),disableHoverableContent:i,children:s})};lF.displayName=aF;var QS="Tooltip",[C$,ny]=ZS(QS),uF=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:l,delayDuration:u}=e,c=hR(QS,e.__scopeTooltip),g=JS(t),[p,m]=P.useState(null),x=Da(),b=P.useRef(0),E=l??c.disableHoverableContent,w=u??c.delayDuration,C=P.useRef(!1),[R=!1,T]=bh({prop:r,defaultProp:i,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(Mw))):c.onClose(),s==null||s(j)}}),N=P.useMemo(()=>R?C.current?"delayed-open":"instant-open":"closed",[R]),D=P.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C.current=!1,T(!0)},[T]),F=P.useCallback(()=>{window.clearTimeout(b.current),b.current=0,T(!1)},[T]),B=P.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{C.current=!0,T(!0),b.current=0},w)},[w,T]);return P.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),I.jsx(Q2,{...g,children:I.jsx(C$,{scope:t,contentId:x,open:R,stateAttribute:N,trigger:p,onTriggerChange:m,onTriggerEnter:P.useCallback(()=>{c.isOpenDelayedRef.current?B():D()},[c.isOpenDelayedRef,B,D]),onTriggerLeave:P.useCallback(()=>{E?F():(window.clearTimeout(b.current),b.current=0)},[F,E]),onOpen:D,onClose:F,disableHoverableContent:E,children:n})})};uF.displayName=QS;var Pw="TooltipTrigger",cF=P.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=ny(Pw,n),s=hR(Pw,n),l=JS(n),u=P.useRef(null),c=wn(t,u,i.onTriggerChange),g=P.useRef(!1),p=P.useRef(!1),m=P.useCallback(()=>g.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),I.jsx(eR,{asChild:!0,...l,children:I.jsx(Kt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:dt(e.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:dt(e.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:dt(e.onPointerDown,()=>{i.open&&i.onClose(),g.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:dt(e.onFocus,()=>{g.current||i.onOpen()}),onBlur:dt(e.onBlur,i.onClose),onClick:dt(e.onClick,i.onClose)})})});cF.displayName=Pw;var pR="TooltipPortal",[w$,R$]=ZS(pR,{forceMount:void 0}),fF=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,s=ny(pR,t);return I.jsx(w$,{scope:t,forceMount:n,children:I.jsx(Ua,{present:n||s.open,children:I.jsx(Yv,{asChild:!0,container:i,children:r})})})};fF.displayName=pR;var gg="TooltipContent",dF=P.forwardRef((e,t)=>{const n=R$(gg,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,l=ny(gg,e.__scopeTooltip);return I.jsx(Ua,{present:r||l.open,children:l.disableHoverableContent?I.jsx(hF,{side:i,...s,ref:t}):I.jsx(T$,{side:i,...s,ref:t})})}),T$=P.forwardRef((e,t)=>{const n=ny(gg,e.__scopeTooltip),r=hR(gg,e.__scopeTooltip),i=P.useRef(null),s=wn(t,i),[l,u]=P.useState(null),{trigger:c,onClose:g}=n,p=i.current,{onPointerInTransitChange:m}=r,x=P.useCallback(()=>{u(null),m(!1)},[m]),b=P.useCallback((E,w)=>{const C=E.currentTarget,R={x:E.clientX,y:E.clientY},T=O$(R,C.getBoundingClientRect()),N=D$(R,T),D=M$(w.getBoundingClientRect()),F=L$([...N,...D]);u(F),m(!0)},[m]);return P.useEffect(()=>()=>x(),[x]),P.useEffect(()=>{if(c&&p){const E=C=>b(C,p),w=C=>b(C,c);return c.addEventListener("pointerleave",E),p.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",E),p.removeEventListener("pointerleave",w)}}},[c,p,b,x]),P.useEffect(()=>{if(l){const E=w=>{const C=w.target,R={x:w.clientX,y:w.clientY},T=(c==null?void 0:c.contains(C))||(p==null?void 0:p.contains(C)),N=!P$(R,l);T?x():N&&(x(),g())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[c,p,l,g,x]),I.jsx(hF,{...e,ref:s})}),[N$,_$]=ZS(QS,{isInside:!1}),I$=iV("TooltipContent"),hF=P.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:l,...u}=e,c=ny(gg,n),g=JS(n),{onClose:p}=c;return P.useEffect(()=>(document.addEventListener(Mw,p),()=>document.removeEventListener(Mw,p)),[p]),P.useEffect(()=>{if(c.trigger){const m=x=>{const b=x.target;b!=null&&b.contains(c.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,p]),I.jsx(Wv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:I.jsxs(tR,{"data-state":c.stateAttribute,...g,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[I.jsx(I$,{children:r}),I.jsx(N$,{scope:n,isInside:!0,children:I.jsx(S$,{id:c.contentId,role:"tooltip",children:i||r})})]})})});dF.displayName=gg;var pF="TooltipArrow",gF=P.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=JS(n);return _$(pF,n).isInside?null:I.jsx(nR,{...i,...r,ref:t})});gF.displayName=pF;function O$(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function D$(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function M$(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function P$(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s].x,c=t[s].y,g=t[l].x,p=t[l].y;c>r!=p>r&&n<(g-u)*(r-c)/(p-c)+u&&(i=!i)}return i}function L$(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),F$(t)}function F$(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],l=n[n.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var k$=lF,B$=uF,j$=cF,z$=fF,U$=dF,V$=gF;function gR({delayDuration:e=0,...t}){return I.jsx(k$,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Dr({...e}){return I.jsx(gR,{children:I.jsx(B$,{"data-slot":"tooltip",...e})})}function Mr({...e}){return I.jsx(j$,{"data-slot":"tooltip-trigger",...e})}function Pr({className:e,sideOffset:t=0,children:n,...r}){return I.jsx(z$,{children:I.jsxs(U$,{"data-slot":"tooltip-content",sideOffset:t,className:St("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,I.jsx(V$,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const G$="sidebar_state",$$=60*60*24*7,H$="16rem",W$="18rem",Y$="3rem",q$="b",mF=P.createContext(null);function e1(){const e=P.useContext(mF);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function vF({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:i,children:s,...l}){const u=fR(),[c,g]=P.useState(!1),[p,m]=P.useState(e),x=t??p,b=P.useCallback(R=>{const T=typeof R=="function"?R(x):R;n?n(T):m(T),document.cookie=`${G$}=${T}; path=/; max-age=${$$}`},[n,x]),E=P.useCallback(()=>u?g(R=>!R):b(R=>!R),[u,b,g]);P.useEffect(()=>{const R=T=>{T.key===q$&&(T.metaKey||T.ctrlKey)&&(T.preventDefault(),E())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[E]);const w=x?"expanded":"collapsed",C=P.useMemo(()=>({state:w,open:x,setOpen:b,isMobile:u,openMobile:c,setOpenMobile:g,toggleSidebar:E}),[w,x,b,u,c,g,E]);return I.jsx(mF.Provider,{value:C,children:I.jsx(gR,{delayDuration:0,children:I.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":H$,"--sidebar-width-icon":Y$,...i},className:St("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...l,children:s})})})}function K$({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:i,...s}){const{isMobile:l,state:u,openMobile:c,setOpenMobile:g}=e1();return n==="none"?I.jsx("div",{"data-slot":"sidebar",className:St("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...s,children:i}):l?I.jsx(h$,{open:c,onOpenChange:g,...s,children:I.jsxs(m$,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":W$},side:e,children:[I.jsxs(v$,{className:"sr-only",children:[I.jsx(y$,{children:"Sidebar"}),I.jsx(x$,{children:"Displays the mobile sidebar."})]}),I.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):I.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[I.jsx("div",{"data-slot":"sidebar-gap",className:St("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),I.jsx("div",{"data-slot":"sidebar-container",className:St("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:I.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function X$({className:e,onClick:t,...n}){const{toggleSidebar:r}=e1();return I.jsxs(ir,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:St("size-7",e),onClick:i=>{t==null||t(i),r()},...n,children:[I.jsx(mU,{}),I.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function yF({className:e,...t}){return I.jsx("main",{"data-slot":"sidebar-inset",className:St("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function Z$({className:e,...t}){return I.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:St("flex flex-col gap-2 p-2",e),...t})}function J$({className:e,...t}){return I.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:St("flex flex-col gap-2 p-2",e),...t})}function Q$({className:e,...t}){return I.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:St("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function xF({className:e,...t}){return I.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:St("relative flex w-full min-w-0 flex-col p-2",e),...t})}function bF({className:e,...t}){return I.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:St("w-full text-sm",e),...t})}function t1({className:e,...t}){return I.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:St("flex w-full min-w-0 flex-col gap-1",e),...t})}function n1({className:e,...t}){return I.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:St("group/menu-item relative",e),...t})}const eH=zS("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function r1({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:i,className:s,...l}){const u=e?_2:"button",{isMobile:c,state:g}=e1(),p=I.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:St(eH({variant:n,size:r}),s),...l});return i?(typeof i=="string"&&(i={children:i}),I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:p}),I.jsx(Pr,{side:"right",align:"center",hidden:g!=="collapsed"||c,...i})]})):p}function tH({items:e}){const t=Ba(),n=P.useCallback(r=>{const i=t.pathname;return i===r||i.startsWith(r+"/")},[t.pathname]);return I.jsx(xF,{children:I.jsx(bF,{className:"flex flex-col gap-2",children:I.jsx(t1,{children:e.map(r=>I.jsx(n1,{children:I.jsx(r1,{tooltip:r.title,isActive:n(r.url),children:I.jsxs(Eg,{to:r.url,className:"flex items-center gap-2",children:[r.icon&&I.jsx(r.icon,{}),I.jsx("span",{children:r.title})]})})},r.title))})})})}function nH({items:e,...t}){return I.jsx(xF,{...t,children:I.jsx(bF,{children:I.jsx(t1,{children:e.map(n=>I.jsx(n1,{children:I.jsx(r1,{asChild:!0,children:I.jsxs(Eg,{to:n.url,className:"flex items-center gap-2",children:[n.icon&&I.jsx(n.icon,{}),I.jsx("span",{children:n.title})]})})},n.title))})})})}/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rH={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=(e,t,n,r)=>{const i=P.forwardRef(({color:s="currentColor",size:l=24,stroke:u=2,title:c,className:g,children:p,...m},x)=>P.createElement("svg",{ref:x,...rH[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,g].join(" "),strokeWidth:u,stroke:s,...m},[c&&P.createElement("title",{key:"svg-title"},c),...r.map(([b,E])=>P.createElement(b,E)),...Array.isArray(p)?p:[p]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lw=Vt("outline","abc","IconAbc",[["path",{d:"M3 16v-6a2 2 0 1 1 4 0v6",key:"svg-0"}],["path",{d:"M3 13h4",key:"svg-1"}],["path",{d:"M10 8v6a2 2 0 1 0 4 0v-1a2 2 0 1 0 -4 0v1",key:"svg-2"}],["path",{d:"M20.732 12a2 2 0 0 0 -3.732 1v1a2 2 0 0 0 3.726 1.01",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fw=Vt("outline","align-box-bottom-center","IconAlignBoxBottomCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 15v2",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M15 13v4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kw=Vt("outline","align-box-center-middle","IconAlignBoxCenterMiddle",[["path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M11 15h2",key:"svg-1"}],["path",{d:"M9 12h6",key:"svg-2"}],["path",{d:"M10 9h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bw=Vt("outline","align-box-top-center","IconAlignBoxTopCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 9v-2",key:"svg-1"}],["path",{d:"M12 13v-6",key:"svg-2"}],["path",{d:"M15 11v-4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jw=Vt("outline","align-center","IconAlignCenter",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M8 12l8 0",key:"svg-1"}],["path",{d:"M6 18l12 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zw=Vt("outline","align-left","IconAlignLeft",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l10 0",key:"svg-1"}],["path",{d:"M4 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uw=Vt("outline","align-right","IconAlignRight",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M10 12l10 0",key:"svg-1"}],["path",{d:"M6 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iH=Vt("outline","arrow-back-up","IconArrowBackUp",[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oH=Vt("outline","arrow-forward-up","IconArrowForwardUp",[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sH=Vt("outline","bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oE=Vt("outline","border-all","IconBorderAll",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M12 4l0 16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IN=Vt("outline","border-bottom","IconBorderBottom",[["path",{d:"M20 20l-16 0",key:"svg-0"}],["path",{d:"M4 4l0 .01",key:"svg-1"}],["path",{d:"M8 4l0 .01",key:"svg-2"}],["path",{d:"M12 4l0 .01",key:"svg-3"}],["path",{d:"M16 4l0 .01",key:"svg-4"}],["path",{d:"M20 4l0 .01",key:"svg-5"}],["path",{d:"M4 8l0 .01",key:"svg-6"}],["path",{d:"M12 8l0 .01",key:"svg-7"}],["path",{d:"M20 8l0 .01",key:"svg-8"}],["path",{d:"M4 12l0 .01",key:"svg-9"}],["path",{d:"M8 12l0 .01",key:"svg-10"}],["path",{d:"M12 12l0 .01",key:"svg-11"}],["path",{d:"M16 12l0 .01",key:"svg-12"}],["path",{d:"M20 12l0 .01",key:"svg-13"}],["path",{d:"M4 16l0 .01",key:"svg-14"}],["path",{d:"M12 16l0 .01",key:"svg-15"}],["path",{d:"M20 16l0 .01",key:"svg-16"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ON=Vt("outline","border-inner","IconBorderInner",[["path",{d:"M4 12l16 0",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}],["path",{d:"M4 4l0 .01",key:"svg-2"}],["path",{d:"M8 4l0 .01",key:"svg-3"}],["path",{d:"M16 4l0 .01",key:"svg-4"}],["path",{d:"M20 4l0 .01",key:"svg-5"}],["path",{d:"M4 8l0 .01",key:"svg-6"}],["path",{d:"M20 8l0 .01",key:"svg-7"}],["path",{d:"M4 16l0 .01",key:"svg-8"}],["path",{d:"M20 16l0 .01",key:"svg-9"}],["path",{d:"M4 20l0 .01",key:"svg-10"}],["path",{d:"M8 20l0 .01",key:"svg-11"}],["path",{d:"M16 20l0 .01",key:"svg-12"}],["path",{d:"M20 20l0 .01",key:"svg-13"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var DN=Vt("outline","border-left","IconBorderLeft",[["path",{d:"M4 20l0 -16",key:"svg-0"}],["path",{d:"M8 4l0 .01",key:"svg-1"}],["path",{d:"M12 4l0 .01",key:"svg-2"}],["path",{d:"M16 4l0 .01",key:"svg-3"}],["path",{d:"M20 4l0 .01",key:"svg-4"}],["path",{d:"M12 8l0 .01",key:"svg-5"}],["path",{d:"M20 8l0 .01",key:"svg-6"}],["path",{d:"M8 12l0 .01",key:"svg-7"}],["path",{d:"M12 12l0 .01",key:"svg-8"}],["path",{d:"M16 12l0 .01",key:"svg-9"}],["path",{d:"M20 12l0 .01",key:"svg-10"}],["path",{d:"M12 16l0 .01",key:"svg-11"}],["path",{d:"M20 16l0 .01",key:"svg-12"}],["path",{d:"M8 20l0 .01",key:"svg-13"}],["path",{d:"M12 20l0 .01",key:"svg-14"}],["path",{d:"M16 20l0 .01",key:"svg-15"}],["path",{d:"M20 20l0 .01",key:"svg-16"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var MN=Vt("outline","border-none","IconBorderNone",[["path",{d:"M4 4l0 .01",key:"svg-0"}],["path",{d:"M8 4l0 .01",key:"svg-1"}],["path",{d:"M12 4l0 .01",key:"svg-2"}],["path",{d:"M16 4l0 .01",key:"svg-3"}],["path",{d:"M20 4l0 .01",key:"svg-4"}],["path",{d:"M4 8l0 .01",key:"svg-5"}],["path",{d:"M12 8l0 .01",key:"svg-6"}],["path",{d:"M20 8l0 .01",key:"svg-7"}],["path",{d:"M4 12l0 .01",key:"svg-8"}],["path",{d:"M8 12l0 .01",key:"svg-9"}],["path",{d:"M12 12l0 .01",key:"svg-10"}],["path",{d:"M16 12l0 .01",key:"svg-11"}],["path",{d:"M20 12l0 .01",key:"svg-12"}],["path",{d:"M4 16l0 .01",key:"svg-13"}],["path",{d:"M12 16l0 .01",key:"svg-14"}],["path",{d:"M20 16l0 .01",key:"svg-15"}],["path",{d:"M4 20l0 .01",key:"svg-16"}],["path",{d:"M8 20l0 .01",key:"svg-17"}],["path",{d:"M12 20l0 .01",key:"svg-18"}],["path",{d:"M16 20l0 .01",key:"svg-19"}],["path",{d:"M20 20l0 .01",key:"svg-20"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var PN=Vt("outline","border-outer","IconBorderOuter",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 8l0 .01",key:"svg-1"}],["path",{d:"M8 12l0 .01",key:"svg-2"}],["path",{d:"M12 12l0 .01",key:"svg-3"}],["path",{d:"M16 12l0 .01",key:"svg-4"}],["path",{d:"M12 16l0 .01",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var LN=Vt("outline","border-right","IconBorderRight",[["path",{d:"M20 4l0 16",key:"svg-0"}],["path",{d:"M4 4l0 .01",key:"svg-1"}],["path",{d:"M8 4l0 .01",key:"svg-2"}],["path",{d:"M12 4l0 .01",key:"svg-3"}],["path",{d:"M16 4l0 .01",key:"svg-4"}],["path",{d:"M4 8l0 .01",key:"svg-5"}],["path",{d:"M12 8l0 .01",key:"svg-6"}],["path",{d:"M4 12l0 .01",key:"svg-7"}],["path",{d:"M8 12l0 .01",key:"svg-8"}],["path",{d:"M12 12l0 .01",key:"svg-9"}],["path",{d:"M16 12l0 .01",key:"svg-10"}],["path",{d:"M4 16l0 .01",key:"svg-11"}],["path",{d:"M12 16l0 .01",key:"svg-12"}],["path",{d:"M4 20l0 .01",key:"svg-13"}],["path",{d:"M8 20l0 .01",key:"svg-14"}],["path",{d:"M12 20l0 .01",key:"svg-15"}],["path",{d:"M16 20l0 .01",key:"svg-16"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var FN=Vt("outline","border-top","IconBorderTop",[["path",{d:"M4 4l16 0",key:"svg-0"}],["path",{d:"M4 8l0 .01",key:"svg-1"}],["path",{d:"M12 8l0 .01",key:"svg-2"}],["path",{d:"M20 8l0 .01",key:"svg-3"}],["path",{d:"M4 12l0 .01",key:"svg-4"}],["path",{d:"M8 12l0 .01",key:"svg-5"}],["path",{d:"M12 12l0 .01",key:"svg-6"}],["path",{d:"M16 12l0 .01",key:"svg-7"}],["path",{d:"M20 12l0 .01",key:"svg-8"}],["path",{d:"M4 16l0 .01",key:"svg-9"}],["path",{d:"M12 16l0 .01",key:"svg-10"}],["path",{d:"M20 16l0 .01",key:"svg-11"}],["path",{d:"M4 20l0 .01",key:"svg-12"}],["path",{d:"M8 20l0 .01",key:"svg-13"}],["path",{d:"M12 20l0 .01",key:"svg-14"}],["path",{d:"M16 20l0 .01",key:"svg-15"}],["path",{d:"M20 20l0 .01",key:"svg-16"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vw=Vt("outline","calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zb=Vt("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aH=Vt("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pv=Vt("outline","currency-dollar","IconCurrencyDollar",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ry=Vt("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ub=Vt("outline","decimal","IconDecimal",[["path",{d:"M17 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-0"}],["path",{d:"M10 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-1"}],["path",{d:"M5 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var SF=Vt("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kN=Vt("outline","droplet-off","IconDropletOff",[["path",{d:"M18.963 14.938a6.54 6.54 0 0 0 -.899 -4.06l-4.89 -7.26c-.42 -.626 -1.287 -.804 -1.936 -.398a1.376 1.376 0 0 0 -.41 .397l-1.282 1.9m-1.625 2.415l-1.986 2.946c-1.695 2.837 -1.035 6.44 1.567 8.545c2.602 2.105 6.395 2.105 8.996 0a6.83 6.83 0 0 0 1.376 -1.499",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var AF=Vt("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gw=Vt("outline","hash","IconHash",[["path",{d:"M5 9l14 0",key:"svg-0"}],["path",{d:"M5 15l14 0",key:"svg-1"}],["path",{d:"M11 4l-4 16",key:"svg-2"}],["path",{d:"M17 4l-4 16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lH=Vt("outline","italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uH=Vt("outline","logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var BN=Vt("outline","math-function","IconMathFunction",[["path",{d:"M3 19a2 2 0 0 0 2 2c2 0 2 -4 3 -9s1 -9 3 -9a2 2 0 0 1 2 2",key:"svg-0"}],["path",{d:"M5 12h6",key:"svg-1"}],["path",{d:"M15 12l6 6",key:"svg-2"}],["path",{d:"M15 18l6 -6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cH=Vt("outline","paint","IconPaint",[["path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M19 6h1a2 2 0 0 1 2 2a5 5 0 0 1 -5 5l-5 0v2",key:"svg-1"}],["path",{d:"M10 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oS=Vt("outline","percentage","IconPercentage",[["path",{d:"M17 17m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 7m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fH=Vt("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var EF=Vt("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var CF=Vt("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dH=Vt("outline","share","IconShare",[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jN=Vt("outline","strikethrough","IconStrikethrough",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hH=Vt("outline","table-alias","IconTableAlias",[["path",{d:"M3 12v-7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-7",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v10",key:"svg-2"}],["path",{d:"M2 17a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-4z",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wF=Vt("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pH=Vt("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gH=Vt("outline","typography","IconTypography",[["path",{d:"M4 20l3 0",key:"svg-0"}],["path",{d:"M14 20l7 0",key:"svg-1"}],["path",{d:"M6.9 15l6.9 0",key:"svg-2"}],["path",{d:"M10.2 6.3l5.8 13.7",key:"svg-3"}],["path",{d:"M5 20l6 -16l2 0l7 16",key:"svg-4"}]]),mR="Avatar",[mH,IJ]=za(mR),[vH,RF]=mH(mR),TF=P.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=P.useState("idle");return I.jsx(vH,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:I.jsx(Kt.span,{...r,ref:t})})});TF.displayName=mR;var NF="AvatarImage",_F=P.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,l=RF(NF,n),u=yH(r,s),c=bo(g=>{i(g),l.onImageLoadingStatusChange(g)});return Br(()=>{u!=="idle"&&c(u)},[u,c]),u==="loaded"?I.jsx(Kt.img,{...s,ref:t,src:r}):null});_F.displayName=NF;var IF="AvatarFallback",OF=P.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=RF(IF,n),[l,u]=P.useState(r===void 0);return P.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(c)}},[r]),l&&s.imageLoadingStatus!=="loaded"?I.jsx(Kt.span,{...i,ref:t}):null});OF.displayName=IF;function zN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function yH(e,{referrerPolicy:t,crossOrigin:n}){const r=bH(),i=P.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[l,u]=P.useState(()=>zN(s,e));return Br(()=>{u(zN(s,e))},[s,e]),Br(()=>{const c=m=>()=>{u(m)};if(!s)return;const g=c("loaded"),p=c("error");return s.addEventListener("load",g),s.addEventListener("error",p),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",g),s.removeEventListener("error",p)}},[s,n,t]),l}function xH(){return()=>{}}function bH(){return P.useSyncExternalStore(xH,()=>!0,()=>!1)}var SH=TF,AH=_F,EH=OF;function RS({className:e,...t}){return I.jsx(SH,{"data-slot":"avatar",className:St("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function $w({className:e,...t}){return I.jsx(AH,{"data-slot":"avatar-image",className:St("aspect-square size-full",e),...t})}function TS({className:e,...t}){return I.jsx(EH,{"data-slot":"avatar-fallback",className:St("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function CH({user:e}){const{isMobile:t}=e1(),n=async()=>{await ZM()};return I.jsx(t1,{children:I.jsx(n1,{children:I.jsxs(Ho,{children:[I.jsx(Wo,{asChild:!0,children:I.jsxs(r1,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground cursor-pointer",children:[I.jsxs(RS,{className:"h-8 w-8 rounded-lg",children:[I.jsx($w,{src:e.photo,alt:e.username}),I.jsx(TS,{className:"rounded-lg",children:"CN"})]}),I.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[I.jsx("span",{className:"truncate font-medium",children:e.username}),I.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]}),I.jsx(SF,{className:"ml-auto size-4"})]})}),I.jsxs(Yo,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[I.jsx(oh,{className:"p-0 font-normal",children:I.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[I.jsxs(RS,{className:"h-8 w-8 rounded-lg",children:[I.jsx($w,{src:e.photo,alt:e.username}),I.jsx(TS,{className:"rounded-lg",children:"CN"})]}),I.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[I.jsx("span",{className:"truncate font-medium",children:e.username}),I.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]})]})}),I.jsx(Vo,{}),I.jsxs(Ct,{onClick:n,className:"cursor-pointer",children:[I.jsx(uH,{}),"Log out"]})]})]})})})}function DF({items:e,...t}){const{data:n,isLoading:r}=ja({queryKey:["me"],queryFn:Ch,retry:!1});return r?null:I.jsxs(K$,{collapsible:"offcanvas",...t,children:[I.jsx(Z$,{children:I.jsx(t1,{children:I.jsx(n1,{children:I.jsx(r1,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5",children:I.jsxs(Eg,{to:"/",children:[I.jsx(DM,{className:"!size-5"}),I.jsx("span",{className:"text-base font-semibold",children:"Wafflebase"})]})})})})}),I.jsxs(Q$,{children:[I.jsx(tH,{items:e.main}),I.jsx(nH,{items:e.secondary,className:"mt-auto"})]}),I.jsx(J$,{children:I.jsx(CH,{user:n})})]})}function MF({title:e,editable:t=!1,onRename:n,children:r}){const[i,s]=P.useState(!1),[l,u]=P.useState(e),c=P.useRef(null);P.useEffect(()=>{u(e)},[e]),P.useEffect(()=>{i&&c.current&&(c.current.focus(),c.current.select())},[i]);const g=P.useCallback(()=>{const p=l.trim();p&&p!==e&&n&&n(p),s(!1)},[l,e,n]);return I.jsx("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:I.jsxs("div",{className:"flex w-full items-center justify-between gap-1 px-4 lg:gap-2 lg:px-6 min-h-[3.5rem]",children:[I.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[I.jsx(X$,{className:"-ml-1"}),I.jsx(ah,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-4"}),i?I.jsx("input",{ref:c,className:"text-base font-medium bg-transparent border-b border-primary outline-none px-1 min-w-[120px]",value:l,onChange:p=>u(p.target.value),onBlur:g,onKeyDown:p=>{p.key==="Enter"&&g(),p.key==="Escape"&&(u(e),s(!1))}}):I.jsx("h1",{className:`text-base font-medium ${t?"cursor-pointer hover:bg-muted/50 px-1 rounded transition-colors":""}`,onClick:()=>{t&&s(!0)},title:t?"Click to rename":void 0,children:e})]}),I.jsx("div",{className:"flex items-center min-w-0",children:r})]})})}function wH({className:e}){const{data:t}=ja({queryKey:["me"],queryFn:Ch,retry:!1}),r=Fa.usePresences().reduce((s,l)=>{const u=l.presence.username;return s.find(c=>c.presence.username===u)||s.push(l),s},[]),i=r.length;return I.jsx(gR,{children:I.jsx("div",{className:`flex items-center gap-2 min-h-[2.5rem] ${e}`,children:i>0?I.jsx(I.Fragment,{children:I.jsxs("div",{className:"flex items-center -space-x-2",children:[r.slice(0,4).map(s=>{var g,p;const l=(g=s.presence)==null?void 0:g.username,u=(p=s.presence)==null?void 0:p.photo,c=l===(t==null?void 0:t.username);return l?I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsxs("div",{className:"relative",children:[I.jsxs(RS,{className:"h-8 w-8 border-2 border-background",children:[u&&I.jsx($w,{src:u,alt:l}),I.jsx(TS,{className:"text-xs",children:(l==null?void 0:l.slice(0,2).toUpperCase())||"??"})]}),I.jsx("div",{className:"absolute -bottom-1 -right-1",children:I.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 border-2 border-background"})})]})}),I.jsx(Pr,{children:I.jsxs("p",{children:[l||"Anonymous",c?" (You)":""]})})]},s.clientID):null}).filter(Boolean),i>4&&I.jsx(RS,{className:"w-8 border-2 border-background",children:I.jsxs(TS,{className:"text-xs bg-muted",children:["+",i-4]})})]})}):I.jsx("div",{className:"w-32 opacity-0"})})})}function UN(e,[t,n]){return Math.min(n,Math.max(t,e))}function PF(e){const t=P.useRef({value:e,previous:e});return P.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var RH=[" ","Enter","ArrowUp","ArrowDown"],TH=[" ","Enter"],iy="Select",[i1,o1,NH]=V2(iy),[Ig,OJ]=za(iy,[NH,_g]),s1=_g(),[_H,of]=Ig(iy),[IH,OH]=Ig(iy),LF=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:l,defaultValue:u,onValueChange:c,dir:g,name:p,autoComplete:m,disabled:x,required:b,form:E}=e,w=s1(t),[C,R]=P.useState(null),[T,N]=P.useState(null),[D,F]=P.useState(!1),B=G2(g),[j=!1,k]=bh({prop:r,defaultProp:i,onChange:s}),[$,Z]=bh({prop:l,defaultProp:u,onChange:c}),ne=P.useRef(null),ie=C?E||!!C.closest("form"):!0,[he,De]=P.useState(new Set),Te=Array.from(he).map(re=>re.props.value).join(";");return I.jsx(Q2,{...w,children:I.jsxs(_H,{required:b,scope:t,trigger:C,onTriggerChange:R,valueNode:T,onValueNodeChange:N,valueNodeHasChildren:D,onValueNodeHasChildrenChange:F,contentId:Da(),value:$,onValueChange:Z,open:j,onOpenChange:k,dir:B,triggerPointerDownPosRef:ne,disabled:x,children:[I.jsx(i1.Provider,{scope:t,children:I.jsx(IH,{scope:e.__scopeSelect,onNativeOptionAdd:P.useCallback(re=>{De(Ae=>new Set(Ae).add(re))},[]),onNativeOptionRemove:P.useCallback(re=>{De(Ae=>{const de=new Set(Ae);return de.delete(re),de})},[]),children:n})}),ie?I.jsxs(ik,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:m,value:$,onChange:re=>Z(re.target.value),disabled:x,form:E,children:[$===void 0?I.jsx("option",{value:""}):null,Array.from(he)]},Te):null]})})};LF.displayName=iy;var FF="SelectTrigger",kF=P.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=s1(n),l=of(FF,n),u=l.disabled||r,c=wn(t,l.onTriggerChange),g=o1(n),p=P.useRef("touch"),[m,x,b]=ok(w=>{const C=g().filter(N=>!N.disabled),R=C.find(N=>N.value===l.value),T=sk(C,w,R);T!==void 0&&l.onValueChange(T.value)}),E=w=>{u||(l.onOpenChange(!0),b()),w&&(l.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return I.jsx(eR,{asChild:!0,...s,children:I.jsx(Kt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":rk(l.value)?"":void 0,...i,ref:c,onClick:dt(i.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&E(w)}),onPointerDown:dt(i.onPointerDown,w=>{p.current=w.pointerType;const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(E(w),w.preventDefault())}),onKeyDown:dt(i.onKeyDown,w=>{const C=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&x(w.key),!(C&&w.key===" ")&&RH.includes(w.key)&&(E(),w.preventDefault())})})})});kF.displayName=FF;var BF="SelectValue",jF=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:l="",...u}=e,c=of(BF,n),{onValueNodeHasChildrenChange:g}=c,p=s!==void 0,m=wn(t,c.onValueNodeChange);return Br(()=>{g(p)},[g,p]),I.jsx(Kt.span,{...u,ref:m,style:{pointerEvents:"none"},children:rk(c.value)?I.jsx(I.Fragment,{children:l}):s})});jF.displayName=BF;var DH="SelectIcon",zF=P.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return I.jsx(Kt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});zF.displayName=DH;var MH="SelectPortal",UF=e=>I.jsx(Yv,{asChild:!0,...e});UF.displayName=MH;var Eh="SelectContent",VF=P.forwardRef((e,t)=>{const n=of(Eh,e.__scopeSelect),[r,i]=P.useState();if(Br(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Oa.createPortal(I.jsx(GF,{scope:e.__scopeSelect,children:I.jsx(i1.Slot,{scope:e.__scopeSelect,children:I.jsx("div",{children:e.children})})}),s):null}return I.jsx($F,{...e,ref:t})});VF.displayName=Eh;var Is=10,[GF,sf]=Ig(Eh),PH="SelectContentImpl",LH=Zc("SelectContent.RemoveScroll"),$F=P.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:u,sideOffset:c,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:E,hideWhenDetached:w,avoidCollisions:C,...R}=e,T=of(Eh,n),[N,D]=P.useState(null),[F,B]=P.useState(null),j=wn(t,Q=>D(Q)),[k,$]=P.useState(null),[Z,ne]=P.useState(null),ie=o1(n),[he,De]=P.useState(!1),Te=P.useRef(!1);P.useEffect(()=>{if(N)return k2(N)},[N]),F2();const re=P.useCallback(Q=>{const[X,...J]=ie().map(be=>be.ref.current),[se]=J.slice(-1),xe=document.activeElement;for(const be of Q)if(be===xe||(be==null||be.scrollIntoView({block:"nearest"}),be===X&&F&&(F.scrollTop=0),be===se&&F&&(F.scrollTop=F.scrollHeight),be==null||be.focus(),document.activeElement!==xe))return},[ie,F]),Ae=P.useCallback(()=>re([k,N]),[re,k,N]);P.useEffect(()=>{he&&Ae()},[he,Ae]);const{onOpenChange:de,triggerPointerDownPosRef:ue}=T;P.useEffect(()=>{if(N){let Q={x:0,y:0};const X=se=>{var xe,be;Q={x:Math.abs(Math.round(se.pageX)-(((xe=ue.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(se.pageY)-(((be=ue.current)==null?void 0:be.y)??0))}},J=se=>{Q.x<=10&&Q.y<=10?se.preventDefault():N.contains(se.target)||de(!1),document.removeEventListener("pointermove",X),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",J,{capture:!0})}}},[N,de,ue]),P.useEffect(()=>{const Q=()=>de(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[de]);const[K,oe]=ok(Q=>{const X=ie().filter(xe=>!xe.disabled),J=X.find(xe=>xe.ref.current===document.activeElement),se=sk(X,Q,J);se&&setTimeout(()=>se.ref.current.focus())}),pe=P.useCallback((Q,X,J)=>{const se=!Te.current&&!J;(T.value!==void 0&&T.value===X||se)&&($(Q),se&&(Te.current=!0))},[T.value]),z=P.useCallback(()=>N==null?void 0:N.focus(),[N]),U=P.useCallback((Q,X,J)=>{const se=!Te.current&&!J;(T.value!==void 0&&T.value===X||se)&&ne(Q)},[T.value]),G=r==="popper"?Hw:HF,W=G===Hw?{side:u,sideOffset:c,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:E,hideWhenDetached:w,avoidCollisions:C}:{};return I.jsx(GF,{scope:n,content:N,viewport:F,onViewportChange:B,itemRefCallback:pe,selectedItem:k,onItemLeave:z,itemTextRefCallback:U,focusSelectedItem:Ae,selectedItemText:Z,position:r,isPositioned:he,searchRef:K,children:I.jsx($S,{as:LH,allowPinchZoom:!0,children:I.jsx(VS,{asChild:!0,trapped:T.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:dt(i,Q=>{var X;(X=T.trigger)==null||X.focus({preventScroll:!0}),Q.preventDefault()}),children:I.jsx(Wv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:I.jsx(G,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:Q=>Q.preventDefault(),...R,...W,onPlaced:()=>De(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:dt(R.onKeyDown,Q=>{const X=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!X&&Q.key.length===1&&oe(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let se=ie().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const xe=Q.target,be=se.indexOf(xe);se=se.slice(be+1)}setTimeout(()=>re(se)),Q.preventDefault()}})})})})})})});$F.displayName=PH;var FH="SelectItemAlignedPosition",HF=P.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=of(Eh,n),l=sf(Eh,n),[u,c]=P.useState(null),[g,p]=P.useState(null),m=wn(t,j=>p(j)),x=o1(n),b=P.useRef(!1),E=P.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:R,focusSelectedItem:T}=l,N=P.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&g&&w&&C&&R){const j=s.trigger.getBoundingClientRect(),k=g.getBoundingClientRect(),$=s.valueNode.getBoundingClientRect(),Z=R.getBoundingClientRect();if(s.dir!=="rtl"){const xe=Z.left-k.left,be=$.left-xe,ae=j.left-be,le=j.width+ae,Ce=Math.max(le,k.width),Oe=window.innerWidth-Is,je=UN(be,[Is,Math.max(Is,Oe-Ce)]);u.style.minWidth=le+"px",u.style.left=je+"px"}else{const xe=k.right-Z.right,be=window.innerWidth-$.right-xe,ae=window.innerWidth-j.right-be,le=j.width+ae,Ce=Math.max(le,k.width),Oe=window.innerWidth-Is,je=UN(be,[Is,Math.max(Is,Oe-Ce)]);u.style.minWidth=le+"px",u.style.right=je+"px"}const ne=x(),ie=window.innerHeight-Is*2,he=w.scrollHeight,De=window.getComputedStyle(g),Te=parseInt(De.borderTopWidth,10),re=parseInt(De.paddingTop,10),Ae=parseInt(De.borderBottomWidth,10),de=parseInt(De.paddingBottom,10),ue=Te+re+he+de+Ae,K=Math.min(C.offsetHeight*5,ue),oe=window.getComputedStyle(w),pe=parseInt(oe.paddingTop,10),z=parseInt(oe.paddingBottom,10),U=j.top+j.height/2-Is,G=ie-U,W=C.offsetHeight/2,Q=C.offsetTop+W,X=Te+re+Q,J=ue-X;if(X<=U){const xe=ne.length>0&&C===ne[ne.length-1].ref.current;u.style.bottom="0px";const be=g.clientHeight-w.offsetTop-w.offsetHeight,ae=Math.max(G,W+(xe?z:0)+be+Ae),le=X+ae;u.style.height=le+"px"}else{const xe=ne.length>0&&C===ne[0].ref.current;u.style.top="0px";const ae=Math.max(U,Te+w.offsetTop+(xe?pe:0)+W)+J;u.style.height=ae+"px",w.scrollTop=X-U+w.offsetTop}u.style.margin=`${Is}px 0`,u.style.minHeight=K+"px",u.style.maxHeight=ie+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[x,s.trigger,s.valueNode,u,g,w,C,R,s.dir,r]);Br(()=>N(),[N]);const[D,F]=P.useState();Br(()=>{g&&F(window.getComputedStyle(g).zIndex)},[g]);const B=P.useCallback(j=>{j&&E.current===!0&&(N(),T==null||T(),E.current=!1)},[N,T]);return I.jsx(BH,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:B,children:I.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:I.jsx(Kt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});HF.displayName=FH;var kH="SelectPopperPosition",Hw=P.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Is,...s}=e,l=s1(n);return I.jsx(tR,{...l,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hw.displayName=kH;var[BH,vR]=Ig(Eh,{}),Ww="SelectViewport",WF=P.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=sf(Ww,n),l=vR(Ww,n),u=wn(t,s.onViewportChange),c=P.useRef(0);return I.jsxs(I.Fragment,{children:[I.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),I.jsx(i1.Slot,{scope:n,children:I.jsx(Kt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:dt(i.onScroll,g=>{const p=g.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&m){const b=Math.abs(c.current-p.scrollTop);if(b>0){const E=window.innerHeight-Is*2,w=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),R=Math.max(w,C);if(R<E){const T=R+b,N=Math.min(E,T),D=T-N;m.style.height=N+"px",m.style.bottom==="0px"&&(p.scrollTop=D>0?D:0,m.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});WF.displayName=Ww;var YF="SelectGroup",[jH,zH]=Ig(YF),UH=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Da();return I.jsx(jH,{scope:n,id:i,children:I.jsx(Kt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});UH.displayName=YF;var qF="SelectLabel",VH=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=zH(qF,n);return I.jsx(Kt.div,{id:i.id,...r,ref:t})});VH.displayName=qF;var NS="SelectItem",[GH,KF]=Ig(NS),XF=P.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...l}=e,u=of(NS,n),c=sf(NS,n),g=u.value===r,[p,m]=P.useState(s??""),[x,b]=P.useState(!1),E=wn(t,T=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,T,r,i)}),w=Da(),C=P.useRef("touch"),R=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return I.jsx(GH,{scope:n,value:r,disabled:i,textId:w,isSelected:g,onItemTextChange:P.useCallback(T=>{m(N=>N||((T==null?void 0:T.textContent)??"").trim())},[]),children:I.jsx(i1.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:I.jsx(Kt.div,{role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":g&&x,"data-state":g?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:E,onFocus:dt(l.onFocus,()=>b(!0)),onBlur:dt(l.onBlur,()=>b(!1)),onClick:dt(l.onClick,()=>{C.current!=="mouse"&&R()}),onPointerUp:dt(l.onPointerUp,()=>{C.current==="mouse"&&R()}),onPointerDown:dt(l.onPointerDown,T=>{C.current=T.pointerType}),onPointerMove:dt(l.onPointerMove,T=>{var N;C.current=T.pointerType,i?(N=c.onItemLeave)==null||N.call(c):C.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(l.onPointerLeave,T=>{var N;T.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:dt(l.onKeyDown,T=>{var D;((D=c.searchRef)==null?void 0:D.current)!==""&&T.key===" "||(TH.includes(T.key)&&R(),T.key===" "&&T.preventDefault())})})})})});XF.displayName=NS;var gv="SelectItemText",ZF=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,l=of(gv,n),u=sf(gv,n),c=KF(gv,n),g=OH(gv,n),[p,m]=P.useState(null),x=wn(t,R=>m(R),c.onItemTextChange,R=>{var T;return(T=u.itemTextRefCallback)==null?void 0:T.call(u,R,c.value,c.disabled)}),b=p==null?void 0:p.textContent,E=P.useMemo(()=>I.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=g;return Br(()=>(w(E),()=>C(E)),[w,C,E]),I.jsxs(I.Fragment,{children:[I.jsx(Kt.span,{id:c.textId,...s,ref:x}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Oa.createPortal(s.children,l.valueNode):null]})});ZF.displayName=gv;var JF="SelectItemIndicator",QF=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return KF(JF,n).isSelected?I.jsx(Kt.span,{"aria-hidden":!0,...r,ref:t}):null});QF.displayName=JF;var Yw="SelectScrollUpButton",ek=P.forwardRef((e,t)=>{const n=sf(Yw,e.__scopeSelect),r=vR(Yw,e.__scopeSelect),[i,s]=P.useState(!1),l=wn(t,r.onScrollButtonChange);return Br(()=>{if(n.viewport&&n.isPositioned){let u=function(){const g=c.scrollTop>0;s(g)};const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?I.jsx(nk,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=n;u&&c&&(u.scrollTop=u.scrollTop-c.offsetHeight)}}):null});ek.displayName=Yw;var qw="SelectScrollDownButton",tk=P.forwardRef((e,t)=>{const n=sf(qw,e.__scopeSelect),r=vR(qw,e.__scopeSelect),[i,s]=P.useState(!1),l=wn(t,r.onScrollButtonChange);return Br(()=>{if(n.viewport&&n.isPositioned){let u=function(){const g=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<g;s(p)};const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?I.jsx(nk,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=n;u&&c&&(u.scrollTop=u.scrollTop+c.offsetHeight)}}):null});tk.displayName=qw;var nk=P.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=sf("SelectScrollButton",n),l=P.useRef(null),u=o1(n),c=P.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return P.useEffect(()=>()=>c(),[c]),Br(()=>{var p;const g=u().find(m=>m.ref.current===document.activeElement);(p=g==null?void 0:g.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),I.jsx(Kt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:dt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:dt(i.onPointerMove,()=>{var g;(g=s.onItemLeave)==null||g.call(s),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:dt(i.onPointerLeave,()=>{c()})})}),$H="SelectSeparator",HH=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return I.jsx(Kt.div,{"aria-hidden":!0,...r,ref:t})});HH.displayName=$H;var Kw="SelectArrow",WH=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=s1(n),s=of(Kw,n),l=sf(Kw,n);return s.open&&l.position==="popper"?I.jsx(nR,{...i,...r,ref:t}):null});WH.displayName=Kw;function rk(e){return e===""||e===void 0}var ik=P.forwardRef((e,t)=>{const{value:n,...r}=e,i=P.useRef(null),s=wn(t,i),l=PF(n);return P.useEffect(()=>{const u=i.current,c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==n&&p){const m=new Event("change",{bubbles:!0});p.call(u,n),u.dispatchEvent(m)}},[l,n]),I.jsx(dR,{asChild:!0,children:I.jsx("select",{...r,ref:s,defaultValue:n})})});ik.displayName="BubbleSelect";function ok(e){const t=bo(e),n=P.useRef(""),r=P.useRef(0),i=P.useCallback(l=>{const u=n.current+l;t(u),function c(g){n.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(u)},[t]),s=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function sk(e,t,n){const i=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=YH(e,Math.max(s,0));i.length===1&&(l=l.filter(g=>g!==n));const c=l.find(g=>g.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function YH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var qH=LF,KH=kF,XH=jF,ZH=zF,JH=UF,QH=VF,eW=WF,tW=XF,nW=ZF,rW=QF,iW=ek,oW=tk;function VN({...e}){return I.jsx(qH,{"data-slot":"select",...e})}function GN({...e}){return I.jsx(XH,{"data-slot":"select-value",...e})}function $N({className:e,size:t="default",children:n,...r}){return I.jsxs(KH,{"data-slot":"select-trigger","data-size":t,className:St("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,I.jsx(ZH,{asChild:!0,children:I.jsx(IM,{className:"size-4 opacity-50"})})]})}function HN({className:e,children:t,position:n="popper",...r}){return I.jsx(JH,{children:I.jsxs(QH,{"data-slot":"select-content",className:St("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[I.jsx(sW,{}),I.jsx(eW,{className:St("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),I.jsx(aW,{})]})})}function sE({className:e,children:t,...n}){return I.jsxs(tW,{"data-slot":"select-item",className:St("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[I.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:I.jsx(rW,{children:I.jsx(iU,{className:"size-4"})})}),I.jsx(nW,{children:t})]})}function sW({className:e,...t}){return I.jsx(iW,{"data-slot":"select-scroll-up-button",className:St("flex cursor-default items-center justify-center py-1",e),...t,children:I.jsx(aU,{className:"size-4"})})}function aW({className:e,...t}){return I.jsx(oW,{"data-slot":"select-scroll-down-button",className:St("flex cursor-default items-center justify-center py-1",e),...t,children:I.jsx(IM,{className:"size-4"})})}async function lW(e,t,n){const r=await Ii(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:t,expiration:n})});if(!r.ok)throw new Error("Failed to create share link");return r.json()}async function uW(e){const t=await Ii(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`);if(!t.ok)throw new Error("Failed to fetch share links");return t.json()}async function cW(e){if(!(await Ii(`https://wafflebase-api.yorkie.dev/share-links/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete share link")}async function fW(e){const t=await fetch(`https://wafflebase-api.yorkie.dev/share-links/${e}/resolve`);if(t.status===410)throw new Error("Share link has expired");if(!t.ok)throw new Error("Invalid share link");return t.json()}const dW=[{value:"none",label:"No limit"},{value:"1h",label:"1 hour"},{value:"8h",label:"8 hours"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"}];function hW(e){if(!e)return"No expiration";const t=new Date(e),n=new Date;if(t<n)return"Expired";const r=t.getTime()-n.getTime(),i=Math.floor(r/(1e3*60*60)),s=Math.floor(i/24);return s>0?`Expires in ${s}d`:i>0?`Expires in ${i}h`:`Expires in ${Math.floor(r/(1e3*60))}m`}function pW({documentId:e}){const[t,n]=P.useState(!1),[r,i]=P.useState("viewer"),[s,l]=P.useState("none"),[u,c]=P.useState([]),[g,p]=P.useState(!1);P.useEffect(()=>{t&&uW(e).then(c).catch(()=>{})},[t,e]);const m=async()=>{p(!0);try{const E=await lW(e,r,s==="none"?null:s);c(C=>[E,...C]);const w=`${window.location.origin}/shared/${E.token}`;await navigator.clipboard.writeText(w),Vn.success("Link created and copied to clipboard")}catch{Vn.error("Failed to create share link")}finally{p(!1)}},x=async E=>{const w=`${window.location.origin}/shared/${E}`;await navigator.clipboard.writeText(w),Vn.success("Link copied to clipboard")},b=async E=>{try{await cW(E),c(w=>w.filter(C=>C.id!==E)),Vn.success("Share link revoked")}catch{Vn.error("Failed to revoke share link")}};return I.jsxs(qv,{open:t,onOpenChange:n,children:[I.jsx(v9,{asChild:!0,children:I.jsxs(ir,{variant:"outline",size:"sm",children:[I.jsx(dH,{className:"h-4 w-4 mr-1"}),"Share"]})}),I.jsxs(Kv,{className:"sm:max-w-md",children:[I.jsxs(Xv,{children:[I.jsx(Zv,{children:"Share Document"}),I.jsx(Jv,{children:"Create a link to share this document with others."})]}),I.jsxs("div",{className:"grid gap-4 py-2",children:[I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"share-role",children:"Permission"}),I.jsxs(VN,{value:r,onValueChange:i,children:[I.jsx($N,{id:"share-role",className:"w-full",children:I.jsx(GN,{})}),I.jsxs(HN,{children:[I.jsx(sE,{value:"viewer",children:"Viewer"}),I.jsx(sE,{value:"editor",children:"Editor"})]})]})]}),I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"share-expiration",children:"Expiration"}),I.jsxs(VN,{value:s,onValueChange:l,children:[I.jsx($N,{id:"share-expiration",className:"w-full",children:I.jsx(GN,{})}),I.jsx(HN,{children:dW.map(E=>I.jsx(sE,{value:E.value,children:E.label},E.value))})]})]})]}),u.length>0&&I.jsxs(I.Fragment,{children:[I.jsx(ah,{}),I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{children:"Active links"}),I.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:u.map(E=>I.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2 text-sm",children:[I.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.jsx("span",{className:"capitalize font-medium",children:E.role}),I.jsx("span",{className:"text-muted-foreground text-xs",children:hW(E.expiresAt)})]}),I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx(ir,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>x(E.token),children:I.jsx(aH,{className:"h-3.5 w-3.5"})}),I.jsx(ir,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>b(E.id),children:I.jsx(pH,{className:"h-3.5 w-3.5"})})]})]},E.id))})]})]})]}),I.jsx("div",{className:"flex justify-end",children:I.jsx(ir,{onClick:m,disabled:g,children:g?"Creating...":"Create Link"})})]})]})}function gW(){const{doc:e}=Fa.useDocument(),{data:t}=ja({queryKey:["me"],queryFn:Ch,retry:!1});P.useEffect(()=>{!e||!t||e.update((n,r)=>{r.set({username:t.username,email:t.email,photo:t.photo||""})})},[e,t])}var nd={},aE={},WN;function mW(){if(WN)return aE;WN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(aE,"__esModule",{value:!0}),aE}var lE={},YN;function vW(){if(YN)return lE;YN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(lE,"__esModule",{value:!0}),lE}var rd={},uE={exports:{}},cE={},fE={},dE={},hE,qN;function yR(){return qN||(qN=1,hE=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var l=Object.getOwnPropertySymbols(t);if(l.length!==1||l[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,n);if(u.value!==i||u.enumerable!==!0)return!1}return!0}),hE}var pE,KN;function a1(){if(KN)return pE;KN=1;var e=yR();return pE=function(){return e()&&!!Symbol.toStringTag},pE}var gE,XN;function xR(){return XN||(XN=1,gE=Object),gE}var mE,ZN;function yW(){return ZN||(ZN=1,mE=Error),mE}var vE,JN;function xW(){return JN||(JN=1,vE=EvalError),vE}var yE,QN;function bW(){return QN||(QN=1,yE=RangeError),yE}var xE,e_;function SW(){return e_||(e_=1,xE=ReferenceError),xE}var bE,t_;function ak(){return t_||(t_=1,bE=SyntaxError),bE}var SE,n_;function oy(){return n_||(n_=1,SE=TypeError),SE}var AE,r_;function AW(){return r_||(r_=1,AE=URIError),AE}var EE,i_;function EW(){return i_||(i_=1,EE=Math.abs),EE}var CE,o_;function CW(){return o_||(o_=1,CE=Math.floor),CE}var wE,s_;function wW(){return s_||(s_=1,wE=Math.max),wE}var RE,a_;function RW(){return a_||(a_=1,RE=Math.min),RE}var TE,l_;function TW(){return l_||(l_=1,TE=Math.pow),TE}var NE,u_;function NW(){return u_||(u_=1,NE=Math.round),NE}var _E,c_;function _W(){return c_||(c_=1,_E=Number.isNaN||function(t){return t!==t}),_E}var IE,f_;function IW(){if(f_)return IE;f_=1;var e=_W();return IE=function(n){return e(n)||n===0?n:n<0?-1:1},IE}var OE,d_;function OW(){return d_||(d_=1,OE=Object.getOwnPropertyDescriptor),OE}var DE,h_;function Og(){if(h_)return DE;h_=1;var e=OW();if(e)try{e([],"length")}catch{e=null}return DE=e,DE}var ME,p_;function l1(){if(p_)return ME;p_=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return ME=e,ME}var PE,g_;function DW(){if(g_)return PE;g_=1;var e=typeof Symbol<"u"&&Symbol,t=yR();return PE=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},PE}var LE,m_;function lk(){return m_||(m_=1,LE=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),LE}var FE,v_;function uk(){if(v_)return FE;v_=1;var e=xR();return FE=e.getPrototypeOf||null,FE}var kE,y_;function MW(){if(y_)return kE;y_=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(c,g){for(var p=[],m=0;m<c.length;m+=1)p[m]=c[m];for(var x=0;x<g.length;x+=1)p[x+c.length]=g[x];return p},s=function(c,g){for(var p=[],m=g,x=0;m<c.length;m+=1,x+=1)p[x]=c[m];return p},l=function(u,c){for(var g="",p=0;p<u.length;p+=1)g+=u[p],p+1<u.length&&(g+=c);return g};return kE=function(c){var g=this;if(typeof g!="function"||t.apply(g)!==r)throw new TypeError(e+g);for(var p=s(arguments,1),m,x=function(){if(this instanceof m){var R=g.apply(this,i(p,arguments));return Object(R)===R?R:this}return g.apply(c,i(p,arguments))},b=n(0,g.length-p.length),E=[],w=0;w<b;w++)E[w]="$"+w;if(m=Function("binder","return function ("+l(E,",")+"){ return binder.apply(this,arguments); }")(x),g.prototype){var C=function(){};C.prototype=g.prototype,m.prototype=new C,C.prototype=null}return m},kE}var BE,x_;function sy(){if(x_)return BE;x_=1;var e=MW();return BE=Function.prototype.bind||e,BE}var jE,b_;function bR(){return b_||(b_=1,jE=Function.prototype.call),jE}var zE,S_;function SR(){return S_||(S_=1,zE=Function.prototype.apply),zE}var UE,A_;function PW(){return A_||(A_=1,UE=typeof Reflect<"u"&&Reflect&&Reflect.apply),UE}var VE,E_;function ck(){if(E_)return VE;E_=1;var e=sy(),t=SR(),n=bR(),r=PW();return VE=r||e.call(n,t),VE}var GE,C_;function AR(){if(C_)return GE;C_=1;var e=sy(),t=oy(),n=bR(),r=ck();return GE=function(s){if(s.length<1||typeof s[0]!="function")throw new t("a function is required");return r(e,n,s)},GE}var $E,w_;function LW(){if(w_)return $E;w_=1;var e=AR(),t=Og(),n;try{n=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!n&&t&&t(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return $E=r&&typeof r.get=="function"?e([r.get]):typeof s=="function"?function(u){return s(u==null?u:i(u))}:!1,$E}var HE,R_;function ER(){if(R_)return HE;R_=1;var e=lk(),t=uk(),n=LW();return HE=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:n?function(i){return n(i)}:null,HE}var WE,T_;function fk(){if(T_)return WE;T_=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=sy();return WE=n.call(e,t),WE}var YE,N_;function CR(){if(N_)return YE;N_=1;var e,t=xR(),n=yW(),r=xW(),i=bW(),s=SW(),l=ak(),u=oy(),c=AW(),g=EW(),p=CW(),m=wW(),x=RW(),b=TW(),E=NW(),w=IW(),C=Function,R=function(J){try{return C('"use strict"; return ('+J+").constructor;")()}catch{}},T=Og(),N=l1(),D=function(){throw new u},F=T?function(){try{return arguments.callee,D}catch{try{return T(arguments,"callee").get}catch{return D}}}():D,B=DW()(),j=ER(),k=uk(),$=lk(),Z=SR(),ne=bR(),ie={},he=typeof Uint8Array>"u"||!j?e:j(Uint8Array),De={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":B&&j?j([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":ie,"%AsyncGenerator%":ie,"%AsyncGeneratorFunction%":ie,"%AsyncIteratorPrototype%":ie,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":C,"%GeneratorFunction%":ie,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":B&&j?j(j([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!B||!j?e:j(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":T,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!B||!j?e:j(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":B&&j?j(""[Symbol.iterator]()):e,"%Symbol%":B?Symbol:e,"%SyntaxError%":l,"%ThrowTypeError%":F,"%TypedArray%":he,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":ne,"%Function.prototype.apply%":Z,"%Object.defineProperty%":N,"%Object.getPrototypeOf%":k,"%Math.abs%":g,"%Math.floor%":p,"%Math.max%":m,"%Math.min%":x,"%Math.pow%":b,"%Math.round%":E,"%Math.sign%":w,"%Reflect.getPrototypeOf%":$};if(j)try{null.error}catch(J){var Te=j(j(J));De["%Error.prototype%"]=Te}var re=function J(se){var xe;if(se==="%AsyncFunction%")xe=R("async function () {}");else if(se==="%GeneratorFunction%")xe=R("function* () {}");else if(se==="%AsyncGeneratorFunction%")xe=R("async function* () {}");else if(se==="%AsyncGenerator%"){var be=J("%AsyncGeneratorFunction%");be&&(xe=be.prototype)}else if(se==="%AsyncIteratorPrototype%"){var ae=J("%AsyncGenerator%");ae&&j&&(xe=j(ae.prototype))}return De[se]=xe,xe},Ae={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},de=sy(),ue=fk(),K=de.call(ne,Array.prototype.concat),oe=de.call(Z,Array.prototype.splice),pe=de.call(ne,String.prototype.replace),z=de.call(ne,String.prototype.slice),U=de.call(ne,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,Q=function(se){var xe=z(se,0,1),be=z(se,-1);if(xe==="%"&&be!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(be==="%"&&xe!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var ae=[];return pe(se,G,function(le,Ce,Oe,je){ae[ae.length]=Oe?pe(je,W,"$1"):Ce||le}),ae},X=function(se,xe){var be=se,ae;if(ue(Ae,be)&&(ae=Ae[be],be="%"+ae[0]+"%"),ue(De,be)){var le=De[be];if(le===ie&&(le=re(be)),typeof le>"u"&&!xe)throw new u("intrinsic "+se+" exists, but is not available. Please file an issue!");return{alias:ae,name:be,value:le}}throw new l("intrinsic "+se+" does not exist!")};return YE=function(se,xe){if(typeof se!="string"||se.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof xe!="boolean")throw new u('"allowMissing" argument must be a boolean');if(U(/^%?[^%]*%?$/,se)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var be=Q(se),ae=be.length>0?be[0]:"",le=X("%"+ae+"%",xe),Ce=le.name,Oe=le.value,je=!1,Ue=le.alias;Ue&&(ae=Ue[0],oe(be,K([0,1],Ue)));for(var ve=1,Pe=!0;ve<be.length;ve+=1){var Ze=be[ve],pt=z(Ze,0,1),gt=z(Ze,-1);if((pt==='"'||pt==="'"||pt==="`"||gt==='"'||gt==="'"||gt==="`")&&pt!==gt)throw new l("property names with quotes must have matching quotes");if((Ze==="constructor"||!Pe)&&(je=!0),ae+="."+Ze,Ce="%"+ae+"%",ue(De,Ce))Oe=De[Ce];else if(Oe!=null){if(!(Ze in Oe)){if(!xe)throw new u("base intrinsic for "+se+" exists, but the property is not available.");return}if(T&&ve+1>=be.length){var me=T(Oe,Ze);Pe=!!me,Pe&&"get"in me&&!("originalValue"in me.get)?Oe=me.get:Oe=Oe[Ze]}else Pe=ue(Oe,Ze),Oe=Oe[Ze];Pe&&!je&&(De[Ce]=Oe)}}return Oe},YE}var qE,__;function Dg(){if(__)return qE;__=1;var e=CR(),t=AR(),n=t([e("%String.prototype.indexOf%")]);return qE=function(i,s){var l=e(i,!!s);return typeof l=="function"&&n(i,".prototype.")>-1?t([l]):l},qE}var KE,I_;function FW(){if(I_)return KE;I_=1;var e=a1()(),t=Dg(),n=t("Object.prototype.toString"),r=function(u){return e&&u&&typeof u=="object"&&Symbol.toStringTag in u?!1:n(u)==="[object Arguments]"},i=function(u){return r(u)?!0:u!==null&&typeof u=="object"&&"length"in u&&typeof u.length=="number"&&u.length>=0&&n(u)!=="[object Array]"&&"callee"in u&&n(u.callee)==="[object Function]"},s=function(){return r(arguments)}();return r.isLegacyArguments=i,KE=s?r:i,KE}var XE,O_;function kW(){if(O_)return XE;O_=1;var e=Dg(),t=a1()(),n=fk(),r=Og(),i;if(t){var s=e("RegExp.prototype.exec"),l={},u=function(){throw l},c={toString:u,valueOf:u};typeof Symbol.toPrimitive=="symbol"&&(c[Symbol.toPrimitive]=u),i=function(x){if(!x||typeof x!="object")return!1;var b=r(x,"lastIndex"),E=b&&n(b,"value");if(!E)return!1;try{s(x,c)}catch(w){return w===l}}}else{var g=e("Object.prototype.toString"),p="[object RegExp]";i=function(x){return!x||typeof x!="object"&&typeof x!="function"?!1:g(x)===p}}return XE=i,XE}var ZE,D_;function BW(){if(D_)return ZE;D_=1;var e=Dg(),t=kW(),n=e("RegExp.prototype.exec"),r=oy();return ZE=function(s){if(!t(s))throw new r("`regex` must be a RegExp");return function(u){return n(s,u)!==null}},ZE}var JE,M_;function jW(){if(M_)return JE;M_=1;var e=Dg(),t=BW(),n=t(/^\s*(?:function)?\*/),r=a1()(),i=ER(),s=e("Object.prototype.toString"),l=e("Function.prototype.toString"),u=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},c;return JE=function(p){if(typeof p!="function")return!1;if(n(l(p)))return!0;if(!r){var m=s(p);return m==="[object GeneratorFunction]"}if(!i)return!1;if(typeof c>"u"){var x=u();c=x?i(x):!1}return i(p)===c},JE}var QE,P_;function zW(){if(P_)return QE;P_=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},t(function(){throw 42},null,n)}catch(T){T!==r&&(t=null)}else t=null;var i=/^\s*class\b/,s=function(N){try{var D=e.call(N);return i.test(D)}catch{return!1}},l=function(N){try{return s(N)?!1:(e.call(N),!0)}catch{return!1}},u=Object.prototype.toString,c="[object Object]",g="[object Function]",p="[object GeneratorFunction]",m="[object HTMLAllCollection]",x="[object HTML document.all class]",b="[object HTMLCollection]",E=typeof Symbol=="function"&&!!Symbol.toStringTag,w=!(0 in[,]),C=function(){return!1};if(typeof document=="object"){var R=document.all;u.call(R)===u.call(document.all)&&(C=function(N){if((w||!N)&&(typeof N>"u"||typeof N=="object"))try{var D=u.call(N);return(D===m||D===x||D===b||D===c)&&N("")==null}catch{}return!1})}return QE=t?function(N){if(C(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;try{t(N,null,n)}catch(D){if(D!==r)return!1}return!s(N)&&l(N)}:function(N){if(C(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;if(E)return l(N);if(s(N))return!1;var D=u.call(N);return D!==g&&D!==p&&!/^\[object HTML/.test(D)?!1:l(N)},QE}var eC,L_;function UW(){if(L_)return eC;L_=1;var e=zW(),t=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(c,g,p){for(var m=0,x=c.length;m<x;m++)n.call(c,m)&&(p==null?g(c[m],m,c):g.call(p,c[m],m,c))},i=function(c,g,p){for(var m=0,x=c.length;m<x;m++)p==null?g(c.charAt(m),m,c):g.call(p,c.charAt(m),m,c)},s=function(c,g,p){for(var m in c)n.call(c,m)&&(p==null?g(c[m],m,c):g.call(p,c[m],m,c))};function l(u){return t.call(u)==="[object Array]"}return eC=function(c,g,p){if(!e(g))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=p),l(c)?r(c,g,m):typeof c=="string"?i(c,g,m):s(c,g,m)},eC}var tC,F_;function VW(){return F_||(F_=1,tC=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),tC}var nC,k_;function GW(){if(k_)return nC;k_=1;var e=VW(),t=typeof globalThis>"u"?q3:globalThis;return nC=function(){for(var r=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(r[r.length]=e[i]);return r},nC}var rC={exports:{}},iC,B_;function dk(){if(B_)return iC;B_=1;var e=l1(),t=ak(),n=oy(),r=Og();return iC=function(s,l,u){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,x=!!r&&r(s,l);if(e)e(s,l,{configurable:p===null&&x?x.configurable:!p,enumerable:c===null&&x?x.enumerable:!c,value:u,writable:g===null&&x?x.writable:!g});else if(m||!c&&!g&&!p)s[l]=u;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},iC}var oC,j_;function hk(){if(j_)return oC;j_=1;var e=l1(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},oC=t,oC}var sC,z_;function $W(){if(z_)return sC;z_=1;var e=CR(),t=dk(),n=hk()(),r=Og(),i=oy(),s=e("%Math.floor%");return sC=function(u,c){if(typeof u!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||s(c)!==c)throw new i("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],p=!0,m=!0;if("length"in u&&r){var x=r(u,"length");x&&!x.configurable&&(p=!1),x&&!x.writable&&(m=!1)}return(p||m||!g)&&(n?t(u,"length",c,!0,!0):t(u,"length",c)),u},sC}var aC,U_;function HW(){if(U_)return aC;U_=1;var e=sy(),t=SR(),n=ck();return aC=function(){return n(e,t,arguments)},aC}var V_;function u1(){return V_||(V_=1,function(e){var t=$W(),n=l1(),r=AR(),i=HW();e.exports=function(l){var u=r(arguments),c=l.length-(arguments.length-1);return t(u,1+(c>0?c:0),!0)},n?n(e.exports,"apply",{value:i}):e.exports.apply=i}(rC)),rC.exports}var lC,G_;function pk(){if(G_)return lC;G_=1;var e=UW(),t=GW(),n=u1(),r=Dg(),i=Og(),s=ER(),l=r("Object.prototype.toString"),u=a1()(),c=typeof globalThis>"u"?q3:globalThis,g=t(),p=r("String.prototype.slice"),m=r("Array.prototype.indexOf",!0)||function(C,R){for(var T=0;T<C.length;T+=1)if(C[T]===R)return T;return-1},x={__proto__:null};u&&i&&s?e(g,function(w){var C=new c[w];if(Symbol.toStringTag in C&&s){var R=s(C),T=i(R,Symbol.toStringTag);if(!T&&R){var N=s(R);T=i(N,Symbol.toStringTag)}x["$"+w]=n(T.get)}}):e(g,function(w){var C=new c[w],R=C.slice||C.set;R&&(x["$"+w]=n(R))});var b=function(C){var R=!1;return e(x,function(T,N){if(!R)try{"$"+T(C)===N&&(R=p(N,1))}catch{}}),R},E=function(C){var R=!1;return e(x,function(T,N){if(!R)try{T(C),R=p(N,1)}catch{}}),R};return lC=function(C){if(!C||typeof C!="object")return!1;if(!u){var R=p(l(C),8,-1);return m(g,R)>-1?R:R!=="Object"?!1:E(C)}return i?b(C):null},lC}var uC,$_;function WW(){if($_)return uC;$_=1;var e=pk();return uC=function(n){return!!e(n)},uC}var H_;function YW(){return H_||(H_=1,function(e){var t=FW(),n=jW(),r=pk(),i=WW();function s(ve){return ve.call.bind(ve)}var l=typeof BigInt<"u",u=typeof Symbol<"u",c=s(Object.prototype.toString),g=s(Number.prototype.valueOf),p=s(String.prototype.valueOf),m=s(Boolean.prototype.valueOf);if(l)var x=s(BigInt.prototype.valueOf);if(u)var b=s(Symbol.prototype.valueOf);function E(ve,Pe){if(typeof ve!="object")return!1;try{return Pe(ve),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=i;function w(ve){return typeof Promise<"u"&&ve instanceof Promise||ve!==null&&typeof ve=="object"&&typeof ve.then=="function"&&typeof ve.catch=="function"}e.isPromise=w;function C(ve){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ve):i(ve)||z(ve)}e.isArrayBufferView=C;function R(ve){return r(ve)==="Uint8Array"}e.isUint8Array=R;function T(ve){return r(ve)==="Uint8ClampedArray"}e.isUint8ClampedArray=T;function N(ve){return r(ve)==="Uint16Array"}e.isUint16Array=N;function D(ve){return r(ve)==="Uint32Array"}e.isUint32Array=D;function F(ve){return r(ve)==="Int8Array"}e.isInt8Array=F;function B(ve){return r(ve)==="Int16Array"}e.isInt16Array=B;function j(ve){return r(ve)==="Int32Array"}e.isInt32Array=j;function k(ve){return r(ve)==="Float32Array"}e.isFloat32Array=k;function $(ve){return r(ve)==="Float64Array"}e.isFloat64Array=$;function Z(ve){return r(ve)==="BigInt64Array"}e.isBigInt64Array=Z;function ne(ve){return r(ve)==="BigUint64Array"}e.isBigUint64Array=ne;function ie(ve){return c(ve)==="[object Map]"}ie.working=typeof Map<"u"&&ie(new Map);function he(ve){return typeof Map>"u"?!1:ie.working?ie(ve):ve instanceof Map}e.isMap=he;function De(ve){return c(ve)==="[object Set]"}De.working=typeof Set<"u"&&De(new Set);function Te(ve){return typeof Set>"u"?!1:De.working?De(ve):ve instanceof Set}e.isSet=Te;function re(ve){return c(ve)==="[object WeakMap]"}re.working=typeof WeakMap<"u"&&re(new WeakMap);function Ae(ve){return typeof WeakMap>"u"?!1:re.working?re(ve):ve instanceof WeakMap}e.isWeakMap=Ae;function de(ve){return c(ve)==="[object WeakSet]"}de.working=typeof WeakSet<"u"&&de(new WeakSet);function ue(ve){return de(ve)}e.isWeakSet=ue;function K(ve){return c(ve)==="[object ArrayBuffer]"}K.working=typeof ArrayBuffer<"u"&&K(new ArrayBuffer);function oe(ve){return typeof ArrayBuffer>"u"?!1:K.working?K(ve):ve instanceof ArrayBuffer}e.isArrayBuffer=oe;function pe(ve){return c(ve)==="[object DataView]"}pe.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&pe(new DataView(new ArrayBuffer(1),0,1));function z(ve){return typeof DataView>"u"?!1:pe.working?pe(ve):ve instanceof DataView}e.isDataView=z;var U=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function G(ve){return c(ve)==="[object SharedArrayBuffer]"}function W(ve){return typeof U>"u"?!1:(typeof G.working>"u"&&(G.working=G(new U)),G.working?G(ve):ve instanceof U)}e.isSharedArrayBuffer=W;function Q(ve){return c(ve)==="[object AsyncFunction]"}e.isAsyncFunction=Q;function X(ve){return c(ve)==="[object Map Iterator]"}e.isMapIterator=X;function J(ve){return c(ve)==="[object Set Iterator]"}e.isSetIterator=J;function se(ve){return c(ve)==="[object Generator]"}e.isGeneratorObject=se;function xe(ve){return c(ve)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=xe;function be(ve){return E(ve,g)}e.isNumberObject=be;function ae(ve){return E(ve,p)}e.isStringObject=ae;function le(ve){return E(ve,m)}e.isBooleanObject=le;function Ce(ve){return l&&E(ve,x)}e.isBigIntObject=Ce;function Oe(ve){return u&&E(ve,b)}e.isSymbolObject=Oe;function je(ve){return be(ve)||ae(ve)||le(ve)||Ce(ve)||Oe(ve)}e.isBoxedPrimitive=je;function Ue(ve){return typeof Uint8Array<"u"&&(oe(ve)||W(ve))}e.isAnyArrayBuffer=Ue,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ve){Object.defineProperty(e,ve,{enumerable:!1,value:function(){throw new Error(ve+" is not supported in userland")}})})}(dE)),dE}var cC,W_;function qW(){return W_||(W_=1,cC=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),cC}var Vb={exports:{}},Y_;function KW(){return Y_||(Y_=1,typeof Object.create=="function"?Vb.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Vb.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}),Vb.exports}var q_;function mg(){return q_||(q_=1,function(e){var t={},n=Object.getOwnPropertyDescriptors||function(U){for(var G=Object.keys(U),W={},Q=0;Q<G.length;Q++)W[G[Q]]=Object.getOwnPropertyDescriptor(U,G[Q]);return W},r=/%[sdj%]/g;e.format=function(z){if(!B(z)){for(var U=[],G=0;G<arguments.length;G++)U.push(u(arguments[G]));return U.join(" ")}for(var G=1,W=arguments,Q=W.length,X=String(z).replace(r,function(se){if(se==="%%")return"%";if(G>=Q)return se;switch(se){case"%s":return String(W[G++]);case"%d":return Number(W[G++]);case"%j":try{return JSON.stringify(W[G++])}catch{return"[Circular]"}default:return se}}),J=W[G];G<Q;J=W[++G])N(J)||!Z(J)?X+=" "+J:X+=" "+u(J);return X},e.deprecate=function(z,U){if(typeof process<"u"&&process.noDeprecation===!0)return z;if(typeof process>"u")return function(){return e.deprecate(z,U).apply(this,arguments)};var G=!1;function W(){if(!G){if(process.throwDeprecation)throw new Error(U);process.traceDeprecation?console.trace(U):console.error(U),G=!0}return z.apply(this,arguments)}return W};var i={},s=/^$/;if(t.NODE_DEBUG){var l=t.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+l+"$","i")}e.debuglog=function(z){if(z=z.toUpperCase(),!i[z])if(s.test(z)){var U=process.pid;i[z]=function(){var G=e.format.apply(e,arguments);console.error("%s %d: %s",z,U,G)}}else i[z]=function(){};return i[z]};function u(z,U){var G={seen:[],stylize:g};return arguments.length>=3&&(G.depth=arguments[2]),arguments.length>=4&&(G.colors=arguments[3]),T(U)?G.showHidden=U:U&&e._extend(G,U),k(G.showHidden)&&(G.showHidden=!1),k(G.depth)&&(G.depth=2),k(G.colors)&&(G.colors=!1),k(G.customInspect)&&(G.customInspect=!0),G.colors&&(G.stylize=c),m(G,z,G.depth)}e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(z,U){var G=u.styles[U];return G?"\x1B["+u.colors[G][0]+"m"+z+"\x1B["+u.colors[G][1]+"m":z}function g(z,U){return z}function p(z){var U={};return z.forEach(function(G,W){U[G]=!0}),U}function m(z,U,G){if(z.customInspect&&U&&he(U.inspect)&&U.inspect!==e.inspect&&!(U.constructor&&U.constructor.prototype===U)){var W=U.inspect(G,z);return B(W)||(W=m(z,W,G)),W}var Q=x(z,U);if(Q)return Q;var X=Object.keys(U),J=p(X);if(z.showHidden&&(X=Object.getOwnPropertyNames(U)),ie(U)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return b(U);if(X.length===0){if(he(U)){var se=U.name?": "+U.name:"";return z.stylize("[Function"+se+"]","special")}if($(U))return z.stylize(RegExp.prototype.toString.call(U),"regexp");if(ne(U))return z.stylize(Date.prototype.toString.call(U),"date");if(ie(U))return b(U)}var xe="",be=!1,ae=["{","}"];if(R(U)&&(be=!0,ae=["[","]"]),he(U)){var le=U.name?": "+U.name:"";xe=" [Function"+le+"]"}if($(U)&&(xe=" "+RegExp.prototype.toString.call(U)),ne(U)&&(xe=" "+Date.prototype.toUTCString.call(U)),ie(U)&&(xe=" "+b(U)),X.length===0&&(!be||U.length==0))return ae[0]+xe+ae[1];if(G<0)return $(U)?z.stylize(RegExp.prototype.toString.call(U),"regexp"):z.stylize("[Object]","special");z.seen.push(U);var Ce;return be?Ce=E(z,U,G,J,X):Ce=X.map(function(Oe){return w(z,U,G,J,Oe,be)}),z.seen.pop(),C(Ce,xe,ae)}function x(z,U){if(k(U))return z.stylize("undefined","undefined");if(B(U)){var G="'"+JSON.stringify(U).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(G,"string")}if(F(U))return z.stylize(""+U,"number");if(T(U))return z.stylize(""+U,"boolean");if(N(U))return z.stylize("null","null")}function b(z){return"["+Error.prototype.toString.call(z)+"]"}function E(z,U,G,W,Q){for(var X=[],J=0,se=U.length;J<se;++J)ue(U,String(J))?X.push(w(z,U,G,W,String(J),!0)):X.push("");return Q.forEach(function(xe){xe.match(/^\d+$/)||X.push(w(z,U,G,W,xe,!0))}),X}function w(z,U,G,W,Q,X){var J,se,xe;if(xe=Object.getOwnPropertyDescriptor(U,Q)||{value:U[Q]},xe.get?xe.set?se=z.stylize("[Getter/Setter]","special"):se=z.stylize("[Getter]","special"):xe.set&&(se=z.stylize("[Setter]","special")),ue(W,Q)||(J="["+Q+"]"),se||(z.seen.indexOf(xe.value)<0?(N(G)?se=m(z,xe.value,null):se=m(z,xe.value,G-1),se.indexOf(`
`)>-1&&(X?se=se.split(`
`).map(function(be){return"  "+be}).join(`
`).slice(2):se=`
`+se.split(`
`).map(function(be){return"   "+be}).join(`
`))):se=z.stylize("[Circular]","special")),k(J)){if(X&&Q.match(/^\d+$/))return se;J=JSON.stringify(""+Q),J.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(J=J.slice(1,-1),J=z.stylize(J,"name")):(J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),J=z.stylize(J,"string"))}return J+": "+se}function C(z,U,G){var W=z.reduce(function(Q,X){return X.indexOf(`
`)>=0,Q+X.replace(/\u001b\[\d\d?m/g,"").length+1},0);return W>60?G[0]+(U===""?"":U+`
 `)+" "+z.join(`,
  `)+" "+G[1]:G[0]+U+" "+z.join(", ")+" "+G[1]}e.types=YW();function R(z){return Array.isArray(z)}e.isArray=R;function T(z){return typeof z=="boolean"}e.isBoolean=T;function N(z){return z===null}e.isNull=N;function D(z){return z==null}e.isNullOrUndefined=D;function F(z){return typeof z=="number"}e.isNumber=F;function B(z){return typeof z=="string"}e.isString=B;function j(z){return typeof z=="symbol"}e.isSymbol=j;function k(z){return z===void 0}e.isUndefined=k;function $(z){return Z(z)&&Te(z)==="[object RegExp]"}e.isRegExp=$,e.types.isRegExp=$;function Z(z){return typeof z=="object"&&z!==null}e.isObject=Z;function ne(z){return Z(z)&&Te(z)==="[object Date]"}e.isDate=ne,e.types.isDate=ne;function ie(z){return Z(z)&&(Te(z)==="[object Error]"||z instanceof Error)}e.isError=ie,e.types.isNativeError=ie;function he(z){return typeof z=="function"}e.isFunction=he;function De(z){return z===null||typeof z=="boolean"||typeof z=="number"||typeof z=="string"||typeof z=="symbol"||typeof z>"u"}e.isPrimitive=De,e.isBuffer=qW();function Te(z){return Object.prototype.toString.call(z)}function re(z){return z<10?"0"+z.toString(10):z.toString(10)}var Ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(){var z=new Date,U=[re(z.getHours()),re(z.getMinutes()),re(z.getSeconds())].join(":");return[z.getDate(),Ae[z.getMonth()],U].join(" ")}e.log=function(){console.log("%s - %s",de(),e.format.apply(e,arguments))},e.inherits=KW(),e._extend=function(z,U){if(!U||!Z(U))return z;for(var G=Object.keys(U),W=G.length;W--;)z[G[W]]=U[G[W]];return z};function ue(z,U){return Object.prototype.hasOwnProperty.call(z,U)}var K=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(U){if(typeof U!="function")throw new TypeError('The "original" argument must be of type Function');if(K&&U[K]){var G=U[K];if(typeof G!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(G,K,{value:G,enumerable:!1,writable:!1,configurable:!0}),G}function G(){for(var W,Q,X=new Promise(function(xe,be){W=xe,Q=be}),J=[],se=0;se<arguments.length;se++)J.push(arguments[se]);J.push(function(xe,be){xe?Q(xe):W(be)});try{U.apply(this,J)}catch(xe){Q(xe)}return X}return Object.setPrototypeOf(G,Object.getPrototypeOf(U)),K&&Object.defineProperty(G,K,{value:G,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(G,n(U))},e.promisify.custom=K;function oe(z,U){if(!z){var G=new Error("Promise was rejected with a falsy value");G.reason=z,z=G}return U(z)}function pe(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');function U(){for(var G=[],W=0;W<arguments.length;W++)G.push(arguments[W]);var Q=G.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var X=this,J=function(){return Q.apply(X,arguments)};z.apply(this,G).then(function(se){process.nextTick(J.bind(null,null,se))},function(se){process.nextTick(oe.bind(null,se,J))})}return Object.setPrototypeOf(U,Object.getPrototypeOf(z)),Object.defineProperties(U,n(z)),U}e.callbackify=pe}(fE)),fE}var K_;function gk(){if(K_)return cE;K_=1;function e(T){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},e(T)}function t(T,N,D){return Object.defineProperty(T,"prototype",{writable:!1}),T}function n(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}function r(T,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&i(T,N)}function i(T,N){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,B){return F.__proto__=B,F},i(T,N)}function s(T){var N=c();return function(){var F=g(T),B;if(N){var j=g(this).constructor;B=Reflect.construct(F,arguments,j)}else B=F.apply(this,arguments);return l(this,B)}}function l(T,N){if(N&&(e(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(T)}function u(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(T){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},g(T)}var p={},m,x;function b(T,N,D){D||(D=Error);function F(j,k,$){return typeof N=="string"?N:N(j,k,$)}var B=function(j){r($,j);var k=s($);function $(Z,ne,ie){var he;return n(this,$),he=k.call(this,F(Z,ne,ie)),he.code=T,he}return t($)}(D);p[T]=B}function E(T,N){if(Array.isArray(T)){var D=T.length;return T=T.map(function(F){return String(F)}),D>2?"one of ".concat(N," ").concat(T.slice(0,D-1).join(", "),", or ")+T[D-1]:D===2?"one of ".concat(N," ").concat(T[0]," or ").concat(T[1]):"of ".concat(N," ").concat(T[0])}else return"of ".concat(N," ").concat(String(T))}function w(T,N,D){return T.substr(0,N.length)===N}function C(T,N,D){return(D===void 0||D>T.length)&&(D=T.length),T.substring(D-N.length,D)===N}function R(T,N,D){return typeof D!="number"&&(D=0),D+N.length>T.length?!1:T.indexOf(N,D)!==-1}return b("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),b("ERR_INVALID_ARG_TYPE",function(T,N,D){m===void 0&&(m=_i()),m(typeof T=="string","'name' must be a string");var F;typeof N=="string"&&w(N,"not ")?(F="must not be",N=N.replace(/^not /,"")):F="must be";var B;if(C(T," argument"))B="The ".concat(T," ").concat(F," ").concat(E(N,"type"));else{var j=R(T,".")?"property":"argument";B='The "'.concat(T,'" ').concat(j," ").concat(F," ").concat(E(N,"type"))}return B+=". Received type ".concat(e(D)),B},TypeError),b("ERR_INVALID_ARG_VALUE",function(T,N){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";x===void 0&&(x=mg());var F=x.inspect(N);return F.length>128&&(F="".concat(F.slice(0,128),"...")),"The argument '".concat(T,"' ").concat(D,". Received ").concat(F)},TypeError),b("ERR_INVALID_RETURN_VALUE",function(T,N,D){var F;return D&&D.constructor&&D.constructor.name?F="instance of ".concat(D.constructor.name):F="type ".concat(e(D)),"Expected ".concat(T,' to be returned from the "').concat(N,'"')+" function but got ".concat(F,".")},TypeError),b("ERR_MISSING_ARGS",function(){for(var T=arguments.length,N=new Array(T),D=0;D<T;D++)N[D]=arguments[D];m===void 0&&(m=_i()),m(N.length>0,"At least one arg needs to be specified");var F="The ",B=N.length;switch(N=N.map(function(j){return'"'.concat(j,'"')}),B){case 1:F+="".concat(N[0]," argument");break;case 2:F+="".concat(N[0]," and ").concat(N[1]," arguments");break;default:F+=N.slice(0,B-1).join(", "),F+=", and ".concat(N[B-1]," arguments");break}return"".concat(F," must be specified")},TypeError),cE.codes=p,cE}var fC,X_;function XW(){if(X_)return fC;X_=1;function e(ue,K){var oe=Object.keys(ue);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(ue);K&&(pe=pe.filter(function(z){return Object.getOwnPropertyDescriptor(ue,z).enumerable})),oe.push.apply(oe,pe)}return oe}function t(ue){for(var K=1;K<arguments.length;K++){var oe=arguments[K]!=null?arguments[K]:{};K%2?e(Object(oe),!0).forEach(function(pe){n(ue,pe,oe[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(oe)):e(Object(oe)).forEach(function(pe){Object.defineProperty(ue,pe,Object.getOwnPropertyDescriptor(oe,pe))})}return ue}function n(ue,K,oe){return K=l(K),K in ue?Object.defineProperty(ue,K,{value:oe,enumerable:!0,configurable:!0,writable:!0}):ue[K]=oe,ue}function r(ue,K){if(!(ue instanceof K))throw new TypeError("Cannot call a class as a function")}function i(ue,K){for(var oe=0;oe<K.length;oe++){var pe=K[oe];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(ue,l(pe.key),pe)}}function s(ue,K,oe){return K&&i(ue.prototype,K),Object.defineProperty(ue,"prototype",{writable:!1}),ue}function l(ue){var K=u(ue,"string");return T(K)==="symbol"?K:String(K)}function u(ue,K){if(T(ue)!=="object"||ue===null)return ue;var oe=ue[Symbol.toPrimitive];if(oe!==void 0){var pe=oe.call(ue,K);if(T(pe)!=="object")return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ue)}function c(ue,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(K&&K.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),Object.defineProperty(ue,"prototype",{writable:!1}),K&&C(ue,K)}function g(ue){var K=E();return function(){var pe=R(ue),z;if(K){var U=R(this).constructor;z=Reflect.construct(pe,arguments,U)}else z=pe.apply(this,arguments);return p(this,z)}}function p(ue,K){if(K&&(T(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(ue)}function m(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function x(ue){var K=typeof Map=="function"?new Map:void 0;return x=function(pe){if(pe===null||!w(pe))return pe;if(typeof pe!="function")throw new TypeError("Super expression must either be null or a function");if(typeof K<"u"){if(K.has(pe))return K.get(pe);K.set(pe,z)}function z(){return b(pe,arguments,R(this).constructor)}return z.prototype=Object.create(pe.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),C(z,pe)},x(ue)}function b(ue,K,oe){return E()?b=Reflect.construct.bind():b=function(z,U,G){var W=[null];W.push.apply(W,U);var Q=Function.bind.apply(z,W),X=new Q;return G&&C(X,G.prototype),X},b.apply(null,arguments)}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(ue){return Function.toString.call(ue).indexOf("[native code]")!==-1}function C(ue,K){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pe,z){return pe.__proto__=z,pe},C(ue,K)}function R(ue){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},R(ue)}function T(ue){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},T(ue)}var N=mg(),D=N.inspect,F=gk(),B=F.codes.ERR_INVALID_ARG_TYPE;function j(ue,K,oe){return(oe===void 0||oe>ue.length)&&(oe=ue.length),ue.substring(oe-K.length,oe)===K}function k(ue,K){if(K=Math.floor(K),ue.length==0||K==0)return"";var oe=ue.length*K;for(K=Math.floor(Math.log(K)/Math.log(2));K;)ue+=ue,K--;return ue+=ue.substring(0,oe-ue.length),ue}var $="",Z="",ne="",ie="",he={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},De=10;function Te(ue){var K=Object.keys(ue),oe=Object.create(Object.getPrototypeOf(ue));return K.forEach(function(pe){oe[pe]=ue[pe]}),Object.defineProperty(oe,"message",{value:ue.message}),oe}function re(ue){return D(ue,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Ae(ue,K,oe){var pe="",z="",U=0,G="",W=!1,Q=re(ue),X=Q.split(`
`),J=re(K).split(`
`),se=0,xe="";if(oe==="strictEqual"&&T(ue)==="object"&&T(K)==="object"&&ue!==null&&K!==null&&(oe="strictEqualObject"),X.length===1&&J.length===1&&X[0]!==J[0]){var be=X[0].length+J[0].length;if(be<=De){if((T(ue)!=="object"||ue===null)&&(T(K)!=="object"||K===null)&&(ue!==0||K!==0))return"".concat(he[oe],`

`)+"".concat(X[0]," !== ").concat(J[0],`
`)}else if(oe!=="strictEqualObject"){var ae=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(be<ae){for(;X[0][se]===J[0][se];)se++;se>2&&(xe=`
  `.concat(k(" ",se),"^"),se=0)}}}for(var le=X[X.length-1],Ce=J[J.length-1];le===Ce&&(se++<2?G=`
  `.concat(le).concat(G):pe=le,X.pop(),J.pop(),!(X.length===0||J.length===0));)le=X[X.length-1],Ce=J[J.length-1];var Oe=Math.max(X.length,J.length);if(Oe===0){var je=Q.split(`
`);if(je.length>30)for(je[26]="".concat($,"...").concat(ie);je.length>27;)je.pop();return"".concat(he.notIdentical,`

`).concat(je.join(`
`),`
`)}se>3&&(G=`
`.concat($,"...").concat(ie).concat(G),W=!0),pe!==""&&(G=`
  `.concat(pe).concat(G),pe="");var Ue=0,ve=he[oe]+`
`.concat(Z,"+ actual").concat(ie," ").concat(ne,"- expected").concat(ie),Pe=" ".concat($,"...").concat(ie," Lines skipped");for(se=0;se<Oe;se++){var Ze=se-U;if(X.length<se+1)Ze>1&&se>2&&(Ze>4?(z+=`
`.concat($,"...").concat(ie),W=!0):Ze>3&&(z+=`
  `.concat(J[se-2]),Ue++),z+=`
  `.concat(J[se-1]),Ue++),U=se,pe+=`
`.concat(ne,"-").concat(ie," ").concat(J[se]),Ue++;else if(J.length<se+1)Ze>1&&se>2&&(Ze>4?(z+=`
`.concat($,"...").concat(ie),W=!0):Ze>3&&(z+=`
  `.concat(X[se-2]),Ue++),z+=`
  `.concat(X[se-1]),Ue++),U=se,z+=`
`.concat(Z,"+").concat(ie," ").concat(X[se]),Ue++;else{var pt=J[se],gt=X[se],me=gt!==pt&&(!j(gt,",")||gt.slice(0,-1)!==pt);me&&j(pt,",")&&pt.slice(0,-1)===gt&&(me=!1,gt+=","),me?(Ze>1&&se>2&&(Ze>4?(z+=`
`.concat($,"...").concat(ie),W=!0):Ze>3&&(z+=`
  `.concat(X[se-2]),Ue++),z+=`
  `.concat(X[se-1]),Ue++),U=se,z+=`
`.concat(Z,"+").concat(ie," ").concat(gt),pe+=`
`.concat(ne,"-").concat(ie," ").concat(pt),Ue+=2):(z+=pe,pe="",(Ze===1||se===0)&&(z+=`
  `.concat(gt),Ue++))}if(Ue>20&&se<Oe-2)return"".concat(ve).concat(Pe,`
`).concat(z,`
`).concat($,"...").concat(ie).concat(pe,`
`)+"".concat($,"...").concat(ie)}return"".concat(ve).concat(W?Pe:"",`
`).concat(z).concat(pe).concat(G).concat(xe)}var de=function(ue,K){c(pe,ue);var oe=g(pe);function pe(z){var U;if(r(this,pe),T(z)!=="object"||z===null)throw new B("options","Object",z);var G=z.message,W=z.operator,Q=z.stackStartFn,X=z.actual,J=z.expected,se=Error.stackTraceLimit;if(Error.stackTraceLimit=0,G!=null)U=oe.call(this,String(G));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?($="\x1B[34m",Z="\x1B[32m",ie="\x1B[39m",ne="\x1B[31m"):($="",Z="",ie="",ne="")),T(X)==="object"&&X!==null&&T(J)==="object"&&J!==null&&"stack"in X&&X instanceof Error&&"stack"in J&&J instanceof Error&&(X=Te(X),J=Te(J)),W==="deepStrictEqual"||W==="strictEqual")U=oe.call(this,Ae(X,J,W));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var xe=he[W],be=re(X).split(`
`);if(W==="notStrictEqual"&&T(X)==="object"&&X!==null&&(xe=he.notStrictEqualObject),be.length>30)for(be[26]="".concat($,"...").concat(ie);be.length>27;)be.pop();be.length===1?U=oe.call(this,"".concat(xe," ").concat(be[0])):U=oe.call(this,"".concat(xe,`

`).concat(be.join(`
`),`
`))}else{var ae=re(X),le="",Ce=he[W];W==="notDeepEqual"||W==="notEqual"?(ae="".concat(he[W],`

`).concat(ae),ae.length>1024&&(ae="".concat(ae.slice(0,1021),"..."))):(le="".concat(re(J)),ae.length>512&&(ae="".concat(ae.slice(0,509),"...")),le.length>512&&(le="".concat(le.slice(0,509),"...")),W==="deepEqual"||W==="equal"?ae="".concat(Ce,`

`).concat(ae,`

should equal

`):le=" ".concat(W," ").concat(le)),U=oe.call(this,"".concat(ae).concat(le))}return Error.stackTraceLimit=se,U.generatedMessage=!G,Object.defineProperty(m(U),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),U.code="ERR_ASSERTION",U.actual=X,U.expected=J,U.operator=W,Error.captureStackTrace&&Error.captureStackTrace(m(U),Q),U.stack,U.name="AssertionError",p(U)}return s(pe,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:K,value:function(U,G){return D(this,t(t({},G),{},{customInspect:!1,depth:0}))}}]),pe}(x(Error),D.custom);return fC=de,fC}var dC,Z_;function mk(){if(Z_)return dC;Z_=1;var e=Object.prototype.toString;return dC=function(n){var r=e.call(n),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),i},dC}var hC,J_;function ZW(){if(J_)return hC;J_=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=mk(),i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),l=i.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(x){var b=x.constructor;return b&&b.prototype===x},g={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var x in window)try{if(!g["$"+x]&&t.call(window,x)&&window[x]!==null&&typeof window[x]=="object")try{c(window[x])}catch{return!0}}catch{return!0}return!1}(),m=function(x){if(typeof window>"u"||!p)return c(x);try{return c(x)}catch{return!1}};e=function(b){var E=b!==null&&typeof b=="object",w=n.call(b)==="[object Function]",C=r(b),R=E&&n.call(b)==="[object String]",T=[];if(!E&&!w&&!C)throw new TypeError("Object.keys called on a non-object");var N=l&&w;if(R&&b.length>0&&!t.call(b,0))for(var D=0;D<b.length;++D)T.push(String(D));if(C&&b.length>0)for(var F=0;F<b.length;++F)T.push(String(F));else for(var B in b)!(N&&B==="prototype")&&t.call(b,B)&&T.push(String(B));if(s)for(var j=m(b),k=0;k<u.length;++k)!(j&&u[k]==="constructor")&&t.call(b,u[k])&&T.push(u[k]);return T}}return hC=e,hC}var pC,Q_;function vk(){if(Q_)return pC;Q_=1;var e=Array.prototype.slice,t=mk(),n=Object.keys,r=n?function(l){return n(l)}:ZW(),i=Object.keys;return r.shim=function(){if(Object.keys){var l=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);l||(Object.keys=function(c){return t(c)?i(e.call(c)):i(c)})}else Object.keys=r;return Object.keys||r},pC=r,pC}var gC,eI;function JW(){if(eI)return gC;eI=1;var e=vk(),t=yR()(),n=Dg(),r=xR(),i=n("Array.prototype.push"),s=n("Object.prototype.propertyIsEnumerable"),l=t?r.getOwnPropertySymbols:null;return gC=function(c,g){if(c==null)throw new TypeError("target must be an object");var p=r(c);if(arguments.length===1)return p;for(var m=1;m<arguments.length;++m){var x=r(arguments[m]),b=e(x),E=t&&(r.getOwnPropertySymbols||l);if(E)for(var w=E(x),C=0;C<w.length;++C){var R=w[C];s(x,R)&&i(b,R)}for(var T=0;T<b.length;++T){var N=b[T];if(s(x,N)){var D=x[N];p[N]=D}}}return p},gC}var mC,tI;function QW(){if(tI)return mC;tI=1;var e=JW(),t=function(){if(!Object.assign)return!1;for(var r="abcdefghijklmnopqrst",i=r.split(""),s={},l=0;l<i.length;++l)s[i[l]]=i[l];var u=Object.assign({},s),c="";for(var g in u)c+=g;return r!==c},n=function(){if(!Object.assign||!Object.preventExtensions)return!1;var r=Object.preventExtensions({1:2});try{Object.assign(r,"xy")}catch{return r[1]==="y"}return!1};return mC=function(){return!Object.assign||t()||n()?e:Object.assign},mC}var vC,nI;function yk(){if(nI)return vC;nI=1;var e=function(t){return t!==t};return vC=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},vC}var yC,rI;function wR(){if(rI)return yC;rI=1;var e=yk();return yC=function(){return typeof Object.is=="function"?Object.is:e},yC}var xC,iI;function eY(){if(iI)return xC;iI=1;var e=CR(),t=u1(),n=t(e("String.prototype.indexOf"));return xC=function(i,s){var l=e(i,!!s);return typeof l=="function"&&n(i,".prototype.")>-1?t(l):l},xC}var bC,oI;function c1(){if(oI)return bC;oI=1;var e=vk(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,i=dk(),s=function(g){return typeof g=="function"&&n.call(g)==="[object Function]"},l=hk()(),u=function(g,p,m,x){if(p in g){if(x===!0){if(g[p]===m)return}else if(!s(x)||!x())return}l?i(g,p,m,!0):i(g,p,m)},c=function(g,p){var m=arguments.length>2?arguments[2]:{},x=e(p);t&&(x=r.call(x,Object.getOwnPropertySymbols(p)));for(var b=0;b<x.length;b+=1)u(g,x[b],p[x[b]],m[x[b]])};return c.supportsDescriptors=!!l,bC=c,bC}var SC,sI;function tY(){if(sI)return SC;sI=1;var e=wR(),t=c1();return SC=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},SC}var AC,aI;function nY(){if(aI)return AC;aI=1;var e=c1(),t=u1(),n=yk(),r=wR(),i=tY(),s=t(r(),Object);return e(s,{getPolyfill:r,implementation:n,shim:i}),AC=s,AC}var EC,lI;function xk(){return lI||(lI=1,EC=function(t){return t!==t}),EC}var CC,uI;function bk(){if(uI)return CC;uI=1;var e=xk();return CC=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},CC}var wC,cI;function rY(){if(cI)return wC;cI=1;var e=c1(),t=bk();return wC=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},wC}var RC,fI;function iY(){if(fI)return RC;fI=1;var e=u1(),t=c1(),n=xk(),r=bk(),i=rY(),s=e(r(),Number);return t(s,{getPolyfill:r,implementation:n,shim:i}),RC=s,RC}var TC,dI;function oY(){if(dI)return TC;dI=1;function e(me,_e){return s(me)||i(me,_e)||n(me,_e)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(me,_e){if(me){if(typeof me=="string")return r(me,_e);var qe=Object.prototype.toString.call(me).slice(8,-1);if(qe==="Object"&&me.constructor&&(qe=me.constructor.name),qe==="Map"||qe==="Set")return Array.from(me);if(qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe))return r(me,_e)}}function r(me,_e){(_e==null||_e>me.length)&&(_e=me.length);for(var qe=0,Ye=new Array(_e);qe<_e;qe++)Ye[qe]=me[qe];return Ye}function i(me,_e){var qe=me==null?null:typeof Symbol<"u"&&me[Symbol.iterator]||me["@@iterator"];if(qe!=null){var Ye,tt,lt,xt,Tt=[],Ot=!0,un=!1;try{if(lt=(qe=qe.call(me)).next,_e!==0)for(;!(Ot=(Ye=lt.call(qe)).done)&&(Tt.push(Ye.value),Tt.length!==_e);Ot=!0);}catch(ke){un=!0,tt=ke}finally{try{if(!Ot&&qe.return!=null&&(xt=qe.return(),Object(xt)!==xt))return}finally{if(un)throw tt}}return Tt}}function s(me){if(Array.isArray(me))return me}function l(me){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},l(me)}var u=/a/g.flags!==void 0,c=function(_e){var qe=[];return _e.forEach(function(Ye){return qe.push(Ye)}),qe},g=function(_e){var qe=[];return _e.forEach(function(Ye,tt){return qe.push([tt,Ye])}),qe},p=Object.is?Object.is:nY(),m=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},x=Number.isNaN?Number.isNaN:iY();function b(me){return me.call.bind(me)}var E=b(Object.prototype.hasOwnProperty),w=b(Object.prototype.propertyIsEnumerable),C=b(Object.prototype.toString),R=mg().types,T=R.isAnyArrayBuffer,N=R.isArrayBufferView,D=R.isDate,F=R.isMap,B=R.isRegExp,j=R.isSet,k=R.isNativeError,$=R.isBoxedPrimitive,Z=R.isNumberObject,ne=R.isStringObject,ie=R.isBooleanObject,he=R.isBigIntObject,De=R.isSymbolObject,Te=R.isFloat32Array,re=R.isFloat64Array;function Ae(me){if(me.length===0||me.length>10)return!0;for(var _e=0;_e<me.length;_e++){var qe=me.charCodeAt(_e);if(qe<48||qe>57)return!0}return me.length===10&&me>=Math.pow(2,32)}function de(me){return Object.keys(me).filter(Ae).concat(m(me).filter(Object.prototype.propertyIsEnumerable.bind(me)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function ue(me,_e){if(me===_e)return 0;for(var qe=me.length,Ye=_e.length,tt=0,lt=Math.min(qe,Ye);tt<lt;++tt)if(me[tt]!==_e[tt]){qe=me[tt],Ye=_e[tt];break}return qe<Ye?-1:Ye<qe?1:0}var K=!0,oe=!1,pe=0,z=1,U=2,G=3;function W(me,_e){return u?me.source===_e.source&&me.flags===_e.flags:RegExp.prototype.toString.call(me)===RegExp.prototype.toString.call(_e)}function Q(me,_e){if(me.byteLength!==_e.byteLength)return!1;for(var qe=0;qe<me.byteLength;qe++)if(me[qe]!==_e[qe])return!1;return!0}function X(me,_e){return me.byteLength!==_e.byteLength?!1:ue(new Uint8Array(me.buffer,me.byteOffset,me.byteLength),new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength))===0}function J(me,_e){return me.byteLength===_e.byteLength&&ue(new Uint8Array(me),new Uint8Array(_e))===0}function se(me,_e){return Z(me)?Z(_e)&&p(Number.prototype.valueOf.call(me),Number.prototype.valueOf.call(_e)):ne(me)?ne(_e)&&String.prototype.valueOf.call(me)===String.prototype.valueOf.call(_e):ie(me)?ie(_e)&&Boolean.prototype.valueOf.call(me)===Boolean.prototype.valueOf.call(_e):he(me)?he(_e)&&BigInt.prototype.valueOf.call(me)===BigInt.prototype.valueOf.call(_e):De(_e)&&Symbol.prototype.valueOf.call(me)===Symbol.prototype.valueOf.call(_e)}function xe(me,_e,qe,Ye){if(me===_e)return me!==0?!0:qe?p(me,_e):!0;if(qe){if(l(me)!=="object")return typeof me=="number"&&x(me)&&x(_e);if(l(_e)!=="object"||me===null||_e===null||Object.getPrototypeOf(me)!==Object.getPrototypeOf(_e))return!1}else{if(me===null||l(me)!=="object")return _e===null||l(_e)!=="object"?me==_e:!1;if(_e===null||l(_e)!=="object")return!1}var tt=C(me),lt=C(_e);if(tt!==lt)return!1;if(Array.isArray(me)){if(me.length!==_e.length)return!1;var xt=de(me),Tt=de(_e);return xt.length!==Tt.length?!1:ae(me,_e,qe,Ye,z,xt)}if(tt==="[object Object]"&&(!F(me)&&F(_e)||!j(me)&&j(_e)))return!1;if(D(me)){if(!D(_e)||Date.prototype.getTime.call(me)!==Date.prototype.getTime.call(_e))return!1}else if(B(me)){if(!B(_e)||!W(me,_e))return!1}else if(k(me)||me instanceof Error){if(me.message!==_e.message||me.name!==_e.name)return!1}else if(N(me)){if(!qe&&(Te(me)||re(me))){if(!Q(me,_e))return!1}else if(!X(me,_e))return!1;var Ot=de(me),un=de(_e);return Ot.length!==un.length?!1:ae(me,_e,qe,Ye,pe,Ot)}else{if(j(me))return!j(_e)||me.size!==_e.size?!1:ae(me,_e,qe,Ye,U);if(F(me))return!F(_e)||me.size!==_e.size?!1:ae(me,_e,qe,Ye,G);if(T(me)){if(!J(me,_e))return!1}else if($(me)&&!se(me,_e))return!1}return ae(me,_e,qe,Ye,pe)}function be(me,_e){return _e.filter(function(qe){return w(me,qe)})}function ae(me,_e,qe,Ye,tt,lt){if(arguments.length===5){lt=Object.keys(me);var xt=Object.keys(_e);if(lt.length!==xt.length)return!1}for(var Tt=0;Tt<lt.length;Tt++)if(!E(_e,lt[Tt]))return!1;if(qe&&arguments.length===5){var Ot=m(me);if(Ot.length!==0){var un=0;for(Tt=0;Tt<Ot.length;Tt++){var ke=Ot[Tt];if(w(me,ke)){if(!w(_e,ke))return!1;lt.push(ke),un++}else if(w(_e,ke))return!1}var rt=m(_e);if(Ot.length!==rt.length&&be(_e,rt).length!==un)return!1}else{var mt=m(_e);if(mt.length!==0&&be(_e,mt).length!==0)return!1}}if(lt.length===0&&(tt===pe||tt===z&&me.length===0||me.size===0))return!0;if(Ye===void 0)Ye={val1:new Map,val2:new Map,position:0};else{var At=Ye.val1.get(me);if(At!==void 0){var Mt=Ye.val2.get(_e);if(Mt!==void 0)return At===Mt}Ye.position++}Ye.val1.set(me,Ye.position),Ye.val2.set(_e,Ye.position);var bn=Ze(me,_e,qe,lt,Ye,tt);return Ye.val1.delete(me),Ye.val2.delete(_e),bn}function le(me,_e,qe,Ye){for(var tt=c(me),lt=0;lt<tt.length;lt++){var xt=tt[lt];if(xe(_e,xt,qe,Ye))return me.delete(xt),!0}return!1}function Ce(me){switch(l(me)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":me=+me;case"number":if(x(me))return!1}return!0}function Oe(me,_e,qe){var Ye=Ce(qe);return Ye??(_e.has(Ye)&&!me.has(Ye))}function je(me,_e,qe,Ye,tt){var lt=Ce(qe);if(lt!=null)return lt;var xt=_e.get(lt);return xt===void 0&&!_e.has(lt)||!xe(Ye,xt,!1,tt)?!1:!me.has(lt)&&xe(Ye,xt,!1,tt)}function Ue(me,_e,qe,Ye){for(var tt=null,lt=c(me),xt=0;xt<lt.length;xt++){var Tt=lt[xt];if(l(Tt)==="object"&&Tt!==null)tt===null&&(tt=new Set),tt.add(Tt);else if(!_e.has(Tt)){if(qe||!Oe(me,_e,Tt))return!1;tt===null&&(tt=new Set),tt.add(Tt)}}if(tt!==null){for(var Ot=c(_e),un=0;un<Ot.length;un++){var ke=Ot[un];if(l(ke)==="object"&&ke!==null){if(!le(tt,ke,qe,Ye))return!1}else if(!qe&&!me.has(ke)&&!le(tt,ke,qe,Ye))return!1}return tt.size===0}return!0}function ve(me,_e,qe,Ye,tt,lt){for(var xt=c(me),Tt=0;Tt<xt.length;Tt++){var Ot=xt[Tt];if(xe(qe,Ot,tt,lt)&&xe(Ye,_e.get(Ot),tt,lt))return me.delete(Ot),!0}return!1}function Pe(me,_e,qe,Ye){for(var tt=null,lt=g(me),xt=0;xt<lt.length;xt++){var Tt=e(lt[xt],2),Ot=Tt[0],un=Tt[1];if(l(Ot)==="object"&&Ot!==null)tt===null&&(tt=new Set),tt.add(Ot);else{var ke=_e.get(Ot);if(ke===void 0&&!_e.has(Ot)||!xe(un,ke,qe,Ye)){if(qe||!je(me,_e,Ot,un,Ye))return!1;tt===null&&(tt=new Set),tt.add(Ot)}}}if(tt!==null){for(var rt=g(_e),mt=0;mt<rt.length;mt++){var At=e(rt[mt],2),Mt=At[0],bn=At[1];if(l(Mt)==="object"&&Mt!==null){if(!ve(tt,me,Mt,bn,qe,Ye))return!1}else if(!qe&&(!me.has(Mt)||!xe(me.get(Mt),bn,!1,Ye))&&!ve(tt,me,Mt,bn,!1,Ye))return!1}return tt.size===0}return!0}function Ze(me,_e,qe,Ye,tt,lt){var xt=0;if(lt===U){if(!Ue(me,_e,qe,tt))return!1}else if(lt===G){if(!Pe(me,_e,qe,tt))return!1}else if(lt===z)for(;xt<me.length;xt++)if(E(me,xt)){if(!E(_e,xt)||!xe(me[xt],_e[xt],qe,tt))return!1}else{if(E(_e,xt))return!1;for(var Tt=Object.keys(me);xt<Tt.length;xt++){var Ot=Tt[xt];if(!E(_e,Ot)||!xe(me[Ot],_e[Ot],qe,tt))return!1}return Tt.length===Object.keys(_e).length}for(xt=0;xt<Ye.length;xt++){var un=Ye[xt];if(!xe(me[un],_e[un],qe,tt))return!1}return!0}function pt(me,_e){return xe(me,_e,oe)}function gt(me,_e){return xe(me,_e,K)}return TC={isDeepEqual:pt,isDeepStrictEqual:gt},TC}var hI;function _i(){if(hI)return uE.exports;hI=1;function e(U){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},e(U)}function t(U,G,W){return Object.defineProperty(U,"prototype",{writable:!1}),U}function n(U,G){if(!(U instanceof G))throw new TypeError("Cannot call a class as a function")}var r=gk(),i=r.codes,s=i.ERR_AMBIGUOUS_ARGUMENT,l=i.ERR_INVALID_ARG_TYPE,u=i.ERR_INVALID_ARG_VALUE,c=i.ERR_INVALID_RETURN_VALUE,g=i.ERR_MISSING_ARGS,p=XW(),m=mg(),x=m.inspect,b=mg().types,E=b.isPromise,w=b.isRegExp,C=QW()(),R=wR()(),T=eY()("RegExp.prototype.test"),N,D;function F(){var U=oY();N=U.isDeepEqual,D=U.isDeepStrictEqual}var B=!1,j=uE.exports=ie,k={};function $(U){throw U.message instanceof Error?U.message:new p(U)}function Z(U,G,W,Q,X){var J=arguments.length,se;if(J===0)se="Failed";else if(J===1)W=U,U=void 0;else{if(B===!1){B=!0;var xe=process.emitWarning?process.emitWarning:console.warn.bind(console);xe("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}J===2&&(Q="!=")}if(W instanceof Error)throw W;var be={actual:U,expected:G,operator:Q===void 0?"fail":Q,stackStartFn:X||Z};W!==void 0&&(be.message=W);var ae=new p(be);throw se&&(ae.message=se,ae.generatedMessage=!0),ae}j.fail=Z,j.AssertionError=p;function ne(U,G,W,Q){if(!W){var X=!1;if(G===0)X=!0,Q="No value argument passed to `assert.ok()`";else if(Q instanceof Error)throw Q;var J=new p({actual:W,expected:!0,message:Q,operator:"==",stackStartFn:U});throw J.generatedMessage=X,J}}function ie(){for(var U=arguments.length,G=new Array(U),W=0;W<U;W++)G[W]=arguments[W];ne.apply(void 0,[ie,G.length].concat(G))}j.ok=ie,j.equal=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");G!=W&&$({actual:G,expected:W,message:Q,operator:"==",stackStartFn:U})},j.notEqual=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");G==W&&$({actual:G,expected:W,message:Q,operator:"!=",stackStartFn:U})},j.deepEqual=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");N===void 0&&F(),N(G,W)||$({actual:G,expected:W,message:Q,operator:"deepEqual",stackStartFn:U})},j.notDeepEqual=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");N===void 0&&F(),N(G,W)&&$({actual:G,expected:W,message:Q,operator:"notDeepEqual",stackStartFn:U})},j.deepStrictEqual=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");N===void 0&&F(),D(G,W)||$({actual:G,expected:W,message:Q,operator:"deepStrictEqual",stackStartFn:U})},j.notDeepStrictEqual=he;function he(U,G,W){if(arguments.length<2)throw new g("actual","expected");N===void 0&&F(),D(U,G)&&$({actual:U,expected:G,message:W,operator:"notDeepStrictEqual",stackStartFn:he})}j.strictEqual=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");R(G,W)||$({actual:G,expected:W,message:Q,operator:"strictEqual",stackStartFn:U})},j.notStrictEqual=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");R(G,W)&&$({actual:G,expected:W,message:Q,operator:"notStrictEqual",stackStartFn:U})};var De=t(function U(G,W,Q){var X=this;n(this,U),W.forEach(function(J){J in G&&(Q!==void 0&&typeof Q[J]=="string"&&w(G[J])&&T(G[J],Q[J])?X[J]=Q[J]:X[J]=G[J])})});function Te(U,G,W,Q,X,J){if(!(W in U)||!D(U[W],G[W])){if(!Q){var se=new De(U,X),xe=new De(G,X,U),be=new p({actual:se,expected:xe,operator:"deepStrictEqual",stackStartFn:J});throw be.actual=U,be.expected=G,be.operator=J.name,be}$({actual:U,expected:G,message:Q,operator:J.name,stackStartFn:J})}}function re(U,G,W,Q){if(typeof G!="function"){if(w(G))return T(G,U);if(arguments.length===2)throw new l("expected",["Function","RegExp"],G);if(e(U)!=="object"||U===null){var X=new p({actual:U,expected:G,message:W,operator:"deepStrictEqual",stackStartFn:Q});throw X.operator=Q.name,X}var J=Object.keys(G);if(G instanceof Error)J.push("name","message");else if(J.length===0)throw new u("error",G,"may not be an empty object");return N===void 0&&F(),J.forEach(function(se){typeof U[se]=="string"&&w(G[se])&&T(G[se],U[se])||Te(U,G,se,W,J,Q)}),!0}return G.prototype!==void 0&&U instanceof G?!0:Error.isPrototypeOf(G)?!1:G.call({},U)===!0}function Ae(U){if(typeof U!="function")throw new l("fn","Function",U);try{U()}catch(G){return G}return k}function de(U){return E(U)||U!==null&&e(U)==="object"&&typeof U.then=="function"&&typeof U.catch=="function"}function ue(U){return Promise.resolve().then(function(){var G;if(typeof U=="function"){if(G=U(),!de(G))throw new c("instance of Promise","promiseFn",G)}else if(de(U))G=U;else throw new l("promiseFn",["Function","Promise"],U);return Promise.resolve().then(function(){return G}).then(function(){return k}).catch(function(W){return W})})}function K(U,G,W,Q){if(typeof W=="string"){if(arguments.length===4)throw new l("error",["Object","Error","Function","RegExp"],W);if(e(G)==="object"&&G!==null){if(G.message===W)throw new s("error/message",'The error message "'.concat(G.message,'" is identical to the message.'))}else if(G===W)throw new s("error/message",'The error "'.concat(G,'" is identical to the message.'));Q=W,W=void 0}else if(W!=null&&e(W)!=="object"&&typeof W!="function")throw new l("error",["Object","Error","Function","RegExp"],W);if(G===k){var X="";W&&W.name&&(X+=" (".concat(W.name,")")),X+=Q?": ".concat(Q):".";var J=U.name==="rejects"?"rejection":"exception";$({actual:void 0,expected:W,operator:U.name,message:"Missing expected ".concat(J).concat(X),stackStartFn:U})}if(W&&!re(G,W,Q,U))throw G}function oe(U,G,W,Q){if(G!==k){if(typeof W=="string"&&(Q=W,W=void 0),!W||re(G,W)){var X=Q?": ".concat(Q):".",J=U.name==="doesNotReject"?"rejection":"exception";$({actual:G,expected:W,operator:U.name,message:"Got unwanted ".concat(J).concat(X,`
`)+'Actual message: "'.concat(G&&G.message,'"'),stackStartFn:U})}throw G}}j.throws=function U(G){for(var W=arguments.length,Q=new Array(W>1?W-1:0),X=1;X<W;X++)Q[X-1]=arguments[X];K.apply(void 0,[U,Ae(G)].concat(Q))},j.rejects=function U(G){for(var W=arguments.length,Q=new Array(W>1?W-1:0),X=1;X<W;X++)Q[X-1]=arguments[X];return ue(G).then(function(J){return K.apply(void 0,[U,J].concat(Q))})},j.doesNotThrow=function U(G){for(var W=arguments.length,Q=new Array(W>1?W-1:0),X=1;X<W;X++)Q[X-1]=arguments[X];oe.apply(void 0,[U,Ae(G)].concat(Q))},j.doesNotReject=function U(G){for(var W=arguments.length,Q=new Array(W>1?W-1:0),X=1;X<W;X++)Q[X-1]=arguments[X];return ue(G).then(function(J){return oe.apply(void 0,[U,J].concat(Q))})},j.ifError=function U(G){if(G!=null){var W="ifError got unwanted exception: ";e(G)==="object"&&typeof G.message=="string"?G.message.length===0&&G.constructor?W+=G.constructor.name:W+=G.message:W+=x(G);var Q=new p({actual:G,expected:null,operator:"ifError",message:W,stackStartFn:U}),X=G.stack;if(typeof X=="string"){var J=X.split(`
`);J.shift();for(var se=Q.stack.split(`
`),xe=0;xe<J.length;xe++){var be=se.indexOf(J[xe]);if(be!==-1){se=se.slice(0,be);break}}Q.stack="".concat(se.join(`
`),`
`).concat(J.join(`
`))}throw Q}};function pe(U,G,W,Q,X){if(!w(G))throw new l("regexp","RegExp",G);var J=X==="match";if(typeof U!="string"||T(G,U)!==J){if(W instanceof Error)throw W;var se=!W;W=W||(typeof U!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(U)," (").concat(x(U),")"):(J?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(x(G),`. Input:

`).concat(x(U),`
`));var xe=new p({actual:U,expected:G,message:W,operator:X,stackStartFn:Q});throw xe.generatedMessage=se,xe}}j.match=function U(G,W,Q){pe(G,W,Q,U,"match")},j.doesNotMatch=function U(G,W,Q){pe(G,W,Q,U,"doesNotMatch")};function z(){for(var U=arguments.length,G=new Array(U),W=0;W<U;W++)G[W]=arguments[W];ne.apply(void 0,[z,G.length].concat(G))}return j.strict=C(z,j,{equal:j.strictEqual,deepEqual:j.deepStrictEqual,notEqual:j.notStrictEqual,notDeepEqual:j.notDeepStrictEqual}),j.strict.strict=j.strict,uE.exports}var Ns={},pI;function Ve(){if(pI)return Ns;pI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.SuppressWarnings=Ns.Override=Ns.Nullable=Ns.NotNull=void 0;function e(i,s,l){}Ns.NotNull=e;function t(i,s,l){}Ns.Nullable=t;function n(i,s,l){}Ns.Override=n;function r(i){return(s,l,u)=>{}}return Ns.SuppressWarnings=r,Ns}var NC={},gI;function af(){return gI||(gI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.IntStream=void 0,function(t){t.EOF=-1,t.UNKNOWN_SOURCE_NAME="<unknown>"}(e.IntStream||(e.IntStream={}))}(NC)),NC}var mI;function sY(){if(mI)return rd;mI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=rd&&rd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(rd,"__esModule",{value:!0}),rd.ANTLRInputStream=void 0;const t=_i(),n=Ve(),r=af();let i=class{constructor(l){this.p=0,this.data=l,this.n=l.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw t(this.LA(1)===r.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(l){return l===0?0:l<0&&(l++,this.p+l-1<0)||this.p+l-1>=this.n?r.IntStream.EOF:this.data.charCodeAt(this.p+l-1)}LT(l){return this.LA(l)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(l){}seek(l){if(l<=this.p){this.p=l;return}for(l=Math.min(l,this.n);this.p<l;)this.consume()}getText(l){let u=l.a,c=l.b;c>=this.n&&(c=this.n-1);let g=c-u+1;return u>=this.n?"":this.data.substr(u,g)}get sourceName(){return this.name?this.name:r.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};return e([n.Override],i.prototype,"consume",null),e([n.Override],i.prototype,"LA",null),e([n.Override],i.prototype,"index",null),e([n.Override],i.prototype,"size",null),e([n.Override],i.prototype,"mark",null),e([n.Override],i.prototype,"release",null),e([n.Override],i.prototype,"seek",null),e([n.Override],i.prototype,"getText",null),e([n.Override],i.prototype,"sourceName",null),e([n.Override],i.prototype,"toString",null),rd.ANTLRInputStream=i,rd}var id={},Sl={},z0={},vI;function Lu(){return vI||(vI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=z0&&z0.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNState=void 0;const n=Ve();let r=class Xw{constructor(){this.stateNumber=Xw.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(s){return s instanceof Xw?this.stateNumber===s.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(s,l){if(this.transitions.length===0)this.epsilonOnlyTransitions=s.isEpsilon;else if(this.epsilonOnlyTransitions!==s.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(l!==void 0?l:this.transitions.length,0,s)}transition(s){return this.transitions[s]}setTransition(s,l){this.transitions[s]=l}removeTransition(s){return this.transitions.splice(s,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(s){this.ruleIndex=s}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(s){return this.optimizedTransitions[s]}addOptimizedTransition(s){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(s)}setOptimizedTransition(s,l){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[s]=l}removeOptimizedTransition(s){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(s,1)}};t([n.Override],r.prototype,"hashCode",null),t([n.Override],r.prototype,"equals",null),t([n.Override],r.prototype,"toString",null),e.ATNState=r,function(i){i.INVALID_STATE_NUMBER=-1}(r=e.ATNState||(e.ATNState={}))}(z0)),z0}var _C={},yI;function ti(){return yI||(yI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ATNStateType=void 0,function(t){t[t.INVALID_TYPE=0]="INVALID_TYPE",t[t.BASIC=1]="BASIC",t[t.RULE_START=2]="RULE_START",t[t.BLOCK_START=3]="BLOCK_START",t[t.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",t[t.STAR_BLOCK_START=5]="STAR_BLOCK_START",t[t.TOKEN_START=6]="TOKEN_START",t[t.RULE_STOP=7]="RULE_STOP",t[t.BLOCK_END=8]="BLOCK_END",t[t.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",t[t.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",t[t.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",t[t.LOOP_END=12]="LOOP_END"}(e.ATNStateType||(e.ATNStateType={}))}(_C)),_C}var Al={},U0={},xI;function lf(){if(xI)return U0;xI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(U0,"__esModule",{value:!0}),U0.RecognitionException=void 0;let e=class extends Error{constructor(n,r,i,s){super(s),this._offendingState=-1,this._recognizer=n,this.input=r,this.ctx=i,n&&(this._offendingState=n.state)}get offendingState(){return this._offendingState}setOffendingState(n){this._offendingState=n}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(n){if(!(n&&n!==this._recognizer))return this.offendingToken}setOffendingToken(n,r){n===this._recognizer&&(this.offendingToken=r)}get recognizer(){return this._recognizer}};return U0.RecognitionException=e,U0}var El={},V0={},Cl={},bI;function uf(){if(bI)return Cl;bI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cl&&Cl.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g},t=Cl&&Cl.__param||function(i,s){return function(l,u){s(l,u,i)}};Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.Transition=void 0;const n=Ve();let r=class{constructor(s){if(s==null)throw new Error("target cannot be null.");this.target=s}get isEpsilon(){return!1}get label(){}};return r.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],e([n.NotNull],r.prototype,"target",void 0),r=e([t(0,n.NotNull)],r),Cl.Transition=r,Cl}var SI;function RR(){if(SI)return V0;SI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(V0,"__esModule",{value:!0}),V0.AbstractPredicateTransition=void 0;const e=uf();let t=class extends e.Transition{constructor(r){super(r)}};return V0.AbstractPredicateTransition=t,V0}var od={},wl={},sd={},IC={},AI;function mr(){return AI||(AI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash=void 0,function(t){function r(c=0){return c}t.initialize=r;function i(c,g){g==null?g=0:typeof g=="string"?g=u(g):typeof g=="object"&&(g=g.hashCode());let C=g;return C=Math.imul(C,3432918353),C=C<<15|C>>>17,C=Math.imul(C,461845907),c=c^C,c=c<<13|c>>>19,c=Math.imul(c,5)+3864292196,c&4294967295}t.update=i;function s(c,g){return c=c^g*4,c=c^c>>>16,c=Math.imul(c,2246822507),c=c^c>>>13,c=Math.imul(c,3266489909),c=c^c>>>16,c}t.finish=s;function l(c,g=0){let p=r(g),m=0;for(let x of c)p=i(p,x),m++;return p=s(p,m),p}t.hashCode=l;function u(c){let g=c.length;if(g===0)return 0;let p=0;for(let m=0;m<g;m++){let x=c.charCodeAt(m);p=(p<<5>>>0)-p+x,p|=0}return p}}(e.MurmurHash||(e.MurmurHash={}))}(IC)),IC}var ad={},EI;function Ga(){if(EI)return ad;EI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ad&&ad.__decorate||function(r,i,s,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,s):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,s,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,s,c):g(i,s))||c);return u>3&&c&&Object.defineProperty(i,s,c),c};Object.defineProperty(ad,"__esModule",{value:!0}),ad.ObjectEqualityComparator=void 0;const t=Ve();let n=class{hashCode(i){return i==null?0:i.hashCode()}equals(i,s){return i==null?s==null:i.equals(s)}};return n.INSTANCE=new n,e([t.Override],n.prototype,"hashCode",null),e([t.Override],n.prototype,"equals",null),ad.ObjectEqualityComparator=n,ad}var CI;function aY(){if(CI)return sd;CI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=sd&&sd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(sd,"__esModule",{value:!0}),sd.DefaultEqualityComparator=void 0;const t=Ve(),n=mr(),r=Ga();let i=class{hashCode(l){return l==null?0:typeof l=="string"||typeof l=="number"?n.MurmurHash.hashCode([l]):r.ObjectEqualityComparator.INSTANCE.hashCode(l)}equals(l,u){return l==null?u==null:typeof l=="string"||typeof l=="number"?l===u:r.ObjectEqualityComparator.INSTANCE.equals(l,u)}};return i.INSTANCE=new i,e([t.Override],i.prototype,"hashCode",null),e([t.Override],i.prototype,"equals",null),sd.DefaultEqualityComparator=i,sd}var wI;function cf(){if(wI)return wl;wI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=wl&&wl.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var C=g.length-1;C>=0;C--)(w=g[C])&&(E=(b<3?w(E):b>3?w(p,m,E):w(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E},t=wl&&wl.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(wl,"__esModule",{value:!0}),wl.Array2DHashSet=void 0;const n=_i(),r=aY(),i=Ve(),s=mr(),l=16,u=.75;let c=class sS{constructor(p,m=l){if(this.n=0,this.threshold=Math.floor(l*u),p instanceof sS){this.comparator=p.comparator,this.buckets=p.buckets.slice(0);for(let x=0;x<this.buckets.length;x++){let b=this.buckets[x];b&&(this.buckets[x]=b.slice(0))}this.n=p.n,this.threshold=p.threshold}else this.comparator=p||r.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(m)}getOrAdd(p){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(p)}getOrAddImpl(p){let m=this.getBucket(p),x=this.buckets[m];if(!x)return x=[p],this.buckets[m]=x,this.n++,p;for(let b of x)if(this.comparator.equals(b,p))return b;return x.push(p),this.n++,p}get(p){if(p==null)return p;let m=this.getBucket(p),x=this.buckets[m];if(x){for(let b of x)if(this.comparator.equals(b,p))return b}}getBucket(p){return this.comparator.hashCode(p)&this.buckets.length-1}hashCode(){let p=s.MurmurHash.initialize();for(let m of this.buckets)if(m!=null)for(let x of m){if(x==null)break;p=s.MurmurHash.update(p,this.comparator.hashCode(x))}return p=s.MurmurHash.finish(p,this.size),p}equals(p){return p===this?!0:!(p instanceof sS)||p.size!==this.size?!1:this.containsAll(p)}expand(){let p=this.buckets,m=this.buckets.length*2,x=this.createBuckets(m);this.buckets=x,this.threshold=Math.floor(m*u);let b=this.size;for(let E of p)if(E)for(let w of E){let C=this.getBucket(w),R=this.buckets[C];R||(R=[],this.buckets[C]=R),R.push(w)}n(this.n===b)}add(p){return this.getOrAdd(p)===p}get size(){return this.n}get isEmpty(){return this.n===0}contains(p){return this.containsFast(this.asElementType(p))}containsFast(p){return p==null?!1:this.get(p)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){const p=new Array(this.size);let m=0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;p[m++]=b}return p}containsAll(p){if(p instanceof sS){let m=p;for(let x of m.buckets)if(x!=null)for(let b of x){if(b==null)break;if(!this.containsFast(this.asElementType(b)))return!1}}else for(let m of p)if(!this.containsFast(this.asElementType(m)))return!1;return!0}addAll(p){let m=!1;for(let x of p)this.getOrAdd(x)!==x&&(m=!0);return m}clear(){this.buckets=this.createBuckets(l),this.n=0,this.threshold=Math.floor(l*u)}toString(){if(this.size===0)return"{}";let p="{",m=!0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;m?m=!1:p+=", ",p+=b.toString()}return p+="}",p}toTableString(){let p="";for(let m of this.buckets){if(m==null){p+=`null
`;continue}p+="[";let x=!0;for(let b of m)x?x=!1:p+=" ",b==null?p+="_":p+=b.toString();p+=`]
`}return p}asElementType(p){return p}createBuckets(p){return new Array(p)}};return e([i.NotNull],c.prototype,"comparator",void 0),e([i.Override],c.prototype,"hashCode",null),e([i.Override],c.prototype,"equals",null),e([i.Override],c.prototype,"add",null),e([i.Override],c.prototype,"size",null),e([i.Override],c.prototype,"isEmpty",null),e([i.Override],c.prototype,"contains",null),e([t(0,i.Nullable)],c.prototype,"containsFast",null),e([i.Override],c.prototype,Symbol.iterator,null),e([i.Override],c.prototype,"toArray",null),e([i.Override],c.prototype,"containsAll",null),e([i.Override],c.prototype,"addAll",null),e([i.Override],c.prototype,"clear",null),e([i.Override],c.prototype,"toString",null),e([i.SuppressWarnings("unchecked")],c.prototype,"asElementType",null),e([i.SuppressWarnings("unchecked")],c.prototype,"createBuckets",null),wl.Array2DHashSet=c,wl}var ld={},RI;function f1(){if(RI)return ld;RI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ld&&ld.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(ld,"__esModule",{value:!0}),ld.ArrayEqualityComparator=void 0;const t=Ve(),n=mr(),r=Ga();let i=class{hashCode(l){return l==null?0:n.MurmurHash.hashCode(l,0)}equals(l,u){if(l==null)return u==null;if(u==null||l.length!==u.length)return!1;for(let c=0;c<l.length;c++)if(!r.ObjectEqualityComparator.INSTANCE.equals(l[c],u[c]))return!1;return!0}};return i.INSTANCE=new i,e([t.Override],i.prototype,"hashCode",null),e([t.Override],i.prototype,"equals",null),ld.ArrayEqualityComparator=i,ld}var po={},TI;function Fu(){if(TI)return po;TI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(po,"__esModule",{value:!0}),po.toCharArray=po.toMap=po.equals=po.join=po.escapeWhitespace=void 0;function e(s,l){return l?s.replace(/ /,""):s.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}po.escapeWhitespace=e;function t(s,l){let u="",c=!0;for(let g of s)c?c=!1:u+=l,u+=g;return u}po.join=t;function n(s,l){return s===l?!0:s===void 0||l===void 0?!1:s.equals(l)}po.equals=n;function r(s){let l=new Map;for(let u=0;u<s.length;u++)l.set(s[u],u);return l}po.toMap=r;function i(s){if(typeof s=="string"){let l=new Uint16Array(s.length);for(let u=0;u<s.length;u++)l[u]=s.charCodeAt(u);return l}else return s.toCharArray()}return po.toCharArray=i,po}var NI;function Mg(){return NI||(NI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=od&&od.__decorate||function(x,b,E,w){var C=arguments.length,R=C<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,E):w,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,E,w);else for(var N=x.length-1;N>=0;N--)(T=x[N])&&(R=(C<3?T(R):C>3?T(b,E,R):T(b,E))||R);return C>3&&R&&Object.defineProperty(b,E,R),R},n=od&&od.__param||function(x,b){return function(E,w){b(E,w,x)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticContext=void 0;const r=cf(),i=f1(),s=mr(),l=Ve(),u=Ga(),c=Fu();function g(x){let b;for(let E of x){if(b===void 0){b=E;continue}b.compareTo(E)<0&&(b=E)}return b}function p(x){let b;for(let E of x){if(b===void 0){b=E;continue}b.compareTo(E)>0&&(b=E)}return b}let m=class jo{static get NONE(){return jo._NONE===void 0&&(jo._NONE=new jo.Predicate),jo._NONE}evalPrecedence(b,E){return this}static and(b,E){if(!b||b===jo.NONE)return E;if(E===jo.NONE)return b;let w=new jo.AND(b,E);return w.opnds.length===1?w.opnds[0]:w}static or(b,E){if(!b)return E;if(b===jo.NONE||E===jo.NONE)return jo.NONE;let w=new jo.OR(b,E);return w.opnds.length===1?w.opnds[0]:w}};e.SemanticContext=m,function(x){function w(F){let B=[];for(let j=0;j<F.length;j++){let k=F[j];k instanceof x.PrecedencePredicate&&(B.push(k),F.splice(j,1),j--)}return B}class C extends x{constructor(B=-1,j=-1,k=!1){super(),this.ruleIndex=B,this.predIndex=j,this.isCtxDependent=k}eval(B,j){let k=this.isCtxDependent?j:void 0;return B.sempred(k,this.ruleIndex,this.predIndex)}hashCode(){let B=s.MurmurHash.initialize();return B=s.MurmurHash.update(B,this.ruleIndex),B=s.MurmurHash.update(B,this.predIndex),B=s.MurmurHash.update(B,this.isCtxDependent?1:0),B=s.MurmurHash.finish(B,3),B}equals(B){return B instanceof C?this===B?!0:this.ruleIndex===B.ruleIndex&&this.predIndex===B.predIndex&&this.isCtxDependent===B.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}t([l.Override],C.prototype,"eval",null),t([l.Override],C.prototype,"hashCode",null),t([l.Override],C.prototype,"equals",null),t([l.Override],C.prototype,"toString",null),x.Predicate=C;class R extends x{constructor(B){super(),this.precedence=B}eval(B,j){return B.precpred(j,this.precedence)}evalPrecedence(B,j){if(B.precpred(j,this.precedence))return x.NONE}compareTo(B){return this.precedence-B.precedence}hashCode(){let B=1;return B=31*B+this.precedence,B}equals(B){return B instanceof R?this===B?!0:this.precedence===B.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}t([l.Override],R.prototype,"eval",null),t([l.Override],R.prototype,"evalPrecedence",null),t([l.Override],R.prototype,"compareTo",null),t([l.Override],R.prototype,"hashCode",null),t([l.Override],R.prototype,"equals",null),t([l.Override],R.prototype,"toString",null),x.PrecedencePredicate=R;class T extends x{}x.Operator=T;let N=class aS extends T{constructor(B,j){super();let k=new r.Array2DHashSet(u.ObjectEqualityComparator.INSTANCE);B instanceof aS?k.addAll(B.opnds):k.add(B),j instanceof aS?k.addAll(j.opnds):k.add(j),this.opnds=k.toArray();let $=w(this.opnds),Z=p($);Z&&this.opnds.push(Z)}get operands(){return this.opnds}equals(B){return this===B?!0:B instanceof aS?i.ArrayEqualityComparator.INSTANCE.equals(this.opnds,B.opnds):!1}hashCode(){return s.MurmurHash.hashCode(this.opnds,40363613)}eval(B,j){for(let k of this.opnds)if(!k.eval(B,j))return!1;return!0}evalPrecedence(B,j){let k=!1,$=[];for(let ne of this.opnds){let ie=ne.evalPrecedence(B,j);if(k=k||ie!==ne,ie==null)return;ie!==x.NONE&&$.push(ie)}if(!k)return this;if($.length===0)return x.NONE;let Z=$[0];for(let ne=1;ne<$.length;ne++)Z=x.and(Z,$[ne]);return Z}toString(){return c.join(this.opnds,"&&")}};t([l.Override],N.prototype,"operands",null),t([l.Override],N.prototype,"equals",null),t([l.Override],N.prototype,"hashCode",null),t([l.Override],N.prototype,"eval",null),t([l.Override],N.prototype,"evalPrecedence",null),t([l.Override],N.prototype,"toString",null),N=t([n(0,l.NotNull),n(1,l.NotNull)],N),x.AND=N;let D=class lS extends T{constructor(B,j){super();let k=new r.Array2DHashSet(u.ObjectEqualityComparator.INSTANCE);B instanceof lS?k.addAll(B.opnds):k.add(B),j instanceof lS?k.addAll(j.opnds):k.add(j),this.opnds=k.toArray();let $=w(this.opnds),Z=g($);Z&&this.opnds.push(Z)}get operands(){return this.opnds}equals(B){return this===B?!0:B instanceof lS?i.ArrayEqualityComparator.INSTANCE.equals(this.opnds,B.opnds):!1}hashCode(){return s.MurmurHash.hashCode(this.opnds,486279973)}eval(B,j){for(let k of this.opnds)if(k.eval(B,j))return!0;return!1}evalPrecedence(B,j){let k=!1,$=[];for(let ne of this.opnds){let ie=ne.evalPrecedence(B,j);if(k=k||ie!==ne,ie===x.NONE)return x.NONE;ie&&$.push(ie)}if(!k)return this;if($.length===0)return;let Z=$[0];for(let ne=1;ne<$.length;ne++)Z=x.or(Z,$[ne]);return Z}toString(){return c.join(this.opnds,"||")}};t([l.Override],D.prototype,"operands",null),t([l.Override],D.prototype,"equals",null),t([l.Override],D.prototype,"hashCode",null),t([l.Override],D.prototype,"eval",null),t([l.Override],D.prototype,"evalPrecedence",null),t([l.Override],D.prototype,"toString",null),D=t([n(0,l.NotNull),n(1,l.NotNull)],D),x.OR=D}(m=e.SemanticContext||(e.SemanticContext={}))}(od)),od}var _I;function Sk(){if(_I)return El;_I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=El&&El.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=El&&El.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(El,"__esModule",{value:!0}),El.PredicateTransition=void 0;const n=RR(),r=Ve(),i=Mg();let s=class extends n.AbstractPredicateTransition{constructor(u,c,g,p){super(u),this.ruleIndex=c,this.predIndex=g,this.isCtxDependent=p}get serializationType(){return 4}get isEpsilon(){return!0}matches(u,c,g){return!1}get predicate(){return new i.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};return e([r.Override],s.prototype,"serializationType",null),e([r.Override],s.prototype,"isEpsilon",null),e([r.Override],s.prototype,"matches",null),e([r.Override,r.NotNull],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),El.PredicateTransition=s,El}var II;function d1(){if(II)return Al;II=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Al&&Al.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Al&&Al.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Al,"__esModule",{value:!0}),Al.FailedPredicateException=void 0;const n=lf(),r=Ve(),i=Sk();let s=class Ak extends n.RecognitionException{constructor(u,c,g){super(u,u.inputStream,u.context,Ak.formatMessage(c,g));let m=u.interpreter.atn.states[u.state].transition(0);m instanceof i.PredicateTransition?(this._ruleIndex=m.ruleIndex,this._predicateIndex=m.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=c,super.setOffendingToken(u,u.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(u,c){return c||`failed predicate: {${u}}?`}};return e([r.NotNull],s,"formatMessage",null),s=e([t(0,r.NotNull)],s),Al.FailedPredicateException=s,Al}var Rl={},OI;function h1(){if(OI)return Rl;OI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Rl&&Rl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Rl&&Rl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.InputMismatchException=void 0;const n=lf(),r=Ve();let i=class extends n.RecognitionException{constructor(l,u,c){c===void 0&&(c=l.context),super(l,l.inputStream,c),u!==void 0&&this.setOffendingState(u),this.setOffendingToken(l,l.currentToken)}};return i=e([t(0,r.NotNull)],i),Rl.InputMismatchException=i,Rl}var Tl={},ud={},OC={},DI;function TR(){return DI||(DI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Arrays=void 0,function(t){function n(s,l,u,c){return r(s,u!==void 0?u:0,c!==void 0?c:s.length,l)}t.binarySearch=n;function r(s,l,u,c){let g=l,p=u-1;for(;g<=p;){let m=g+p>>>1,x=s[m];if(x<c)g=m+1;else if(x>c)p=m-1;else return m}return-(g+1)}function i(s){let l="[",u=!0;for(let c of s)u?u=!1:l+=", ",c===null?l+="null":c===void 0?l+="undefined":l+=c;return l+="]",l}t.toString=i}(e.Arrays||(e.Arrays={}))}(OC)),OC}var MI;function NR(){if(MI)return ud;MI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ud&&ud.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x};Object.defineProperty(ud,"__esModule",{value:!0}),ud.IntegerList=void 0;const t=TR(),n=Ve(),r=new Int32Array(0),i=4,s=(1<<31>>>0)-1-8;let l=class uS{constructor(c){if(!c)this._data=r,this._size=0;else if(c instanceof uS)this._data=c._data.slice(0),this._size=c._size;else if(typeof c=="number")c===0?(this._data=r,this._size=0):(this._data=new Int32Array(c),this._size=0);else{this._data=r,this._size=0;for(let g of c)this.add(g)}}add(c){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=c,this._size++}addAll(c){if(Array.isArray(c))this.ensureCapacity(this._size+c.length),this._data.subarray(this._size,this._size+c.length).set(c),this._size+=c.length;else if(c instanceof uS)this.ensureCapacity(this._size+c._size),this._data.subarray(this._size,this._size+c.size).set(c._data),this._size+=c._size;else{this.ensureCapacity(this._size+c.size);let g=0;for(let p of c)this._data[this._size+g]=p,g++;this._size+=c.size}}get(c){if(c<0||c>=this._size)throw RangeError();return this._data[c]}contains(c){for(let g=0;g<this._size;g++)if(this._data[g]===c)return!0;return!1}set(c,g){if(c<0||c>=this._size)throw RangeError();let p=this._data[c];return this._data[c]=g,p}removeAt(c){let g=this.get(c);return this._data.copyWithin(c,c+1,this._size),this._data[this._size-1]=0,this._size--,g}removeRange(c,g){if(c<0||g<0||c>this._size||g>this._size||c>g)throw RangeError();this._data.copyWithin(g,c,this._size),this._data.fill(0,this._size-(g-c),this._size),this._size-=g-c}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(c){if(c===this)return!0;if(!(c instanceof uS)||this._size!==c._size)return!1;for(let g=0;g<this._size;g++)if(this._data[g]!==c._data[g])return!1;return!0}hashCode(){let c=1;for(let g=0;g<this._size;g++)c=31*c+this._data[g];return c}toString(){return this._data.toString()}binarySearch(c,g,p){if(g===void 0&&(g=0),p===void 0&&(p=this._size),g<0||p<0||g>this._size||p>this._size)throw new RangeError;if(g>p)throw new RangeError;return t.Arrays.binarySearch(this._data,c,g,p)}ensureCapacity(c){if(c<0||c>s)throw new RangeError;let g;for(this._data.length===0?g=i:g=this._data.length;g<c;)g=g*2,(g<0||g>s)&&(g=s);let p=new Int32Array(g);p.set(this._data),this._data=p}toCharArray(){let c=new Uint16Array(this._size),g=0,p=!1;for(let m=0;m<this._size;m++){let x=this._data[m];if(x>=0&&x<65536){c[g]=x,g++;continue}if(!p){let E=new Uint16Array(this.charArraySize());E.set(c,0),c=E,p=!0}let b=String.fromCodePoint(x);c[g]=b.charCodeAt(0),c[g+1]=b.charCodeAt(1),g+=2}return c}charArraySize(){let c=0;for(let g=0;g<this._size;g++)c+=this._data[g]>=65536?2:1;return c}};return e([n.NotNull],l.prototype,"_data",void 0),e([n.Override],l.prototype,"equals",null),e([n.Override],l.prototype,"hashCode",null),e([n.Override],l.prototype,"toString",null),ud.IntegerList=l,ud}var cd={},PI;function Zi(){if(PI)return cd;PI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=cd&&cd.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(cd,"__esModule",{value:!0}),cd.Interval=void 0;const t=Ve(),n=1e3;let r=class zo{constructor(s,l){this.a=s,this.b=l}static get INVALID(){return zo._INVALID}static of(s,l){return s!==l||s<0||s>n?new zo(s,l):(zo.cache[s]==null&&(zo.cache[s]=new zo(s,s)),zo.cache[s])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(s){return s===this?!0:s instanceof zo?this.a===s.a&&this.b===s.b:!1}hashCode(){let s=23;return s=s*31+this.a,s=s*31+this.b,s}startsBeforeDisjoint(s){return this.a<s.a&&this.b<s.a}startsBeforeNonDisjoint(s){return this.a<=s.a&&this.b>=s.a}startsAfter(s){return this.a>s.a}startsAfterDisjoint(s){return this.a>s.b}startsAfterNonDisjoint(s){return this.a>s.a&&this.a<=s.b}disjoint(s){return this.startsBeforeDisjoint(s)||this.startsAfterDisjoint(s)}adjacent(s){return this.a===s.b+1||this.b===s.a-1}properlyContains(s){return s.a>=this.a&&s.b<=this.b}union(s){return zo.of(Math.min(this.a,s.a),Math.max(this.b,s.b))}intersection(s){return zo.of(Math.max(this.a,s.a),Math.min(this.b,s.b))}differenceNotProperlyContained(s){let l;return s.startsBeforeNonDisjoint(this)?l=zo.of(Math.max(this.a,s.b+1),this.b):s.startsAfterNonDisjoint(this)&&(l=zo.of(this.a,s.a-1)),l}toString(){return this.a+".."+this.b}};return r._INVALID=new r(-1,-2),r.cache=new Array(n+1),e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),e([t.Override],r.prototype,"toString",null),cd.Interval=r,cd}var fd={},G0={},Nl={},DC={},LI;function qn(){return LI||(LI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Token=void 0;const t=af();(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=t.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(e.Token||(e.Token={}))}(DC)),DC}var FI;function ay(){if(FI)return Nl;FI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nl&&Nl.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Nl&&Nl.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.CommonToken=void 0;const n=Zi(),r=Ve(),i=qn();let s=class mv{constructor(u,c,g=mv.EMPTY_SOURCE,p=i.Token.DEFAULT_CHANNEL,m=0,x=0){this._line=0,this._charPositionInLine=-1,this._channel=i.Token.DEFAULT_CHANNEL,this.index=-1,this._text=c,this._type=u,this.source=g,this._channel=p,this.start=m,this.stop=x,g.source!=null&&(this._line=g.source.line,this._charPositionInLine=g.source.charPositionInLine)}static fromToken(u){let c=new mv(u.type,void 0,mv.EMPTY_SOURCE,u.channel,u.startIndex,u.stopIndex);return c._line=u.line,c.index=u.tokenIndex,c._charPositionInLine=u.charPositionInLine,u instanceof mv?(c._text=u._text,c.source=u.source):(c._text=u.text,c.source={source:u.tokenSource,stream:u.inputStream}),c}get type(){return this._type}set type(u){this._type=u}get line(){return this._line}set line(u){this._line=u}get text(){if(this._text!=null)return this._text;let u=this.inputStream;if(u==null)return;let c=u.size;return this.start<c&&this.stop<c?u.getText(n.Interval.of(this.start,this.stop)):"<EOF>"}set text(u){this._text=u}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(u){this._charPositionInLine=u}get channel(){return this._channel}set channel(u){this._channel=u}get startIndex(){return this.start}set startIndex(u){this.start=u}get stopIndex(){return this.stop}set stopIndex(u){this.stop=u}get tokenIndex(){return this.index}set tokenIndex(u){this.index=u}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(u){let c="";this._channel>0&&(c=",channel="+this._channel);let g=this.text;g!=null?(g=g.replace(/\n/g,"\\n"),g=g.replace(/\r/g,"\\r"),g=g.replace(/\t/g,"\\t")):g="<no text>";let p=String(this._type);return u&&(p=u.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+g+"',<"+p+">"+c+","+this._line+":"+this.charPositionInLine+"]"}};return s.EMPTY_SOURCE={source:void 0,stream:void 0},e([r.NotNull],s.prototype,"source",void 0),e([r.Override],s.prototype,"type",null),e([r.Override],s.prototype,"line",null),e([r.Override],s.prototype,"text",null),e([r.Override],s.prototype,"charPositionInLine",null),e([r.Override],s.prototype,"channel",null),e([r.Override],s.prototype,"startIndex",null),e([r.Override],s.prototype,"stopIndex",null),e([r.Override],s.prototype,"tokenIndex",null),e([r.Override],s.prototype,"tokenSource",null),e([r.Override],s.prototype,"inputStream",null),e([r.Override],s.prototype,"toString",null),e([t(0,r.NotNull)],s,"fromToken",null),s=e([t(2,r.NotNull)],s),Nl.CommonToken=s,Nl}var kI;function _R(){return kI||(kI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=G0&&G0.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTokenFactory=void 0;const n=ay(),r=Zi(),i=Ve();let s=class{constructor(u=!1){this.copyText=u}create(u,c,g,p,m,x,b,E){let w=new n.CommonToken(c,g,u,p,m,x);return w.line=b,w.charPositionInLine=E,g==null&&this.copyText&&u.stream!=null&&(w.text=u.stream.getText(r.Interval.of(m,x))),w}createSimple(u,c){return new n.CommonToken(u,c)}};t([i.Override],s.prototype,"create",null),t([i.Override],s.prototype,"createSimple",null),e.CommonTokenFactory=s,function(l){l.DEFAULT=new l}(s=e.CommonTokenFactory||(e.CommonTokenFactory={}))}(G0)),G0}var $0={},BI;function Ek(){if(BI)return $0;BI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty($0,"__esModule",{value:!0}),$0.IntegerStack=void 0;const e=NR();let t=class extends e.IntegerList{constructor(r){super(r)}push(r){this.add(r)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};return $0.IntegerStack=t,$0}var dd={},H0={},jI;function Ck(){if(jI)return H0;jI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(H0,"__esModule",{value:!0}),H0.AcceptStateInfo=void 0;let e=class{constructor(n,r){this._prediction=n,this._lexerActionExecutor=r}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};return H0.AcceptStateInfo=e,H0}var hd={},W0={},zI;function Pg(){if(zI)return W0;zI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(W0,"__esModule",{value:!0}),W0.Array2DHashMap=void 0;const e=cf();class t{constructor(i){this.keyComparator=i}hashCode(i){return this.keyComparator.hashCode(i.key)}equals(i,s){return this.keyComparator.equals(i.key,s.key)}}let n=class Zw{constructor(i){i instanceof Zw?this.backingStore=new e.Array2DHashSet(i.backingStore):this.backingStore=new e.Array2DHashSet(new t(i))}clear(){this.backingStore.clear()}containsKey(i){return this.backingStore.contains({key:i})}get(i){let s=this.backingStore.get({key:i});if(s)return s.value}get isEmpty(){return this.backingStore.isEmpty}put(i,s){let l=this.backingStore.get({key:i,value:s}),u;return l?(u=l.value,l.value=s):this.backingStore.add({key:i,value:s}),u}putIfAbsent(i,s){let l=this.backingStore.get({key:i,value:s}),u;return l?u=l.value:this.backingStore.add({key:i,value:s}),u}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(i){return i instanceof Zw?this.backingStore.equals(i.backingStore):!1}};return W0.Array2DHashMap=n,W0}var _l={},pd={},Il={},Y0={},UI;function Th(){if(UI)return Y0;UI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.DecisionState=void 0;const e=Lu();let t=class extends e.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}};return Y0.DecisionState=t,Y0}var gd={},q0={},VI;function IR(){return VI||(VI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=q0&&q0.__decorate||function(c,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(c,g,p,m);else for(var w=c.length-1;w>=0;w--)(E=c[w])&&(b=(x<3?E(b):x>3?E(g,p,b):E(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionContextCache=void 0;const n=Pg(),r=Ve(),i=Ga(),s=Vs(),l=_i();let u=class Jw{constructor(g=!0){this.contexts=new n.Array2DHashMap(i.ObjectEqualityComparator.INSTANCE),this.childContexts=new n.Array2DHashMap(i.ObjectEqualityComparator.INSTANCE),this.joinContexts=new n.Array2DHashMap(i.ObjectEqualityComparator.INSTANCE),this.enableCache=g}getAsCached(g){if(!this.enableCache)return g;let p=this.contexts.get(g);return p||(p=g,this.contexts.put(g,g)),p}getChild(g,p){if(!this.enableCache)return g.getChild(p);let m=new Jw.PredictionContextAndInt(g,p),x=this.childContexts.get(m);return x||(x=g.getChild(p),x=this.getAsCached(x),this.childContexts.put(m,x)),x}join(g,p){if(!this.enableCache)return s.PredictionContext.join(g,p,this);let m=new Jw.IdentityCommutativePredictionContextOperands(g,p),x=this.joinContexts.get(m);return x||(x=s.PredictionContext.join(g,p,this),x=this.getAsCached(x),this.joinContexts.put(m,x),x)}};e.PredictionContextCache=u,u.UNCACHED=new u(!1),function(c){class g{constructor(x,b){this.obj=x,this.value=b}equals(x){if(x instanceof g){if(x===this)return!0}else return!1;let b=x;return this.value===b.value&&(this.obj===b.obj||this.obj!=null&&this.obj.equals(b.obj))}hashCode(){let x=5;return x=7*x+(this.obj!=null?this.obj.hashCode():0),x=7*x+this.value,x}}t([r.Override],g.prototype,"equals",null),t([r.Override],g.prototype,"hashCode",null),c.PredictionContextAndInt=g;class p{constructor(x,b){l(x!=null),l(b!=null),this._x=x,this._y=b}get x(){return this._x}get y(){return this._y}equals(x){if(x instanceof p){if(this===x)return!0}else return!1;let b=x;return this._x===b._x&&this._y===b._y||this._x===b._y&&this._y===b._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}t([r.Override],p.prototype,"equals",null),t([r.Override],p.prototype,"hashCode",null),c.IdentityCommutativePredictionContextOperands=p}(u=e.PredictionContextCache||(e.PredictionContextCache={}))}(q0)),q0}var GI;function Vs(){return GI||(GI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=gd&&gd.__decorate||function(w,C,R,T){var N=arguments.length,D=N<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,R):T,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(w,C,R,T);else for(var B=w.length-1;B>=0;B--)(F=w[B])&&(D=(N<3?F(D):N>3?F(C,R,D):F(C,R))||D);return N>3&&D&&Object.defineProperty(C,R,D),D},n=gd&&gd.__param||function(w,C){return function(R,T){C(R,T,w)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SingletonPredictionContext=e.PredictionContext=void 0;const r=Pg(),i=cf(),s=TR(),l=mr(),u=Ve(),c=IR(),g=_i(),p=1;let m=class mi{constructor(C){this.cachedHashCode=C}static calculateEmptyHashCode(){let C=l.MurmurHash.initialize(p);return C=l.MurmurHash.finish(C,0),C}static calculateSingleHashCode(C,R){let T=l.MurmurHash.initialize(p);return T=l.MurmurHash.update(T,C),T=l.MurmurHash.update(T,R),T=l.MurmurHash.finish(T,2),T}static calculateHashCode(C,R){let T=l.MurmurHash.initialize(p);for(let N of C)T=l.MurmurHash.update(T,N);for(let N of R)T=l.MurmurHash.update(T,N);return T=l.MurmurHash.finish(T,2*C.length),T}static fromRuleContext(C,R,T=!0){if(R.isEmpty)return T?mi.EMPTY_FULL:mi.EMPTY_LOCAL;let N;R._parent?N=mi.fromRuleContext(C,R._parent,T):N=T?mi.EMPTY_FULL:mi.EMPTY_LOCAL;let F=C.states[R.invokingState].transition(0);return N.getChild(F.followState.stateNumber)}static addEmptyContext(C){return C.addEmptyContext()}static removeEmptyContext(C){return C.removeEmptyContext()}static join(C,R,T=c.PredictionContextCache.UNCACHED){if(C===R)return C;if(C.isEmpty)return mi.isEmptyLocal(C)?C:mi.addEmptyContext(R);if(R.isEmpty)return mi.isEmptyLocal(R)?R:mi.addEmptyContext(C);let N=C.size,D=R.size;if(N===1&&D===1&&C.getReturnState(0)===R.getReturnState(0)){let ie=T.join(C.getParent(0),R.getParent(0));return ie===C.getParent(0)?C:ie===R.getParent(0)?R:ie.getChild(C.getReturnState(0))}let F=0,B=new Array(N+D),j=new Array(B.length),k=0,$=0,Z=!0,ne=!0;for(;k<N&&$<D;)C.getReturnState(k)===R.getReturnState($)?(B[F]=T.join(C.getParent(k),R.getParent($)),j[F]=C.getReturnState(k),Z=Z&&B[F]===C.getParent(k),ne=ne&&B[F]===R.getParent($),k++,$++):C.getReturnState(k)<R.getReturnState($)?(B[F]=C.getParent(k),j[F]=C.getReturnState(k),ne=!1,k++):(g(R.getReturnState($)<C.getReturnState(k)),B[F]=R.getParent($),j[F]=R.getReturnState($),Z=!1,$++),F++;for(;k<N;)B[F]=C.getParent(k),j[F]=C.getReturnState(k),k++,ne=!1,F++;for(;$<D;)B[F]=R.getParent($),j[F]=R.getReturnState($),$++,Z=!1,F++;return Z?C:ne?R:(F<B.length&&(B=B.slice(0,F),j=j.slice(0,F)),B.length===0?mi.EMPTY_FULL:B.length===1?new E(B[0],j[0]):new b(B,j))}static isEmptyLocal(C){return C===mi.EMPTY_LOCAL}static getCachedContext(C,R,T){if(C.isEmpty)return C;let N=T.get(C);if(N)return N;if(N=R.get(C),N)return T.put(C,N),N;let D=!1,F=new Array(C.size);for(let j=0;j<F.length;j++){let k=mi.getCachedContext(C.getParent(j),R,T);if(D||k!==C.getParent(j)){if(!D){F=new Array(C.size);for(let $=0;$<C.size;$++)F[$]=C.getParent($);D=!0}F[j]=k}}if(!D)return N=R.putIfAbsent(C,C),T.put(C,N??C),C;let B;if(F.length===1)B=new E(F[0],C.getReturnState(0));else{let j=new Array(C.size);for(let k=0;k<C.size;k++)j[k]=C.getReturnState(k);B=new b(F,j,C.hashCode())}return N=R.putIfAbsent(B,B),T.put(B,N||B),T.put(C,N||B),B}appendSingleContext(C,R){return this.appendContext(mi.EMPTY_FULL.getChild(C),R)}getChild(C){return new E(this,C)}hashCode(){return this.cachedHashCode}toStrings(C,R,T=mi.EMPTY_FULL){let N=[];e:for(let D=0;;D++){let F=0,B=!0,j=this,k=R,$="";for($+="[";!j.isEmpty&&j!==T;){let Z=0;if(j.size>0){let ne=1;for(;1<<ne>>>0<j.size;)ne++;let ie=(1<<ne>>>0)-1;if(Z=D>>F&ie,B=B&&Z>=j.size-1,Z>=j.size)continue e;F+=ne}if(C){$.length>1&&($+=" ");let ie=C.atn.states[k],he=C.ruleNames[ie.ruleIndex];$+=he}else j.getReturnState(Z)!==mi.EMPTY_FULL_STATE_KEY&&(j.isEmpty||($.length>1&&($+=" "),$+=j.getReturnState(Z)));k=j.getReturnState(Z),j=j.getParent(Z)}if($+="]",N.push($),B)break}return N}};t([u.Override],m.prototype,"hashCode",null),t([n(0,u.NotNull),n(1,u.NotNull),n(2,u.NotNull)],m,"join",null),t([n(0,u.NotNull),n(1,u.NotNull),n(2,u.NotNull)],m,"getCachedContext",null),e.PredictionContext=m;class x extends m{constructor(C){super(m.calculateEmptyHashCode()),this.fullContext=C}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(C){throw new Error("index out of bounds")}getReturnState(C){throw new Error("index out of bounds")}findReturnState(C){return-1}get size(){return 0}appendSingleContext(C,R){return R.getChild(this,C)}appendContext(C,R){return C}get isEmpty(){return!0}get hasEmpty(){return!0}equals(C){return this===C}toStrings(C,R,T){return["[]"]}}t([u.Override],x.prototype,"addEmptyContext",null),t([u.Override],x.prototype,"removeEmptyContext",null),t([u.Override],x.prototype,"getParent",null),t([u.Override],x.prototype,"getReturnState",null),t([u.Override],x.prototype,"findReturnState",null),t([u.Override],x.prototype,"size",null),t([u.Override],x.prototype,"appendSingleContext",null),t([u.Override],x.prototype,"appendContext",null),t([u.Override],x.prototype,"isEmpty",null),t([u.Override],x.prototype,"hasEmpty",null),t([u.Override],x.prototype,"equals",null),t([u.Override],x.prototype,"toStrings",null);let b=class sh extends m{constructor(C,R,T){super(T||m.calculateHashCode(C,R)),g(C.length===R.length),g(R.length>1||R[0]!==m.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=C,this.returnStates=R}getParent(C){return this.parents[C]}getReturnState(C){return this.returnStates[C]}findReturnState(C){return s.Arrays.binarySearch(this.returnStates,C)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===m.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let C=this.parents.slice(0),R=this.returnStates.slice(0);return C.push(m.EMPTY_FULL),R.push(m.EMPTY_FULL_STATE_KEY),new sh(C,R)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new E(this.parents[0],this.returnStates[0]);{let C=this.parents.slice(0,this.parents.length-1),R=this.returnStates.slice(0,this.returnStates.length-1);return new sh(C,R)}}appendContext(C,R){return sh.appendContextImpl(this,C,new m.IdentityHashMap)}static appendContextImpl(C,R,T){if(R.isEmpty){if(m.isEmptyLocal(R)){if(C.hasEmpty)return m.EMPTY_LOCAL;throw new Error("what to do here?")}return C}if(R.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let N=T.get(C);if(!N){if(C.isEmpty)N=R;else{let D=C.size;C.hasEmpty&&D--;let F=new Array(D),B=new Array(D);for(let j=0;j<D;j++)B[j]=C.getReturnState(j);for(let j=0;j<D;j++)F[j]=sh.appendContextImpl(C.getParent(j),R,T);F.length===1?N=new E(F[0],B[0]):(g(F.length>1),N=new sh(F,B)),C.hasEmpty&&(N=m.join(N,R))}T.put(C,N)}return N}equals(C){if(this===C)return!0;if(!(C instanceof sh)||this.hashCode()!==C.hashCode())return!1;let R=C;return this.equalsImpl(R,new i.Array2DHashSet)}equalsImpl(C,R){let T=[],N=[];for(T.push(this),N.push(C);;){let D=T.pop(),F=N.pop();if(!D||!F)break;let B=new c.PredictionContextCache.IdentityCommutativePredictionContextOperands(D,F);if(!R.add(B))continue;let j=B.x.size;if(j===0){if(!B.x.equals(B.y))return!1;continue}let k=B.y.size;if(j!==k)return!1;for(let $=0;$<j;$++){if(B.x.getReturnState($)!==B.y.getReturnState($))return!1;let Z=B.x.getParent($),ne=B.y.getParent($);if(Z.hashCode()!==ne.hashCode())return!1;Z!==ne&&(T.push(Z),N.push(ne))}}return!0}};t([u.NotNull],b.prototype,"parents",void 0),t([u.NotNull],b.prototype,"returnStates",void 0),t([u.Override],b.prototype,"getParent",null),t([u.Override],b.prototype,"getReturnState",null),t([u.Override],b.prototype,"findReturnState",null),t([u.Override],b.prototype,"size",null),t([u.Override],b.prototype,"isEmpty",null),t([u.Override],b.prototype,"hasEmpty",null),t([u.Override],b.prototype,"addEmptyContext",null),t([u.Override],b.prototype,"removeEmptyContext",null),t([u.Override],b.prototype,"appendContext",null),t([u.Override],b.prototype,"equals",null),b=t([n(0,u.NotNull)],b);let E=class wk extends m{constructor(C,R){super(m.calculateSingleHashCode(C,R)),this.parent=C,this.returnState=R}getParent(C){return this.parent}getReturnState(C){return this.returnState}findReturnState(C){return this.returnState===C?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(C,R){return R.getChild(this.parent.appendContext(C,R),this.returnState)}addEmptyContext(){let C=[this.parent,m.EMPTY_FULL],R=[this.returnState,m.EMPTY_FULL_STATE_KEY];return new b(C,R)}removeEmptyContext(){return this}equals(C){if(C===this)return!0;if(!(C instanceof wk))return!1;let R=C;return this.hashCode()!==R.hashCode()?!1:this.returnState===R.returnState&&this.parent.equals(R.parent)}};t([u.NotNull],E.prototype,"parent",void 0),t([u.Override],E.prototype,"getParent",null),t([u.Override],E.prototype,"getReturnState",null),t([u.Override],E.prototype,"findReturnState",null),t([u.Override],E.prototype,"size",null),t([u.Override],E.prototype,"isEmpty",null),t([u.Override],E.prototype,"hasEmpty",null),t([u.Override],E.prototype,"appendContext",null),t([u.Override],E.prototype,"addEmptyContext",null),t([u.Override],E.prototype,"removeEmptyContext",null),t([u.Override],E.prototype,"equals",null),E=t([n(0,u.NotNull)],E),e.SingletonPredictionContext=E,function(w){w.EMPTY_LOCAL=new x(!1),w.EMPTY_FULL=new x(!0),w.EMPTY_LOCAL_STATE_KEY=-2147483648,w.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class C extends r.Array2DHashMap{constructor(){super(R.INSTANCE)}}w.IdentityHashMap=C;class R{IdentityEqualityComparator(){}hashCode(N){return N.hashCode()}equals(N,D){return N===D}}R.INSTANCE=new R,t([u.Override],R.prototype,"hashCode",null),t([u.Override],R.prototype,"equals",null),w.IdentityEqualityComparator=R}(m=e.PredictionContext||(e.PredictionContext={}))}(gd)),gd}var $I;function p1(){if($I)return Il;$I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Il&&Il.__decorate||function(w,C,R,T){var N=arguments.length,D=N<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,R):T,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(w,C,R,T);else for(var B=w.length-1;B>=0;B--)(F=w[B])&&(D=(N<3?F(D):N>3?F(C,R,D):F(C,R))||D);return N>3&&D&&Object.defineProperty(C,R,D),D},t=Il&&Il.__param||function(w,C){return function(R,T){C(R,T,w)}};Object.defineProperty(Il,"__esModule",{value:!0}),Il.ATNConfig=void 0;const n=Pg(),r=Th(),i=mr(),s=Ve(),l=Ga(),u=Vs(),c=Mg(),g=_i(),p=2147483648;let m=class vv{constructor(C,R,T){typeof R=="number"?(g((R&16777215)===R),this._state=C,this.altAndOuterContextDepth=R,this._context=T):(this._state=C,this.altAndOuterContextDepth=R.altAndOuterContextDepth,this._context=T)}static create(C,R,T,N=c.SemanticContext.NONE,D){return N!==c.SemanticContext.NONE?D!=null?new E(D,N,C,R,T,!1):new x(N,C,R,T):D!=null?new b(D,C,R,T,!1):new vv(C,R,T)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(C){this._context=C}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(C){g(C>=0),C=Math.min(C,127),this.altAndOuterContextDepth=C<<24|(this.altAndOuterContextDepth&-2130706433)>>>0}get lexerActionExecutor(){}get semanticContext(){return c.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(C,R,T){return T==null?this.transformImpl(C,this._context,this.semanticContext,R,this.lexerActionExecutor):T instanceof u.PredictionContext?this.transformImpl(C,T,this.semanticContext,R,this.lexerActionExecutor):T instanceof c.SemanticContext?this.transformImpl(C,this._context,T,R,this.lexerActionExecutor):this.transformImpl(C,this._context,this.semanticContext,R,T)}transformImpl(C,R,T,N,D){let F=N&&vv.checkNonGreedyDecision(this,C);return T!==c.SemanticContext.NONE?D!=null||F?new E(D,T,C,this,R,F):new x(T,C,this,R):D!=null||F?new b(D,C,this,R,F):new vv(C,this,R)}static checkNonGreedyDecision(C,R){return C.hasPassedThroughNonGreedyDecision||R instanceof r.DecisionState&&R.nonGreedy}appendContext(C,R){if(typeof C=="number"){let T=this.context.appendSingleContext(C,R);return this.transform(this.state,!1,T)}else{let T=this.context.appendContext(C,R);return this.transform(this.state,!1,T)}}contains(C){if(this.state.stateNumber!==C.state.stateNumber||this.alt!==C.alt||!this.semanticContext.equals(C.semanticContext))return!1;let R=[],T=[];for(R.push(this.context),T.push(C.context);;){let N=R.pop(),D=T.pop();if(!N||!D)break;if(N===D)return!0;if(N.size<D.size)return!1;if(D.isEmpty)return N.hasEmpty;for(let F=0;F<D.size;F++){let B=N.findReturnState(D.getReturnState(F));if(B<0)return!1;R.push(N.getParent(B)),T.push(D.getParent(F))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&p)!==0}set isPrecedenceFilterSuppressed(C){C?this.altAndOuterContextDepth|=p:this.altAndOuterContextDepth&=2147483647}equals(C){return this===C?!0:C instanceof vv?this.state.stateNumber===C.state.stateNumber&&this.alt===C.alt&&this.reachesIntoOuterContext===C.reachesIntoOuterContext&&this.context.equals(C.context)&&this.semanticContext.equals(C.semanticContext)&&this.isPrecedenceFilterSuppressed===C.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===C.hasPassedThroughNonGreedyDecision&&l.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,C.lexerActionExecutor):!1}hashCode(){let C=i.MurmurHash.initialize(7);return C=i.MurmurHash.update(C,this.state.stateNumber),C=i.MurmurHash.update(C,this.alt),C=i.MurmurHash.update(C,this.reachesIntoOuterContext?1:0),C=i.MurmurHash.update(C,this.context),C=i.MurmurHash.update(C,this.semanticContext),C=i.MurmurHash.update(C,this.hasPassedThroughNonGreedyDecision?1:0),C=i.MurmurHash.update(C,this.lexerActionExecutor),C=i.MurmurHash.finish(C,7),C}toDotString(){let C="";C+=`digraph G {
`,C+=`rankdir=LR;
`;let R=new n.Array2DHashMap(u.PredictionContext.IdentityEqualityComparator.INSTANCE),T=[];function N(D){let F=R.size,B=R.putIfAbsent(D,F);return B??(T.push(D),F)}for(T.push(this.context),R.put(this.context,0);;){let D=T.pop();if(!D)break;for(let F=0;F<D.size;F++)C+="  s"+N(D),C+="->",C+="s"+N(D.getParent(F)),C+='[label="'+D.getReturnState(F)+`"];
`}return C+=`}
`,C.toString()}toString(C,R,T){T==null&&(T=R!=null),R==null&&(R=!0);let N="",D;T?D=this.context.toStrings(C,this.state.stateNumber):D=["?"];let F=!0;for(let B of D)F?F=!1:N+=", ",N+="(",N+=this.state,R&&(N+=",",N+=this.alt),this.context&&(N+=",",N+=B),this.semanticContext!==c.SemanticContext.NONE&&(N+=",",N+=this.semanticContext),this.reachesIntoOuterContext&&(N+=",up="+this.outerContextDepth),N+=")";return N.toString()}};e([s.NotNull],m.prototype,"_state",void 0),e([s.NotNull],m.prototype,"_context",void 0),e([s.NotNull],m.prototype,"state",null),e([s.NotNull,t(0,s.NotNull)],m.prototype,"context",null),e([s.NotNull],m.prototype,"semanticContext",null),e([s.Override],m.prototype,"clone",null),e([t(0,s.NotNull),t(2,s.NotNull)],m.prototype,"transformImpl",null),e([s.Override],m.prototype,"equals",null),e([s.Override],m.prototype,"hashCode",null),e([t(0,s.NotNull),t(3,s.NotNull)],m,"create",null),m=e([t(0,s.NotNull),t(2,s.NotNull)],m),Il.ATNConfig=m;let x=class extends m{constructor(C,R,T,N){typeof T=="number"?super(R,T,N):super(R,T,N),this._semanticContext=C}get semanticContext(){return this._semanticContext}};e([s.NotNull],x.prototype,"_semanticContext",void 0),e([s.Override],x.prototype,"semanticContext",null),x=e([t(1,s.NotNull),t(2,s.NotNull)],x);let b=class extends m{constructor(C,R,T,N,D){if(typeof T=="number")super(R,T,N);else if(super(R,T,N),T.semanticContext!==c.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=C,this.passedThroughNonGreedyDecision=D}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};e([s.Override],b.prototype,"lexerActionExecutor",null),e([s.Override],b.prototype,"hasPassedThroughNonGreedyDecision",null),b=e([t(1,s.NotNull),t(2,s.NotNull)],b);let E=class extends x{constructor(C,R,T,N,D,F){typeof N=="number"?super(R,T,N,D):super(R,T,N,D),this._lexerActionExecutor=C,this.passedThroughNonGreedyDecision=F}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};return e([s.Override],E.prototype,"lexerActionExecutor",null),e([s.Override],E.prototype,"hasPassedThroughNonGreedyDecision",null),E=e([t(1,s.NotNull),t(2,s.NotNull)],E),Il}var K0={},HI;function ff(){if(HI)return K0;HI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(K0,"__esModule",{value:!0}),K0.BitSet=void 0;const e=mg(),t=mr(),n=new Uint16Array(0);function r(m){return m>>>4}function i(m){return m*16}function s(m){let x=1;for(let b=0;b<16;b++){if((m&x)!==0)return b;x=x<<1>>>0}throw new RangeError("No specified bit found")}function l(m){let x=32768;for(let b=15;b>=0;b--){if((m&x)!==0)return b;x=x>>>1}throw new RangeError("No specified bit found")}function u(m,x){return m&=15,x&=15,m===x?1<<m>>>0:65535>>>15-x^65535>>>16-m}const c=new Uint8Array(65536);for(let m=0;m<16;m++){const x=1<<m>>>0;let b=0;for(;b<c.length;){b+=x;for(let E=0;E<x;E++)c[b]++,b++}}let g=class yv{constructor(x){if(!x)this.data=n;else if(typeof x=="number"){if(x<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(r(x-1)+1)}else if(x instanceof yv)this.data=x.data.slice(0);else{let b=-1;for(let E of x)b<E&&(b=E);this.data=new Uint16Array(r(b-1)+1);for(let E of x)this.set(E)}}and(x){const b=this.data,E=x.data,w=Math.min(b.length,E.length);let C=-1;for(let R=0;R<w;R++)(b[R]&=E[R])!==0&&(C=R);C===-1&&(this.data=n),C<b.length-1&&(this.data=b.slice(0,C+1))}andNot(x){const b=this.data,E=x.data,w=Math.min(b.length,E.length);let C=-1;for(let R=0;R<w;R++)(b[R]&=E[R]^65535)!==0&&(C=R);C===-1&&(this.data=n),C<b.length-1&&(this.data=b.slice(0,C+1))}cardinality(){if(this.isEmpty)return 0;const x=this.data,b=x.length;let E=0;for(let w=0;w<b;w++)E+=c[x[w]];return E}clear(x,b){x==null?this.data.fill(0):b==null?this.set(x,!1):this.set(x,b,!1)}flip(x,b){if(b==null&&(b=x),x<0||b<x)throw new RangeError;let E=r(x);const w=r(b);if(E===w)this.data[E]^=u(x,b);else{for(this.data[E++]^=u(x,15);E<w;)this.data[E++]^=65535;this.data[E++]^=u(0,b)}}get(x,b){if(b===void 0)return!!(this.data[r(x)]&u(x,x));{let E=new yv(b+1);for(let w=x;w<=b;w++)E.set(w,this.get(w));return E}}intersects(x){let b=Math.min(this.length(),x.length());if(b===0)return!1;let E=r(b-1);for(let w=0;w<=E;w++)if((this.data[w]&x.data[w])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(i(this.data.length)-1)+1:0}nextClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let w=r(x);if(w>E)return-1;let C=65535^u(x,15);if((b[w]|C)===65535){for(w++,C=0;w<E&&b[w]===65535;w++);if(w===E)return-1}return i(w)+s((b[w]|C)^65535)}nextSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let w=r(x);if(w>E)return-1;let C=u(x,15);if((b[w]&C)===0){for(w++,C=65535;w<E&&b[w]===0;w++);if(w>=E)return-1}return i(w)+s(b[w]&C)}or(x){const b=this.data,E=x.data,w=Math.min(b.length,E.length),C=Math.max(b.length,E.length),R=b.length===C?b:new Uint16Array(C);let T=-1;for(let D=0;D<w;D++)(R[D]=b[D]|E[D])!==0&&(T=D);const N=b.length>E.length?b:E;for(let D=w;D<C;D++)(R[D]=N[D])!==0&&(T=D);T===-1?this.data=n:R.length===T+1?this.data=R:this.data=R.slice(0,T)}previousClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let w=r(x);w>=E&&(w=E-1);let C=65535^u(0,x);if((b[w]|C)===65535){for(C=0,w--;w>=0&&b[w]===65535;w--);if(w<0)return-1}return i(w)+l((b[w]|C)^65535)}previousSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let w=r(x);w>=E&&(w=E-1);let C=u(0,x);if((b[w]&C)===0){for(w--,C=65535;w>=0&&b[w]===0;w--);if(w<0)return-1}return i(w)+l(b[w]&C)}set(x,b,E){if(b===void 0?(b=x,E=!0):typeof b=="boolean"&&(E=b,b=x),E===void 0&&(E=!0),x<0||x>b)throw new RangeError;let w=r(x),C=r(b);if(E&&C>=this.data.length){let R=new Uint16Array(C+1);this.data.forEach((T,N)=>R[N]=T),this.data=R}else if(!E){if(w>=this.data.length)return;C>=this.data.length&&(C=this.data.length-1,b=this.data.length*16-1)}if(w===C)this._setBits(w,E,u(x,b));else{for(this._setBits(w++,E,u(x,15));w<C;)this.data[w++]=E?65535:0;this._setBits(w,E,u(0,b))}}_setBits(x,b,E){b?this.data[x]|=E:this.data[x]&=65535^E}get size(){return this.data.byteLength*8}hashCode(){return t.MurmurHash.hashCode(this.data,22)}equals(x){if(x===this)return!0;if(!(x instanceof yv))return!1;const b=this.length();if(b!==x.length())return!1;if(b===0)return!0;let E=r(b-1);for(let w=0;w<=E;w++)if(this.data[w]!==x.data[w])return!1;return!0}toString(){let x="{",b=!0;for(let E=this.nextSetBit(0);E>=0;E=this.nextSetBit(E+1))b?b=!1:x+=", ",x+=E;return x+="}",x}xor(x){const b=this.data,E=x.data,w=Math.min(b.length,E.length),C=Math.max(b.length,E.length),R=b.length===C?b:new Uint16Array(C);let T=-1;for(let D=0;D<w;D++)(R[D]=b[D]^E[D])!==0&&(T=D);const N=b.length>E.length?b:E;for(let D=w;D<C;D++)(R[D]=N[D])!==0&&(T=D);T===-1?this.data=n:R.length===T+1?this.data=R:this.data=R.slice(0,T+1)}clone(){return new yv(this)}[Symbol.iterator](){return new p(this.data)}[e.inspect.custom](){return"BitSet "+this.toString()}};K0.BitSet=g;class p{constructor(x){this.data=x,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const x=this.data[this.index]&this.mask;if(x!==0){const b=i(this.index)+s(x);return this.mask=u(b+1,15),{done:!1,value:b}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}return K0}var WI;function ly(){if(WI)return pd;WI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pd&&pd.__decorate||function(R,T,N,D){var F=arguments.length,B=F<3?T:D===null?D=Object.getOwnPropertyDescriptor(T,N):D,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(R,T,N,D);else for(var k=R.length-1;k>=0;k--)(j=R[k])&&(B=(F<3?j(B):F>3?j(T,N,B):j(T,N))||B);return F>3&&B&&Object.defineProperty(T,N,B),B};Object.defineProperty(pd,"__esModule",{value:!0}),pd.ATNConfigSet=void 0;const t=Pg(),n=cf(),r=f1(),i=$a(),s=p1(),l=ff(),u=Ve(),c=Ga(),g=Vs(),p=IR(),m=Mg(),x=_i(),b=Fu();class E{hashCode(T){return T.state^T.alt}equals(T,N){return T.state===N.state&&T.alt===N.alt}}E.INSTANCE=new E;function w(R){return R?new t.Array2DHashMap(R):new t.Array2DHashMap(E.INSTANCE)}let C=class Qw{constructor(T,N){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,T?(N?(this.mergedConfigs=void 0,this.unmerged=void 0):T.isReadOnly?(this.mergedConfigs=w(),this.unmerged=[]):(this.mergedConfigs=w(T.mergedConfigs),this.unmerged=T.unmerged.slice(0)),this.configs=T.configs.slice(0),this._dipsIntoOuterContext=T._dipsIntoOuterContext,this._hasSemanticContext=T._hasSemanticContext,this.outermostConfigSet=T.outermostConfigSet,(N||!T.isReadOnly)&&(this._uniqueAlt=T._uniqueAlt,this._conflictInfo=T._conflictInfo)):(this.mergedConfigs=w(),this.unmerged=[],this.configs=[],this._uniqueAlt=i.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let T=new l.BitSet;for(let N of this)T.set(N.alt);return T}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(T){if(this.outermostConfigSet&&!T)throw new Error("IllegalStateException");x(!T||!this._dipsIntoOuterContext),this.outermostConfigSet=T}getStates(){let T=new n.Array2DHashSet(c.ObjectEqualityComparator.INSTANCE);for(let N of this.configs)T.add(N.state);return T}optimizeConfigs(T){if(this.configs.length!==0)for(let N of this.configs)N.context=T.atn.getCachedContext(N.context)}clone(T){let N=new Qw(this,T);return!T&&this.isReadOnly&&N.addAll(this.configs),N}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(T){if(!(T instanceof s.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let N=T,D=this.getKey(N),F=this.mergedConfigs.get(D);if(F!=null&&this.canMerge(N,D,F))return F.contains(N);for(let B of this.unmerged)if(B.contains(T))return!0}else for(let N of this.configs)if(N.contains(T))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(T,N){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");x(!this.outermostConfigSet||!T.reachesIntoOuterContext),N==null&&(N=p.PredictionContextCache.UNCACHED);let D,F=this.getKey(T),B=this.mergedConfigs.get(F);if(D=B==null,B!=null&&this.canMerge(T,F,B)){B.outerContextDepth=Math.max(B.outerContextDepth,T.outerContextDepth),T.isPrecedenceFilterSuppressed&&(B.isPrecedenceFilterSuppressed=!0);let j=g.PredictionContext.join(B.context,T.context,N);return this.updatePropertiesForMergedConfig(T),B.context===j?!1:(B.context=j,!0)}for(let j=0;j<this.unmerged.length;j++){let k=this.unmerged[j];if(this.canMerge(T,F,k)){k.outerContextDepth=Math.max(k.outerContextDepth,T.outerContextDepth),T.isPrecedenceFilterSuppressed&&(k.isPrecedenceFilterSuppressed=!0);let $=g.PredictionContext.join(k.context,T.context,N);return this.updatePropertiesForMergedConfig(T),k.context===$?!1:(k.context=$,D&&(this.mergedConfigs.put(F,k),this.unmerged.splice(j,1)),!0)}}return this.configs.push(T),D?this.mergedConfigs.put(F,T):this.unmerged.push(T),this.updatePropertiesForAddedConfig(T),!0}updatePropertiesForMergedConfig(T){this._dipsIntoOuterContext=this._dipsIntoOuterContext||T.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(T){this.configs.length===1?this._uniqueAlt=T.alt:this._uniqueAlt!==T.alt&&(this._uniqueAlt=i.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!m.SemanticContext.NONE.equals(T.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||T.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(T,N,D){return T.state.stateNumber!==D.state.stateNumber||N.alt!==D.alt?!1:T.semanticContext.equals(D.semanticContext)}getKey(T){return{state:T.state.stateNumber,alt:T.alt}}containsAll(T){for(let N of T)if(!(N instanceof s.ATNConfig)||!this.contains(N))return!1;return!0}addAll(T,N){this.ensureWritable();let D=!1;for(let F of T)this.add(F,N)&&(D=!0);return D}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=i.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(T){return this===T?!0:T instanceof Qw?this.outermostConfigSet===T.outermostConfigSet&&b.equals(this._conflictInfo,T._conflictInfo)&&r.ArrayEqualityComparator.INSTANCE.equals(this.configs,T.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let T=1;return T=5*T^(this.outermostConfigSet?1:0),T=5*T^r.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=T),T}toString(T){T==null&&(T=!1);let N="",D=this.configs.slice(0);D.sort((F,B)=>F.alt!==B.alt?F.alt-B.alt:F.state.stateNumber!==B.state.stateNumber?F.state.stateNumber-B.state.stateNumber:F.semanticContext.toString().localeCompare(B.semanticContext.toString())),N+="[";for(let F=0;F<D.length;F++)F>0&&(N+=", "),N+=D[F].toString(void 0,!0,T);return N+="]",this._hasSemanticContext&&(N+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==i.ATN.INVALID_ALT_NUMBER&&(N+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(N+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(N+="*")),this._dipsIntoOuterContext&&(N+=",dipsIntoOuterContext"),N.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(T){this.ensureWritable(),this._hasSemanticContext=T}get conflictInfo(){return this._conflictInfo}set conflictInfo(T){this.ensureWritable(),this._conflictInfo=T}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(T){return this.configs[T]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};return e([u.NotNull],C.prototype,"getRepresentedAlternatives",null),e([u.Override],C.prototype,"size",null),e([u.Override],C.prototype,"isEmpty",null),e([u.Override],C.prototype,"contains",null),e([u.Override],C.prototype,Symbol.iterator,null),e([u.Override],C.prototype,"toArray",null),e([u.Override],C.prototype,"containsAll",null),e([u.Override],C.prototype,"clear",null),e([u.Override],C.prototype,"equals",null),e([u.Override],C.prototype,"hashCode",null),pd.ATNConfigSet=C,pd}var md={},vd={},yd={},YI;function g1(){return YI||(YI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=yd&&yd.__decorate||function(p,m,x,b){var E=arguments.length,w=E<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,m,x,b);else for(var R=p.length-1;R>=0;R--)(C=p[R])&&(w=(E<3?C(w):E>3?C(m,x,w):C(m,x))||w);return E>3&&w&&Object.defineProperty(m,x,w),w},n=yd&&yd.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DFAState=void 0;const r=$a(),i=ff(),s=mr(),l=Ve(),u=Vs(),c=_i();let g=class Rk{constructor(m){this.stateNumber=-1,this.configs=m,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(m){return this.isContextSensitive?this.contextSymbols.get(m):!1}setContextSymbol(m){c(this.isContextSensitive),this.contextSymbols.set(m)}setContextSensitive(m){c(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new i.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(m){this._acceptStateInfo=m}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:r.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(m){return this.edges.get(m)}setTarget(m,x){this.edges.set(m,x)}getEdgeMap(){return this.edges}getContextTarget(m){return m===u.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.get(m)}setContextTarget(m,x){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");m===u.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.set(m,x)}getContextEdgeMap(){let m=new Map(this.contextEdges),x=m.get(-1);if(x!==void 0)if(m.size===1){let b=new Map;return b.set(u.PredictionContext.EMPTY_FULL_STATE_KEY,x),b}else m.delete(-1),m.set(u.PredictionContext.EMPTY_FULL_STATE_KEY,x);return m}hashCode(){let m=s.MurmurHash.initialize(7);return m=s.MurmurHash.update(m,this.configs.hashCode()),m=s.MurmurHash.finish(m,1),m}equals(m){if(this===m)return!0;if(!(m instanceof Rk))return!1;let x=m;return this.configs.equals(x.configs)}toString(){let m="";return m+=this.stateNumber+":"+this.configs,this.isAcceptState&&(m+="=>",this.predicates?m+=this.predicates:m+=this.prediction),m.toString()}};t([l.NotNull],g.prototype,"configs",void 0),t([l.NotNull],g.prototype,"edges",void 0),t([l.NotNull],g.prototype,"contextEdges",void 0),t([l.Override],g.prototype,"hashCode",null),t([l.Override],g.prototype,"equals",null),t([l.Override],g.prototype,"toString",null),e.DFAState=g,function(p){let m=class{constructor(b,E){this.alt=E,this.pred=b}toString(){return"("+this.pred+", "+this.alt+")"}};t([l.NotNull],m.prototype,"pred",void 0),t([l.Override],m.prototype,"toString",null),m=t([n(0,l.NotNull)],m),p.PredPrediction=m}(g=e.DFAState||(e.DFAState={}))}(yd)),yd}var qI;function m1(){return qI||(qI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=vd&&vd.__decorate||function(c,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(c,g,p,m);else for(var w=c.length-1;w>=0;w--)(E=c[w])&&(b=(x<3?E(b):x>3?E(g,p,b):E(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},n=vd&&vd.__param||function(c,g){return function(p,m){g(p,m,c)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNSimulator=void 0;const r=ly(),i=g1(),s=Ve(),l=Vs();let u=class xv{constructor(g){this.atn=g}static get ERROR(){return xv._ERROR||(xv._ERROR=new i.DFAState(new r.ATNConfigSet),xv._ERROR.stateNumber=l.PredictionContext.EMPTY_FULL_STATE_KEY),xv._ERROR}clearDFA(){this.atn.clearDFA()}};t([s.NotNull],u.prototype,"atn",void 0),t([s.NotNull],u,"ERROR",null),u=t([n(0,s.NotNull)],u),e.ATNSimulator=u,u=e.ATNSimulator||(e.ATNSimulator={}),e.ATNSimulator=u}(vd)),vd}var Ol={},X0={},KI;function Tk(){if(KI)return X0;KI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(X0,"__esModule",{value:!0}),X0.ConsoleErrorListener=void 0;let e=class{syntaxError(n,r,i,s,l,u){console.error(`line ${i}:${s} ${l}`)}};return X0.ConsoleErrorListener=e,e.INSTANCE=new e,X0}var Dl={},XI;function OR(){if(XI)return Dl;XI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dl&&Dl.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g},t=Dl&&Dl.__param||function(i,s){return function(l,u){s(l,u,i)}};Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.ProxyErrorListener=void 0;const n=Ve();let r=class{constructor(s){if(this.delegates=s,!s)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(s,l,u,c,g,p){this.delegates.forEach(m=>{m.syntaxError&&m.syntaxError(s,l,u,c,g,p)})}};return e([n.Override,t(0,n.NotNull),t(4,n.NotNull)],r.prototype,"syntaxError",null),Dl.ProxyErrorListener=r,Dl}var ZI;function uy(){if(ZI)return Ol;ZI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ol&&Ol.__decorate||function(c,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(c,g,p,m);else for(var w=c.length-1;w>=0;w--)(E=c[w])&&(b=(x<3?E(b):x>3?E(g,p,b):E(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},t=Ol&&Ol.__param||function(c,g){return function(p,m){g(p,m,c)}};Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.Recognizer=void 0;const n=Tk(),r=OR(),i=Ve(),s=qn(),l=Fu();let u=class bv{constructor(){this._listeners=[n.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let g=this.vocabulary,p=bv.tokenTypeMapCache.get(g);if(p==null){let m=new Map;for(let x=0;x<=this.atn.maxTokenType;x++){let b=g.getLiteralName(x);b!=null&&m.set(b,x);let E=g.getSymbolicName(x);E!=null&&m.set(E,x)}m.set("EOF",s.Token.EOF),p=m,bv.tokenTypeMapCache.set(g,p)}return p}getRuleIndexMap(){let g=this.ruleNames;if(g==null)throw new Error("The current recognizer does not provide a list of rule names.");let p=bv.ruleIndexMapCache.get(g);return p==null&&(p=l.toMap(g),bv.ruleIndexMapCache.set(g,p)),p}getTokenType(g){let p=this.getTokenTypeMap().get(g);return p??s.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(g){this._interp=g}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(g){let p=g.getOffendingToken();if(!p)return"";let m=p.line,x=p.charPositionInLine;return"line "+m+":"+x}addErrorListener(g){if(!g)throw new TypeError("listener must not be null");this._listeners.push(g)}removeErrorListener(g){let p=this._listeners.indexOf(g);p!==-1&&this._listeners.splice(p,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new r.ProxyErrorListener(this.getErrorListeners())}sempred(g,p,m){return!0}precpred(g,p){return!0}action(g,p,m){}get state(){return this._stateNumber}set state(g){this._stateNumber=g}};return u.EOF=-1,u.tokenTypeMapCache=new WeakMap,u.ruleIndexMapCache=new WeakMap,e([i.SuppressWarnings("serial"),i.NotNull],u.prototype,"_listeners",void 0),e([i.NotNull],u.prototype,"getTokenTypeMap",null),e([i.NotNull],u.prototype,"getRuleIndexMap",null),e([i.NotNull],u.prototype,"serializedATN",null),e([i.NotNull],u.prototype,"atn",null),e([i.NotNull,t(0,i.NotNull)],u.prototype,"interpreter",null),e([i.NotNull,t(0,i.NotNull)],u.prototype,"getErrorHeader",null),e([t(0,i.NotNull)],u.prototype,"addErrorListener",null),e([t(0,i.NotNull)],u.prototype,"removeErrorListener",null),e([i.NotNull],u.prototype,"getErrorListeners",null),Ol.Recognizer=u,Ol}var xd={},JI;function Nh(){if(JI)return xd;JI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xd&&xd.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(xd,"__esModule",{value:!0}),xd.VocabularyImpl=void 0;const t=Ve(),n=qn();let r=class{constructor(s,l,u){this.literalNames=s,this.symbolicNames=l,this.displayNames=u,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(s){if(s>=0&&s<this.literalNames.length)return this.literalNames[s]}getSymbolicName(s){if(s>=0&&s<this.symbolicNames.length)return this.symbolicNames[s];if(s===n.Token.EOF)return"EOF"}getDisplayName(s){if(s>=0&&s<this.displayNames.length){let c=this.displayNames[s];if(c)return c}let l=this.getLiteralName(s);if(l)return l;let u=this.getSymbolicName(s);return u||String(s)}};return r.EMPTY_VOCABULARY=new r([],[],[]),e([t.NotNull],r.prototype,"literalNames",void 0),e([t.NotNull],r.prototype,"symbolicNames",void 0),e([t.NotNull],r.prototype,"displayNames",void 0),e([t.Override],r.prototype,"maxTokenType",null),e([t.Override],r.prototype,"getLiteralName",null),e([t.Override],r.prototype,"getSymbolicName",null),e([t.Override,t.NotNull],r.prototype,"getDisplayName",null),e([t.NotNull],r,"EMPTY_VOCABULARY",void 0),xd.VocabularyImpl=r,xd}var QI;function Nk(){if(QI)return md;QI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=md&&md.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x};Object.defineProperty(md,"__esModule",{value:!0}),md.DFASerializer=void 0;const t=m1(),n=Ve(),r=Vs(),i=uy(),s=Nh();let l=class{constructor(c,g,p,m){g instanceof i.Recognizer?(p=g.ruleNames,m=g.atn,g=g.vocabulary):g||(g=s.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=c,this.vocabulary=g,this.ruleNames=p,this.atn=m}toString(){if(!this.dfa.s0)return"";let c="";if(this.dfa.states){let p=new Array(...this.dfa.states.toArray());p.sort((m,x)=>m.stateNumber-x.stateNumber);for(let m of p){let x=m.getEdgeMap(),b=[...x.keys()].sort((C,R)=>C-R),E=m.getContextEdgeMap(),w=[...E.keys()].sort((C,R)=>C-R);for(let C of b){let R=x.get(C);if((R==null||R===t.ATNSimulator.ERROR)&&!m.isContextSymbol(C))continue;let T=!1;c+=this.getStateString(m)+"-"+this.getEdgeLabel(C)+"->",m.isContextSymbol(C)&&(c+="!",T=!0);let N=R;N&&N.stateNumber!==t.ATNSimulator.ERROR.stateNumber?c+=this.getStateString(N)+`
`:T&&(c+=`ctx
`)}if(m.isContextSensitive)for(let C of w)c+=this.getStateString(m)+"-"+this.getContextLabel(C)+"->"+this.getStateString(E.get(C))+`
`}}let g=c;return g.length===0?"":g}getContextLabel(c){if(c===r.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(c===r.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&c>0&&c<=this.atn.states.length){let p=this.atn.states[c].ruleIndex;if(this.ruleNames&&p>=0&&p<this.ruleNames.length)return"ctx:"+String(c)+"("+this.ruleNames[p]+")"}return"ctx:"+String(c)}getEdgeLabel(c){return this.vocabulary.getDisplayName(c)}getStateString(c){if(c===t.ATNSimulator.ERROR)return"ERROR";let g=c.stateNumber,p="s"+g;if(c.isAcceptState&&(c.predicates?p=":s"+g+"=>"+c.predicates:p=":s"+g+"=>"+c.prediction),c.isContextSensitive){p+="*";for(let m of c.configs)if(m.reachesIntoOuterContext){p+="*";break}}return p}};return e([n.NotNull],l.prototype,"dfa",void 0),e([n.NotNull],l.prototype,"vocabulary",void 0),e([n.Override],l.prototype,"toString",null),md.DFASerializer=l,md}var Ml={},eO;function lY(){if(eO)return Ml;eO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ml&&Ml.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Ml&&Ml.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.LexerDFASerializer=void 0;const n=Nk(),r=Ve(),i=Nh();let s=class extends n.DFASerializer{constructor(u){super(u,i.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(u){return"'"+String.fromCodePoint(u)+"'"}};return e([r.Override,r.NotNull],s.prototype,"getEdgeLabel",null),s=e([t(0,r.NotNull)],s),Ml.LexerDFASerializer=s,Ml}var bd={},tO;function DR(){if(tO)return bd;tO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bd&&bd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(bd,"__esModule",{value:!0}),bd.StarLoopEntryState=void 0;const t=ti(),n=ff(),r=Th(),i=Ve();let s=class extends r.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new n.BitSet}get stateType(){return t.ATNStateType.STAR_LOOP_ENTRY}};return e([i.Override],s.prototype,"stateType",null),bd.StarLoopEntryState=s,bd}var nO;function _k(){if(nO)return _l;nO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_l&&_l.__decorate||function(x,b,E,w){var C=arguments.length,R=C<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,E):w,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,E,w);else for(var N=x.length-1;N>=0;N--)(T=x[N])&&(R=(C<3?T(R):C>3?T(b,E,R):T(b,E))||R);return C>3&&R&&Object.defineProperty(b,E,R),R},t=_l&&_l.__param||function(x,b){return function(E,w){b(E,w,x)}};Object.defineProperty(_l,"__esModule",{value:!0}),_l.DFA=void 0;const n=cf(),r=ly(),i=Nk(),s=g1(),l=lY(),u=Ve(),c=Ga(),g=DR(),p=Nh();let m=class{constructor(b,E=0){if(this.states=new n.Array2DHashSet(c.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!b.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=b,this.atn=b.atn,this.decision=E;let w=!1;b instanceof g.StarLoopEntryState&&b.precedenceRuleDecision&&(w=!0,this.s0=new s.DFAState(new r.ATNConfigSet),this.s0full=new s.DFAState(new r.ATNConfigSet)),this.precedenceDfa=w}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(b,E){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return E?this.s0full.getTarget(b):this.s0.getTarget(b)}setPrecedenceStartState(b,E,w){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");b<0||(E?this.s0full.setTarget(b,w):this.s0.setTarget(b,w))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(b){return b.stateNumber=this.nextStateNumber++,this.states.getOrAdd(b)}toString(b,E){if(b||(b=p.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let w;return E?w=new i.DFASerializer(this,b,E,this.atnStartState.atn):w=new i.DFASerializer(this,b),w.toString()}toLexerString(){return this.s0?new l.LexerDFASerializer(this).toString():""}};return e([u.NotNull],m.prototype,"states",void 0),e([u.NotNull],m.prototype,"atnStartState",void 0),e([u.NotNull],m.prototype,"atn",void 0),m=e([t(0,u.NotNull)],m),_l.DFA=m,_l}var Sd={},Ad={},rO;function Ik(){if(rO)return Ad;rO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ad&&Ad.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.BasicState=void 0;const t=Lu(),n=ti(),r=Ve();let i=class extends t.ATNState{get stateType(){return n.ATNStateType.BASIC}};return e([r.Override],i.prototype,"stateType",null),Ad.BasicState=i,Ad}var iO;function Ok(){if(iO)return Sd;iO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sd&&Sd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.InvalidState=void 0;const t=ti(),n=Ik(),r=Ve();let i=class extends n.BasicState{get stateType(){return t.ATNStateType.INVALID_TYPE}};return e([r.Override],i.prototype,"stateType",null),Sd.InvalidState=i,Sd}var Pl={},Ll={},Fl={},oO;function MR(){if(oO)return Fl;oO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Fl&&Fl.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x},t=Fl&&Fl.__param||function(u,c){return function(g,p){c(g,p,u)}};Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.SetTransition=void 0;const n=_h(),r=Ve(),i=qn(),s=uf();let l=class extends s.Transition{constructor(c,g){super(c),g==null&&(g=n.IntervalSet.of(i.Token.INVALID_TYPE)),this.set=g}get serializationType(){return 7}get label(){return this.set}matches(c,g,p){return this.set.contains(c)}toString(){return this.set.toString()}};return e([r.NotNull],l.prototype,"set",void 0),e([r.Override],l.prototype,"serializationType",null),e([r.Override,r.NotNull],l.prototype,"label",null),e([r.Override],l.prototype,"matches",null),e([r.Override,r.NotNull],l.prototype,"toString",null),l=e([t(0,r.NotNull),t(1,r.Nullable)],l),Fl.SetTransition=l,Fl}var sO;function PR(){if(sO)return Ll;sO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ll&&Ll.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Ll&&Ll.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.NotSetTransition=void 0;const n=Ve(),r=MR();let i=class extends r.SetTransition{constructor(l,u){super(l,u)}get serializationType(){return 8}matches(l,u,c){return l>=u&&l<=c&&!super.matches(l,u,c)}toString(){return"~"+super.toString()}};return e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"matches",null),e([n.Override],i.prototype,"toString",null),i=e([t(0,n.NotNull),t(1,n.Nullable)],i),Ll.NotSetTransition=i,Ll}var Ed={},aO;function cy(){if(aO)return Ed;aO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ed&&Ed.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.RuleStopState=void 0;const t=Lu(),n=ti(),r=Ve();let i=class extends t.ATNState{get nonStopStateNumber(){return-1}get stateType(){return n.ATNStateType.RULE_STOP}};return e([r.Override],i.prototype,"nonStopStateNumber",null),e([r.Override],i.prototype,"stateType",null),Ed.RuleStopState=i,Ed}var kl={},lO;function LR(){if(lO)return kl;lO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kl&&kl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=kl&&kl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(kl,"__esModule",{value:!0}),kl.RuleTransition=void 0;const n=Ve(),r=uf();let i=class extends r.Transition{constructor(l,u,c,g){super(l),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=u,this.precedence=c,this.followState=g}get serializationType(){return 3}get isEpsilon(){return!0}matches(l,u,c){return!1}};return e([n.NotNull],i.prototype,"followState",void 0),e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"isEpsilon",null),e([n.Override],i.prototype,"matches",null),i=e([t(0,n.NotNull),t(3,n.NotNull)],i),kl.RuleTransition=i,kl}var Bl={},uO;function Dk(){if(uO)return Bl;uO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bl&&Bl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Bl&&Bl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.WildcardTransition=void 0;const n=Ve(),r=uf();let i=class extends r.Transition{constructor(l){super(l)}get serializationType(){return 9}matches(l,u,c){return l>=u&&l<=c}toString(){return"."}};return e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"matches",null),e([n.Override,n.NotNull],i.prototype,"toString",null),i=e([t(0,n.NotNull)],i),Bl.WildcardTransition=i,Bl}var cO;function uY(){if(cO)return Pl;cO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pl&&Pl.__decorate||function(C,R,T,N){var D=arguments.length,F=D<3?R:N===null?N=Object.getOwnPropertyDescriptor(R,T):N,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(C,R,T,N);else for(var j=C.length-1;j>=0;j--)(B=C[j])&&(F=(D<3?B(F):D>3?B(R,T,F):B(R,T))||F);return D>3&&F&&Object.defineProperty(R,T,F),F},t=Pl&&Pl.__param||function(C,R){return function(T,N){R(T,N,C)}};Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.LL1Analyzer=void 0;const n=RR(),r=cf(),i=p1(),s=ff(),l=_h(),u=Ve(),c=PR(),g=Ga(),p=Vs(),m=cy(),x=LR(),b=qn(),E=Dk();let w=class e2{constructor(R){this.atn=R}getDecisionLookahead(R){if(R==null)return;let T=new Array(R.numberOfTransitions);for(let N=0;N<R.numberOfTransitions;N++){let D=new l.IntervalSet;T[N]=D;let F=new r.Array2DHashSet(g.ObjectEqualityComparator.INSTANCE);this._LOOK(R.transition(N).target,void 0,p.PredictionContext.EMPTY_LOCAL,D,F,new s.BitSet,!1,!1),(D.size===0||D.contains(e2.HIT_PRED))&&(D=void 0,T[N]=D)}return T}LOOK(R,T,N){if(N===void 0){if(R.atn==null)throw new Error("Illegal state");N=R.atn.ruleToStopState[R.ruleIndex]}else N===null&&(N=void 0);let D=new l.IntervalSet;return this._LOOK(R,N,T,D,new r.Array2DHashSet,new s.BitSet,!0,!0),D}_LOOK(R,T,N,D,F,B,j,k){let $=i.ATNConfig.create(R,0,N);if(!F.add($))return;if(R===T){if(p.PredictionContext.isEmptyLocal(N)){D.add(b.Token.EPSILON);return}else if(N.isEmpty){k&&D.add(b.Token.EOF);return}}if(R instanceof m.RuleStopState){if(N.isEmpty&&!p.PredictionContext.isEmptyLocal(N)){k&&D.add(b.Token.EOF);return}let ne=B.get(R.ruleIndex);try{B.clear(R.ruleIndex);for(let ie=0;ie<N.size;ie++){if(N.getReturnState(ie)===p.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let he=this.atn.states[N.getReturnState(ie)];this._LOOK(he,T,N.getParent(ie),D,F,B,j,k)}}finally{ne&&B.set(R.ruleIndex)}}let Z=R.numberOfTransitions;for(let ne=0;ne<Z;ne++){let ie=R.transition(ne);if(ie instanceof x.RuleTransition){if(B.get(ie.ruleIndex))continue;let he=N.getChild(ie.followState.stateNumber);try{B.set(ie.ruleIndex),this._LOOK(ie.target,T,he,D,F,B,j,k)}finally{B.clear(ie.ruleIndex)}}else if(ie instanceof n.AbstractPredicateTransition)j?this._LOOK(ie.target,T,N,D,F,B,j,k):D.add(e2.HIT_PRED);else if(ie.isEpsilon)this._LOOK(ie.target,T,N,D,F,B,j,k);else if(ie instanceof E.WildcardTransition)D.addAll(l.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let he=ie.label;he!=null&&(ie instanceof c.NotSetTransition&&(he=he.complement(l.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),D.addAll(he))}}}};return w.HIT_PRED=b.Token.INVALID_TYPE,e([u.NotNull],w.prototype,"atn",void 0),e([u.NotNull,t(0,u.NotNull),t(1,u.NotNull)],w.prototype,"LOOK",null),e([t(0,u.NotNull),t(2,u.NotNull),t(3,u.NotNull),t(4,u.NotNull),t(5,u.NotNull)],w.prototype,"_LOOK",null),w=e([t(0,u.NotNull)],w),Pl.LL1Analyzer=w,Pl}var fO;function $a(){return fO||(fO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=hd&&hd.__decorate||function(E,w,C,R){var T=arguments.length,N=T<3?w:R===null?R=Object.getOwnPropertyDescriptor(w,C):R,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(E,w,C,R);else for(var F=E.length-1;F>=0;F--)(D=E[F])&&(N=(T<3?D(N):T>3?D(w,C,N):D(w,C))||N);return T>3&&N&&Object.defineProperty(w,C,N),N},n=hd&&hd.__param||function(E,w){return function(C,R){w(C,R,E)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATN=void 0;const r=Pg(),i=_k(),s=_h(),l=Ok(),u=uY(),c=Ve(),g=Ga(),p=Vs(),m=qn(),x=_i();let b=class{constructor(w,C){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new r.Array2DHashMap(g.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=w,this.maxTokenType=C}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let w=0;w<this.decisionToDFA.length;w++)this.decisionToDFA[w]=new i.DFA(this.decisionToState[w],w);this.modeToDFA=new Array(this.modeToStartState.length);for(let w=0;w<this.modeToDFA.length;w++)this.modeToDFA[w]=new i.DFA(this.modeToStartState[w]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(w){return p.PredictionContext.getCachedContext(w,this.contextCache,new p.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return x(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(w,C){return C?new u.LL1Analyzer(this).LOOK(w,C):(w.nextTokenWithinRule||(w.nextTokenWithinRule=this.nextTokens(w,p.PredictionContext.EMPTY_LOCAL),w.nextTokenWithinRule.setReadonly(!0)),w.nextTokenWithinRule)}addState(w){w.atn=this,w.stateNumber=this.states.length,this.states.push(w)}removeState(w){let C=new l.InvalidState;C.atn=this,C.stateNumber=w.stateNumber,this.states[w.stateNumber]=C}defineMode(w,C){this.modeNameToStartState.set(w,C),this.modeToStartState.push(C),this.modeToDFA.push(new i.DFA(C)),this.defineDecisionState(C)}defineDecisionState(w){return this.decisionToState.push(w),w.decision=this.decisionToState.length-1,this.decisionToDFA.push(new i.DFA(w,w.decision)),w.decision}getDecisionState(w){if(this.decisionToState.length>0)return this.decisionToState[w]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(w,C){if(w<0||w>=this.states.length)throw new RangeError("Invalid state number.");let R=C,T=this.states[w],N=this.nextTokens(T);if(!N.contains(m.Token.EPSILON))return N;let D=new s.IntervalSet;for(D.addAll(N),D.remove(m.Token.EPSILON);R!=null&&R.invokingState>=0&&N.contains(m.Token.EPSILON);){let B=this.states[R.invokingState].transition(0);N=this.nextTokens(B.followState),D.addAll(N),D.remove(m.Token.EPSILON),R=R._parent}return N.contains(m.Token.EPSILON)&&D.add(m.Token.EOF),D}};t([c.NotNull],b.prototype,"states",void 0),t([c.NotNull],b.prototype,"decisionToState",void 0),t([c.NotNull],b.prototype,"modeNameToStartState",void 0),t([c.NotNull],b.prototype,"modeToStartState",void 0),t([c.NotNull],b.prototype,"decisionToDFA",void 0),t([c.NotNull],b.prototype,"modeToDFA",void 0),t([c.NotNull],b.prototype,"nextTokens",null),t([n(0,c.NotNull)],b.prototype,"removeState",null),t([n(0,c.NotNull),n(1,c.NotNull)],b.prototype,"defineMode",null),t([n(0,c.NotNull)],b.prototype,"defineDecisionState",null),t([c.NotNull],b.prototype,"getExpectedTokens",null),b=t([n(0,c.NotNull)],b),e.ATN=b,function(E){E.INVALID_ALT_NUMBER=0}(b=e.ATN||(e.ATN={})),e.ATN=b}(hd)),hd}var jl={},zl={},dO;function cY(){if(dO)return zl;dO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zl&&zl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=zl&&zl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(zl,"__esModule",{value:!0}),zl.LexerIndexedCustomAction=void 0;const n=mr(),r=Ve();let i=class Mk{constructor(l,u){this._offset=l,this._action=u}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(l){this._action.execute(l)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this._offset),l=n.MurmurHash.update(l,this._action),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof Mk?this._offset===l._offset&&this._action.equals(l._action):!1}};return e([r.NotNull],i.prototype,"action",null),e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),i=e([t(1,r.NotNull)],i),zl.LexerIndexedCustomAction=i,zl}var hO;function fY(){if(hO)return jl;hO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jl&&jl.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x},t=jl&&jl.__param||function(u,c){return function(g,p){c(g,p,u)}};Object.defineProperty(jl,"__esModule",{value:!0}),jl.LexerActionExecutor=void 0;const n=f1(),r=cY(),i=mr(),s=Ve();let l=class Sv{constructor(c){this._lexerActions=c;let g=i.MurmurHash.initialize();for(let p of c)g=i.MurmurHash.update(g,p);this.cachedHashCode=i.MurmurHash.finish(g,c.length)}static append(c,g){if(!c)return new Sv([g]);let p=c._lexerActions.slice(0);return p.push(g),new Sv(p)}fixOffsetBeforeMatch(c){let g;for(let p=0;p<this._lexerActions.length;p++)this._lexerActions[p].isPositionDependent&&!(this._lexerActions[p]instanceof r.LexerIndexedCustomAction)&&(g||(g=this._lexerActions.slice(0)),g[p]=new r.LexerIndexedCustomAction(c,this._lexerActions[p]));return g?new Sv(g):this}get lexerActions(){return this._lexerActions}execute(c,g,p){let m=!1,x=g.index;try{for(let b of this._lexerActions){if(b instanceof r.LexerIndexedCustomAction){let E=b.offset;g.seek(p+E),b=b.action,m=p+E!==x}else b.isPositionDependent&&(g.seek(x),m=!1);b.execute(c)}}finally{m&&g.seek(x)}}hashCode(){return this.cachedHashCode}equals(c){return c===this?!0:c instanceof Sv?this.cachedHashCode===c.cachedHashCode&&n.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,c._lexerActions):!1}};return e([s.NotNull],l.prototype,"_lexerActions",void 0),e([s.NotNull],l.prototype,"lexerActions",null),e([t(0,s.NotNull)],l.prototype,"execute",null),e([s.Override],l.prototype,"hashCode",null),e([s.Override],l.prototype,"equals",null),e([s.NotNull,t(1,s.NotNull)],l,"append",null),l=e([t(0,s.NotNull)],l),jl.LexerActionExecutor=l,jl}var Ul={},pO;function v1(){if(pO)return Ul;pO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ul&&Ul.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x},t=Ul&&Ul.__param||function(u,c){return function(g,p){c(g,p,u)}};Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.LexerNoViableAltException=void 0;const n=lf(),r=Ve(),i=Zi(),s=Fu();let l=class extends n.RecognitionException{constructor(c,g,p,m){super(c,g),this._startIndex=p,this._deadEndConfigs=m}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let c="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(c=this.inputStream.getText(i.Interval.of(this._startIndex,this._startIndex)),c=s.escapeWhitespace(c,!1)),`LexerNoViableAltException('${c}')`}};return e([r.Override],l.prototype,"inputStream",null),e([r.Override],l.prototype,"toString",null),l=e([t(1,r.NotNull)],l),Ul.LexerNoViableAltException=l,Ul}var Cd={},gO;function dY(){if(gO)return Cd;gO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cd&&Cd.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.OrderedATNConfigSet=void 0;const t=ly(),n=Ve();let r=class Pk extends t.ATNConfigSet{constructor(s,l){s!=null&&l!=null?super(s,l):super()}clone(s){let l=new Pk(this,s);return!s&&this.isReadOnly&&l.addAll(this),l}getKey(s){return{state:0,alt:s.hashCode()}}canMerge(s,l,u){return s.equals(u)}};return e([n.Override],r.prototype,"clone",null),e([n.Override],r.prototype,"getKey",null),e([n.Override],r.prototype,"canMerge",null),Cd.OrderedATNConfigSet=r,Cd}var mO;function y1(){return mO||(mO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=dd&&dd.__decorate||function(F,B,j,k){var $=arguments.length,Z=$<3?B:k===null?k=Object.getOwnPropertyDescriptor(B,j):k,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(F,B,j,k);else for(var ie=F.length-1;ie>=0;ie--)(ne=F[ie])&&(Z=($<3?ne(Z):$>3?ne(B,j,Z):ne(B,j))||Z);return $>3&&Z&&Object.defineProperty(B,j,Z),Z},n=dd&&dd.__param||function(F,B){return function(j,k){B(j,k,F)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerATNSimulator=void 0;const r=Ck(),i=$a(),s=p1(),l=ly(),u=m1(),c=g1(),g=Zi(),p=af(),m=df(),x=fY(),b=v1(),E=Ve(),w=dY(),C=Vs(),R=cy(),T=qn(),N=_i();let D=class go extends u.ATNSimulator{constructor(B,j){super(B),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE,this.prevAccept=new go.SimState,this.recog=j}copyState(B){this._charPositionInLine=B.charPositionInLine,this._line=B._line,this.mode=B.mode,this.startIndex=B.startIndex}match(B,j){this.mode=j;let k=B.mark();try{this.startIndex=B.index,this.prevAccept.reset();let $=this.atn.modeToDFA[j].s0;return $==null?this.matchATN(B):this.execATN(B,$)}finally{B.release(k)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE}matchATN(B){let j=this.atn.modeToStartState[this.mode];go.debug&&console.log(`matchATN mode ${this.mode} start: ${j}`);let k=this.mode,$=this.computeStartState(B,j),Z=$.hasSemanticContext;Z&&($.hasSemanticContext=!1);let ne=this.addDFAState($);if(!Z){let he=this.atn.modeToDFA[this.mode];he.s0?ne=he.s0:he.s0=ne}let ie=this.execATN(B,ne);return go.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[k].toLexerString()}`),ie}execATN(B,j){go.debug&&console.log(`start state closure=${j.configs}`),j.isAcceptState&&this.captureSimState(this.prevAccept,B,j);let k=B.LA(1),$=j;for(;;){go.debug&&console.log(`execATN loop starting closure: ${$.configs}`);let Z=this.getExistingTargetState($,k);if(Z==null&&(Z=this.computeTargetState(B,$,k)),Z===u.ATNSimulator.ERROR||(k!==p.IntStream.EOF&&this.consume(B),Z.isAcceptState&&(this.captureSimState(this.prevAccept,B,Z),k===p.IntStream.EOF)))break;k=B.LA(1),$=Z}return this.failOrAccept(this.prevAccept,B,$.configs,k)}getExistingTargetState(B,j){let k=B.getTarget(j);return go.debug&&k!=null&&console.log("reuse state "+B.stateNumber+" edge to "+k.stateNumber),k}computeTargetState(B,j,k){let $=new w.OrderedATNConfigSet;return this.getReachableConfigSet(B,j.configs,$,k),$.isEmpty?($.hasSemanticContext||this.addDFAEdge(j,k,u.ATNSimulator.ERROR),u.ATNSimulator.ERROR):this.addDFAEdge(j,k,$)}failOrAccept(B,j,k,$){if(B.dfaState!=null){let Z=B.dfaState.lexerActionExecutor;return this.accept(j,Z,this.startIndex,B.index,B.line,B.charPos),B.dfaState.prediction}else{if($===p.IntStream.EOF&&j.index===this.startIndex)return T.Token.EOF;throw new b.LexerNoViableAltException(this.recog,j,this.startIndex,k)}}getReachableConfigSet(B,j,k,$){let Z=i.ATN.INVALID_ALT_NUMBER;for(let ne of j){let ie=ne.alt===Z;if(ie&&ne.hasPassedThroughNonGreedyDecision)continue;go.debug&&console.log(`testing ${this.getTokenName($)} at ${ne.toString(this.recog,!0)}`);let he=ne.state.numberOfOptimizedTransitions;for(let De=0;De<he;De++){let Te=ne.state.getOptimizedTransition(De),re=this.getReachableTarget(Te,$);if(re!=null){let Ae=ne.lexerActionExecutor,de;Ae!=null?(Ae=Ae.fixOffsetBeforeMatch(B.index-this.startIndex),de=ne.transform(re,!0,Ae)):(N(ne.lexerActionExecutor==null),de=ne.transform(re,!0));let ue=$===p.IntStream.EOF;if(this.closure(B,de,k,ie,!0,ue)){Z=ne.alt;break}}}}}accept(B,j,k,$,Z,ne){go.debug&&console.log(`ACTION ${j}`),B.seek($),this._line=Z,this._charPositionInLine=ne,j!=null&&this.recog!=null&&j.execute(this.recog,B,k)}getReachableTarget(B,j){if(B.matches(j,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE))return B.target}computeStartState(B,j){let k=C.PredictionContext.EMPTY_FULL,$=new w.OrderedATNConfigSet;for(let Z=0;Z<j.numberOfTransitions;Z++){let ne=j.transition(Z).target,ie=s.ATNConfig.create(ne,Z+1,k);this.closure(B,ie,$,!1,!1,!1)}return $}closure(B,j,k,$,Z,ne){if(go.debug&&console.log("closure("+j.toString(this.recog,!0)+")"),j.state instanceof R.RuleStopState){go.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[j.state.ruleIndex]} rule stop ${j}`):console.log(`closure at rule stop ${j}`));let he=j.context;if(he.isEmpty)return k.add(j),!0;he.hasEmpty&&(k.add(j.transform(j.state,!0,C.PredictionContext.EMPTY_FULL)),$=!0);for(let De=0;De<he.size;De++){let Te=he.getReturnState(De);if(Te===C.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let re=he.getParent(De),Ae=this.atn.states[Te],de=j.transform(Ae,!1,re);$=this.closure(B,de,k,$,Z,ne)}return $}j.state.onlyHasEpsilonTransitions||(!$||!j.hasPassedThroughNonGreedyDecision)&&k.add(j);let ie=j.state;for(let he=0;he<ie.numberOfOptimizedTransitions;he++){let De=ie.getOptimizedTransition(he),Te=this.getEpsilonTarget(B,j,De,k,Z,ne);Te!=null&&($=this.closure(B,Te,k,$,Z,ne))}return $}getEpsilonTarget(B,j,k,$,Z,ne){let ie;switch(k.serializationType){case 3:let he=k;if(this.optimize_tail_calls&&he.optimizedTailCall&&!j.context.hasEmpty)ie=j.transform(k.target,!0);else{let Te=j.context.getChild(he.followState.stateNumber);ie=j.transform(k.target,!0,Te)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let De=k;go.debug&&console.log("EVAL rule "+De.ruleIndex+":"+De.predIndex),$.hasSemanticContext=!0,this.evaluatePredicate(B,De.ruleIndex,De.predIndex,Z)?ie=j.transform(k.target,!0):ie=void 0;break;case 6:if(j.context.hasEmpty){let Te=x.LexerActionExecutor.append(j.lexerActionExecutor,this.atn.lexerActions[k.actionIndex]);ie=j.transform(k.target,!0,Te);break}else{ie=j.transform(k.target,!0);break}case 1:ie=j.transform(k.target,!0);break;case 5:case 2:case 7:if(ne&&k.matches(p.IntStream.EOF,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE)){ie=j.transform(k.target,!1);break}ie=void 0;break;default:ie=void 0;break}return ie}evaluatePredicate(B,j,k,$){if(this.recog==null)return!0;if(!$)return this.recog.sempred(void 0,j,k);let Z=this._charPositionInLine,ne=this._line,ie=B.index,he=B.mark();try{return this.consume(B),this.recog.sempred(void 0,j,k)}finally{this._charPositionInLine=Z,this._line=ne,B.seek(ie),B.release(he)}}captureSimState(B,j,k){B.index=j.index,B.line=this._line,B.charPos=this._charPositionInLine,B.dfaState=k}addDFAEdge(B,j,k){if(k instanceof l.ATNConfigSet){let $=k.hasSemanticContext;$&&(k.hasSemanticContext=!1);let Z=this.addDFAState(k);return $||this.addDFAEdge(B,j,Z),Z}else go.debug&&console.log("EDGE "+B+" -> "+k+" upon "+String.fromCharCode(j)),B!=null&&B.setTarget(j,k)}addDFAState(B){N(!B.hasSemanticContext);let j=new c.DFAState(B),k=this.atn.modeToDFA[this.mode].states.get(j);if(k!=null)return k;B.optimizeConfigs(this);let $=new c.DFAState(B.clone(!0)),Z;for(let ne of B)if(ne.state instanceof R.RuleStopState){Z=ne;break}if(Z!=null){let ne=this.atn.ruleToTokenType[Z.state.ruleIndex],ie=Z.lexerActionExecutor;$.acceptStateInfo=new r.AcceptStateInfo(ne,ie)}return this.atn.modeToDFA[this.mode].addState($)}getDFA(B){return this.atn.modeToDFA[B]}getText(B){return B.getText(g.Interval.of(this.startIndex,B.index-1))}get line(){return this._line}set line(B){this._line=B}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(B){this._charPositionInLine=B}consume(B){B.LA(1)===10?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,B.consume()}getTokenName(B){return B===-1?"EOF":"'"+String.fromCharCode(B)+"'"}};t([E.NotNull],D.prototype,"prevAccept",void 0),t([n(0,E.NotNull)],D.prototype,"copyState",null),t([n(0,E.NotNull)],D.prototype,"match",null),t([E.Override],D.prototype,"reset",null),t([n(0,E.NotNull)],D.prototype,"matchATN",null),t([n(0,E.NotNull),n(1,E.NotNull)],D.prototype,"execATN",null),t([n(0,E.NotNull)],D.prototype,"getExistingTargetState",null),t([E.NotNull,n(0,E.NotNull),n(1,E.NotNull)],D.prototype,"computeTargetState",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull)],D.prototype,"getReachableConfigSet",null),t([n(0,E.NotNull)],D.prototype,"accept",null),t([E.NotNull,n(0,E.NotNull),n(1,E.NotNull)],D.prototype,"computeStartState",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull)],D.prototype,"closure",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull),n(3,E.NotNull)],D.prototype,"getEpsilonTarget",null),t([n(0,E.NotNull)],D.prototype,"evaluatePredicate",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull)],D.prototype,"captureSimState",null),t([E.NotNull,n(0,E.NotNull)],D.prototype,"addDFAState",null),t([E.NotNull],D.prototype,"getDFA",null),t([E.NotNull,n(0,E.NotNull)],D.prototype,"getText",null),t([n(0,E.NotNull)],D.prototype,"consume",null),t([E.NotNull],D.prototype,"getTokenName",null),D=t([n(0,E.NotNull)],D),e.LexerATNSimulator=D,function(F){F.debug=!1,F.dfa_debug=!1;class B{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}F.SimState=B}(D=e.LexerATNSimulator||(e.LexerATNSimulator={})),e.LexerATNSimulator=D}(dd)),dd}var vO;function df(){if(vO)return fd;vO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=fd&&fd.__decorate||function(m,x,b,E){var w=arguments.length,C=w<3?x:E===null?E=Object.getOwnPropertyDescriptor(x,b):E,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,x,b,E);else for(var T=m.length-1;T>=0;T--)(R=m[T])&&(C=(w<3?R(C):w>3?R(x,b,C):R(x,b))||C);return w>3&&C&&Object.defineProperty(x,b,C),C};Object.defineProperty(fd,"__esModule",{value:!0}),fd.Lexer=void 0;const t=_R(),n=Ek(),r=Zi(),i=af(),s=y1(),l=v1(),u=Ve(),c=uy(),g=qn();let p=class Mc extends c.Recognizer{constructor(x){super(),this._factory=t.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new n.IntegerStack,this._mode=Mc.DEFAULT_MODE,this._input=x,this._tokenFactorySourcePair={source:this,stream:x}}static get DEFAULT_TOKEN_CHANNEL(){return g.Token.DEFAULT_CHANNEL}static get HIDDEN(){return g.Token.HIDDEN_CHANNEL}reset(x){(x===void 0||x)&&this._input.seek(0),this._token=void 0,this._type=g.Token.INVALID_TYPE,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=Mc.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let x=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=g.Token.INVALID_TYPE;let b;try{b=this.interpreter.match(this._input,this._mode)}catch(E){if(E instanceof l.LexerNoViableAltException)this.notifyListeners(E),this.recover(E),b=Mc.SKIP;else throw E}if(this._input.LA(1)===i.IntStream.EOF&&(this._hitEOF=!0),this._type===g.Token.INVALID_TYPE&&(this._type=b),this._type===Mc.SKIP)continue e}while(this._type===Mc.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(x)}}skip(){this._type=Mc.SKIP}more(){this._type=Mc.MORE}mode(x){this._mode=x}pushMode(x){s.LexerATNSimulator.debug&&console.log("pushMode "+x),this._modeStack.push(this._mode),this.mode(x)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return s.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(x){this._factory=x}get inputStream(){return this._input}set inputStream(x){this.reset(!1),this._input=x,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(x){return x||(x=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=x,x}emitEOF(){let x=this.charPositionInLine,b=this.line,E=this._factory.create(this._tokenFactorySourcePair,g.Token.EOF,void 0,g.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,b,x);return this.emit(E),E}get line(){return this.interpreter.line}set line(x){this.interpreter.line=x}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(x){this.interpreter.charPositionInLine=x}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(x){this._text=x}get token(){return this._token}set token(x){this._token=x}set type(x){this._type=x}get type(){return this._type}set channel(x){this._channel=x}get channel(){return this._channel}getAllTokens(){let x=[],b=this.nextToken();for(;b.type!==g.Token.EOF;)x.push(b),b=this.nextToken();return x}notifyListeners(x){let b=this._input.getText(r.Interval.of(this._tokenStartCharIndex,this._input.index)),E="token recognition error at: '"+this.getErrorDisplay(b)+"'",w=this.getErrorListenerDispatch();w.syntaxError&&w.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,E,x)}getErrorDisplay(x){if(typeof x=="number"){switch(x){case g.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(x)}return x.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(x){return"'"+this.getErrorDisplay(x)+"'"}recover(x){x instanceof l.LexerNoViableAltException?this._input.LA(1)!==i.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};return p.DEFAULT_MODE=0,p.MORE=-2,p.SKIP=-3,p.MIN_CHAR_VALUE=0,p.MAX_CHAR_VALUE=1114111,e([u.Override],p.prototype,"nextToken",null),e([u.Override],p.prototype,"tokenFactory",null),e([u.Override],p.prototype,"inputStream",null),e([u.Override],p.prototype,"sourceName",null),e([u.Override],p.prototype,"line",null),e([u.Override],p.prototype,"charPositionInLine",null),fd.Lexer=p,fd}var yO;function _h(){if(yO)return Tl;yO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Tl&&Tl.__decorate||function(p,m,x,b){var E=arguments.length,w=E<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,m,x,b);else for(var R=p.length-1;R>=0;R--)(C=p[R])&&(w=(E<3?C(w):E>3?C(m,x,w):C(m,x))||w);return E>3&&w&&Object.defineProperty(m,x,w),w},t=Tl&&Tl.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.IntervalSet=void 0;const n=f1(),r=NR(),i=Zi(),s=df(),l=mr(),u=Ve(),c=qn();let g=class xn{constructor(m){this.readonly=!1,m!=null?this._intervals=m.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return xn._COMPLETE_CHAR_SET===void 0&&(xn._COMPLETE_CHAR_SET=xn.of(s.Lexer.MIN_CHAR_VALUE,s.Lexer.MAX_CHAR_VALUE),xn._COMPLETE_CHAR_SET.setReadonly(!0)),xn._COMPLETE_CHAR_SET}static get EMPTY_SET(){return xn._EMPTY_SET==null&&(xn._EMPTY_SET=new xn,xn._EMPTY_SET.setReadonly(!0)),xn._EMPTY_SET}static of(m,x=m){let b=new xn;return b.add(m,x),b}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(m,x=m){this.addRange(i.Interval.of(m,x))}addRange(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(m.b<m.a)){for(let x=0;x<this._intervals.length;x++){let b=this._intervals[x];if(m.equals(b))return;if(m.adjacent(b)||!m.disjoint(b)){let E=m.union(b);for(this._intervals[x]=E;x<this._intervals.length-1;){x++;let w=this._intervals[x];if(!E.adjacent(w)&&E.disjoint(w))break;this._intervals.splice(x,1),x--,this._intervals[x]=E.union(w)}return}if(m.startsBeforeDisjoint(b)){this._intervals.splice(x,0,m);return}}this._intervals.push(m)}}static or(m){let x=new xn;for(let b of m)x.addAll(b);return x}addAll(m){if(m==null)return this;if(m instanceof xn){let x=m,b=x._intervals.length;for(let E=0;E<b;E++){let w=x._intervals[E];this.add(w.a,w.b)}}else for(let x of m.toArray())this.add(x);return this}complementRange(m,x){return this.complement(xn.of(m,x))}complement(m){if(m.isNil)return xn.EMPTY_SET;let x;return m instanceof xn?x=m:(x=new xn,x.addAll(m)),x.subtract(this)}subtract(m){if(m==null||m.isNil)return new xn(this._intervals);if(m instanceof xn)return xn.subtract(this,m);let x=new xn;return x.addAll(m),xn.subtract(this,x)}static subtract(m,x){if(m.isNil)return new xn;let b=new xn(m._intervals);if(x.isNil)return b;let E=0,w=0;for(;E<b._intervals.length&&w<x._intervals.length;){let C=b._intervals[E],R=x._intervals[w];if(R.b<C.a){w++;continue}if(R.a>C.b){E++;continue}let T,N;if(R.a>C.a&&(T=new i.Interval(C.a,R.a-1)),R.b<C.b&&(N=new i.Interval(R.b+1,C.b)),T)if(N){b._intervals[E]=T,b._intervals.splice(E+1,0,N),E++,w++;continue}else{b._intervals[E]=T,E++;continue}else if(N){b._intervals[E]=N,w++;continue}else{b._intervals.splice(E,1);continue}}return b}or(m){let x=new xn;return x.addAll(this),x.addAll(m),x}and(m){if(m.isNil)return new xn;let x=this._intervals,b=m._intervals,E,w=x.length,C=b.length,R=0,T=0;for(;R<w&&T<C;){let N=x[R],D=b[T];N.startsBeforeDisjoint(D)?R++:D.startsBeforeDisjoint(N)?T++:N.properlyContains(D)?(E||(E=new xn),E.addRange(N.intersection(D)),T++):D.properlyContains(N)?(E||(E=new xn),E.addRange(N.intersection(D)),R++):N.disjoint(D)||(E||(E=new xn),E.addRange(N.intersection(D)),N.startsAfterNonDisjoint(D)?T++:D.startsAfterNonDisjoint(N)&&R++)}return E||new xn}contains(m){let x=this._intervals.length,b=0,E=x-1;for(;b<=E;){let w=b+E>>1,C=this._intervals[w],R=C.a;if(C.b<m)b=w+1;else if(R>m)E=w-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let m=l.MurmurHash.initialize();for(let x of this._intervals)m=l.MurmurHash.update(m,x.a),m=l.MurmurHash.update(m,x.b);return m=l.MurmurHash.finish(m,this._intervals.length*2),m}equals(m){return m==null||!(m instanceof xn)?!1:n.ArrayEqualityComparator.INSTANCE.equals(this._intervals,m._intervals)}toString(m=!1){let x="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(x+="{");let b=!0;for(let E of this._intervals){b?b=!1:x+=", ";let w=E.a,C=E.b;w===C?w===c.Token.EOF?x+="<EOF>":m?x+="'"+String.fromCodePoint(w)+"'":x+=w:m?x+="'"+String.fromCodePoint(w)+"'..'"+String.fromCodePoint(C)+"'":x+=w+".."+C}return this.size>1&&(x+="}"),x}toStringVocabulary(m){if(this._intervals==null||this._intervals.length===0)return"{}";let x="";this.size>1&&(x+="{");let b=!0;for(let E of this._intervals){b?b=!1:x+=", ";let w=E.a,C=E.b;if(w===C)x+=this.elementName(m,w);else for(let R=w;R<=C;R++)R>w&&(x+=", "),x+=this.elementName(m,R)}return this.size>1&&(x+="}"),x}elementName(m,x){return x===c.Token.EOF?"<EOF>":x===c.Token.EPSILON?"<EPSILON>":m.getDisplayName(x)}get size(){let m=0,x=this._intervals.length;if(x===1){let b=this._intervals[0];return b.b-b.a+1}for(let b=0;b<x;b++){let E=this._intervals[b];m+=E.b-E.a+1}return m}toIntegerList(){let m=new r.IntegerList(this.size),x=this._intervals.length;for(let b=0;b<x;b++){let E=this._intervals[b],w=E.a,C=E.b;for(let R=w;R<=C;R++)m.add(R)}return m}toSet(){let m=new Set;for(let x of this._intervals){let b=x.a,E=x.b;for(let w=b;w<=E;w++)m.add(w)}return m}toArray(){let m=new Array,x=this._intervals.length;for(let b=0;b<x;b++){let E=this._intervals[b],w=E.a,C=E.b;for(let R=w;R<=C;R++)m.push(R)}return m}remove(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let x=this._intervals.length;for(let b=0;b<x;b++){let E=this._intervals[b],w=E.a,C=E.b;if(m<w)break;if(m===w&&m===C){this._intervals.splice(b,1);break}if(m===w){this._intervals[b]=i.Interval.of(E.a+1,E.b);break}if(m===C){this._intervals[b]=i.Interval.of(E.a,E.b-1);break}if(m>w&&m<C){let R=E.b;this._intervals[b]=i.Interval.of(E.a,m-1),this.add(m+1,R)}}}get isReadonly(){return this.readonly}setReadonly(m){if(this.readonly&&!m)throw new Error("can't alter readonly IntervalSet");this.readonly=m}};return e([u.Override],g.prototype,"addAll",null),e([u.Override],g.prototype,"complement",null),e([u.Override],g.prototype,"subtract",null),e([u.Override],g.prototype,"or",null),e([u.Override],g.prototype,"and",null),e([u.Override],g.prototype,"contains",null),e([u.Override],g.prototype,"isNil",null),e([u.Override],g.prototype,"hashCode",null),e([u.Override],g.prototype,"equals",null),e([t(0,u.NotNull)],g.prototype,"toStringVocabulary",null),e([u.NotNull,t(0,u.NotNull)],g.prototype,"elementName",null),e([u.Override],g.prototype,"size",null),e([u.Override],g.prototype,"remove",null),e([u.NotNull],g,"of",null),e([u.NotNull],g,"subtract",null),Tl.IntervalSet=g,Tl}var wd={},_s={},Rd={},xO;function Lk(){if(xO)return Rd;xO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Rd&&Rd.__decorate||function(r,i,s,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,s):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,s,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,s,c):g(i,s))||c);return u>3&&c&&Object.defineProperty(i,s,c),c};Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.ATNDeserializationOptions=void 0;const t=Ve();let n=class Wp{constructor(i){this.readOnly=!1,i?(this.verifyATN=i.verifyATN,this.generateRuleBypassTransitions=i.generateRuleBypassTransitions,this.optimize=i.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return Wp._defaultOptions==null&&(Wp._defaultOptions=new Wp,Wp._defaultOptions.makeReadOnly()),Wp._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(i){this.throwIfReadOnly(),this.verifyATN=i}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(i){this.throwIfReadOnly(),this.generateRuleBypassTransitions=i}get isOptimize(){return this.optimize}set isOptimize(i){this.throwIfReadOnly(),this.optimize=i}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};return e([t.NotNull],n,"defaultOptions",null),Rd.ATNDeserializationOptions=n,Rd}var Vl={},Gl={},bO;function Fk(){if(bO)return Gl;bO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gl&&Gl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Gl&&Gl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.ActionTransition=void 0;const n=Ve(),r=uf();let i=class extends r.Transition{constructor(l,u,c=-1,g=!1){super(l),this.ruleIndex=u,this.actionIndex=c,this.isCtxDependent=g}get serializationType(){return 6}get isEpsilon(){return!0}matches(l,u,c){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};return e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"isEpsilon",null),e([n.Override],i.prototype,"matches",null),e([n.Override],i.prototype,"toString",null),i=e([t(0,n.NotNull)],i),Gl.ActionTransition=i,Gl}var $l={},SO;function kk(){if(SO)return $l;SO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$l&&$l.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=$l&&$l.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty($l,"__esModule",{value:!0}),$l.AtomTransition=void 0;const n=_h(),r=Ve(),i=uf();let s=class extends i.Transition{constructor(u,c){super(u),this._label=c}get serializationType(){return 5}get label(){return n.IntervalSet.of(this._label)}matches(u,c,g){return this._label===u}toString(){return String(this.label)}};return e([r.Override],s.prototype,"serializationType",null),e([r.Override,r.NotNull],s.prototype,"label",null),e([r.Override],s.prototype,"matches",null),e([r.Override,r.NotNull],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),$l.AtomTransition=s,$l}var Td={},Z0={},AO;function x1(){if(AO)return Z0;AO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.BlockStartState=void 0;const e=Th();let t=class extends e.DecisionState{};return Z0.BlockStartState=t,Z0}var EO;function hY(){if(EO)return Td;EO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Td&&Td.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Td,"__esModule",{value:!0}),Td.BasicBlockStartState=void 0;const t=ti(),n=x1(),r=Ve();let i=class extends n.BlockStartState{get stateType(){return t.ATNStateType.BLOCK_START}};return e([r.Override],i.prototype,"stateType",null),Td.BasicBlockStartState=i,Td}var Nd={},CO;function pY(){if(CO)return Nd;CO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nd&&Nd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.BlockEndState=void 0;const t=Lu(),n=ti(),r=Ve();let i=class extends t.ATNState{get stateType(){return n.ATNStateType.BLOCK_END}};return e([r.Override],i.prototype,"stateType",null),Nd.BlockEndState=i,Nd}var Hl={},wO;function gY(){if(wO)return Hl;wO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hl&&Hl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Hl&&Hl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.EpsilonTransition=void 0;const n=Ve(),r=uf();let i=class extends r.Transition{constructor(l,u=-1){super(l),this._outermostPrecedenceReturn=u}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(l,u,c){return!1}toString(){return"epsilon"}};return e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"isEpsilon",null),e([n.Override],i.prototype,"matches",null),e([n.Override,n.NotNull],i.prototype,"toString",null),i=e([t(0,n.NotNull)],i),Hl.EpsilonTransition=i,Hl}var Wl={},RO;function mY(){if(RO)return Wl;RO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wl&&Wl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Wl&&Wl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.LexerChannelAction=void 0;const n=mr(),r=Ve();let i=class Bk{constructor(l){this._channel=l}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(l){l.channel=this._channel}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._channel),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof Bk?this._channel===l._channel:!1}toString(){return`channel(${this._channel})`}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),e([r.Override],i.prototype,"toString",null),Wl.LexerChannelAction=i,Wl}var Yl={},TO;function vY(){if(TO)return Yl;TO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yl&&Yl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Yl&&Yl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.LexerCustomAction=void 0;const n=mr(),r=Ve();let i=class jk{constructor(l,u){this._ruleIndex=l,this._actionIndex=u}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(l){l.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._ruleIndex),l=n.MurmurHash.update(l,this._actionIndex),n.MurmurHash.finish(l,3)}equals(l){return l===this?!0:l instanceof jk?this._ruleIndex===l._ruleIndex&&this._actionIndex===l._actionIndex:!1}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),Yl.LexerCustomAction=i,Yl}var ql={},NO;function yY(){if(NO)return ql;NO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ql&&ql.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=ql&&ql.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(ql,"__esModule",{value:!0}),ql.LexerModeAction=void 0;const n=mr(),r=Ve();let i=class zk{constructor(l){this._mode=l}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(l){l.mode(this._mode)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._mode),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof zk?this._mode===l._mode:!1}toString(){return`mode(${this._mode})`}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),e([r.Override],i.prototype,"toString",null),ql.LexerModeAction=i,ql}var _d={},_O;function xY(){return _O||(_O=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=_d&&_d.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},n=_d&&_d.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerMoreAction=void 0;const r=mr(),i=Ve();let s=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(u){u.more()}hashCode(){let u=r.MurmurHash.initialize();return u=r.MurmurHash.update(u,this.actionType),r.MurmurHash.finish(u,1)}equals(u){return u===this}toString(){return"more"}};t([i.Override],s.prototype,"actionType",null),t([i.Override],s.prototype,"isPositionDependent",null),t([i.Override,n(0,i.NotNull)],s.prototype,"execute",null),t([i.Override],s.prototype,"hashCode",null),t([i.Override],s.prototype,"equals",null),t([i.Override],s.prototype,"toString",null),e.LexerMoreAction=s,function(l){l.INSTANCE=new l}(s=e.LexerMoreAction||(e.LexerMoreAction={}))}(_d)),_d}var Id={},IO;function bY(){return IO||(IO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Id&&Id.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},n=Id&&Id.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerPopModeAction=void 0;const r=mr(),i=Ve();let s=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(u){u.popMode()}hashCode(){let u=r.MurmurHash.initialize();return u=r.MurmurHash.update(u,this.actionType),r.MurmurHash.finish(u,1)}equals(u){return u===this}toString(){return"popMode"}};t([i.Override],s.prototype,"actionType",null),t([i.Override],s.prototype,"isPositionDependent",null),t([i.Override,n(0,i.NotNull)],s.prototype,"execute",null),t([i.Override],s.prototype,"hashCode",null),t([i.Override],s.prototype,"equals",null),t([i.Override],s.prototype,"toString",null),e.LexerPopModeAction=s,function(l){l.INSTANCE=new l}(s=e.LexerPopModeAction||(e.LexerPopModeAction={}))}(Id)),Id}var Kl={},OO;function SY(){if(OO)return Kl;OO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kl&&Kl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Kl&&Kl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.LexerPushModeAction=void 0;const n=mr(),r=Ve();let i=class Uk{constructor(l){this._mode=l}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(l){l.pushMode(this._mode)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._mode),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof Uk?this._mode===l._mode:!1}toString(){return`pushMode(${this._mode})`}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),e([r.Override],i.prototype,"toString",null),Kl.LexerPushModeAction=i,Kl}var Od={},DO;function AY(){return DO||(DO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Od&&Od.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},n=Od&&Od.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerSkipAction=void 0;const r=mr(),i=Ve();let s=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(u){u.skip()}hashCode(){let u=r.MurmurHash.initialize();return u=r.MurmurHash.update(u,this.actionType),r.MurmurHash.finish(u,1)}equals(u){return u===this}toString(){return"skip"}};t([i.Override],s.prototype,"actionType",null),t([i.Override],s.prototype,"isPositionDependent",null),t([i.Override,n(0,i.NotNull)],s.prototype,"execute",null),t([i.Override],s.prototype,"hashCode",null),t([i.Override],s.prototype,"equals",null),t([i.Override],s.prototype,"toString",null),e.LexerSkipAction=s,function(l){l.INSTANCE=new l}(s=e.LexerSkipAction||(e.LexerSkipAction={}))}(Od)),Od}var Xl={},MO;function EY(){if(MO)return Xl;MO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xl&&Xl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Xl&&Xl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.LexerTypeAction=void 0;const n=mr(),r=Ve();let i=class Vk{constructor(l){this._type=l}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(l){l.type=this._type}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._type),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof Vk?this._type===l._type:!1}toString(){return`type(${this._type})`}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),e([r.Override],i.prototype,"toString",null),Xl.LexerTypeAction=i,Xl}var Dd={},PO;function Gk(){if(PO)return Dd;PO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dd&&Dd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.LoopEndState=void 0;const t=Lu(),n=ti(),r=Ve();let i=class extends t.ATNState{get stateType(){return n.ATNStateType.LOOP_END}};return e([r.Override],i.prototype,"stateType",null),Dd.LoopEndState=i,Dd}var Zl={},Md={},LO;function CY(){if(LO)return Md;LO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Md&&Md.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(Md,"__esModule",{value:!0}),Md.ConflictInfo=void 0;const t=Ve(),n=Fu();let r=class $k{constructor(s,l){this._conflictedAlts=s,this.exact=l}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(s){return s===this?!0:s instanceof $k?this.isExact===s.isExact&&n.equals(this.conflictedAlts,s.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};return e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),Md.ConflictInfo=r,Md}var Pd={},Ld={},Fd={},FO;function Lg(){if(FO)return Fd;FO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Fd&&Fd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.TerminalNode=void 0;const t=Zi(),n=Ve(),r=qn();let i=class{constructor(l){this._symbol=l}getChild(l){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(l){this._parent=l}get payload(){return this._symbol}get sourceInterval(){let l=this._symbol.tokenIndex;return new t.Interval(l,l)}get childCount(){return 0}accept(l){return l.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(l){return this.toString()}toString(){return this._symbol.type===r.Token.EOF?"<EOF>":this._symbol.text||""}};return e([n.Override],i.prototype,"getChild",null),e([n.Override],i.prototype,"parent",null),e([n.Override],i.prototype,"setParent",null),e([n.Override],i.prototype,"payload",null),e([n.Override],i.prototype,"sourceInterval",null),e([n.Override],i.prototype,"childCount",null),e([n.Override],i.prototype,"accept",null),e([n.Override],i.prototype,"text",null),e([n.Override],i.prototype,"toStringTree",null),e([n.Override],i.prototype,"toString",null),Fd.TerminalNode=i,Fd}var kO;function FR(){if(kO)return Ld;kO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ld&&Ld.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.ErrorNode=void 0;const t=Ve(),n=Lg();let r=class extends n.TerminalNode{constructor(s){super(s)}accept(s){return s.visitErrorNode(this)}};return e([t.Override],r.prototype,"accept",null),Ld.ErrorNode=r,Ld}var kd={},J0={},BO;function kR(){if(BO)return J0;BO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(J0,"__esModule",{value:!0}),J0.RuleNode=void 0;let e=class{};return J0.RuleNode=e,J0}var Jl={},jO;function Ih(){if(jO)return Jl;jO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jl&&Jl.__decorate||function(b,E,w,C){var R=arguments.length,T=R<3?E:C===null?C=Object.getOwnPropertyDescriptor(E,w):C,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(b,E,w,C);else for(var D=b.length-1;D>=0;D--)(N=b[D])&&(T=(R<3?N(T):R>3?N(E,w,T):N(E,w))||T);return R>3&&T&&Object.defineProperty(E,w,T),T},t=Jl&&Jl.__param||function(b,E){return function(w,C){E(w,C,b)}};Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.Trees=void 0;const n=$a(),r=ay(),i=FR(),s=Ve(),l=hy(),u=Gs(),c=kR(),g=Lg(),p=qn(),m=Fu();let x=class Pc{static toStringTree(E,w){let C;w instanceof l.Parser?C=w.ruleNames:C=w;let R=m.escapeWhitespace(this.getNodeText(E,C),!1);if(E.childCount===0)return R;let T="";T+="(",R=m.escapeWhitespace(this.getNodeText(E,C),!1),T+=R,T+=" ";for(let N=0;N<E.childCount;N++)N>0&&(T+=" "),T+=this.toStringTree(E.getChild(N),C);return T+=")",T}static getNodeText(E,w){let C;if(w instanceof l.Parser)C=w.ruleNames;else if(w)C=w;else{let R=E.payload;return typeof R.text=="string"?R.text:E.payload.toString()}if(E instanceof c.RuleNode){let R=E.ruleContext,T=R.ruleIndex,N=C[T],D=R.altNumber;return D!==n.ATN.INVALID_ALT_NUMBER?N+":"+D:N}else{if(E instanceof i.ErrorNode)return E.toString();if(E instanceof g.TerminalNode)return E.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(E){let w=[];for(let C=0;C<E.childCount;C++)w.push(E.getChild(C));return w}static getAncestors(E){let w=[],C=E.parent;for(;C;)w.unshift(C),C=C.parent;return w}static isAncestorOf(E,w){if(!E||!w||!E.parent)return!1;let C=w.parent;for(;C;){if(E===C)return!0;C=C.parent}return!1}static findAllTokenNodes(E,w){return Pc.findAllNodes(E,w,!0)}static findAllRuleNodes(E,w){return Pc.findAllNodes(E,w,!1)}static findAllNodes(E,w,C){let R=[];return Pc._findAllNodes(E,w,C,R),R}static _findAllNodes(E,w,C,R){C&&E instanceof g.TerminalNode?E.symbol.type===w&&R.push(E):!C&&E instanceof u.ParserRuleContext&&E.ruleIndex===w&&R.push(E);for(let T=0;T<E.childCount;T++)Pc._findAllNodes(E.getChild(T),w,C,R)}static getDescendants(E){let w=[];function C(R){w.push(R);const T=R.childCount;for(let N=0;N<T;N++)C(R.getChild(N))}return C(E),w}static getRootOfSubtreeEnclosingRegion(E,w,C){let R=E.childCount;for(let T=0;T<R;T++){let N=E.getChild(T),D=Pc.getRootOfSubtreeEnclosingRegion(N,w,C);if(D)return D}if(E instanceof u.ParserRuleContext){let T=E.stop;if(w>=E.start.tokenIndex&&(T==null||C<=T.tokenIndex))return E}}static stripChildrenOutOfRange(E,w,C,R){if(!E)return;let T=E.childCount;for(let N=0;N<T;N++){let D=E.getChild(N),F=D.sourceInterval;if(D instanceof u.ParserRuleContext&&(F.b<C||F.a>R)&&Pc.isAncestorOf(D,w)){let B=new r.CommonToken(p.Token.INVALID_TYPE,"...");E.children[N]=new g.TerminalNode(B)}}}static findNodeSuchThat(E,w){if(w(E))return E;let C=E.childCount;for(let R=0;R<C;R++){let T=Pc.findNodeSuchThat(E.getChild(R),w);if(T!==void 0)return T}}};return e([t(0,s.NotNull)],x,"toStringTree",null),e([s.NotNull,t(0,s.NotNull)],x,"getAncestors",null),e([t(0,s.NotNull)],x,"getRootOfSubtreeEnclosingRegion",null),Jl.Trees=x,Jl}var zO;function Wk(){if(zO)return kd;zO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kd&&kd.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var C=g.length-1;C>=0;C--)(w=g[C])&&(E=(b<3?w(E):b>3?w(p,m,E):w(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E};Object.defineProperty(kd,"__esModule",{value:!0}),kd.RuleContext=void 0;const t=$a(),n=uy(),r=kR(),i=Zi(),s=Ve(),l=Ih(),u=Gs();let c=class Hk extends r.RuleNode{constructor(p,m){super(),this._parent=p,this.invokingState=m??-1}static getChildContext(p,m){return new Hk(p,m)}depth(){let p=0,m=this;for(;m;)m=m._parent,p++;return p}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return i.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(p){this._parent=p}get payload(){return this}get text(){if(this.childCount===0)return"";let p="";for(let m=0;m<this.childCount;m++)p+=this.getChild(m).text;return p.toString()}get ruleIndex(){return-1}get altNumber(){return t.ATN.INVALID_ALT_NUMBER}set altNumber(p){}getChild(p){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(p){return p.visitChildren(this)}toStringTree(p){return l.Trees.toStringTree(this,p)}toString(p,m){const x=p instanceof n.Recognizer?p.ruleNames:p;m=m||u.ParserRuleContext.emptyContext();let b="",E=this;for(b+="[";E&&E!==m;){if(!x)E.isEmpty||(b+=E.invokingState);else{let w=E.ruleIndex,C=w>=0&&w<x.length?x[w]:w.toString();b+=C}E._parent&&(x||!E._parent.isEmpty)&&(b+=" "),E=E._parent}return b+="]",b.toString()}};return e([s.Override],c.prototype,"sourceInterval",null),e([s.Override],c.prototype,"ruleContext",null),e([s.Override],c.prototype,"parent",null),e([s.Override],c.prototype,"setParent",null),e([s.Override],c.prototype,"payload",null),e([s.Override],c.prototype,"text",null),e([s.Override],c.prototype,"getChild",null),e([s.Override],c.prototype,"childCount",null),e([s.Override],c.prototype,"accept",null),e([s.Override],c.prototype,"toStringTree",null),kd.RuleContext=c,kd}var UO;function Gs(){if(UO)return Pd;UO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pd&&Pd.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x};Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.ParserRuleContext=void 0;const t=FR(),n=Zi(),r=Ve(),i=Wk(),s=Lg();let l=class t2 extends i.RuleContext{constructor(c,g){g==null?super():super(c,g)}static emptyContext(){return t2.EMPTY}copyFrom(c){if(this._parent=c._parent,this.invokingState=c.invokingState,this._start=c._start,this._stop=c._stop,c.children){this.children=[];for(let g of c.children)g instanceof t.ErrorNode&&this.addChild(g)}}enterRule(c){}exitRule(c){}addAnyChild(c){return this.children?this.children.push(c):this.children=[c],c}addChild(c){if(c instanceof s.TerminalNode){c.setParent(this),this.addAnyChild(c);return}else if(c instanceof i.RuleContext){this.addAnyChild(c);return}else return c=new s.TerminalNode(c),this.addAnyChild(c),c.setParent(this),c}addErrorNode(c){if(c instanceof t.ErrorNode){const g=c;return g.setParent(this),this.addAnyChild(g)}else{const g=c;let p=new t.ErrorNode(g);return this.addAnyChild(p),p.setParent(this),p}}removeLastChild(){this.children&&this.children.pop()}get parent(){let c=super.parent;if(c===void 0||c instanceof t2)return c;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(c,g){if(!this.children||c<0||c>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(g==null)return this.children[c];let p=this.tryGetChild(c,g);if(p===void 0)throw new Error("The specified node does not exist");return p}tryGetChild(c,g){if(!this.children||c<0||c>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof g&&(p++,p===c))return m}getToken(c,g){let p=this.tryGetToken(c,g);if(p===void 0)throw new Error("The specified token does not exist");return p}tryGetToken(c,g){if(!this.children||g<0||g>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof s.TerminalNode&&m.symbol.type===c&&(p++,p===g))return m}getTokens(c){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof s.TerminalNode&&p.symbol.type===c&&g.push(p);return g}get ruleContext(){return this}getRuleContext(c,g){return this.getChild(c,g)}tryGetRuleContext(c,g){return this.tryGetChild(c,g)}getRuleContexts(c){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof c&&g.push(p);return g}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?n.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):n.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):n.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(c){return"ParserRuleContext"+c.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}};return l.EMPTY=new l,e([r.Override],l.prototype,"parent",null),e([r.Override],l.prototype,"childCount",null),e([r.Override],l.prototype,"sourceInterval",null),Pd.ParserRuleContext=l,Pd}var Q0={},VO;function wY(){return VO||(VO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Q0&&Q0.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionMode=void 0;const n=Pg(),r=mr(),i=Ve(),s=cy();(function(l){l[l.SLL=0]="SLL",l[l.LL=1]="LL",l[l.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(e.PredictionMode||(e.PredictionMode={})),function(l){class u extends n.Array2DHashMap{constructor(){super(c.INSTANCE)}}class c{AltAndContextConfigEqualityComparator(){}hashCode(x){let b=r.MurmurHash.initialize(7);return b=r.MurmurHash.update(b,x.state.stateNumber),b=r.MurmurHash.update(b,x.context),b=r.MurmurHash.finish(b,2),b}equals(x,b){return x===b?!0:x==null||b==null?!1:x.state.stateNumber===b.state.stateNumber&&x.context.equals(b.context)}}c.INSTANCE=new c,t([i.Override],c.prototype,"hashCode",null),t([i.Override],c.prototype,"equals",null);function g(m){for(let x of m)if(x.state instanceof s.RuleStopState)return!0;return!1}l.hasConfigInRuleStopState=g;function p(m){for(let x of m)if(!(x.state instanceof s.RuleStopState))return!1;return!0}l.allConfigsInRuleStopStates=p}(e.PredictionMode||(e.PredictionMode={}))}(Q0)),Q0}var Ql={},GO;function Yk(){if(GO)return Ql;GO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ql&&Ql.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Ql&&Ql.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.SimulatorState=void 0;const n=Ve(),r=Gs();let i=class{constructor(l,u,c,g){this.outerContext=l??r.ParserRuleContext.emptyContext(),this.s0=u,this.useContext=c,this.remainingOuterContext=g}};return i=e([t(1,n.NotNull)],i),Ql.SimulatorState=i,Ql}var $O;function fy(){if($O)return Zl;$O=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zl&&Zl.__decorate||function(pe,z,U,G){var W=arguments.length,Q=W<3?z:G===null?G=Object.getOwnPropertyDescriptor(z,U):G,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(pe,z,U,G);else for(var J=pe.length-1;J>=0;J--)(X=pe[J])&&(Q=(W<3?X(Q):W>3?X(z,U,Q):X(z,U))||Q);return W>3&&Q&&Object.defineProperty(z,U,Q),Q},t=Zl&&Zl.__param||function(pe,z){return function(U,G){z(U,G,pe)}};Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.ParserATNSimulator=void 0;const n=Ck(),r=Fk(),i=cf(),s=TR(),l=$a(),u=p1(),c=ly(),g=m1(),p=ti(),m=kk(),x=ff(),b=CY(),E=Th(),w=g1(),C=NR(),R=Zi(),T=af(),N=Ve(),D=PR(),F=b1(),B=Ga(),j=Gs(),k=Vs(),$=IR(),Z=wY(),ne=cy(),ie=LR(),he=Mg(),De=MR(),Te=Yk(),re=qn(),Ae=Nh(),de=_i(),ue=65535,K=-2147483648;let oe=class Ut extends g.ATNSimulator{constructor(z,U){super(z),this.predictionMode=Z.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=U}getPredictionMode(){return this.predictionMode}setPredictionMode(z){this.predictionMode=z}reset(){}adaptivePredict(z,U,G,W){W===void 0&&(W=!1);let Q=this.atn.decisionToDFA[U];if(de(Q!=null),this.optimize_ll1&&!Q.isPrecedenceDfa&&!Q.isEmpty){let xe=z.LA(1);if(xe>=0&&xe<=65535){let be=(U<<16>>>0)+xe,ae=this.atn.LL1Table.get(be);if(ae!=null)return ae}}this.dfa=Q,this.force_global_context?W=!0:this.always_try_local_context||(W=W||Q.isContextSensitive),this.userWantsCtxSensitive=W||this.predictionMode!==Z.PredictionMode.SLL&&G!=null&&!this.atn.decisionToState[U].sll,G==null&&(G=j.ParserRuleContext.emptyContext());let X;Q.isEmpty||(X=this.getStartState(Q,z,G,W)),X==null&&(G==null&&(G=j.ParserRuleContext.emptyContext()),Ut.debug&&console.log("ATN decision "+Q.decision+" exec LA(1)=="+this.getLookaheadName(z)+", outerContext="+G.toString(this._parser)),X=this.computeStartState(Q,G,W));let J=z.mark(),se=z.index;try{let xe=this.execDFA(Q,z,se,X);return Ut.debug&&console.log("DFA after predictATN: "+Q.toString(this._parser.vocabulary,this._parser.ruleNames)),xe}finally{this.dfa=void 0,z.seek(se),z.release(J)}}getStartState(z,U,G,W){if(!W)if(z.isPrecedenceDfa){let J=z.getPrecedenceStartState(this._parser.precedence,!1);return J==null?void 0:new Te.SimulatorState(G,J,!1,G)}else return z.s0==null?void 0:new Te.SimulatorState(G,z.s0,!1,G);if(!this.enable_global_context_dfa)return;let Q=G;de(G!=null);let X;for(z.isPrecedenceDfa?X=z.getPrecedenceStartState(this._parser.precedence,!0):X=z.s0full;Q!=null&&X!=null&&X.isContextSensitive;)Q=this.skipTailCalls(Q),X=X.getContextTarget(this.getReturnState(Q)),Q.isEmpty?de(X==null||!X.isContextSensitive):Q=Q.parent;if(X!=null)return new Te.SimulatorState(G,X,W,Q)}execDFA(z,U,G,W){let Q=W.outerContext;Ut.dfa_debug&&console.log("DFA decision "+z.decision+" exec LA(1)=="+this.getLookaheadName(U)+", outerContext="+Q.toString(this._parser)),Ut.dfa_debug&&console.log(z.toString(this._parser.vocabulary,this._parser.ruleNames));let X=W.s0,J=U.LA(1),se=W.remainingOuterContext;for(;;){if(Ut.dfa_debug&&console.log("DFA state "+X.stateNumber+" LA(1)=="+this.getLookaheadName(U)),W.useContext)for(;X.isContextSymbol(J);){let ae;if(se!=null&&(se=this.skipTailCalls(se),ae=X.getContextTarget(this.getReturnState(se))),ae==null){let le=new Te.SimulatorState(W.outerContext,X,W.useContext,se);return this.execATN(z,U,G,le)}de(se!=null),se=se.parent,X=ae}if(this.isAcceptState(X,W.useContext)){X.predicates!=null?Ut.dfa_debug&&console.log("accept "+X):Ut.dfa_debug&&console.log("accept; predict "+X.prediction+" in state "+X.stateNumber);break}de(!this.isAcceptState(X,W.useContext));let be=this.getExistingTargetState(X,J);if(be==null){Ut.dfa_debug&&J>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(J));let ae;if(Ut.dfa_debug){let Ce=R.Interval.of(G,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(Ce)+" at DFA state "+X.stateNumber)}let le=new Te.SimulatorState(Q,X,W.useContext,se);return ae=this.execATN(z,U,G,le),Ut.dfa_debug&&console.log("back from DFA update, alt="+ae+`, dfa=
`+z.toString(this._parser.vocabulary,this._parser.ruleNames)),Ut.dfa_debug&&console.log("DFA decision "+z.decision+" predicts "+ae),ae}else if(be===g.ATNSimulator.ERROR){let ae=new Te.SimulatorState(Q,X,W.useContext,se);return this.handleNoViableAlt(U,G,ae)}X=be,!this.isAcceptState(X,W.useContext)&&J!==T.IntStream.EOF&&(U.consume(),J=U.LA(1))}if(!W.useContext&&X.configs.conflictInfo!=null&&z.atnStartState instanceof E.DecisionState&&!(!this.userWantsCtxSensitive||!X.configs.dipsIntoOuterContext&&X.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&U.index===G)){de(!W.useContext);let be,ae=X.predicates;if(ae!=null){let le=U.index;if(le!==G&&U.seek(G),be=this.evalSemanticContext(ae,Q,!0),be.cardinality()===1)return be.nextSetBit(0);le!==G&&U.seek(le)}if(this.reportAmbiguities){let le=new Te.SimulatorState(Q,X,W.useContext,se);this.reportAttemptingFullContext(z,be,le,G,U.index)}return U.seek(G),this.adaptivePredict(U,z.decision,Q,!0)}let xe=X.predicates;if(xe!=null){let be=U.index;G!==be&&U.seek(G);let ae=this.evalSemanticContext(xe,Q,this.reportAmbiguities&&this.predictionMode===Z.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(ae.cardinality()){case 0:throw this.noViableAlt(U,Q,X.configs,G);case 1:return ae.nextSetBit(0);default:return G!==be&&U.seek(be),this.reportAmbiguity(z,X,G,be,X.configs.isExactConflict,ae,X.configs),ae.nextSetBit(0)}}return Ut.dfa_debug&&console.log("DFA decision "+z.decision+" predicts "+X.prediction),X.prediction}isAcceptState(z,U){return z.isAcceptState?z.configs.conflictingAlts==null?!0:U&&this.predictionMode===Z.PredictionMode.LL_EXACT_AMBIG_DETECTION?z.configs.isExactConflict:!0:!1}execATN(z,U,G,W){Ut.debug&&console.log("execATN decision "+z.decision+" exec LA(1)=="+this.getLookaheadName(U));let Q=W.outerContext,X=W.useContext,J=U.LA(1),se=W,xe=new $.PredictionContextCache;for(;;){let be=this.computeReachSet(z,se,J,xe);if(be==null)return this.setDFAEdge(se.s0,U.LA(1),g.ATNSimulator.ERROR),this.handleNoViableAlt(U,G,se);let ae=be.s0;if(de(ae.isAcceptState||ae.prediction===l.ATN.INVALID_ALT_NUMBER),de(ae.isAcceptState||ae.configs.conflictInfo==null),this.isAcceptState(ae,X)){let le=ae.configs.conflictingAlts,Ce=le==null?ae.prediction:l.ATN.INVALID_ALT_NUMBER;if(Ce!==l.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&U.index===G&&!z.isPrecedenceDfa&&be.outerContext===be.remainingOuterContext&&z.decision>=0&&!ae.configs.hasSemanticContext&&J>=0&&J<=ue){let je=(z.decision<<16>>>0)+J;this.atn.LL1Table.set(je,Ce)}X&&this.always_try_local_context&&this.reportContextSensitivity(z,Ce,be,G,U.index)}Ce=ae.prediction;let Oe=le!=null&&this.userWantsCtxSensitive;if(Oe&&(Oe=!X&&(ae.configs.dipsIntoOuterContext||!ae.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||U.index!==G)),ae.configs.hasSemanticContext){let je=ae.predicates;if(je!=null){let Ue=U.index;switch(Ue!==G&&U.seek(G),le=this.evalSemanticContext(je,Q,Oe||this.reportAmbiguities),le.cardinality()){case 0:throw this.noViableAlt(U,Q,ae.configs,G);case 1:return le.nextSetBit(0)}Ue!==G&&U.seek(Ue)}}if(Oe){de(!X),de(this.isAcceptState(ae,!1)),Ut.debug&&console.log("RETRY with outerContext="+Q);let je=this.computeStartState(z,Q,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(z,le,be,G,U.index),U.seek(G),this.execATN(z,U,G,je)}else return le!=null&&(this.reportAmbiguities&&le.cardinality()>1&&this.reportAmbiguity(z,ae,G,U.index,ae.configs.isExactConflict,le,ae.configs),Ce=le.nextSetBit(0)),Ce}se=be,J!==T.IntStream.EOF&&(U.consume(),J=U.LA(1))}}handleNoViableAlt(z,U,G){if(G.s0!=null){let W=new x.BitSet,Q=0;for(let X of G.s0.configs)(X.reachesIntoOuterContext||X.state instanceof ne.RuleStopState)&&(W.set(X.alt),Q=Math.max(Q,X.alt));switch(W.cardinality()){case 0:break;case 1:return W.nextSetBit(0);default:if(!G.s0.configs.hasSemanticContext)return W.nextSetBit(0);let X=new c.ATNConfigSet;for(let se of G.s0.configs)(se.reachesIntoOuterContext||se.state instanceof ne.RuleStopState)&&X.add(se);let J=this.getPredsForAmbigAlts(W,X,Q);if(J!=null){let se=this.getPredicatePredictions(W,J);if(se!=null){let xe=z.index;try{z.seek(U);let be=this.evalSemanticContext(se,G.outerContext,!1);if(!be.isEmpty)return be.nextSetBit(0)}finally{z.seek(xe)}}}return W.nextSetBit(0)}}throw this.noViableAlt(z,G.outerContext,G.s0.configs,U)}computeReachSet(z,U,G,W){let Q=U.useContext,X=U.remainingOuterContext,J=U.s0;if(Q)for(;J.isContextSymbol(G);){let be;if(X!=null&&(X=this.skipTailCalls(X),be=J.getContextTarget(this.getReturnState(X))),be==null)break;de(X!=null),X=X.parent,J=be}if(de(!this.isAcceptState(J,Q)),this.isAcceptState(J,Q))return new Te.SimulatorState(U.outerContext,J,Q,X);let se=J,xe=this.getExistingTargetState(se,G);if(xe==null){let be=this.computeTargetState(z,se,X,G,Q,W);xe=be[0],X=be[1]}if(xe!==g.ATNSimulator.ERROR)return de(!Q||!xe.configs.dipsIntoOuterContext),new Te.SimulatorState(U.outerContext,xe,Q,X)}getExistingTargetState(z,U){return z.getTarget(U)}computeTargetState(z,U,G,W,Q,X){let J=U.configs.toArray(),se,xe=new c.ATNConfigSet,be;do{let le=!Q||G!=null;le||(xe.isOutermostConfigSet=!0);let Ce=new c.ATNConfigSet,Oe;for(let ve of J){if(Ut.debug&&console.log("testing "+this.getTokenName(W)+" at "+ve.toString()),ve.state instanceof ne.RuleStopState){de(ve.context.isEmpty),(Q&&!ve.reachesIntoOuterContext||W===T.IntStream.EOF)&&(Oe==null&&(Oe=[]),Oe.push(ve));continue}let Pe=ve.state.numberOfOptimizedTransitions;for(let Ze=0;Ze<Pe;Ze++){let pt=ve.state.getOptimizedTransition(Ze),gt=this.getReachableTarget(ve,pt,W);gt!=null&&Ce.add(ve.transform(gt,!1),X)}}if(this.optimize_unique_closure&&Oe==null&&W!==re.Token.EOF&&Ce.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER){Ce.isOutermostConfigSet=xe.isOutermostConfigSet,xe=Ce;break}let je=!1,Ue=W===re.Token.EOF;if(this.closure(Ce,xe,je,le,X,Ue),be=xe.dipsIntoOuterContext,W===T.IntStream.EOF&&(xe=this.removeAllConfigsNotInRuleStopState(xe,X)),Oe!=null&&(!Q||!Z.PredictionMode.hasConfigInRuleStopState(xe))){de(Oe.length>0);for(let ve of Oe)xe.add(ve,X)}if(Q&&be){xe.clear(),G=G,G=this.skipTailCalls(G);let ve=this.getReturnState(G);if(se==null&&(se=new C.IntegerList),G.isEmpty?G=void 0:G=G.parent,se.add(ve),ve!==k.PredictionContext.EMPTY_FULL_STATE_KEY)for(let Pe=0;Pe<J.length;Pe++)J[Pe]=J[Pe].appendContext(ve,X)}}while(Q&&be);return xe.isEmpty?(this.setDFAEdge(U,W,g.ATNSimulator.ERROR),[g.ATNSimulator.ERROR,G]):[this.addDFAEdge(z,U,W,se,xe,X),G]}removeAllConfigsNotInRuleStopState(z,U){if(Z.PredictionMode.allConfigsInRuleStopStates(z))return z;let G=new c.ATNConfigSet;for(let W of z)W.state instanceof ne.RuleStopState&&G.add(W,U);return G}computeStartState(z,U,G){let W=z.isPrecedenceDfa?z.getPrecedenceStartState(this._parser.precedence,G):G?z.s0full:z.s0;if(W!=null){if(!G)return new Te.SimulatorState(U,W,G,U);W.setContextSensitive(this.atn)}z.decision;let Q=z.atnStartState,X=0,J=U,se=G?k.PredictionContext.EMPTY_FULL:k.PredictionContext.EMPTY_LOCAL,xe=new $.PredictionContextCache;if(G){if(!this.enable_global_context_dfa)for(;J!=null;)J.isEmpty?(X=k.PredictionContext.EMPTY_FULL_STATE_KEY,J=void 0):(X=this.getReturnState(J),se=se.appendSingleContext(X,xe),J=J.parent);for(;W!=null&&W.isContextSensitive&&J!=null;){let ae;if(J=this.skipTailCalls(J),J.isEmpty?(ae=W.getContextTarget(k.PredictionContext.EMPTY_FULL_STATE_KEY),X=k.PredictionContext.EMPTY_FULL_STATE_KEY,J=void 0):(X=this.getReturnState(J),ae=W.getContextTarget(X),se=se.appendSingleContext(X,xe),J=J.parent),ae==null)break;W=ae}}if(W!=null&&!W.isContextSensitive)return new Te.SimulatorState(U,W,G,J);let be=new c.ATNConfigSet;for(;;){let ae=new c.ATNConfigSet,le=Q.numberOfTransitions;for(let Pe=0;Pe<le;Pe++){let Ze=Q.transition(Pe).target;ae.add(u.ATNConfig.create(Ze,Pe+1,se))}let Ce=J!=null;Ce||(be.isOutermostConfigSet=!0),this.closure(ae,be,!0,Ce,xe,!1);let je=be.dipsIntoOuterContext,Ue;if(G&&!this.enable_global_context_dfa){W=this.addDFAState(z,be,xe);break}else W==null?z.isPrecedenceDfa?(be=this.applyPrecedenceFilter(be,U,xe),Ue=this.addDFAState(z,be,xe),z.setPrecedenceStartState(this._parser.precedence,G,Ue)):(Ue=this.addDFAState(z,be,xe),G?z.s0full?Ue=z.s0full:z.s0full=Ue:z.s0?Ue=z.s0:z.s0=Ue):(z.isPrecedenceDfa&&(be=this.applyPrecedenceFilter(be,U,xe)),Ue=this.addDFAState(z,be,xe),W.setContextTarget(X,Ue));if(W=Ue,!G||!je)break;Ue.setContextSensitive(this.atn),J=J,be.clear(),J=this.skipTailCalls(J);let ve=this.getReturnState(J);J.isEmpty?J=void 0:J=J.parent,ve!==k.PredictionContext.EMPTY_FULL_STATE_KEY&&(se=se.appendSingleContext(ve,xe)),X=ve}return new Te.SimulatorState(U,W,G,J)}applyPrecedenceFilter(z,U,G){let W=new Map,Q=new c.ATNConfigSet;for(let X of z){if(X.alt!==1)continue;let J=X.semanticContext.evalPrecedence(this._parser,U);J!=null&&(W.set(X.state.stateNumber,X.context),J!==X.semanticContext?Q.add(X.transform(X.state,!1,J),G):Q.add(X,G))}for(let X of z)if(X.alt!==1){if(!X.isPrecedenceFilterSuppressed){let J=W.get(X.state.stateNumber);if(J!=null&&J.equals(X.context))continue}Q.add(X,G)}return Q}getReachableTarget(z,U,G){if(U.matches(G,0,this.atn.maxTokenType))return U.target}predicateDFAState(z,U,G){let W=this.getConflictingAltsFromConfigSet(U);if(!W)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");Ut.debug&&console.log("predicateDFAState "+z);let Q=this.getPredsForAmbigAlts(W,U,G),X;return Q!=null&&(X=this.getPredicatePredictions(W,Q),z.predicates=X),X}getPredsForAmbigAlts(z,U,G){let W=new Array(G+1),Q=W.length;for(let se of U)z.get(se.alt)&&(W[se.alt]=he.SemanticContext.or(W[se.alt],se.semanticContext));let X=0;for(let se=0;se<Q;se++)W[se]==null?W[se]=he.SemanticContext.NONE:W[se]!==he.SemanticContext.NONE&&X++;let J=W;return X===0&&(J=void 0),Ut.debug&&console.log("getPredsForAmbigAlts result "+(J?s.Arrays.toString(J):"undefined")),J}getPredicatePredictions(z,U){let G=[],W=!1;for(let Q=1;Q<U.length;Q++){let X=U[Q];de(X!=null),z!=null&&z.get(Q)&&X===he.SemanticContext.NONE?G.push(new w.DFAState.PredPrediction(X,Q)):X!==he.SemanticContext.NONE&&(W=!0,G.push(new w.DFAState.PredPrediction(X,Q)))}if(W)return G}evalSemanticContext(z,U,G){let W=new x.BitSet;for(let Q of z){if(Q.pred===he.SemanticContext.NONE){if(W.set(Q.alt),!G)break;continue}let X=this.evalSemanticContextImpl(Q.pred,U,Q.alt);if((Ut.debug||Ut.dfa_debug)&&console.log("eval pred "+Q+"="+X),X&&((Ut.debug||Ut.dfa_debug)&&console.log("PREDICT "+Q.alt),W.set(Q.alt),!G))break}return W}evalSemanticContextImpl(z,U,G){return z.eval(this._parser,U)}closure(z,U,G,W,Q,X){Q==null&&(Q=$.PredictionContextCache.UNCACHED);let J=z,se=new i.Array2DHashSet(B.ObjectEqualityComparator.INSTANCE);for(;J.size>0;){let xe=new c.ATNConfigSet;for(let be of J)this.closureImpl(be,U,xe,se,G,W,Q,0,X);J=xe}}closureImpl(z,U,G,W,Q,X,J,se,xe){if(Ut.debug&&console.log("closure("+z.toString(this._parser,!0)+")"),z.state instanceof ne.RuleStopState)if(z.context.isEmpty)if(X)Ut.debug&&console.log("FALLING off rule "+this.getRuleName(z.state.ruleIndex)),z.context===k.PredictionContext.EMPTY_FULL?z=z.transform(z.state,!1,k.PredictionContext.EMPTY_LOCAL):!z.reachesIntoOuterContext&&k.PredictionContext.isEmptyLocal(z.context)&&U.add(z,J);else{U.add(z,J);return}else{let ae=z.context.hasEmpty,le=z.context.size-(ae?1:0);for(let Ce=0;Ce<le;Ce++){let Oe=z.context.getParent(Ce),je=this.atn.states[z.context.getReturnState(Ce)],Ue=u.ATNConfig.create(je,z.alt,Oe,z.semanticContext);Ue.outerContextDepth=z.outerContextDepth,Ue.isPrecedenceFilterSuppressed=z.isPrecedenceFilterSuppressed,de(se>K),this.closureImpl(Ue,U,G,W,Q,X,J,se-1,xe)}if(!ae||!X)return;z=z.transform(z.state,!1,k.PredictionContext.EMPTY_LOCAL)}let be=z.state;be.onlyHasEpsilonTransitions||(U.add(z,J),Ut.debug&&console.log("added config "+U));for(let ae=0;ae<be.numberOfOptimizedTransitions;ae++){if(ae===0&&be.stateType===p.ATNStateType.STAR_LOOP_ENTRY&&be.precedenceRuleDecision&&!z.context.hasEmpty){let je=be,Ue=!0;for(let ve=0;ve<z.context.size;ve++)if(!je.precedenceLoopbackStates.get(z.context.getReturnState(ve))){Ue=!1;break}if(Ue)continue}let le=be.getOptimizedTransition(ae),Ce=!(le instanceof r.ActionTransition)&&Q,Oe=this.getEpsilonTarget(z,le,Ce,se===0,J,xe);if(Oe!=null){if(le instanceof ie.RuleTransition&&G!=null&&!Q){G.add(Oe,J);continue}let je=se;if(z.state instanceof ne.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&le.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(Oe.isPrecedenceFilterSuppressed=!0),Oe.outerContextDepth=Oe.outerContextDepth+1,!W.add(Oe))continue;de(je>K),je--,Ut.debug&&console.log("dips into outer ctx: "+Oe)}else if(le instanceof ie.RuleTransition)this.optimize_tail_calls&&le.optimizedTailCall&&(!this.tail_call_preserves_sll||!k.PredictionContext.isEmptyLocal(z.context))?(de(Oe.context===z.context),je===0&&(je--,!this.tail_call_preserves_sll&&k.PredictionContext.isEmptyLocal(z.context)&&(Oe.outerContextDepth=Oe.outerContextDepth+1))):je>=0&&je++;else if(!le.isEpsilon&&!W.add(Oe))continue;this.closureImpl(Oe,U,G,W,Ce,X,J,je,xe)}}}getRuleName(z){return this._parser!=null&&z>=0?this._parser.ruleNames[z]:"<rule "+z+">"}getEpsilonTarget(z,U,G,W,Q,X){switch(U.serializationType){case 3:return this.ruleTransition(z,U,Q);case 10:return this.precedenceTransition(z,U,G,W);case 4:return this.predTransition(z,U,G,W);case 6:return this.actionTransition(z,U);case 1:return z.transform(U.target,!1);case 5:case 2:case 7:return X&&U.matches(re.Token.EOF,0,1)?z.transform(U.target,!1):void 0;default:return}}actionTransition(z,U){return Ut.debug&&console.log("ACTION edge "+U.ruleIndex+":"+U.actionIndex),z.transform(U.target,!1)}precedenceTransition(z,U,G,W){Ut.debug&&(console.log("PRED (collectPredicates="+G+") "+U.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let Q;if(G&&W){let X=he.SemanticContext.and(z.semanticContext,U.predicate);Q=z.transform(U.target,!1,X)}else Q=z.transform(U.target,!1);return Ut.debug&&console.log("config from pred transition="+Q),Q}predTransition(z,U,G,W){Ut.debug&&(console.log("PRED (collectPredicates="+G+") "+U.ruleIndex+":"+U.predIndex+", ctx dependent="+U.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let Q;if(G&&(!U.isCtxDependent||U.isCtxDependent&&W)){let X=he.SemanticContext.and(z.semanticContext,U.predicate);Q=z.transform(U.target,!1,X)}else Q=z.transform(U.target,!1);return Ut.debug&&console.log("config from pred transition="+Q),Q}ruleTransition(z,U,G){Ut.debug&&console.log("CALL rule "+this.getRuleName(U.target.ruleIndex)+", ctx="+z.context);let W=U.followState,Q;return this.optimize_tail_calls&&U.optimizedTailCall&&(!this.tail_call_preserves_sll||!k.PredictionContext.isEmptyLocal(z.context))?Q=z.context:G!=null?Q=G.getChild(z.context,W.stateNumber):Q=z.context.getChild(W.stateNumber),z.transform(U.target,!1,Q)}isConflicted(z,U){if(z.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER||z.size<=1)return;let G=z.toArray();G.sort(Ut.STATE_ALT_SORT_COMPARATOR);let W=!z.dipsIntoOuterContext,Q=new x.BitSet,X=G[0].alt;Q.set(X);let J=G[0].state.nonStopStateNumber;for(let le of G){let Ce=le.state.nonStopStateNumber;if(Ce!==J){if(le.alt!==X)return;J=Ce}}let se;if(W){J=G[0].state.nonStopStateNumber,se=new x.BitSet;let le=X;for(let Oe of G){if(Oe.state.nonStopStateNumber!==J)break;let je=Oe.alt;se.set(je),le=je}J=G[0].state.nonStopStateNumber;let Ce=X;for(let Oe of G){let je=Oe.state.nonStopStateNumber,Ue=Oe.alt;if(je!==J){if(Ce!==le){W=!1;break}J=je,Ce=X}else if(Ue!==Ce){if(Ue!==se.nextSetBit(Ce+1)){W=!1;break}Ce=Ue}}}J=G[0].state.nonStopStateNumber;let xe=0,be=0,ae=G[0].context;for(let le=1;le<G.length;le++){let Ce=G[le];if(Ce.alt!==X||Ce.state.nonStopStateNumber!==J)break;be=le,ae=U.join(ae,G[le].context)}for(let le=be+1;le<G.length;le++){let Ce=G[le],Oe=Ce.state;if(Q.set(Ce.alt),Oe.nonStopStateNumber!==J){J=Oe.nonStopStateNumber,xe=le,be=le,ae=Ce.context;for(let Ze=xe+1;Ze<G.length;Ze++){let pt=G[Ze];if(pt.alt!==X||pt.state.nonStopStateNumber!==J)break;be=Ze,ae=U.join(ae,pt.context)}le=be;continue}let je=Ce.context,Ue=Ce.alt,ve=le;for(let Ze=ve+1;Ze<G.length;Ze++){let pt=G[Ze];if(pt.alt!==Ue||pt.state.nonStopStateNumber!==J)break;ve=Ze,je=U.join(je,pt.context)}le=ve;let Pe=U.join(ae,je);if(!ae.equals(Pe))return;W=W&&ae.equals(je)}return new b.ConflictInfo(Q,W)}getConflictingAltsFromConfigSet(z){let U=z.conflictingAlts;return U==null&&z.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER&&(U=new x.BitSet,U.set(z.uniqueAlt)),U}getTokenName(z){if(z===re.Token.EOF)return"EOF";let G=(this._parser!=null?this._parser.vocabulary:Ae.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(z);return G===String(z)?G:G+"<"+z+">"}getLookaheadName(z){return this.getTokenName(z.LA(1))}dumpDeadEndConfigs(z){console.log("dead end configs: ");let U=z.deadEndConfigs;if(U)for(let G of U){let W="no edges";if(G.state.numberOfOptimizedTransitions>0){let Q=G.state.getOptimizedTransition(0);Q instanceof m.AtomTransition?W="Atom "+this.getTokenName(Q._label):Q instanceof De.SetTransition&&(W=(Q instanceof D.NotSetTransition?"~":"")+"Set "+Q.set.toString())}console.log(G.toString(this._parser,!0)+":"+W)}}noViableAlt(z,U,G,W){return new F.NoViableAltException(this._parser,z,z.get(W),z.LT(1),G,U)}getUniqueAlt(z){let U=l.ATN.INVALID_ALT_NUMBER;for(let G of z)if(U===l.ATN.INVALID_ALT_NUMBER)U=G.alt;else if(G.alt!==U)return l.ATN.INVALID_ALT_NUMBER;return U}configWithAltAtStopState(z,U){for(let G of z)if(G.alt===U&&G.state instanceof ne.RuleStopState)return!0;return!1}addDFAEdge(z,U,G,W,Q,X){de(W==null||W.isEmpty||z.isContextSensitive);let J=U,se=this.addDFAState(z,Q,X);if(W!=null)for(let xe of W.toArray()){if(xe===k.PredictionContext.EMPTY_FULL_STATE_KEY&&J.configs.isOutermostConfigSet)continue;J.setContextSensitive(this.atn),J.setContextSymbol(G);let be=J.getContextTarget(xe);if(be!=null){J=be;continue}be=this.addDFAContextState(z,J.configs,xe,X),de(xe!==k.PredictionContext.EMPTY_FULL_STATE_KEY||be.configs.isOutermostConfigSet),J.setContextTarget(xe,be),J=be}return Ut.debug&&console.log("EDGE "+J+" -> "+se+" upon "+this.getTokenName(G)),this.setDFAEdge(J,G,se),Ut.debug&&console.log(`DFA=
`+z.toString(this._parser!=null?this._parser.vocabulary:Ae.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),se}setDFAEdge(z,U,G){z!=null&&z.setTarget(U,G)}addDFAContextState(z,U,G,W){if(G!==k.PredictionContext.EMPTY_FULL_STATE_KEY){let Q=new c.ATNConfigSet;for(let X of U)Q.add(X.appendContext(G,W));return this.addDFAState(z,Q,W)}else return de(!U.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),U=U.clone(!0),U.isOutermostConfigSet=!0,this.addDFAState(z,U,W)}addDFAState(z,U,G){let W=this.enable_global_context_dfa||!U.isOutermostConfigSet;if(W){U.isReadOnly||U.optimizeConfigs(this);let xe=this.createDFAState(z,U),be=z.states.get(xe);if(be!=null)return be}U.isReadOnly||U.conflictInfo==null&&(U.conflictInfo=this.isConflicted(U,G));let Q=this.createDFAState(z,U.clone(!0)),X=this.atn.getDecisionState(z.decision),J=this.getUniqueAlt(U);if(J!==l.ATN.INVALID_ALT_NUMBER)Q.acceptStateInfo=new n.AcceptStateInfo(J);else if(U.conflictingAlts!=null){let xe=U.conflictingAlts;xe&&(Q.acceptStateInfo=new n.AcceptStateInfo(xe.nextSetBit(0)))}if(Q.isAcceptState&&U.hasSemanticContext&&this.predicateDFAState(Q,U,X.numberOfTransitions),!W)return Q;let se=z.addState(Q);return Ut.debug&&se===Q&&console.log("adding new DFA state: "+Q),se}createDFAState(z,U){return new w.DFAState(U)}reportAttemptingFullContext(z,U,G,W,Q){if(Ut.debug||Ut.retry_debug){let X=R.Interval.of(W,Q);console.log("reportAttemptingFullContext decision="+z.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(X))}if(this._parser!=null){let X=this._parser.getErrorListenerDispatch();X.reportAttemptingFullContext&&X.reportAttemptingFullContext(this._parser,z,W,Q,U,G)}}reportContextSensitivity(z,U,G,W,Q){if(Ut.debug||Ut.retry_debug){let X=R.Interval.of(W,Q);console.log("reportContextSensitivity decision="+z.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(X))}if(this._parser!=null){let X=this._parser.getErrorListenerDispatch();X.reportContextSensitivity&&X.reportContextSensitivity(this._parser,z,W,Q,U,G)}}reportAmbiguity(z,U,G,W,Q,X,J){if(Ut.debug||Ut.retry_debug){let se=R.Interval.of(G,W);console.log("reportAmbiguity "+X+":"+J+", input="+this._parser.inputStream.getText(se))}if(this._parser!=null){let se=this._parser.getErrorListenerDispatch();se.reportAmbiguity&&se.reportAmbiguity(this._parser,z,G,W,Q,X,J)}}getReturnState(z){return z.isEmpty?k.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[z.invokingState].transition(0).followState.stateNumber}skipTailCalls(z){if(!this.optimize_tail_calls)return z;for(;!z.isEmpty;){let U=this.atn.states[z.invokingState];if(de(U.numberOfTransitions===1&&U.transition(0).serializationType===3),!U.transition(0).tailCall)break;z=z.parent}return z}get parser(){return this._parser}};return oe.debug=!1,oe.dfa_debug=!1,oe.retry_debug=!1,oe.STATE_ALT_SORT_COMPARATOR=(pe,z)=>{let U=pe.state.nonStopStateNumber-z.state.nonStopStateNumber;return U!==0||(U=pe.alt-z.alt,U!==0)?U:0},e([N.NotNull],oe.prototype,"predictionMode",void 0),e([N.NotNull],oe.prototype,"getPredictionMode",null),e([t(0,N.NotNull)],oe.prototype,"setPredictionMode",null),e([N.Override],oe.prototype,"reset",null),e([t(0,N.NotNull)],oe.prototype,"adaptivePredict",null),e([t(0,N.NotNull),t(1,N.NotNull),t(2,N.NotNull)],oe.prototype,"getStartState",null),e([t(0,N.NotNull),t(1,N.NotNull),t(3,N.NotNull)],oe.prototype,"execDFA",null),e([t(0,N.NotNull),t(1,N.NotNull),t(3,N.NotNull)],oe.prototype,"execATN",null),e([t(0,N.NotNull),t(2,N.NotNull)],oe.prototype,"handleNoViableAlt",null),e([t(0,N.NotNull)],oe.prototype,"getExistingTargetState",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"computeTargetState",null),e([N.NotNull,t(0,N.NotNull)],oe.prototype,"removeAllConfigsNotInRuleStopState",null),e([N.NotNull],oe.prototype,"computeStartState",null),e([N.NotNull,t(0,N.NotNull)],oe.prototype,"applyPrecedenceFilter",null),e([t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"getReachableTarget",null),e([t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"getPredsForAmbigAlts",null),e([t(0,N.NotNull)],oe.prototype,"evalSemanticContext",null),e([t(0,N.NotNull)],oe.prototype,"evalSemanticContextImpl",null),e([t(1,N.NotNull),t(4,N.Nullable)],oe.prototype,"closure",null),e([t(0,N.NotNull),t(1,N.NotNull),t(2,N.Nullable),t(3,N.NotNull),t(6,N.NotNull)],oe.prototype,"closureImpl",null),e([N.NotNull],oe.prototype,"getRuleName",null),e([t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"getEpsilonTarget",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"actionTransition",null),e([N.Nullable,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"precedenceTransition",null),e([N.Nullable,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"predTransition",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull),t(2,N.Nullable)],oe.prototype,"ruleTransition",null),e([t(0,N.NotNull)],oe.prototype,"isConflicted",null),e([N.NotNull],oe.prototype,"getTokenName",null),e([t(0,N.NotNull)],oe.prototype,"dumpDeadEndConfigs",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull),t(2,N.NotNull)],oe.prototype,"noViableAlt",null),e([t(0,N.NotNull)],oe.prototype,"getUniqueAlt",null),e([t(0,N.NotNull)],oe.prototype,"configWithAltAtStopState",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull),t(4,N.NotNull)],oe.prototype,"addDFAEdge",null),e([t(0,N.Nullable),t(2,N.Nullable)],oe.prototype,"setDFAEdge",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"addDFAContextState",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"addDFAState",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"createDFAState",null),e([t(0,N.NotNull),t(2,N.NotNull)],oe.prototype,"reportAttemptingFullContext",null),e([t(0,N.NotNull),t(2,N.NotNull)],oe.prototype,"reportContextSensitivity",null),e([t(0,N.NotNull),t(5,N.NotNull),t(6,N.NotNull)],oe.prototype,"reportAmbiguity",null),oe=e([t(0,N.NotNull)],oe),Zl.ParserATNSimulator=oe,Zl}var Bd={},HO;function RY(){if(HO)return Bd;HO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bd&&Bd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.PlusBlockStartState=void 0;const t=ti(),n=x1(),r=Ve();let i=class extends n.BlockStartState{get stateType(){return t.ATNStateType.PLUS_BLOCK_START}};return e([r.Override],i.prototype,"stateType",null),Bd.PlusBlockStartState=i,Bd}var jd={},WO;function TY(){if(WO)return jd;WO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jd&&jd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(jd,"__esModule",{value:!0}),jd.PlusLoopbackState=void 0;const t=ti(),n=Th(),r=Ve();let i=class extends n.DecisionState{get stateType(){return t.ATNStateType.PLUS_LOOP_BACK}};return e([r.Override],i.prototype,"stateType",null),jd.PlusLoopbackState=i,jd}var eu={},YO;function NY(){if(YO)return eu;YO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=eu&&eu.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=eu&&eu.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(eu,"__esModule",{value:!0}),eu.PrecedencePredicateTransition=void 0;const n=RR(),r=Ve(),i=Mg();let s=class extends n.AbstractPredicateTransition{constructor(u,c){super(u),this.precedence=c}get serializationType(){return 10}get isEpsilon(){return!0}matches(u,c,g){return!1}get predicate(){return new i.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};return e([r.Override],s.prototype,"serializationType",null),e([r.Override],s.prototype,"isEpsilon",null),e([r.Override],s.prototype,"matches",null),e([r.Override],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),eu.PrecedencePredicateTransition=s,eu}var tu={},qO;function _Y(){if(qO)return tu;qO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=tu&&tu.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=tu&&tu.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(tu,"__esModule",{value:!0}),tu.RangeTransition=void 0;const n=_h(),r=Ve(),i=uf();let s=class extends i.Transition{constructor(u,c,g){super(u),this.from=c,this.to=g}get serializationType(){return 2}get label(){return n.IntervalSet.of(this.from,this.to)}matches(u,c,g){return u>=this.from&&u<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};return e([r.Override],s.prototype,"serializationType",null),e([r.Override,r.NotNull],s.prototype,"label",null),e([r.Override],s.prototype,"matches",null),e([r.Override,r.NotNull],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),tu.RangeTransition=s,tu}var zd={},KO;function IY(){if(KO)return zd;KO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zd&&zd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(zd,"__esModule",{value:!0}),zd.RuleStartState=void 0;const t=Lu(),n=ti(),r=Ve();let i=class extends t.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return n.ATNStateType.RULE_START}};return e([r.Override],i.prototype,"stateType",null),zd.RuleStartState=i,zd}var Ud={},XO;function OY(){if(XO)return Ud;XO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ud&&Ud.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.StarBlockStartState=void 0;const t=ti(),n=x1(),r=Ve();let i=class extends n.BlockStartState{get stateType(){return t.ATNStateType.STAR_BLOCK_START}};return e([r.Override],i.prototype,"stateType",null),Ud.StarBlockStartState=i,Ud}var Vd={},ZO;function DY(){if(ZO)return Vd;ZO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vd&&Vd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.StarLoopbackState=void 0;const t=Lu(),n=ti(),r=Ve();let i=class extends t.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return n.ATNStateType.STAR_LOOP_BACK}};return e([r.Override],i.prototype,"stateType",null),Vd.StarLoopbackState=i,Vd}var Gd={},JO;function MY(){if(JO)return Gd;JO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gd&&Gd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.TokensStartState=void 0;const t=ti(),n=Th(),r=Ve();let i=class extends n.DecisionState{get stateType(){return t.ATNStateType.TOKEN_START}};return e([r.Override],i.prototype,"stateType",null),Gd.TokensStartState=i,Gd}var ev={},QO;function PY(){if(QO)return ev;QO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(ev,"__esModule",{value:!0}),ev.UUID=void 0;const e=mr();let t=class n2{constructor(r,i,s,l){this.data=new Uint32Array(4),this.data[0]=r,this.data[1]=i,this.data[2]=s,this.data[3]=l}static fromString(r){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(r))throw new Error("Incorrectly formatted UUID");let i=r.split("-"),s=parseInt(i[0],16),l=(parseInt(i[1],16)<<16>>>0)+parseInt(i[2],16),u=(parseInt(i[3],16)<<16>>>0)+parseInt(i[4].substr(0,4),16),c=parseInt(i[4].substr(-8),16);return new n2(s,l,u,c)}hashCode(){return e.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(r){return r===this?!0:r instanceof n2?this.data[0]===r.data[0]&&this.data[1]===r.data[1]&&this.data[2]===r.data[2]&&this.data[3]===r.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};return ev.UUID=t,ev}var eD;function BR(){if(eD)return Vl;eD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vl&&Vl.__decorate||function(be,ae,le,Ce){var Oe=arguments.length,je=Oe<3?ae:Ce===null?Ce=Object.getOwnPropertyDescriptor(ae,le):Ce,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(be,ae,le,Ce);else for(var ve=be.length-1;ve>=0;ve--)(Ue=be[ve])&&(je=(Oe<3?Ue(je):Oe>3?Ue(ae,le,je):Ue(ae,le))||je);return Oe>3&&je&&Object.defineProperty(ae,le,je),je},t=Vl&&Vl.__param||function(be,ae){return function(le,Ce){ae(le,Ce,be)}};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.ATNDeserializer=void 0;const n=Fk(),r=cf(),i=$a(),s=Lk(),l=ti(),u=kk(),c=hY(),g=Ik(),p=ff(),m=pY(),x=x1(),b=Th(),E=_k(),w=gY(),C=_h(),R=Ok(),T=mY(),N=vY(),D=yY(),F=xY(),B=bY(),j=SY(),k=AY(),$=EY(),Z=Gk(),ne=Ve(),ie=PR(),he=fy(),De=RY(),Te=TY(),re=NY(),Ae=Sk(),de=_Y(),ue=IY(),K=cy(),oe=LR(),pe=MR(),z=OY(),U=DY(),G=DR(),W=qn(),Q=MY(),X=PY(),J=Dk();var se;(function(be){be[be.UNICODE_BMP=0]="UNICODE_BMP",be[be.UNICODE_SMP=1]="UNICODE_SMP"})(se||(se={}));let xe=class ht{constructor(ae){ae===void 0&&(ae=s.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=ae}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(ae,le){let Ce=ht.SUPPORTED_UUIDS.findIndex(Oe=>Oe.equals(ae));return Ce<0?!1:ht.SUPPORTED_UUIDS.findIndex(Oe=>Oe.equals(le))>=Ce}static getUnicodeDeserializer(ae){return ae===0?{readUnicode:(le,Ce)=>ht.toInt(le[Ce]),size:1}:{readUnicode:(le,Ce)=>ht.toInt32(le,Ce),size:2}}deserialize(ae){ae=ae.slice(0);for(let ke=1;ke<ae.length;ke++)ae[ke]=ae[ke]-2&65535;let le=0,Ce=ht.toInt(ae[le++]);if(Ce!==ht.SERIALIZED_VERSION){let ke=`Could not deserialize ATN with version ${Ce} (expected ${ht.SERIALIZED_VERSION}).`;throw new Error(ke)}let Oe=ht.toUUID(ae,le);if(le+=8,ht.SUPPORTED_UUIDS.findIndex(ke=>ke.equals(Oe))<0){let ke=`Could not deserialize ATN with UUID ${Oe} (expected ${ht.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(ke)}let je=ht.isFeatureSupported(ht.ADDED_LEXER_ACTIONS,Oe),Ue=ht.toInt(ae[le++]),ve=ht.toInt(ae[le++]),Pe=new i.ATN(Ue,ve),Ze=[],pt=[],gt=ht.toInt(ae[le++]);for(let ke=0;ke<gt;ke++){let rt=ht.toInt(ae[le++]);if(rt===l.ATNStateType.INVALID_TYPE){Pe.addState(new R.InvalidState);continue}let mt=ht.toInt(ae[le++]);mt===65535&&(mt=-1);let At=this.stateFactory(rt,mt);if(rt===l.ATNStateType.LOOP_END){let Mt=ht.toInt(ae[le++]);Ze.push([At,Mt])}else if(At instanceof x.BlockStartState){let Mt=ht.toInt(ae[le++]);pt.push([At,Mt])}Pe.addState(At)}for(let ke of Ze)ke[0].loopBackState=Pe.states[ke[1]];for(let ke of pt)ke[0].endState=Pe.states[ke[1]];let me=ht.toInt(ae[le++]);for(let ke=0;ke<me;ke++){let rt=ht.toInt(ae[le++]);Pe.states[rt].nonGreedy=!0}let _e=ht.toInt(ae[le++]);for(let ke=0;ke<_e;ke++){let rt=ht.toInt(ae[le++]);Pe.states[rt].sll=!0}let qe=ht.toInt(ae[le++]);for(let ke=0;ke<qe;ke++){let rt=ht.toInt(ae[le++]);Pe.states[rt].isPrecedenceRule=!0}let Ye=ht.toInt(ae[le++]);Pe.grammarType===0&&(Pe.ruleToTokenType=new Int32Array(Ye)),Pe.ruleToStartState=new Array(Ye);for(let ke=0;ke<Ye;ke++){let rt=ht.toInt(ae[le++]),mt=Pe.states[rt];if(mt.leftFactored=ht.toInt(ae[le++])!==0,Pe.ruleToStartState[ke]=mt,Pe.grammarType===0){let At=ht.toInt(ae[le++]);At===65535&&(At=W.Token.EOF),Pe.ruleToTokenType[ke]=At,ht.isFeatureSupported(ht.ADDED_LEXER_ACTIONS,Oe)||ht.toInt(ae[le++])}}Pe.ruleToStopState=new Array(Ye);for(let ke of Pe.states)ke instanceof K.RuleStopState&&(Pe.ruleToStopState[ke.ruleIndex]=ke,Pe.ruleToStartState[ke.ruleIndex].stopState=ke);let tt=ht.toInt(ae[le++]);for(let ke=0;ke<tt;ke++){let rt=ht.toInt(ae[le++]);Pe.modeToStartState.push(Pe.states[rt])}Pe.modeToDFA=new Array(tt);for(let ke=0;ke<tt;ke++)Pe.modeToDFA[ke]=new E.DFA(Pe.modeToStartState[ke]);let lt=[];le=this.deserializeSets(ae,le,lt,ht.getUnicodeDeserializer(0)),ht.isFeatureSupported(ht.ADDED_UNICODE_SMP,Oe)&&(le=this.deserializeSets(ae,le,lt,ht.getUnicodeDeserializer(1)));let xt=ht.toInt(ae[le++]);for(let ke=0;ke<xt;ke++){let rt=ht.toInt(ae[le]),mt=ht.toInt(ae[le+1]),At=ht.toInt(ae[le+2]),Mt=ht.toInt(ae[le+3]),bn=ht.toInt(ae[le+4]),zn=ht.toInt(ae[le+5]),Kn=this.edgeFactory(Pe,At,rt,mt,Mt,bn,zn,lt);Pe.states[rt].addTransition(Kn),le+=6}let Tt=new r.Array2DHashSet({hashCode:ke=>ke.stopState^ke.returnState^ke.outermostPrecedenceReturn,equals:(ke,rt)=>ke.stopState===rt.stopState&&ke.returnState===rt.returnState&&ke.outermostPrecedenceReturn===rt.outermostPrecedenceReturn}),Ot=[];for(let ke of Pe.states){let rt=ke.ruleIndex>=0&&Pe.ruleToStartState[ke.ruleIndex].leftFactored;for(let mt=0;mt<ke.numberOfTransitions;mt++){let At=ke.transition(mt);if(!(At instanceof oe.RuleTransition))continue;let Mt=At;if(!Pe.ruleToStartState[Mt.target.ruleIndex].leftFactored&&rt)continue;let zn=-1;Pe.ruleToStartState[Mt.target.ruleIndex].isPrecedenceRule&&Mt.precedence===0&&(zn=Mt.target.ruleIndex);let Kn={stopState:Mt.target.ruleIndex,returnState:Mt.followState.stateNumber,outermostPrecedenceReturn:zn};Tt.add(Kn)&&Ot.push(Kn)}}for(let ke of Ot){let rt=new w.EpsilonTransition(Pe.states[ke.returnState],ke.outermostPrecedenceReturn);Pe.ruleToStopState[ke.stopState].addTransition(rt)}for(let ke of Pe.states){if(ke instanceof x.BlockStartState){if(ke.endState===void 0)throw new Error("IllegalStateException");if(ke.endState.startState!==void 0)throw new Error("IllegalStateException");ke.endState.startState=ke}if(ke instanceof Te.PlusLoopbackState){let rt=ke;for(let mt=0;mt<rt.numberOfTransitions;mt++){let At=rt.transition(mt).target;At instanceof De.PlusBlockStartState&&(At.loopBackState=rt)}}else if(ke instanceof U.StarLoopbackState){let rt=ke;for(let mt=0;mt<rt.numberOfTransitions;mt++){let At=rt.transition(mt).target;At instanceof G.StarLoopEntryState&&(At.loopBackState=rt)}}}let un=ht.toInt(ae[le++]);for(let ke=1;ke<=un;ke++){let rt=ht.toInt(ae[le++]),mt=Pe.states[rt];Pe.decisionToState.push(mt),mt.decision=ke-1}if(Pe.grammarType===0)if(je){Pe.lexerActions=new Array(ht.toInt(ae[le++]));for(let ke=0;ke<Pe.lexerActions.length;ke++){let rt=ht.toInt(ae[le++]),mt=ht.toInt(ae[le++]);mt===65535&&(mt=-1);let At=ht.toInt(ae[le++]);At===65535&&(At=-1);let Mt=this.lexerActionFactory(rt,mt,At);Pe.lexerActions[ke]=Mt}}else{let ke=[];for(let rt of Pe.states)for(let mt=0;mt<rt.numberOfTransitions;mt++){let At=rt.transition(mt);if(!(At instanceof n.ActionTransition))continue;let Mt=At.ruleIndex,bn=At.actionIndex,zn=new N.LexerCustomAction(Mt,bn);rt.setTransition(mt,new n.ActionTransition(At.target,Mt,ke.length,!1)),ke.push(zn)}Pe.lexerActions=ke}this.markPrecedenceDecisions(Pe),Pe.decisionToDFA=new Array(un);for(let ke=0;ke<un;ke++)Pe.decisionToDFA[ke]=new E.DFA(Pe.decisionToState[ke],ke);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(Pe),this.deserializationOptions.isGenerateRuleBypassTransitions&&Pe.grammarType===1){Pe.ruleToTokenType=new Int32Array(Pe.ruleToStartState.length);for(let ke=0;ke<Pe.ruleToStartState.length;ke++)Pe.ruleToTokenType[ke]=Pe.maxTokenType+ke+1;for(let ke=0;ke<Pe.ruleToStartState.length;ke++){let rt=new c.BasicBlockStartState;rt.ruleIndex=ke,Pe.addState(rt);let mt=new m.BlockEndState;mt.ruleIndex=ke,Pe.addState(mt),rt.endState=mt,Pe.defineDecisionState(rt),mt.startState=rt;let At,Mt;if(Pe.ruleToStartState[ke].isPrecedenceRule){At=void 0;for(let zn of Pe.states){if(zn.ruleIndex!==ke||!(zn instanceof G.StarLoopEntryState))continue;let Kn=zn.transition(zn.numberOfTransitions-1).target;if(Kn instanceof Z.LoopEndState&&Kn.epsilonOnlyTransitions&&Kn.transition(0).target instanceof K.RuleStopState){At=zn;break}}if(!At)throw new Error("Couldn't identify final state of the precedence rule prefix section.");Mt=At.loopBackState.transition(0)}else At=Pe.ruleToStopState[ke];for(let zn of Pe.states)for(let Kn=0;Kn<zn.numberOfTransitions;Kn++){let cn=zn.transition(Kn);cn!==Mt&&cn.target===At&&(cn.target=mt)}for(;Pe.ruleToStartState[ke].numberOfTransitions>0;){let zn=Pe.ruleToStartState[ke].removeTransition(Pe.ruleToStartState[ke].numberOfTransitions-1);rt.addTransition(zn)}Pe.ruleToStartState[ke].addTransition(new w.EpsilonTransition(rt)),mt.addTransition(new w.EpsilonTransition(At));let bn=new g.BasicState;Pe.addState(bn),bn.addTransition(new u.AtomTransition(mt,Pe.ruleToTokenType[ke])),rt.addTransition(new w.EpsilonTransition(bn))}this.deserializationOptions.isVerifyATN&&this.verifyATN(Pe)}if(this.deserializationOptions.isOptimize){for(;;){let ke=0;ke+=ht.inlineSetRules(Pe),ke+=ht.combineChainedEpsilons(Pe);let rt=Pe.grammarType===0;if(ke+=ht.optimizeSets(Pe,rt),ke===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(Pe)}return ht.identifyTailCalls(Pe),Pe}deserializeSets(ae,le,Ce,Oe){let je=ht.toInt(ae[le++]);for(let Ue=0;Ue<je;Ue++){let ve=ht.toInt(ae[le]);le++;let Pe=new C.IntervalSet;Ce.push(Pe),ht.toInt(ae[le++])!==0&&Pe.add(-1);for(let pt=0;pt<ve;pt++){let gt=Oe.readUnicode(ae,le);le+=Oe.size;let me=Oe.readUnicode(ae,le);le+=Oe.size,Pe.add(gt,me)}}return le}markPrecedenceDecisions(ae){let le=new Map;for(let Ce of ae.states)if(Ce instanceof G.StarLoopEntryState&&ae.ruleToStartState[Ce.ruleIndex].isPrecedenceRule){let Oe=Ce.transition(Ce.numberOfTransitions-1).target;Oe instanceof Z.LoopEndState&&Oe.epsilonOnlyTransitions&&Oe.transition(0).target instanceof K.RuleStopState&&(le.set(Ce.ruleIndex,Ce),Ce.precedenceRuleDecision=!0,Ce.precedenceLoopbackStates=new p.BitSet(ae.states.length))}for(let Ce of le)for(let Oe of ae.ruleToStopState[Ce[0]].getTransitions())Oe.serializationType!==1||Oe.outermostPrecedenceReturn!==-1||Ce[1].precedenceLoopbackStates.set(Oe.target.stateNumber)}verifyATN(ae){for(let le of ae.states)if(this.checkCondition(le!==void 0,"ATN states should not be undefined."),le.stateType!==l.ATNStateType.INVALID_TYPE){if(this.checkCondition(le.onlyHasEpsilonTransitions||le.numberOfTransitions<=1),le instanceof De.PlusBlockStartState&&this.checkCondition(le.loopBackState!==void 0),le instanceof G.StarLoopEntryState){let Ce=le;if(this.checkCondition(Ce.loopBackState!==void 0),this.checkCondition(Ce.numberOfTransitions===2),Ce.transition(0).target instanceof z.StarBlockStartState)this.checkCondition(Ce.transition(1).target instanceof Z.LoopEndState),this.checkCondition(!Ce.nonGreedy);else if(Ce.transition(0).target instanceof Z.LoopEndState)this.checkCondition(Ce.transition(1).target instanceof z.StarBlockStartState),this.checkCondition(Ce.nonGreedy);else throw new Error("IllegalStateException")}if(le instanceof U.StarLoopbackState&&(this.checkCondition(le.numberOfTransitions===1),this.checkCondition(le.transition(0).target instanceof G.StarLoopEntryState)),le instanceof Z.LoopEndState&&this.checkCondition(le.loopBackState!==void 0),le instanceof ue.RuleStartState&&this.checkCondition(le.stopState!==void 0),le instanceof x.BlockStartState&&this.checkCondition(le.endState!==void 0),le instanceof m.BlockEndState&&this.checkCondition(le.startState!==void 0),le instanceof b.DecisionState){let Ce=le;this.checkCondition(Ce.numberOfTransitions<=1||Ce.decision>=0)}else this.checkCondition(le.numberOfTransitions<=1||le instanceof K.RuleStopState)}}checkCondition(ae,le){if(!ae)throw new Error("IllegalStateException: "+le)}static inlineSetRules(ae){let le=0,Ce=new Array(ae.ruleToStartState.length);for(let Oe=0;Oe<ae.ruleToStartState.length;Oe++){let Ue=ae.ruleToStartState[Oe];for(;Ue.onlyHasEpsilonTransitions&&Ue.numberOfOptimizedTransitions===1&&Ue.getOptimizedTransition(0).serializationType===1;)Ue=Ue.getOptimizedTransition(0).target;if(Ue.numberOfOptimizedTransitions!==1)continue;let ve=Ue.getOptimizedTransition(0),Pe=ve.target;if(!(ve.isEpsilon||!Pe.onlyHasEpsilonTransitions||Pe.numberOfOptimizedTransitions!==1||!(Pe.getOptimizedTransition(0).target instanceof K.RuleStopState)))switch(ve.serializationType){case 5:case 2:case 7:Ce[Oe]=ve;break;case 8:case 9:continue;default:continue}}for(let Oe of ae.states){if(Oe.ruleIndex<0)continue;let je;for(let Ue=0;Ue<Oe.numberOfOptimizedTransitions;Ue++){let ve=Oe.getOptimizedTransition(Ue);if(!(ve instanceof oe.RuleTransition)){je!==void 0&&je.push(ve);continue}let Pe=ve,Ze=Ce[Pe.target.ruleIndex];if(Ze===void 0){je!==void 0&&je.push(ve);continue}if(je===void 0){je=[];for(let me=0;me<Ue;me++)je.push(Oe.getOptimizedTransition(Ue))}le++;let pt=Pe.followState,gt=new g.BasicState;switch(gt.setRuleIndex(pt.ruleIndex),ae.addState(gt),je.push(new w.EpsilonTransition(gt)),Ze.serializationType){case 5:gt.addTransition(new u.AtomTransition(pt,Ze._label));break;case 2:gt.addTransition(new de.RangeTransition(pt,Ze.from,Ze.to));break;case 7:gt.addTransition(new pe.SetTransition(pt,Ze.label));break;default:throw new Error("UnsupportedOperationException")}}if(je!==void 0){if(Oe.isOptimized)for(;Oe.numberOfOptimizedTransitions>0;)Oe.removeOptimizedTransition(Oe.numberOfOptimizedTransitions-1);for(let Ue of je)Oe.addOptimizedTransition(Ue)}}return he.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+le+" rule invocations by inlining sets."),le}static combineChainedEpsilons(ae){let le=0;for(let Ce of ae.states){if(!Ce.onlyHasEpsilonTransitions||Ce instanceof K.RuleStopState)continue;let Oe;e:for(let je=0;je<Ce.numberOfOptimizedTransitions;je++){let Ue=Ce.getOptimizedTransition(je),ve=Ue.target;if(Ue.serializationType!==1||Ue.outermostPrecedenceReturn!==-1||ve.stateType!==l.ATNStateType.BASIC||!ve.onlyHasEpsilonTransitions){Oe!==void 0&&Oe.push(Ue);continue e}for(let Pe=0;Pe<ve.numberOfOptimizedTransitions;Pe++)if(ve.getOptimizedTransition(Pe).serializationType!==1||ve.getOptimizedTransition(Pe).outermostPrecedenceReturn!==-1){Oe!==void 0&&Oe.push(Ue);continue e}if(le++,Oe===void 0){Oe=[];for(let Pe=0;Pe<je;Pe++)Oe.push(Ce.getOptimizedTransition(Pe))}for(let Pe=0;Pe<ve.numberOfOptimizedTransitions;Pe++){let Ze=ve.getOptimizedTransition(Pe).target;Oe.push(new w.EpsilonTransition(Ze))}}if(Oe!==void 0){if(Ce.isOptimized)for(;Ce.numberOfOptimizedTransitions>0;)Ce.removeOptimizedTransition(Ce.numberOfOptimizedTransitions-1);for(let je of Oe)Ce.addOptimizedTransition(je)}}return he.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+le+" transitions by combining chained epsilon transitions."),le}static optimizeSets(ae,le){if(le)return 0;let Ce=0,Oe=ae.decisionToState;for(let je of Oe){let Ue=new C.IntervalSet;for(let me=0;me<je.numberOfOptimizedTransitions;me++){let _e=je.getOptimizedTransition(me);if(!(_e instanceof w.EpsilonTransition)||_e.target.numberOfOptimizedTransitions!==1)continue;let qe=_e.target.getOptimizedTransition(0);qe.target instanceof m.BlockEndState&&(qe instanceof ie.NotSetTransition||(qe instanceof u.AtomTransition||qe instanceof de.RangeTransition||qe instanceof pe.SetTransition)&&Ue.add(me))}if(Ue.size<=1)continue;let ve=[];for(let me=0;me<je.numberOfOptimizedTransitions;me++)Ue.contains(me)||ve.push(je.getOptimizedTransition(me));let Pe=je.getOptimizedTransition(Ue.minElement).target.getOptimizedTransition(0).target,Ze=new C.IntervalSet;for(let me of Ue.intervals)for(let _e=me.a;_e<=me.b;_e++){let qe=je.getOptimizedTransition(_e).target.getOptimizedTransition(0);if(qe instanceof ie.NotSetTransition)throw new Error("Not yet implemented.");Ze.addAll(qe.label)}let pt;if(Ze.intervals.length===1)if(Ze.size===1)pt=new u.AtomTransition(Pe,Ze.minElement);else{let me=Ze.intervals[0];pt=new de.RangeTransition(Pe,me.a,me.b)}else pt=new pe.SetTransition(Pe,Ze);let gt=new g.BasicState;if(gt.setRuleIndex(je.ruleIndex),ae.addState(gt),gt.addTransition(pt),ve.push(new w.EpsilonTransition(gt)),Ce+=je.numberOfOptimizedTransitions-ve.length,je.isOptimized)for(;je.numberOfOptimizedTransitions>0;)je.removeOptimizedTransition(je.numberOfOptimizedTransitions-1);for(let me of ve)je.addOptimizedTransition(me)}return he.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+Ce+" paths by collapsing sets."),Ce}static identifyTailCalls(ae){for(let le of ae.states){for(let Ce=0;Ce<le.numberOfTransitions;Ce++){let Oe=le.transition(Ce);Oe instanceof oe.RuleTransition&&(Oe.tailCall=this.testTailCall(ae,Oe,!1),Oe.optimizedTailCall=this.testTailCall(ae,Oe,!0))}if(le.isOptimized)for(let Ce=0;Ce<le.numberOfOptimizedTransitions;Ce++){let Oe=le.getOptimizedTransition(Ce);Oe instanceof oe.RuleTransition&&(Oe.tailCall=this.testTailCall(ae,Oe,!1),Oe.optimizedTailCall=this.testTailCall(ae,Oe,!0))}}}static testTailCall(ae,le,Ce){if(!Ce&&le.tailCall||Ce&&le.optimizedTailCall)return!0;let Oe=new p.BitSet(ae.states.length),je=[];for(je.push(le.followState);;){let Ue=je.pop();if(!Ue)break;if(Oe.get(Ue.stateNumber)||Ue instanceof K.RuleStopState)continue;if(!Ue.onlyHasEpsilonTransitions)return!1;let ve=Ce?Ue.numberOfOptimizedTransitions:Ue.numberOfTransitions;for(let Pe=0;Pe<ve;Pe++){let Ze=Ce?Ue.getOptimizedTransition(Pe):Ue.transition(Pe);if(Ze.serializationType!==1)return!1;je.push(Ze.target)}}return!0}static toInt(ae){return ae}static toInt32(ae,le){return(ae[le]|ae[le+1]<<16)>>>0}static toUUID(ae,le){let Ce=ht.toInt32(ae,le),Oe=ht.toInt32(ae,le+2),je=ht.toInt32(ae,le+4),Ue=ht.toInt32(ae,le+6);return new X.UUID(Ue,je,Oe,Ce)}edgeFactory(ae,le,Ce,Oe,je,Ue,ve,Pe){let Ze=ae.states[Oe];switch(le){case 1:return new w.EpsilonTransition(Ze);case 2:return ve!==0?new de.RangeTransition(Ze,W.Token.EOF,Ue):new de.RangeTransition(Ze,je,Ue);case 3:return new oe.RuleTransition(ae.states[je],Ue,ve,Ze);case 4:return new Ae.PredicateTransition(Ze,je,Ue,ve!==0);case 10:return new re.PrecedencePredicateTransition(Ze,je);case 5:return ve!==0?new u.AtomTransition(Ze,W.Token.EOF):new u.AtomTransition(Ze,je);case 6:return new n.ActionTransition(Ze,je,Ue,ve!==0);case 7:return new pe.SetTransition(Ze,Pe[je]);case 8:return new ie.NotSetTransition(Ze,Pe[je]);case 9:return new J.WildcardTransition(Ze)}throw new Error("The specified transition type is not valid.")}stateFactory(ae,le){let Ce;switch(ae){case l.ATNStateType.INVALID_TYPE:return new R.InvalidState;case l.ATNStateType.BASIC:Ce=new g.BasicState;break;case l.ATNStateType.RULE_START:Ce=new ue.RuleStartState;break;case l.ATNStateType.BLOCK_START:Ce=new c.BasicBlockStartState;break;case l.ATNStateType.PLUS_BLOCK_START:Ce=new De.PlusBlockStartState;break;case l.ATNStateType.STAR_BLOCK_START:Ce=new z.StarBlockStartState;break;case l.ATNStateType.TOKEN_START:Ce=new Q.TokensStartState;break;case l.ATNStateType.RULE_STOP:Ce=new K.RuleStopState;break;case l.ATNStateType.BLOCK_END:Ce=new m.BlockEndState;break;case l.ATNStateType.STAR_LOOP_BACK:Ce=new U.StarLoopbackState;break;case l.ATNStateType.STAR_LOOP_ENTRY:Ce=new G.StarLoopEntryState;break;case l.ATNStateType.PLUS_LOOP_BACK:Ce=new Te.PlusLoopbackState;break;case l.ATNStateType.LOOP_END:Ce=new Z.LoopEndState;break;default:let Oe=`The specified state type ${ae} is not valid.`;throw new Error(Oe)}return Ce.ruleIndex=le,Ce}lexerActionFactory(ae,le,Ce){switch(ae){case 0:return new T.LexerChannelAction(le);case 1:return new N.LexerCustomAction(le,Ce);case 2:return new D.LexerModeAction(le);case 3:return F.LexerMoreAction.INSTANCE;case 4:return B.LexerPopModeAction.INSTANCE;case 5:return new j.LexerPushModeAction(le);case 6:return k.LexerSkipAction.INSTANCE;case 7:return new $.LexerTypeAction(le);default:let Oe=`The specified lexer action type ${ae} is not valid.`;throw new Error(Oe)}}};return xe.BASE_SERIALIZED_UUID=X.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),xe.ADDED_LEXER_ACTIONS=X.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),xe.ADDED_UNICODE_SMP=X.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),xe.SUPPORTED_UUIDS=[xe.BASE_SERIALIZED_UUID,xe.ADDED_LEXER_ACTIONS,xe.ADDED_UNICODE_SMP],xe.SERIALIZED_UUID=xe.ADDED_UNICODE_SMP,e([ne.NotNull],xe.prototype,"deserializationOptions",void 0),e([t(0,ne.NotNull)],xe.prototype,"deserialize",null),e([t(0,ne.NotNull)],xe.prototype,"markPrecedenceDecisions",null),e([ne.NotNull,t(0,ne.NotNull)],xe.prototype,"edgeFactory",null),Vl.ATNDeserializer=xe,Vl}var nu={},tD;function LY(){if(tD)return nu;tD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nu&&nu.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g},t=nu&&nu.__param||function(i,s){return function(l,u){s(l,u,i)}};Object.defineProperty(nu,"__esModule",{value:!0}),nu.ParseInfo=void 0;const n=Ve();let r=class{constructor(s){this.atnSimulator=s}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let s=this.atnSimulator.getDecisionInfo(),l=[];for(let u=0;u<s.length;u++)s[u].LL_Fallback>0&&l.push(u);return l}getTotalTimeInPrediction(){let s=this.atnSimulator.getDecisionInfo(),l=0;for(let u of s)l+=u.timeInPrediction;return l}getTotalSLLLookaheadOps(){let s=this.atnSimulator.getDecisionInfo(),l=0;for(let u of s)l+=u.SLL_TotalLook;return l}getTotalLLLookaheadOps(){let s=this.atnSimulator.getDecisionInfo(),l=0;for(let u of s)l+=u.LL_TotalLook;return l}getTotalSLLATNLookaheadOps(){let s=this.atnSimulator.getDecisionInfo(),l=0;for(let u of s)l+=u.SLL_ATNTransitions;return l}getTotalLLATNLookaheadOps(){let s=this.atnSimulator.getDecisionInfo(),l=0;for(let u of s)l+=u.LL_ATNTransitions;return l}getTotalATNLookaheadOps(){let s=this.atnSimulator.getDecisionInfo(),l=0;for(let u of s)l+=u.SLL_ATNTransitions,l+=u.LL_ATNTransitions;return l}getDFASize(s){if(s)return this.atnSimulator.atn.decisionToDFA[s].states.size;{let l=0,u=this.atnSimulator.atn.decisionToDFA;for(let c=0;c<u.length;c++)l+=this.getDFASize(c);return l}}};return e([n.NotNull],r.prototype,"getDecisionInfo",null),e([n.NotNull],r.prototype,"getLLDecisions",null),r=e([t(0,n.NotNull)],r),nu.ParseInfo=r,nu}var $d={},nD;function qk(){if(nD)return $d;nD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$d&&$d.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty($d,"__esModule",{value:!0}),$d.ProxyParserErrorListener=void 0;const t=OR(),n=Ve();let r=class extends t.ProxyErrorListener{constructor(s){super(s)}reportAmbiguity(s,l,u,c,g,p,m){this.getDelegates().forEach(x=>{x.reportAmbiguity&&x.reportAmbiguity(s,l,u,c,g,p,m)})}reportAttemptingFullContext(s,l,u,c,g,p){this.getDelegates().forEach(m=>{m.reportAttemptingFullContext&&m.reportAttemptingFullContext(s,l,u,c,g,p)})}reportContextSensitivity(s,l,u,c,g,p){this.getDelegates().forEach(m=>{m.reportContextSensitivity&&m.reportContextSensitivity(s,l,u,c,g,p)})}};return e([n.Override],r.prototype,"reportAmbiguity",null),e([n.Override],r.prototype,"reportAttemptingFullContext",null),e([n.Override],r.prototype,"reportContextSensitivity",null),$d.ProxyParserErrorListener=r,$d}var Hd={},MC={},PC={},ru={},rD;function FY(){if(rD)return ru;rD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(ru,"__esModule",{value:!0}),ru.isSupplementaryCodePoint=ru.isLowSurrogate=ru.isHighSurrogate=void 0;function e(r){return r>=55296&&r<=56319}ru.isHighSurrogate=e;function t(r){return r>=56320&&r<=57343}ru.isLowSurrogate=t;function n(r){return r>=65536}return ru.isSupplementaryCodePoint=n,ru}var iD;function Kk(){return iD||(iD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CodePointBuffer=void 0;const t=_i(),n=FY();class r{constructor(s,l){this.buffer=s,this._position=0,this._size=l}static withArray(s){return new r(s,s.length)}get position(){return this._position}set position(s){if(s<0||s>this._size)throw new RangeError;this._position=s}get remaining(){return this._size-this.position}get(s){return this.buffer[s]}array(){return this.buffer.slice(0,this._size)}static builder(s){return new r.Builder(s)}}e.CodePointBuffer=r,function(i){let s;(function(u){u[u.BYTE=0]="BYTE",u[u.CHAR=1]="CHAR",u[u.INT=2]="INT"})(s||(s={}));class l{constructor(c){this.type=0,this.buffer=new Uint8Array(c),this.prevHighSurrogate=-1,this.position=0}build(){return new i(this.buffer,this.position)}static roundUpToNextPowerOfTwo(c){let g=32-Math.clz32(c-1);return Math.pow(2,g)}ensureRemaining(c){switch(this.type){case 0:if(this.buffer.length-this.position<c){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+c),p=new Uint8Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 1:if(this.buffer.length-this.position<c){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+c),p=new Uint16Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 2:if(this.buffer.length-this.position<c){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+c),p=new Int32Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break}}append(c){this.ensureRemaining(c.length),this.appendArray(c)}appendArray(c){switch(this.type){case 0:this.appendArrayByte(c);break;case 1:this.appendArrayChar(c);break;case 2:this.appendArrayInt(c);break}}appendArrayByte(c){t(this.prevHighSurrogate===-1);let g=c,p=0,m=c.length,x=this.buffer,b=this.position;for(;p<m;){let E=g[p];if(E<=255)x[b]=E;else if(c=c.subarray(p,m),this.position=b,n.isHighSurrogate(E)){this.byteToIntBuffer(c.length),this.appendArrayInt(c);return}else{this.byteToCharBuffer(c.length),this.appendArrayChar(c);return}p++,b++}this.position=b}appendArrayChar(c){t(this.prevHighSurrogate===-1);let g=c,p=0,m=c.length,x=this.buffer,b=this.position;for(;p<m;){let E=g[p];if(!n.isHighSurrogate(E))x[b]=E;else{c=c.subarray(p,m),this.position=b,this.charToIntBuffer(c.length),this.appendArrayInt(c);return}p++,b++}this.position=b}appendArrayInt(c){let g=c,p=0,m=c.length,x=this.buffer,b=this.position;for(;p<m;){let E=g[p];p++,this.prevHighSurrogate!==-1?n.isLowSurrogate(E)?(x[b]=String.fromCharCode(this.prevHighSurrogate,E).codePointAt(0),b++,this.prevHighSurrogate=-1):(x[b]=this.prevHighSurrogate,b++,n.isHighSurrogate(E)?this.prevHighSurrogate=E:(x[b]=E,b++,this.prevHighSurrogate=-1)):n.isHighSurrogate(E)?this.prevHighSurrogate=E:(x[b]=E,b++)}this.prevHighSurrogate!==-1&&(x[b]=this.prevHighSurrogate,b++),this.position=b}byteToCharBuffer(c){let g=new Uint16Array(Math.max(this.position+c,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=g}byteToIntBuffer(c){let g=new Int32Array(Math.max(this.position+c,this.buffer.length>>2));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}charToIntBuffer(c){let g=new Int32Array(Math.max(this.position+c,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}}i.Builder=l}(r=e.CodePointBuffer||(e.CodePointBuffer={}))}(PC)),PC}var Wd={},oD;function Zk(){if(oD)return Wd;oD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wd&&Wd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.CodePointCharStream=void 0;const t=_i(),n=af(),r=Zi(),i=Ve();let s=class Xk{constructor(u,c,g,p){t(c===0),this._array=u,this._size=g,this._name=p,this._position=0}get internalStorage(){return this._array}static fromBuffer(u,c){return(c===void 0||c.length===0)&&(c=n.IntStream.UNKNOWN_SOURCE_NAME),new Xk(u.array(),u.position,u.remaining,c)}consume(){if(this._size-this._position===0)throw t(this.LA(1)===n.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(u){}seek(u){this._position=u}get sourceName(){return this._name}toString(){return this.getText(r.Interval.of(0,this.size-1))}LA(u){let c;switch(Math.sign(u)){case-1:return c=this.index+u,c<0?n.IntStream.EOF:this._array[c];case 0:return 0;case 1:return c=this.index+u-1,c>=this.size?n.IntStream.EOF:this._array[c]}throw new RangeError("Not reached")}getText(u){const c=Math.min(u.a,this.size),g=Math.min(u.b-u.a+1,this.size-c);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(c,c+g))):String.fromCharCode(...Array.from(this._array.subarray(c,c+g)))}};return e([i.Override],s.prototype,"consume",null),e([i.Override],s.prototype,"index",null),e([i.Override],s.prototype,"size",null),e([i.Override],s.prototype,"mark",null),e([i.Override],s.prototype,"release",null),e([i.Override],s.prototype,"seek",null),e([i.Override],s.prototype,"sourceName",null),e([i.Override],s.prototype,"toString",null),e([i.Override],s.prototype,"LA",null),e([i.Override],s.prototype,"getText",null),Wd.CodePointCharStream=s,Wd}var sD;function jR(){return sD||(sD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CharStreams=void 0;const t=Kk(),n=Zk(),r=af();(function(i){function s(l,u){(u===void 0||u.length===0)&&(u=r.IntStream.UNKNOWN_SOURCE_NAME);let c=t.CodePointBuffer.builder(l.length),g=new Uint16Array(l.length);for(let p=0;p<l.length;p++)g[p]=l.charCodeAt(p);return c.append(g),n.CodePointCharStream.fromBuffer(c.build(),u)}i.fromString=s})(e.CharStreams||(e.CharStreams={}))}(MC)),MC}var iu={},ou={},aD;function Jk(){if(aD)return ou;aD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ou&&ou.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var C=g.length-1;C>=0;C--)(w=g[C])&&(E=(b<3?w(E):b>3?w(p,m,E):w(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E},t=ou&&ou.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(ou,"__esModule",{value:!0}),ou.BufferedTokenStream=void 0;const n=_i(),r=ay(),i=Zi(),s=df(),l=Ve(),u=qn();let c=class{constructor(p){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,p==null)throw new Error("tokenSource cannot be null");this._tokenSource=p}get tokenSource(){return this._tokenSource}set tokenSource(p){this._tokenSource=p,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(p){}seek(p){this.lazyInit(),this.p=this.adjustSeekIndex(p)}get size(){return this.tokens.length}consume(){let p;if(this.p>=0?this.fetchedEOF?p=this.p<this.tokens.length-1:p=this.p<this.tokens.length:p=!1,!p&&this.LA(1)===u.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(p){n(p>=0);let m=p-this.tokens.length+1;return m>0?this.fetch(m)>=m:!0}fetch(p){if(this.fetchedEOF)return 0;for(let m=0;m<p;m++){let x=this.tokenSource.nextToken();if(this.isWritableToken(x)&&(x.tokenIndex=this.tokens.length),this.tokens.push(x),x.type===u.Token.EOF)return this.fetchedEOF=!0,m+1}return p}get(p){if(p<0||p>=this.tokens.length)throw new RangeError("token index "+p+" out of range 0.."+(this.tokens.length-1));return this.tokens[p]}getRange(p,m){if(p<0||m<0)return[];this.lazyInit();let x=new Array;m>=this.tokens.length&&(m=this.tokens.length-1);for(let b=p;b<=m;b++){let E=this.tokens[b];if(E.type===u.Token.EOF)break;x.push(E)}return x}LA(p){let m=this.LT(p);return m?m.type:u.Token.INVALID_TYPE}tryLB(p){if(!(this.p-p<0))return this.tokens[this.p-p]}LT(p){let m=this.tryLT(p);if(m===void 0)throw new RangeError("requested lookback index out of range");return m}tryLT(p){if(this.lazyInit(),p===0)throw new RangeError("0 is not a valid lookahead index");if(p<0)return this.tryLB(-p);let m=this.p+p-1;return this.sync(m),m>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[m]}adjustSeekIndex(p){return p}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(p,m,x){if(this.lazyInit(),p===void 0)return n(m===void 0&&x===void 0),this.tokens;if(m===void 0&&(m=this.tokens.length-1),p<0||m>=this.tokens.length||m<0||p>=this.tokens.length)throw new RangeError("start "+p+" or stop "+m+" not in 0.."+(this.tokens.length-1));if(p>m)return[];if(x===void 0)return this.tokens.slice(p,m+1);typeof x=="number"&&(x=new Set().add(x));let b=x,E=this.tokens.slice(p,m+1);return E=E.filter(w=>b.has(w.type)),E}nextTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;let x=this.tokens[p];for(;x.channel!==m;){if(x.type===u.Token.EOF)return p;p++,this.sync(p),x=this.tokens[p]}return p}previousTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;for(;p>=0;){let x=this.tokens[p];if(x.type===u.Token.EOF||x.channel===m)return p;p--}return p}getHiddenTokensToRight(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));let x=this.nextTokenOnChannel(p+1,s.Lexer.DEFAULT_TOKEN_CHANNEL),b,E=p+1;return x===-1?b=this.size-1:b=x,this.filterForChannel(E,b,m)}getHiddenTokensToLeft(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));if(p===0)return[];let x=this.previousTokenOnChannel(p-1,s.Lexer.DEFAULT_TOKEN_CHANNEL);if(x===p-1)return[];let b=x+1,E=p-1;return this.filterForChannel(b,E,m)}filterForChannel(p,m,x){let b=new Array;for(let E=p;E<=m;E++){let w=this.tokens[E];x===-1?w.channel!==s.Lexer.DEFAULT_TOKEN_CHANNEL&&b.push(w):w.channel===x&&b.push(w)}return b}get sourceName(){return this.tokenSource.sourceName}getText(p){p===void 0?p=i.Interval.of(0,this.size-1):p instanceof i.Interval||(p=p.sourceInterval);let m=p.a,x=p.b;if(m<0||x<0)return"";this.fill(),x>=this.tokens.length&&(x=this.tokens.length-1);let b="";for(let E=m;E<=x;E++){let w=this.tokens[E];if(w.type===u.Token.EOF)break;b+=w.text}return b.toString()}getTextFromRange(p,m){return this.isToken(p)&&this.isToken(m)?this.getText(i.Interval.of(p.tokenIndex,m.tokenIndex)):""}fill(){this.lazyInit();const p=1e3;for(;;)if(this.fetch(p)<p)return}isWritableToken(p){return p instanceof r.CommonToken}isToken(p){return p instanceof r.CommonToken}};return e([l.NotNull],c.prototype,"_tokenSource",void 0),e([l.Override],c.prototype,"tokenSource",null),e([l.Override],c.prototype,"index",null),e([l.Override],c.prototype,"mark",null),e([l.Override],c.prototype,"release",null),e([l.Override],c.prototype,"seek",null),e([l.Override],c.prototype,"size",null),e([l.Override],c.prototype,"consume",null),e([l.Override],c.prototype,"get",null),e([l.Override],c.prototype,"LA",null),e([l.NotNull,l.Override],c.prototype,"LT",null),e([l.Override],c.prototype,"sourceName",null),e([l.NotNull,l.Override],c.prototype,"getText",null),e([l.NotNull,l.Override],c.prototype,"getTextFromRange",null),c=e([t(0,l.NotNull)],c),ou.BufferedTokenStream=c,ou}var lD;function zR(){if(lD)return iu;lD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=iu&&iu.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=iu&&iu.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(iu,"__esModule",{value:!0}),iu.CommonTokenStream=void 0;const n=Jk(),r=Ve(),i=qn();let s=class extends n.BufferedTokenStream{constructor(u,c=i.Token.DEFAULT_CHANNEL){super(u),this.channel=c}adjustSeekIndex(u){return this.nextTokenOnChannel(u,this.channel)}tryLB(u){if(this.p-u<0)return;let c=this.p,g=1;for(;g<=u&&c>0;)c=this.previousTokenOnChannel(c-1,this.channel),g++;if(!(c<0))return this.tokens[c]}tryLT(u){if(this.lazyInit(),u===0)throw new RangeError("0 is not a valid lookahead index");if(u<0)return this.tryLB(-u);let c=this.p,g=1;for(;g<u;)this.sync(c+1)&&(c=this.nextTokenOnChannel(c+1,this.channel)),g++;return this.tokens[c]}getNumberOfOnChannelTokens(){let u=0;this.fill();for(let c of this.tokens)if(c.channel===this.channel&&u++,c.type===i.Token.EOF)break;return u}};return e([r.Override],s.prototype,"adjustSeekIndex",null),e([r.Override],s.prototype,"tryLB",null),e([r.Override],s.prototype,"tryLT",null),s=e([t(0,r.NotNull)],s),iu.CommonTokenStream=s,iu}var su={},uD;function Qk(){if(uD)return su;uD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=su&&su.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=su&&su.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(su,"__esModule",{value:!0}),su.ListTokenSource=void 0;const n=_R(),r=Ve(),i=qn();let s=class{constructor(u,c){if(this.i=0,this._factory=n.CommonTokenFactory.DEFAULT,u==null)throw new Error("tokens cannot be null");this.tokens=u,this._sourceName=c}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let u=this.tokens[this.tokens.length-1],c=u.text;if(c!=null){let g=c.lastIndexOf(`
`);if(g>=0)return c.length-g-1}return u.charPositionInLine+u.stopIndex-u.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let c=-1;if(this.tokens.length>0){let p=this.tokens[this.tokens.length-1].stopIndex;p!==-1&&(c=p+1)}let g=Math.max(-1,c-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},i.Token.EOF,"EOF",i.Token.DEFAULT_CHANNEL,c,g,this.line,this.charPositionInLine)}return this.eofToken}let u=this.tokens[this.i];return this.i===this.tokens.length-1&&u.type===i.Token.EOF&&(this.eofToken=u),this.i++,u}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let u=this.tokens[this.tokens.length-1],c=u.line,g=u.text;if(g!=null)for(let p=0;p<g.length;p++)g.charAt(p)===`
`&&c++;return c}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let u=this.inputStream;return u!=null?u.sourceName:"List"}set tokenFactory(u){this._factory=u}get tokenFactory(){return this._factory}};return e([r.Override],s.prototype,"charPositionInLine",null),e([r.Override],s.prototype,"nextToken",null),e([r.Override],s.prototype,"line",null),e([r.Override],s.prototype,"inputStream",null),e([r.Override],s.prototype,"sourceName",null),e([r.Override,r.NotNull,t(0,r.NotNull)],s.prototype,"tokenFactory",null),s=e([t(0,r.NotNull)],s),su.ListTokenSource=s,su}var tv={},cD;function kY(){if(cD)return tv;cD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(tv,"__esModule",{value:!0}),tv.MultiMap=void 0;let e=class extends Map{constructor(){super()}map(n,r){let i=super.get(n);i||(i=[],super.set(n,i)),i.push(r)}getPairs(){let n=[];return this.forEach((r,i)=>{r.forEach(s=>{n.push([i,s])})}),n}};return tv.MultiMap=e,tv}var nv={},fD;function eB(){if(fD)return nv;fD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(nv,"__esModule",{value:!0}),nv.ParseCancellationException=void 0;let e=class extends Error{constructor(n){super(n.message),this.cause=n,this.stack=n.stack}getCause(){return this.cause}};return nv.ParseCancellationException=e,nv}var au={},Yd={},dD;function tB(){if(dD)return Yd;dD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yd&&Yd.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.InterpreterRuleContext=void 0;const t=Ve(),n=Gs();let r=class extends n.ParserRuleContext{constructor(s,l,u){u!==void 0?super(l,u):super(),this._ruleIndex=s}get ruleIndex(){return this._ruleIndex}};return e([t.Override],r.prototype,"ruleIndex",null),Yd.InterpreterRuleContext=r,Yd}var hD;function nB(){if(hD)return au;hD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=au&&au.__decorate||function(R,T,N,D){var F=arguments.length,B=F<3?T:D===null?D=Object.getOwnPropertyDescriptor(T,N):D,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(R,T,N,D);else for(var k=R.length-1;k>=0;k--)(j=R[k])&&(B=(F<3?j(B):F>3?j(T,N,B):j(T,N))||B);return F>3&&B&&Object.defineProperty(T,N,B),B},t=au&&au.__param||function(R,T){return function(N,D){T(N,D,R)}};Object.defineProperty(au,"__esModule",{value:!0}),au.ParserInterpreter=void 0;const n=Lu(),r=ti(),i=ff(),s=d1(),l=h1(),u=tB(),c=Gk(),g=Ve(),p=Ve(),m=hy(),x=fy(),b=lf(),E=DR(),w=qn();let C=class r2 extends m.Parser{constructor(T,N,D,F,B){if(super(T instanceof r2?T.inputStream:B),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,T instanceof r2){let j=T;this._grammarFileName=j._grammarFileName,this._atn=j._atn,this.pushRecursionContextStates=j.pushRecursionContextStates,this._ruleNames=j._ruleNames,this._vocabulary=j._vocabulary,this.interpreter=new x.ParserATNSimulator(this._atn,this)}else{N=N,D=D,F=F,this._grammarFileName=T,this._atn=F,this._ruleNames=D.slice(0),this._vocabulary=N,this.pushRecursionContextStates=new i.BitSet(F.states.length);for(let j of F.states)j instanceof E.StarLoopEntryState&&j.precedenceRuleDecision&&this.pushRecursionContextStates.set(j.stateNumber);this.interpreter=new x.ParserATNSimulator(F,this)}}reset(T){T===void 0?super.reset():super.reset(T),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(T){let N=this._atn.ruleToStartState[T];for(this._rootContext=this.createInterpreterRuleContext(void 0,n.ATNState.INVALID_STATE_NUMBER,T),N.isPrecedenceRule?this.enterRecursionRule(this._rootContext,N.stateNumber,T,0):this.enterRule(this._rootContext,N.stateNumber,T);;){let D=this.atnState;switch(D.stateType){case r.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(N.isPrecedenceRule){let F=this._ctx,B=this._parentContextStack.pop();return this.unrollRecursionContexts(B[0]),F}else return this.exitRule(),this._rootContext;this.visitRuleStopState(D);break;default:try{this.visitState(D)}catch(F){if(F instanceof b.RecognitionException)this.state=this._atn.ruleToStopState[D.ruleIndex].stateNumber,this.context.exception=F,this.errorHandler.reportError(this,F),this.recover(F);else throw F}break}}}enterRecursionRule(T,N,D,F){this._parentContextStack.push([this._ctx,T.invokingState]),super.enterRecursionRule(T,N,D,F)}get atnState(){return this._atn.states[this.state]}visitState(T){let N=1;T.numberOfTransitions>1&&(N=this.visitDecisionState(T));let D=T.transition(N-1);switch(D.serializationType){case 1:if(this.pushRecursionContextStates.get(T.stateNumber)&&!(D.target instanceof c.LoopEndState)){let Z=this._parentContextStack[this._parentContextStack.length-1],ne=this.createInterpreterRuleContext(Z[0],Z[1],this._ctx.ruleIndex);this.pushNewRecursionContext(ne,this._atn.ruleToStartState[T.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(D._label);break;case 2:case 7:case 8:D.matches(this._input.LA(1),w.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let F=D.target,B=F.ruleIndex,j=this.createInterpreterRuleContext(this._ctx,T.stateNumber,B);F.isPrecedenceRule?this.enterRecursionRule(j,F.stateNumber,B,D.precedence):this.enterRule(j,D.target.stateNumber,B);break;case 4:let k=D;if(!this.sempred(this._ctx,k.ruleIndex,k.predIndex))throw new s.FailedPredicateException(this);break;case 6:let $=D;this.action(this._ctx,$.ruleIndex,$.actionIndex);break;case 10:if(!this.precpred(this._ctx,D.precedence)){let Z=D.precedence;throw new s.FailedPredicateException(this,`precpred(_ctx, ${Z})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=D.target.stateNumber}visitDecisionState(T){let N;this.errorHandler.sync(this);let D=T.decision;return D===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(N=this.overrideDecisionAlt,this.overrideDecisionReached=!0):N=this.interpreter.adaptivePredict(this._input,D,this._ctx),N}createInterpreterRuleContext(T,N,D){return new u.InterpreterRuleContext(D,T,N)}visitRuleStopState(T){if(this._atn.ruleToStartState[T.ruleIndex].isPrecedenceRule){let F=this._parentContextStack.pop();this.unrollRecursionContexts(F[0]),this.state=F[1]}else this.exitRule();let D=this._atn.states[this.state].transition(0);this.state=D.followState.stateNumber}addDecisionOverride(T,N,D){this.overrideDecision=T,this.overrideDecisionInputIndex=N,this.overrideDecisionAlt=D}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(T){let N=this._input.index;if(this.errorHandler.recover(this,T),this._input.index===N){let D=T.getOffendingToken();if(!D)throw new Error("Expected exception to have an offending token");let F=D.tokenSource,B=F!==void 0?F.inputStream:void 0,j={source:F,stream:B};if(T instanceof l.InputMismatchException){let k=T.expectedTokens;if(k===void 0)throw new Error("Expected the exception to provide expected tokens");let $=w.Token.INVALID_TYPE;k.isNil||($=k.minElement);let Z=this.tokenFactory.create(j,$,D.text,w.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,Z))}else{D.tokenSource;let k=this.tokenFactory.create(j,w.Token.INVALID_TYPE,D.text,w.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,k))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};return e([g.NotNull],C.prototype,"_vocabulary",void 0),e([p.Override],C.prototype,"reset",null),e([p.Override],C.prototype,"atn",null),e([p.Override],C.prototype,"vocabulary",null),e([p.Override],C.prototype,"ruleNames",null),e([p.Override],C.prototype,"grammarFileName",null),e([p.Override],C.prototype,"enterRecursionRule",null),C=e([t(1,g.NotNull)],C),au.ParserInterpreter=C,au}var lu={},pD;function BY(){if(pD)return lu;pD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=lu&&lu.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g},t=lu&&lu.__param||function(i,s){return function(l,u){s(l,u,i)}};Object.defineProperty(lu,"__esModule",{value:!0}),lu.ParseTreeMatch=void 0;const n=Ve();let r=class{constructor(s,l,u,c){if(!s)throw new Error("tree cannot be null");if(!l)throw new Error("pattern cannot be null");if(!u)throw new Error("labels cannot be null");this._tree=s,this._pattern=l,this._labels=u,this._mismatchedNode=c}get(s){let l=this._labels.get(s);if(!(!l||l.length===0))return l[l.length-1]}getAll(s){const l=this._labels.get(s);return l||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};return e([n.NotNull,t(0,n.NotNull)],r.prototype,"getAll",null),e([n.NotNull],r.prototype,"labels",null),e([n.NotNull],r.prototype,"pattern",null),e([n.NotNull],r.prototype,"tree",null),e([n.Override],r.prototype,"toString",null),r=e([t(0,n.NotNull),t(1,n.NotNull),t(2,n.NotNull)],r),lu.ParseTreeMatch=r,lu}var uu={},rv={},iv={},gD;function jY(){if(gD)return iv;gD=1,Object.defineProperty(iv,"__esModule",{value:!0}),iv.XPathLexer=void 0;const e=BR(),t=df(),n=y1(),r=Nh(),i=Fu();let s=class mo extends t.Lexer{constructor(u){super(u),this._interp=new n.LexerATNSimulator(mo._ATN,this)}get vocabulary(){return mo.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return mo.ruleNames}get serializedATN(){return mo._serializedATN}get channelNames(){return mo.channelNames}get modeNames(){return mo.modeNames}action(u,c,g){switch(c){case 4:this.ID_action(u,g);break}}ID_action(u,c){switch(c){case 0:let g=this.text;g.charAt(0)===g.charAt(0).toUpperCase()?this.type=mo.TOKEN_REF:this.type=mo.RULE_REF;break}}static get _ATN(){return mo.__ATN||(mo.__ATN=new e.ATNDeserializer().deserialize(i.toCharArray(mo._serializedATN))),mo.__ATN}};return iv.XPathLexer=s,s.TOKEN_REF=1,s.RULE_REF=2,s.ANYWHERE=3,s.ROOT=4,s.WILDCARD=5,s.BANG=6,s.ID=7,s.STRING=8,s.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],s.modeNames=["DEFAULT_MODE"],s.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],s._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],s._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],s.VOCABULARY=new r.VocabularyImpl(s._LITERAL_NAMES,s._SYMBOLIC_NAMES,[]),s._serializedATNSegments=2,s._serializedATNSegment0=`
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r

2;C\\aac|\r(*<>?AOR_\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1"C\\c|\r(*<>?AOR_`,s._serializedATNSegment1=`1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`,s._serializedATN=i.join([s._serializedATNSegment0,s._serializedATNSegment1],""),iv}var qd={},mD;function zY(){if(mD)return qd;mD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=qd&&qd.__decorate||function(r,i,s,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,s):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,s,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,s,c):g(i,s))||c);return u>3&&c&&Object.defineProperty(i,s,c),c};Object.defineProperty(qd,"__esModule",{value:!0}),qd.XPathLexerErrorListener=void 0;const t=Ve();let n=class{syntaxError(i,s,l,u,c,g){}};return e([t.Override],n.prototype,"syntaxError",null),qd.XPathLexerErrorListener=n,qd}var Kd={},Xd={},vD;function Fg(){if(vD)return Xd;vD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xd&&Xd.__decorate||function(r,i,s,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,s):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,s,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,s,c):g(i,s))||c);return u>3&&c&&Object.defineProperty(i,s,c),c};Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.XPathElement=void 0;const t=Ve();let n=class{constructor(i){this.nodeName=i,this.invert=!1}toString(){let i=this.invert?"!":"";return Object.constructor.name+"["+i+this.nodeName+"]"}};return e([t.Override],n.prototype,"toString",null),Xd.XPathElement=n,Xd}var yD;function UY(){if(yD)return Kd;yD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kd&&Kd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.XPathRuleAnywhereElement=void 0;const t=Ve(),n=Ih(),r=Fg();let i=class extends r.XPathElement{constructor(l,u){super(l),this.ruleIndex=u}evaluate(l){return n.Trees.findAllRuleNodes(l,this.ruleIndex)}};return e([t.Override],i.prototype,"evaluate",null),Kd.XPathRuleAnywhereElement=i,Kd}var Zd={},xD;function VY(){if(xD)return Zd;xD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zd&&Zd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.XPathRuleElement=void 0;const t=Gs(),n=Ve(),r=Ih(),i=Fg();let s=class extends i.XPathElement{constructor(u,c){super(u),this.ruleIndex=c}evaluate(u){let c=[];for(let g of r.Trees.getChildren(u))g instanceof t.ParserRuleContext&&(g.ruleIndex===this.ruleIndex&&!this.invert||g.ruleIndex!==this.ruleIndex&&this.invert)&&c.push(g);return c}};return e([n.Override],s.prototype,"evaluate",null),Zd.XPathRuleElement=s,Zd}var Jd={},bD;function GY(){if(bD)return Jd;bD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jd&&Jd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.XPathTokenAnywhereElement=void 0;const t=Ve(),n=Ih(),r=Fg();let i=class extends r.XPathElement{constructor(l,u){super(l),this.tokenType=u}evaluate(l){return n.Trees.findAllTokenNodes(l,this.tokenType)}};return e([t.Override],i.prototype,"evaluate",null),Jd.XPathTokenAnywhereElement=i,Jd}var Qd={},SD;function $Y(){if(SD)return Qd;SD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Qd&&Qd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.XPathTokenElement=void 0;const t=Ve(),n=Lg(),r=Ih(),i=Fg();let s=class extends i.XPathElement{constructor(u,c){super(u),this.tokenType=c}evaluate(u){let c=[];for(let g of r.Trees.getChildren(u))g instanceof n.TerminalNode&&(g.symbol.type===this.tokenType&&!this.invert||g.symbol.type!==this.tokenType&&this.invert)&&c.push(g);return c}};return e([t.Override],s.prototype,"evaluate",null),Qd.XPathTokenElement=s,Qd}var eh={},AD;function HY(){if(AD)return eh;AD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=eh&&eh.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(eh,"__esModule",{value:!0}),eh.XPathWildcardAnywhereElement=void 0;const t=Ve(),n=Ih(),r=UR(),i=Fg();let s=class extends i.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(u){return this.invert?[]:n.Trees.getDescendants(u)}};return e([t.Override],s.prototype,"evaluate",null),eh.XPathWildcardAnywhereElement=s,eh}var th={},ED;function WY(){if(ED)return th;ED=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=th&&th.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(th,"__esModule",{value:!0}),th.XPathWildcardElement=void 0;const t=Ve(),n=Ih(),r=UR(),i=Fg();let s=class extends i.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(u){let c=[];if(this.invert)return c;for(let g of n.Trees.getChildren(u))c.push(g);return c}};return e([t.Override],s.prototype,"evaluate",null),th.XPathWildcardElement=s,th}var CD;function UR(){if(CD)return rv;CD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(rv,"__esModule",{value:!0}),rv.XPath=void 0;const e=jR(),t=zR(),n=v1(),r=Gs(),i=qn(),s=jY(),l=zY(),u=UY(),c=VY(),g=GY(),p=$Y(),m=HY(),x=WY();let b=class rB{constructor(w,C){this.parser=w,this.path=C,this.elements=this.split(C)}split(w){let C=new s.XPathLexer(e.CharStreams.fromString(w));C.recover=B=>{throw B},C.removeErrorListeners(),C.addErrorListener(new l.XPathLexerErrorListener);let R=new t.CommonTokenStream(C);try{R.fill()}catch(B){if(B instanceof n.LexerNoViableAltException){let k="Invalid tokens or characters at index "+C.charPositionInLine+" in path '"+w+"' -- "+B.message;throw new RangeError(k)}throw B}let T=R.getTokens(),N=[],D=T.length,F=0;e:for(;F<D;){let B=T[F],j;switch(B.type){case s.XPathLexer.ROOT:case s.XPathLexer.ANYWHERE:let k=B.type===s.XPathLexer.ANYWHERE;F++,j=T[F];let $=j.type===s.XPathLexer.BANG;$&&(F++,j=T[F]);let Z=this.getXPathElement(j,k);Z.invert=$,N.push(Z),F++;break;case s.XPathLexer.TOKEN_REF:case s.XPathLexer.RULE_REF:case s.XPathLexer.WILDCARD:N.push(this.getXPathElement(B,!1)),F++;break;case i.Token.EOF:break e;default:throw new Error("Unknowth path element "+B)}}return N}getXPathElement(w,C){if(w.type===i.Token.EOF)throw new Error("Missing path element at end of path");let R=w.text;if(R==null)throw new Error("Expected wordToken to have text content.");let T=this.parser.getTokenType(R),N=this.parser.getRuleIndex(R);switch(w.type){case s.XPathLexer.WILDCARD:return C?new m.XPathWildcardAnywhereElement:new x.XPathWildcardElement;case s.XPathLexer.TOKEN_REF:case s.XPathLexer.STRING:if(T===i.Token.INVALID_TYPE)throw new Error(R+" at index "+w.startIndex+" isn't a valid token name");return C?new g.XPathTokenAnywhereElement(R,T):new p.XPathTokenElement(R,T);default:if(N===-1)throw new Error(R+" at index "+w.startIndex+" isn't a valid rule name");return C?new u.XPathRuleAnywhereElement(R,N):new c.XPathRuleElement(R,N)}}static findAll(w,C,R){return new rB(R,C).evaluate(w)}evaluate(w){let C=new r.ParserRuleContext;C.addChild(w);let R=new Set([C]),T=0;for(;T<this.elements.length;){let N=new Set;for(let D of R)D.childCount>0&&this.elements[T].evaluate(D).forEach(N.add,N);T++,R=N}return R}};return rv.XPath=b,b.WILDCARD="*",b.NOT="!",rv}var wD;function YY(){if(wD)return uu;wD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=uu&&uu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=uu&&uu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(uu,"__esModule",{value:!0}),uu.ParseTreePattern=void 0;const n=Ve(),r=UR();let i=class{constructor(l,u,c,g){this._matcher=l,this._patternRuleIndex=c,this._pattern=u,this._patternTree=g}match(l){return this._matcher.match(l,this)}matches(l){return this._matcher.match(l,this).succeeded}findAll(l,u){let c=r.XPath.findAll(l,u,this._matcher.parser),g=[];for(let p of c){let m=this.match(p);m.succeeded&&g.push(m)}return g}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};return e([n.NotNull],i.prototype,"_pattern",void 0),e([n.NotNull],i.prototype,"_patternTree",void 0),e([n.NotNull],i.prototype,"_matcher",void 0),e([n.NotNull,t(0,n.NotNull)],i.prototype,"match",null),e([t(0,n.NotNull)],i.prototype,"matches",null),e([n.NotNull,t(0,n.NotNull),t(1,n.NotNull)],i.prototype,"findAll",null),e([n.NotNull],i.prototype,"matcher",null),e([n.NotNull],i.prototype,"pattern",null),e([n.NotNull],i.prototype,"patternTree",null),i=e([t(0,n.NotNull),t(1,n.NotNull),t(3,n.NotNull)],i),uu.ParseTreePattern=i,uu}var cu={},RD;function qY(){if(RD)return cu;RD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=cu&&cu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=cu&&cu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(cu,"__esModule",{value:!0}),cu.RuleTagToken=void 0;const n=Ve(),r=qn();let i=class{constructor(l,u,c){if(l==null||l.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=l,this.bypassTokenType=u,this._label=c}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return r.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};return e([n.NotNull],i.prototype,"ruleName",null),e([n.Override],i.prototype,"channel",null),e([n.Override],i.prototype,"text",null),e([n.Override],i.prototype,"type",null),e([n.Override],i.prototype,"line",null),e([n.Override],i.prototype,"charPositionInLine",null),e([n.Override],i.prototype,"tokenIndex",null),e([n.Override],i.prototype,"startIndex",null),e([n.Override],i.prototype,"stopIndex",null),e([n.Override],i.prototype,"tokenSource",null),e([n.Override],i.prototype,"inputStream",null),e([n.Override],i.prototype,"toString",null),i=e([t(0,n.NotNull)],i),cu.RuleTagToken=i,cu}var nh={},ov={},TD;function iB(){if(TD)return ov;TD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(ov,"__esModule",{value:!0}),ov.Chunk=void 0;let e=class{};return ov.Chunk=e,ov}var ND;function KY(){if(ND)return nh;ND=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nh&&nh.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(nh,"__esModule",{value:!0}),nh.TagChunk=void 0;const t=iB(),n=Ve();let r=class extends t.Chunk{constructor(s,l){if(super(),s==null||s.length===0)throw new Error("tag cannot be null or empty");this._tag=s,this._label=l}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};return e([n.NotNull],r.prototype,"tag",null),e([n.Override],r.prototype,"toString",null),nh.TagChunk=r,nh}var fu={},_D;function XY(){if(_D)return fu;_D=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=fu&&fu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=fu&&fu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(fu,"__esModule",{value:!0}),fu.TextChunk=void 0;const n=iB(),r=Ve();let i=class extends n.Chunk{constructor(l){if(super(),l==null)throw new Error("text cannot be null");this._text=l}get text(){return this._text}toString(){return"'"+this._text+"'"}};return e([r.NotNull],i.prototype,"_text",void 0),e([r.NotNull],i.prototype,"text",null),e([r.Override],i.prototype,"toString",null),i=e([t(0,r.NotNull)],i),fu.TextChunk=i,fu}var du={},ID;function ZY(){if(ID)return du;ID=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=du&&du.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=du&&du.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(du,"__esModule",{value:!0}),du.TokenTagToken=void 0;const n=ay(),r=Ve();let i=class extends n.CommonToken{constructor(l,u,c){super(u),this._tokenName=l,this._label=c}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};return e([r.NotNull],i.prototype,"_tokenName",void 0),e([r.NotNull],i.prototype,"tokenName",null),e([r.Override],i.prototype,"text",null),e([r.Override],i.prototype,"toString",null),i=e([t(0,r.NotNull)],i),du.TokenTagToken=i,du}var OD;function JY(){return OD||(OD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Hd&&Hd.__decorate||function(j,k,$,Z){var ne=arguments.length,ie=ne<3?k:Z===null?Z=Object.getOwnPropertyDescriptor(k,$):Z,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(j,k,$,Z);else for(var De=j.length-1;De>=0;De--)(he=j[De])&&(ie=(ne<3?he(ie):ne>3?he(k,$,ie):he(k,$))||ie);return ne>3&&ie&&Object.defineProperty(k,$,ie),ie},n=Hd&&Hd.__param||function(j,k){return function($,Z){k($,Z,j)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreePatternMatcher=void 0;const r=oB(),i=jR(),s=zR(),l=Qk(),u=kY(),c=Ve(),g=eB(),p=nB(),m=Gs(),x=BY(),b=YY(),E=lf(),w=kR(),C=qY(),R=KY(),T=Lg(),N=XY(),D=qn(),F=ZY();let B=class i2{constructor(k,$){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=k,this._parser=$}setDelimiters(k,$,Z){if(!k)throw new Error("start cannot be null or empty");if(!$)throw new Error("stop cannot be null or empty");this.start=k,this.stop=$,this.escape=Z,this.escapeRE=new RegExp(Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(k,$,Z=0){if(typeof $=="string"){let ne=this.compile($,Z);return this.matches(k,ne)}else{let ne=new u.MultiMap;return!this.matchImpl(k,$.patternTree,ne)}}match(k,$,Z=0){if(typeof $=="string"){let ne=this.compile($,Z);return this.match(k,ne)}else{let ne=new u.MultiMap,ie=this.matchImpl(k,$.patternTree,ne);return new x.ParseTreeMatch(k,$,ne,ie)}}compile(k,$){let Z=this.tokenize(k),ne=new l.ListTokenSource(Z),ie=new s.CommonTokenStream(ne);const he=this._parser;let De=new p.ParserInterpreter(he.grammarFileName,he.vocabulary,he.ruleNames,he.getATNWithBypassAlts(),ie),Te;try{De.errorHandler=new r.BailErrorStrategy,Te=De.parse($)}catch(re){throw re instanceof g.ParseCancellationException?re.getCause():re instanceof E.RecognitionException?re:re instanceof Error?new i2.CannotInvokeStartRule(re):re}if(ie.LA(1)!==D.Token.EOF)throw new i2.StartRuleDoesNotConsumeFullPattern;return new b.ParseTreePattern(this,k,$,Te)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(k,$,Z){if(!k)throw new TypeError("tree cannot be null");if(!$)throw new TypeError("patternTree cannot be null");if(k instanceof T.TerminalNode&&$ instanceof T.TerminalNode){let ne;if(k.symbol.type===$.symbol.type)if($.symbol instanceof F.TokenTagToken){let ie=$.symbol;Z.map(ie.tokenName,k);const he=ie.label;he&&Z.map(he,k)}else k.text===$.text||ne||(ne=k);else ne||(ne=k);return ne}if(k instanceof m.ParserRuleContext&&$ instanceof m.ParserRuleContext){let ne,ie=this.getRuleTagToken($);if(ie){if(k.ruleContext.ruleIndex===$.ruleContext.ruleIndex){Z.map(ie.ruleName,k);const De=ie.label;De&&Z.map(De,k)}else ne||(ne=k);return ne}if(k.childCount!==$.childCount)return ne||(ne=k),ne;let he=k.childCount;for(let De=0;De<he;De++){let Te=this.matchImpl(k.getChild(De),$.getChild(De),Z);if(Te)return Te}return ne}return k}getRuleTagToken(k){if(k instanceof w.RuleNode&&k.childCount===1&&k.getChild(0)instanceof T.TerminalNode){let $=k.getChild(0);if($.symbol instanceof C.RuleTagToken)return $.symbol}}tokenize(k){let $=this.split(k),Z=[];for(let ne of $)if(ne instanceof R.TagChunk){let ie=ne;const he=ie.tag.substr(0,1);if(he===he.toUpperCase()){let De=this._parser.getTokenType(ie.tag);if(De===D.Token.INVALID_TYPE)throw new Error("Unknown token "+ie.tag+" in pattern: "+k);let Te=new F.TokenTagToken(ie.tag,De,ie.label);Z.push(Te)}else if(he===he.toLowerCase()){let De=this._parser.getRuleIndex(ie.tag);if(De===-1)throw new Error("Unknown rule "+ie.tag+" in pattern: "+k);let Te=this._parser.getATNWithBypassAlts().ruleToTokenType[De];Z.push(new C.RuleTagToken(ie.tag,Te,ie.label))}else throw new Error("invalid tag: "+ie.tag+" in pattern: "+k)}else{let ie=ne;this._lexer.inputStream=i.CharStreams.fromString(ie.text);let he=this._lexer.nextToken();for(;he.type!==D.Token.EOF;)Z.push(he),he=this._lexer.nextToken()}return Z}split(k){let $=0,Z=k.length,ne=[],ie=[],he=[];for(;$<Z;)$===k.indexOf(this.escape+this.start,$)?$+=this.escape.length+this.start.length:$===k.indexOf(this.escape+this.stop,$)?$+=this.escape.length+this.stop.length:$===k.indexOf(this.start,$)?(ie.push($),$+=this.start.length):$===k.indexOf(this.stop,$)?(he.push($),$+=this.stop.length):$++;if(ie.length>he.length)throw new Error("unterminated tag in pattern: "+k);if(ie.length<he.length)throw new Error("missing start tag in pattern: "+k);let De=ie.length;for(let Te=0;Te<De;Te++)if(ie[Te]>=he[Te])throw new Error("tag delimiters out of order in pattern: "+k);if(De===0){let Te=k.substring(0,Z);ne.push(new N.TextChunk(Te))}if(De>0&&ie[0]>0){let Te=k.substring(0,ie[0]);ne.push(new N.TextChunk(Te))}for(let Te=0;Te<De;Te++){let re=k.substring(ie[Te]+this.start.length,he[Te]),Ae=re,de,ue=re.indexOf(":");if(ue>=0&&(de=re.substring(0,ue),Ae=re.substring(ue+1,re.length)),ne.push(new R.TagChunk(Ae,de)),Te+1<De){let K=k.substring(he[Te]+this.stop.length,ie[Te+1]);ne.push(new N.TextChunk(K))}}if(De>0){let Te=he[De-1]+this.stop.length;if(Te<Z){let re=k.substring(Te,Z);ne.push(new N.TextChunk(re))}}for(let Te=0;Te<ne.length;Te++){let re=ne[Te];if(re instanceof N.TextChunk){let Ae=re.text.replace(this.escapeRE,"");Ae.length<re.text.length&&(ne[Te]=new N.TextChunk(Ae))}}return ne}};t([c.NotNull,n(1,c.NotNull)],B.prototype,"match",null),t([c.NotNull],B.prototype,"lexer",null),t([c.NotNull],B.prototype,"parser",null),t([n(0,c.NotNull),n(1,c.NotNull),n(2,c.NotNull)],B.prototype,"matchImpl",null),e.ParseTreePatternMatcher=B,function(j){class k extends Error{constructor(ne){super(`CannotInvokeStartRule: ${ne}`),this.error=ne}}j.CannotInvokeStartRule=k;class $ extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}j.StartRuleDoesNotConsumeFullPattern=$}(B=e.ParseTreePatternMatcher||(e.ParseTreePatternMatcher={}))}(Hd)),Hd}var hu={},pu={},gu={},DD;function dy(){if(DD)return gu;DD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gu&&gu.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g},t=gu&&gu.__param||function(i,s){return function(l,u){s(l,u,i)}};Object.defineProperty(gu,"__esModule",{value:!0}),gu.DecisionEventInfo=void 0;const n=Ve();let r=class{constructor(s,l,u,c,g,p){this.decision=s,this.fullCtx=p,this.stopIndex=g,this.input=u,this.startIndex=c,this.state=l}};return e([n.NotNull],r.prototype,"input",void 0),r=e([t(2,n.NotNull)],r),gu.DecisionEventInfo=r,gu}var MD;function QY(){if(MD)return pu;MD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pu&&pu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=pu&&pu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(pu,"__esModule",{value:!0}),pu.AmbiguityInfo=void 0;const n=dy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p,m){super(l,u,g,p,m,u.useContext),this.ambigAlts=c}get ambiguousAlternatives(){return this.ambigAlts}};return e([r.NotNull],i.prototype,"ambigAlts",void 0),e([r.NotNull],i.prototype,"ambiguousAlternatives",null),i=e([t(1,r.NotNull),t(2,r.NotNull),t(3,r.NotNull)],i),pu.AmbiguityInfo=i,pu}var mu={},PD;function e7(){if(PD)return mu;PD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=mu&&mu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=mu&&mu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(mu,"__esModule",{value:!0}),mu.ContextSensitivityInfo=void 0;const n=dy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p){super(l,u,c,g,p,!0)}};return i=e([t(1,r.NotNull),t(2,r.NotNull)],i),mu.ContextSensitivityInfo=i,mu}var rh={},LD;function t7(){if(LD)return rh;LD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=rh&&rh.__decorate||function(r,i,s,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,s):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,s,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,s,c):g(i,s))||c);return u>3&&c&&Object.defineProperty(i,s,c),c};Object.defineProperty(rh,"__esModule",{value:!0}),rh.DecisionInfo=void 0;const t=Ve();let n=class{constructor(i){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=i}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};return e([t.Override],n.prototype,"toString",null),rh.DecisionInfo=n,rh}var vu={},FD;function n7(){if(FD)return vu;FD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=vu&&vu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=vu&&vu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(vu,"__esModule",{value:!0}),vu.ErrorInfo=void 0;const n=dy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p){super(l,u,c,g,p,u.useContext)}};return i=e([t(1,r.NotNull),t(2,r.NotNull)],i),vu.ErrorInfo=i,vu}var yu={},kD;function r7(){if(kD)return yu;kD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yu&&yu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=yu&&yu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(yu,"__esModule",{value:!0}),yu.LookaheadEventInfo=void 0;const n=dy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p,m,x){super(l,u,g,p,m,x),this.predictedAlt=c}};return i=e([t(3,r.NotNull)],i),yu.LookaheadEventInfo=i,yu}var xu={},BD;function i7(){if(BD)return xu;BD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xu&&xu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=xu&&xu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(xu,"__esModule",{value:!0}),xu.PredicateEvalInfo=void 0;const n=dy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p,m,x,b){super(u,l,c,g,p,l.useContext),this.semctx=m,this.evalResult=x,this.predictedAlt=b}};return i=e([t(0,r.NotNull),t(2,r.NotNull),t(5,r.NotNull)],i),xu.PredicateEvalInfo=i,xu}var jD;function zD(){if(jD)return hu;jD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=hu&&hu.__decorate||function(w,C,R,T){var N=arguments.length,D=N<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,R):T,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(w,C,R,T);else for(var B=w.length-1;B>=0;B--)(F=w[B])&&(D=(N<3?F(D):N>3?F(C,R,D):F(C,R))||D);return N>3&&D&&Object.defineProperty(C,R,D),D},t=hu&&hu.__param||function(w,C){return function(R,T){C(R,T,w)}};Object.defineProperty(hu,"__esModule",{value:!0}),hu.ProfilingATNSimulator=void 0;const n=QY(),r=$a(),i=m1(),s=e7(),l=t7(),u=n7(),c=Ve(),g=r7(),p=fy(),m=i7(),x=Mg(),b=Yk();let E=class extends p.ParserATNSimulator{constructor(C){super(C.interpreter.atn,C),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let R=0;R<this.numDecisions;R++)this.decisions.push(new l.DecisionInfo(R))}adaptivePredict(C,R,T,N){if(N!==void 0)return super.adaptivePredict(C,R,T,N);try{this._input=C,this._startIndex=C.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=R,this.currentState=void 0,this.conflictingAltResolvedBySLL=r.ATN.INVALID_ALT_NUMBER;let D=process.hrtime(),F=super.adaptivePredict(C,R,T),B=process.hrtime(),j=(B[0]-D[0])*1e9;j===0?j=B[1]-D[1]:j+=1e9-D[1]+B[1],this.decisions[R].timeInPrediction+=j,this.decisions[R].invocations++;let k=this._sllStopIndex-this._startIndex+1;if(this.decisions[R].SLL_TotalLook+=k,this.decisions[R].SLL_MinLook=this.decisions[R].SLL_MinLook===0?k:Math.min(this.decisions[R].SLL_MinLook,k),k>this.decisions[R].SLL_MaxLook&&(this.decisions[R].SLL_MaxLook=k,this.decisions[R].SLL_MaxLookEvent=new g.LookaheadEventInfo(R,void 0,F,C,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let $=this._llStopIndex-this._startIndex+1;this.decisions[R].LL_TotalLook+=$,this.decisions[R].LL_MinLook=this.decisions[R].LL_MinLook===0?$:Math.min(this.decisions[R].LL_MinLook,$),$>this.decisions[R].LL_MaxLook&&(this.decisions[R].LL_MaxLook=$,this.decisions[R].LL_MaxLookEvent=new g.LookaheadEventInfo(R,void 0,F,C,this._startIndex,this._llStopIndex,!0))}return F}finally{this._input=void 0,this.currentDecision=-1}}getStartState(C,R,T,N){let D=super.getStartState(C,R,T,N);return this.currentState=D,D}computeStartState(C,R,T){let N=super.computeStartState(C,R,T);return this.currentState=N,N}computeReachSet(C,R,T,N){if(this._input===void 0)throw new Error("Invalid state");let D=super.computeReachSet(C,R,T,N);return D==null&&this.decisions[this.currentDecision].errors.push(new u.ErrorInfo(this.currentDecision,R,this._input,this._startIndex,this._input.index)),this.currentState=D,D}getExistingTargetState(C,R){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let T=super.getExistingTargetState(C,R);if(T!=null&&(this.currentState=new b.SimulatorState(this.currentState.outerContext,T,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,T===i.ATNSimulator.ERROR)){let N=new b.SimulatorState(this.currentState.outerContext,C,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new u.ErrorInfo(this.currentDecision,N,this._input,this._startIndex,this._input.index))}return T}computeTargetState(C,R,T,N,D,F){let B=super.computeTargetState(C,R,T,N,D,F);return D?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,B}evalSemanticContextImpl(C,R,T){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let N=super.evalSemanticContextImpl(C,R,T);if(!(C instanceof x.SemanticContext.PrecedencePredicate)){let F=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new m.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,F,C,N,T))}return N}reportContextSensitivity(C,R,T,N,D){if(this._input===void 0)throw new Error("Invalid state");R!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new s.ContextSensitivityInfo(this.currentDecision,T,this._input,N,D)),super.reportContextSensitivity(C,R,T,N,D)}reportAttemptingFullContext(C,R,T,N,D){R!=null?this.conflictingAltResolvedBySLL=R.nextSetBit(0):this.conflictingAltResolvedBySLL=T.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(C,R,T,N,D)}reportAmbiguity(C,R,T,N,D,F,B){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let j;F!=null?j=F.nextSetBit(0):j=B.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==r.ATN.INVALID_ALT_NUMBER&&j!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new s.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,T,N)),this.decisions[this.currentDecision].ambiguities.push(new n.AmbiguityInfo(this.currentDecision,this.currentState,F,this._input,T,N)),super.reportAmbiguity(C,R,T,N,D,F,B)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};return e([c.Override,t(0,c.NotNull)],E.prototype,"adaptivePredict",null),e([c.Override],E.prototype,"getStartState",null),e([c.Override],E.prototype,"computeStartState",null),e([c.Override],E.prototype,"computeReachSet",null),e([c.Override],E.prototype,"getExistingTargetState",null),e([c.Override],E.prototype,"computeTargetState",null),e([c.Override],E.prototype,"evalSemanticContextImpl",null),e([c.Override],E.prototype,"reportContextSensitivity",null),e([c.Override],E.prototype,"reportAttemptingFullContext",null),e([c.Override,t(0,c.NotNull),t(5,c.NotNull),t(6,c.NotNull)],E.prototype,"reportAmbiguity",null),hu.ProfilingATNSimulator=E,hu}var UD;function hy(){if(UD)return _s;UD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_s&&_s.__decorate||function(N,D,F,B){var j=arguments.length,k=j<3?D:B===null?B=Object.getOwnPropertyDescriptor(D,F):B,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(N,D,F,B);else for(var Z=N.length-1;Z>=0;Z--)($=N[Z])&&(k=(j<3?$(k):j>3?$(D,F,k):$(D,F))||k);return j>3&&k&&Object.defineProperty(D,F,k),k},t=_s&&_s.__param||function(N,D){return function(F,B){D(F,B,N)}},n=_s&&_s.__awaiter||function(N,D,F,B){function j(k){return k instanceof F?k:new F(function($){$(k)})}return new(F||(F=Promise))(function(k,$){function Z(he){try{ie(B.next(he))}catch(De){$(De)}}function ne(he){try{ie(B.throw(he))}catch(De){$(De)}}function ie(he){he.done?k(he.value):j(he.value).then(Z,ne)}ie((B=B.apply(N,D||[])).next())})};Object.defineProperty(_s,"__esModule",{value:!0}),_s.Parser=void 0;const r=Fu(),i=Lk(),s=BR(),l=VR(),u=FR(),c=Ek(),g=df(),p=Ve(),m=LY(),x=fy(),b=qk(),E=uy(),w=Lg(),C=qn();class R{constructor(D,F){this.ruleNames=D,this.tokenStream=F}enterEveryRule(D){console.log("enter   "+this.ruleNames[D.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(D){console.log("exit    "+this.ruleNames[D.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(D){}visitTerminal(D){let F=D.parent.ruleContext,B=D.symbol;console.log("consume "+B+" rule "+this.ruleNames[F.ruleIndex])}}e([p.Override],R.prototype,"enterEveryRule",null),e([p.Override],R.prototype,"exitEveryRule",null),e([p.Override],R.prototype,"visitErrorNode",null),e([p.Override],R.prototype,"visitTerminal",null);let T=class cS extends E.Recognizer{constructor(D){super(),this._errHandler=new l.DefaultErrorStrategy,this._precedenceStack=new c.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=D}reset(D){(D===void 0||D)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let F=this.interpreter;F!=null&&F.reset()}match(D){let F=this.currentToken;return F.type===D?(D===C.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(F=this._errHandler.recoverInline(this),this._buildParseTrees&&F.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,F))),F}matchWildcard(){let D=this.currentToken;return D.type>0?(this._errHandler.reportMatch(this),this.consume()):(D=this._errHandler.recoverInline(this),this._buildParseTrees&&D.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,D))),D}set buildParseTree(D){this._buildParseTrees=D}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(D){if(D==null)throw new TypeError("listener cannot be null");this._parseListeners.push(D)}removeParseListener(D){let F=this._parseListeners.findIndex(B=>B===D);F!==-1&&this._parseListeners.splice(F,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let D of this._parseListeners)D.enterEveryRule&&D.enterEveryRule(this._ctx),this._ctx.enterRule(D)}triggerExitRuleEvent(){for(let D=this._parseListeners.length-1;D>=0;D--){let F=this._parseListeners[D];this._ctx.exitRule(F),F.exitEveryRule&&F.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let D=this.serializedATN;if(D==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let F=cS.bypassAltsAtnCache.get(D);if(F==null){let B=new i.ATNDeserializationOptions;B.isGenerateRuleBypassTransitions=!0,F=new s.ATNDeserializer(B).deserialize(r.toCharArray(D)),cS.bypassAltsAtnCache.set(D,F)}return F}compileParseTreePattern(D,F,B){return n(this,void 0,void 0,function*(){if(!B){if(this.inputStream){let Z=this.inputStream.tokenSource;Z instanceof g.Lexer&&(B=Z)}if(!B)throw new Error("Parser can't discover a lexer to use")}let j=B,k=yield Promise.resolve().then(()=>JY());return new k.ParseTreePatternMatcher(j,this).compile(D,F)})}get errorHandler(){return this._errHandler}set errorHandler(D){this._errHandler=D}get inputStream(){return this._input}set inputStream(D){this.reset(!1),this._input=D}get currentToken(){return this._input.LT(1)}notifyErrorListeners(D,F,B){F===void 0?F=this.currentToken:F===null&&(F=void 0),this._syntaxErrors++;let j=-1,k=-1;F!=null&&(j=F.line,k=F.charPositionInLine);let $=this.getErrorListenerDispatch();$.syntaxError&&$.syntaxError(this,F,j,k,D,B)}consume(){let D=this.currentToken;D.type!==cS.EOF&&this.inputStream.consume();let F=this._parseListeners.length!==0;if(this._buildParseTrees||F)if(this._errHandler.inErrorRecoveryMode(this)){let B=this._ctx.addErrorNode(this.createErrorNode(this._ctx,D));if(F)for(let j of this._parseListeners)j.visitErrorNode&&j.visitErrorNode(B)}else{let B=this.createTerminalNode(this._ctx,D);if(this._ctx.addChild(B),F)for(let j of this._parseListeners)j.visitTerminal&&j.visitTerminal(B)}return D}createTerminalNode(D,F){return new w.TerminalNode(F)}createErrorNode(D,F){return new u.ErrorNode(F)}addContextToParseTree(){let D=this._ctx._parent;D!=null&&D.addChild(this._ctx)}enterRule(D,F,B){this.state=F,this._ctx=D,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(D,F,B){if(this.state=F,this._buildParseTrees){let j=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),j._parent=D,D.addChild(j)}this._ctx=D,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(D,F){if(D.altNumber=F,this._buildParseTrees&&this._ctx!==D){let B=this._ctx._parent;B!=null&&(B.removeLastChild(),B.addChild(D))}this._ctx=D}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(D,F,B,j){this.state=F,this._precedenceStack.push(j),this._ctx=D,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(D,F,B){let j=this._ctx;j._parent=D,j.invokingState=F,j._stop=this._input.tryLT(-1),this._ctx=D,this._ctx._start=j._start,this._buildParseTrees&&this._ctx.addChild(j),this.triggerEnterRuleEvent()}unrollRecursionContexts(D){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let F=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==D;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=D;F._parent=D,this._buildParseTrees&&D!=null&&D.addChild(F)}getInvokingContext(D){let F=this._ctx;for(;F&&F.ruleIndex!==D;)F=F._parent;return F}get context(){return this._ctx}set context(D){this._ctx=D}precpred(D,F){return F>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new b.ProxyParserErrorListener(this.getErrorListeners())}inContext(D){return!1}isExpectedToken(D){let F=this.interpreter.atn,B=this._ctx,j=F.states[this.state],k=F.nextTokens(j);if(k.contains(D))return!0;if(!k.contains(C.Token.EPSILON))return!1;for(;B!=null&&B.invokingState>=0&&k.contains(C.Token.EPSILON);){let Z=F.states[B.invokingState].transition(0);if(k=F.nextTokens(Z.followState),k.contains(D))return!0;B=B._parent}return!!(k.contains(C.Token.EPSILON)&&D===C.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let D=this.interpreter.atn,F=D.states[this.state];return D.nextTokens(F)}getRuleIndex(D){let F=this.getRuleIndexMap().get(D);return F??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(D=this._ctx){let F=D,B=this.ruleNames,j=[];for(;F!=null;){let k=F.ruleIndex;k<0?j.push("n/a"):j.push(B[k]),F=F._parent}return j}getDFAStrings(){let D=[];for(let F of this._interp.atn.decisionToDFA)D.push(F.toString(this.vocabulary,this.ruleNames));return D}dumpDFA(){let D=!1;for(let F of this._interp.atn.decisionToDFA)F.isEmpty||(D&&console.log(),console.log("Decision "+F.decision+":"),process.stdout.write(F.toString(this.vocabulary,this.ruleNames)),D=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>zD()).then(D=>{let F=this.interpreter;if(F instanceof D.ProfilingATNSimulator)return new m.ParseInfo(F)})}setProfile(D){return n(this,void 0,void 0,function*(){let F=yield Promise.resolve().then(()=>zD()),B=this.interpreter;D?B instanceof F.ProfilingATNSimulator||(this.interpreter=new F.ProfilingATNSimulator(this)):B instanceof F.ProfilingATNSimulator&&(this.interpreter=new x.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(B.getPredictionMode())})}set isTrace(D){D?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new R(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};return T.bypassAltsAtnCache=new Map,e([p.NotNull],T.prototype,"_errHandler",void 0),e([p.NotNull],T.prototype,"match",null),e([p.NotNull],T.prototype,"matchWildcard",null),e([p.NotNull],T.prototype,"getParseListeners",null),e([t(0,p.NotNull)],T.prototype,"addParseListener",null),e([p.NotNull],T.prototype,"getATNWithBypassAlts",null),e([p.NotNull,t(0,p.NotNull)],T.prototype,"errorHandler",null),e([p.Override],T.prototype,"inputStream",null),e([p.NotNull],T.prototype,"currentToken",null),e([t(0,p.NotNull)],T.prototype,"enterRule",null),e([p.Override,t(0,p.Nullable)],T.prototype,"precpred",null),e([p.Override],T.prototype,"getErrorListenerDispatch",null),e([p.NotNull],T.prototype,"getExpectedTokens",null),e([p.NotNull],T.prototype,"getExpectedTokensWithinCurrentRule",null),e([p.Override],T.prototype,"parseInfo",null),_s.Parser=T,_s}var VD;function b1(){if(VD)return wd;VD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=wd&&wd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(wd,"__esModule",{value:!0}),wd.NoViableAltException=void 0;const t=hy(),n=lf(),r=Ve();let i=class extends n.RecognitionException{constructor(l,u,c,g,p,m){l instanceof t.Parser&&(u===void 0&&(u=l.inputStream),c===void 0&&(c=l.currentToken),g===void 0&&(g=l.currentToken),m===void 0&&(m=l.context)),super(l,u,m),this._deadEndConfigs=p,this._startToken=c,this.setOffendingToken(l,g)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};return e([r.NotNull],i.prototype,"_startToken",void 0),wd.NoViableAltException=i,wd}var GD;function VR(){if(GD)return Sl;GD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sl&&Sl.__decorate||function(x,b,E,w){var C=arguments.length,R=C<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,E):w,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,E,w);else for(var N=x.length-1;N>=0;N--)(T=x[N])&&(R=(C<3?T(R):C>3?T(b,E,R):T(b,E))||R);return C>3&&R&&Object.defineProperty(b,E,R),R},t=Sl&&Sl.__param||function(x,b){return function(E,w){b(E,w,x)}};Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.DefaultErrorStrategy=void 0;const n=Lu(),r=ti(),i=d1(),s=h1(),l=_h(),u=b1(),c=Vs(),g=qn(),p=Ve();let m=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER}reset(b){this.endErrorCondition(b)}beginErrorCondition(b){this.errorRecoveryMode=!0}inErrorRecoveryMode(b){return this.errorRecoveryMode}endErrorCondition(b){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(b){this.endErrorCondition(b)}reportError(b,E){this.inErrorRecoveryMode(b)||(this.beginErrorCondition(b),E instanceof u.NoViableAltException?this.reportNoViableAlternative(b,E):E instanceof s.InputMismatchException?this.reportInputMismatch(b,E):E instanceof i.FailedPredicateException?this.reportFailedPredicate(b,E):(console.error(`unknown recognition error type: ${E}`),this.notifyErrorListeners(b,E.toString(),E)))}notifyErrorListeners(b,E,w){let C=w.getOffendingToken(b);C===void 0&&(C=null),b.notifyErrorListeners(E,C,w)}recover(b,E){this.lastErrorIndex===b.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(b.state)&&b.consume(),this.lastErrorIndex=b.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new l.IntervalSet),this.lastErrorStates.add(b.state);let w=this.getErrorRecoverySet(b);this.consumeUntil(b,w)}sync(b){let E=b.interpreter.atn.states[b.state];if(this.inErrorRecoveryMode(b))return;let C=b.inputStream.LA(1),R=b.atn.nextTokens(E);if(R.contains(C)){this.nextTokensContext=void 0,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER;return}if(R.contains(g.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=b.context,this.nextTokensState=b.state);return}switch(E.stateType){case r.ATNStateType.BLOCK_START:case r.ATNStateType.STAR_BLOCK_START:case r.ATNStateType.PLUS_BLOCK_START:case r.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(b))return;throw new s.InputMismatchException(b);case r.ATNStateType.PLUS_LOOP_BACK:case r.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(b);let N=b.getExpectedTokens().or(this.getErrorRecoverySet(b));this.consumeUntil(b,N);break}}reportNoViableAlternative(b,E){let w=b.inputStream,C;w?E.startToken.type===g.Token.EOF?C="<EOF>":C=w.getTextFromRange(E.startToken,E.getOffendingToken()):C="<unknown input>";let R="no viable alternative at input "+this.escapeWSAndQuote(C);this.notifyErrorListeners(b,R,E)}reportInputMismatch(b,E){let w=E.expectedTokens,C=w?w.toStringVocabulary(b.vocabulary):"",R="mismatched input "+this.getTokenErrorDisplay(E.getOffendingToken(b))+" expecting "+C;this.notifyErrorListeners(b,R,E)}reportFailedPredicate(b,E){let C="rule "+b.ruleNames[b.context.ruleIndex]+" "+E.message;this.notifyErrorListeners(b,C,E)}reportUnwantedToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let E=b.currentToken,w=this.getTokenErrorDisplay(E),C=this.getExpectedTokens(b),R="extraneous input "+w+" expecting "+C.toStringVocabulary(b.vocabulary);b.notifyErrorListeners(R,E,void 0)}reportMissingToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let E=b.currentToken,C="missing "+this.getExpectedTokens(b).toStringVocabulary(b.vocabulary)+" at "+this.getTokenErrorDisplay(E);b.notifyErrorListeners(C,E,void 0)}recoverInline(b){let E=this.singleTokenDeletion(b);if(E)return b.consume(),E;if(this.singleTokenInsertion(b))return this.getMissingSymbol(b);throw this.nextTokensContext===void 0?new s.InputMismatchException(b):new s.InputMismatchException(b,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(b){let E=b.inputStream.LA(1),C=b.interpreter.atn.states[b.state].transition(0).target,R=b.interpreter.atn;return R.nextTokens(C,c.PredictionContext.fromRuleContext(R,b.context)).contains(E)?(this.reportMissingToken(b),!0):!1}singleTokenDeletion(b){let E=b.inputStream.LA(2);if(this.getExpectedTokens(b).contains(E)){this.reportUnwantedToken(b),b.consume();let C=b.currentToken;return this.reportMatch(b),C}}getMissingSymbol(b){let E=b.currentToken,w=this.getExpectedTokens(b),C=g.Token.INVALID_TYPE;w.isNil||(C=w.minElement);let R;C===g.Token.EOF?R="<missing EOF>":R="<missing "+b.vocabulary.getDisplayName(C)+">";let T=E,N=b.inputStream.tryLT(-1);return T.type===g.Token.EOF&&N!=null&&(T=N),this.constructToken(b.inputStream.tokenSource,C,R,T)}constructToken(b,E,w,C){let R=b.tokenFactory,T=C.tokenSource,N=T?T.inputStream:void 0;return R.create({source:b,stream:N},E,w,g.Token.DEFAULT_CHANNEL,-1,-1,C.line,C.charPositionInLine)}getExpectedTokens(b){return b.getExpectedTokens()}getTokenErrorDisplay(b){if(!b)return"<no token>";let E=this.getSymbolText(b);return E||(this.getSymbolType(b)===g.Token.EOF?E="<EOF>":E=`<${this.getSymbolType(b)}>`),this.escapeWSAndQuote(E)}getSymbolText(b){return b.text}getSymbolType(b){return b.type}escapeWSAndQuote(b){return b=b.replace(`
`,"\\n"),b=b.replace("\r","\\r"),b=b.replace("	","\\t"),"'"+b+"'"}getErrorRecoverySet(b){let E=b.interpreter.atn,w=b.context,C=new l.IntervalSet;for(;w&&w.invokingState>=0;){let T=E.states[w.invokingState].transition(0),N=E.nextTokens(T.followState);C.addAll(N),w=w._parent}return C.remove(g.Token.EPSILON),C}consumeUntil(b,E){let w=b.inputStream.LA(1);for(;w!==g.Token.EOF&&!E.contains(w);)b.consume(),w=b.inputStream.LA(1)}};return e([p.Override],m.prototype,"reset",null),e([t(0,p.NotNull)],m.prototype,"beginErrorCondition",null),e([p.Override],m.prototype,"inErrorRecoveryMode",null),e([t(0,p.NotNull)],m.prototype,"endErrorCondition",null),e([p.Override],m.prototype,"reportMatch",null),e([p.Override],m.prototype,"reportError",null),e([t(0,p.NotNull)],m.prototype,"notifyErrorListeners",null),e([p.Override],m.prototype,"recover",null),e([p.Override],m.prototype,"sync",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportNoViableAlternative",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportInputMismatch",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportFailedPredicate",null),e([t(0,p.NotNull)],m.prototype,"reportUnwantedToken",null),e([t(0,p.NotNull)],m.prototype,"reportMissingToken",null),e([p.Override],m.prototype,"recoverInline",null),e([t(0,p.NotNull)],m.prototype,"singleTokenInsertion",null),e([t(0,p.NotNull)],m.prototype,"singleTokenDeletion",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getMissingSymbol",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getExpectedTokens",null),e([t(0,p.NotNull)],m.prototype,"getSymbolText",null),e([t(0,p.NotNull)],m.prototype,"getSymbolType",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"escapeWSAndQuote",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getErrorRecoverySet",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"consumeUntil",null),Sl.DefaultErrorStrategy=m,Sl}var $D;function oB(){if($D)return id;$D=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=id&&id.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(id,"__esModule",{value:!0}),id.BailErrorStrategy=void 0;const t=VR(),n=h1(),r=Ve(),i=eB();let s=class extends t.DefaultErrorStrategy{recover(u,c){for(let g=u.context;g;g=g.parent)g.exception=c;throw new i.ParseCancellationException(c)}recoverInline(u){let c=new n.InputMismatchException(u);for(let g=u.context;g;g=g.parent)g.exception=c;throw new i.ParseCancellationException(c)}sync(u){}};return e([r.Override],s.prototype,"recover",null),e([r.Override],s.prototype,"recoverInline",null),e([r.Override],s.prototype,"sync",null),id.BailErrorStrategy=s,id}var LC={},HD;function o7(){if(HD)return LC;HD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(LC,"__esModule",{value:!0}),LC}var FC={},WD;function s7(){return WD||(WD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Dependents=void 0,function(t){t[t.SELF=0]="SELF",t[t.PARENTS=1]="PARENTS",t[t.CHILDREN=2]="CHILDREN",t[t.ANCESTORS=3]="ANCESTORS",t[t.DESCENDANTS=4]="DESCENDANTS",t[t.SIBLINGS=5]="SIBLINGS",t[t.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",t[t.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",t[t.PRECEEDING=8]="PRECEEDING",t[t.FOLLOWING=9]="FOLLOWING"}(e.Dependents||(e.Dependents={}))}(FC)),FC}var bu={},YD;function a7(){if(YD)return bu;YD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bu&&bu.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=bu&&bu.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(bu,"__esModule",{value:!0}),bu.DiagnosticErrorListener=void 0;const n=ff(),r=Ve(),i=Zi();let s=class{constructor(u=!0){this.exactOnly=u,this.exactOnly=u}syntaxError(u,c,g,p,m,x){}reportAmbiguity(u,c,g,p,m,x,b){if(this.exactOnly&&!m)return;let E=this.getDecisionDescription(u,c),w=this.getConflictingAlts(x,b),C=u.inputStream.getText(i.Interval.of(g,p)),R=`reportAmbiguity d=${E}: ambigAlts=${w}, input='${C}'`;u.notifyErrorListeners(R)}reportAttemptingFullContext(u,c,g,p,m,x){let b=this.getDecisionDescription(u,c),E=u.inputStream.getText(i.Interval.of(g,p)),w=`reportAttemptingFullContext d=${b}, input='${E}'`;u.notifyErrorListeners(w)}reportContextSensitivity(u,c,g,p,m,x){let b=this.getDecisionDescription(u,c),E=u.inputStream.getText(i.Interval.of(g,p)),w=`reportContextSensitivity d=${b}, input='${E}'`;u.notifyErrorListeners(w)}getDecisionDescription(u,c){let g=c.decision,p=c.atnStartState.ruleIndex,m=u.ruleNames;if(p<0||p>=m.length)return g.toString();let x=m[p];return x?`${g} (${x})`:g.toString()}getConflictingAlts(u,c){if(u!=null)return u;let g=new n.BitSet;for(let p of c)g.set(p.alt);return g}};return e([r.Override],s.prototype,"syntaxError",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(6,r.NotNull)],s.prototype,"reportAmbiguity",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],s.prototype,"reportAttemptingFullContext",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],s.prototype,"reportContextSensitivity",null),e([t(0,r.NotNull),t(1,r.NotNull)],s.prototype,"getDecisionDescription",null),e([r.NotNull,t(1,r.NotNull)],s.prototype,"getConflictingAlts",null),bu.DiagnosticErrorListener=s,bu}var Su={},qD;function l7(){if(qD)return Su;qD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Su&&Su.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x},t=Su&&Su.__param||function(u,c){return function(g,p){c(g,p,u)}};Object.defineProperty(Su,"__esModule",{value:!0}),Su.LexerInterpreter=void 0;const n=df(),r=y1(),i=Ve(),s=Ve();let l=class extends n.Lexer{constructor(c,g,p,m,x,b,E){if(super(E),b.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=c,this._atn=b,this._ruleNames=p.slice(0),this._channelNames=m.slice(0),this._modeNames=x.slice(0),this._vocabulary=g,this._interp=new r.LexerATNSimulator(b,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};return e([i.NotNull],l.prototype,"_vocabulary",void 0),e([s.Override],l.prototype,"atn",null),e([s.Override],l.prototype,"grammarFileName",null),e([s.Override],l.prototype,"ruleNames",null),e([s.Override],l.prototype,"channelNames",null),e([s.Override],l.prototype,"modeNames",null),e([s.Override],l.prototype,"vocabulary",null),l=e([t(1,i.NotNull)],l),Su.LexerInterpreter=l,Su}var kC={},KD;function u7(){if(KD)return kC;KD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(kC,"__esModule",{value:!0}),kC}var ih={},XD;function c7(){if(XD)return ih;XD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ih&&ih.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(ih,"__esModule",{value:!0}),ih.RuleContextWithAltNum=void 0;const t=$a(),n=Ve(),r=Gs();let i=class extends r.ParserRuleContext{constructor(l,u){u!==void 0?super(l,u):super(),this._altNumber=t.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(l){this._altNumber=l}};return e([n.Override],i.prototype,"altNumber",null),ih.RuleContextWithAltNum=i,ih}var sv={},ZD;function f7(){if(ZD)return sv;ZD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(sv,"__esModule",{value:!0}),sv.RuleDependency=void 0;function e(t){return(n,r,i)=>{}}return sv.RuleDependency=e,sv}var av={},JD;function d7(){if(JD)return av;JD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(av,"__esModule",{value:!0}),av.RuleVersion=void 0;function e(t){return(n,r,i)=>{}}return av.RuleVersion=e,av}var BC={},QD;function h7(){if(QD)return BC;QD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(BC,"__esModule",{value:!0}),BC}var jC={},e3;function p7(){if(e3)return jC;e3=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(jC,"__esModule",{value:!0}),jC}var zC={},t3;function g7(){if(t3)return zC;t3=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(zC,"__esModule",{value:!0}),zC}var Au={},n3;function m7(){if(n3)return Au;n3=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Au&&Au.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var C=g.length-1;C>=0;C--)(w=g[C])&&(E=(b<3?w(E):b>3?w(p,m,E):w(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E};Object.defineProperty(Au,"__esModule",{value:!0}),Au.RewriteOperation=Au.TokenStreamRewriter=void 0;const t=Zi(),n=Ve(),r=qn();let i=class Uo{constructor(p){this.tokens=p,this.programs=new Map,this.programs.set(Uo.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(p,m=Uo.DEFAULT_PROGRAM_NAME){let x=this.programs.get(m);x!=null&&this.programs.set(m,x.slice(Uo.MIN_TOKEN_INDEX,p))}deleteProgram(p=Uo.DEFAULT_PROGRAM_NAME){this.rollback(Uo.MIN_TOKEN_INDEX,p)}insertAfter(p,m,x=Uo.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let E=this.getProgram(x),w=new u(this.tokens,b,E.length,m);E.push(w)}insertBefore(p,m,x=Uo.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let E=this.getProgram(x),w=new l(this.tokens,b,E.length,m);E.push(w)}replaceSingle(p,m){typeof p=="number"?this.replace(p,p,m):this.replace(p,p,m)}replace(p,m,x,b=Uo.DEFAULT_PROGRAM_NAME){if(typeof p!="number"&&(p=p.tokenIndex),typeof m!="number"&&(m=m.tokenIndex),p>m||p<0||m<0||m>=this.tokens.size)throw new RangeError(`replace: range invalid: ${p}..${m}(size=${this.tokens.size})`);let E=this.getProgram(b),w=new c(this.tokens,p,m,E.length,x);E.push(w)}delete(p,m,x=Uo.DEFAULT_PROGRAM_NAME){m===void 0&&(m=p),typeof p=="number"?this.replace(p,m,"",x):this.replace(p,m,"",x)}getLastRewriteTokenIndex(p=Uo.DEFAULT_PROGRAM_NAME){let m=this.lastRewriteTokenIndexes.get(p);return m??-1}setLastRewriteTokenIndex(p,m){this.lastRewriteTokenIndexes.set(p,m)}getProgram(p){let m=this.programs.get(p);return m==null&&(m=this.initializeProgram(p)),m}initializeProgram(p){let m=[];return this.programs.set(p,m),m}getText(p,m=Uo.DEFAULT_PROGRAM_NAME){let x;p instanceof t.Interval?x=p:x=t.Interval.of(0,this.tokens.size-1),typeof p=="string"&&(m=p);let b=this.programs.get(m),E=x.a,w=x.b;if(w>this.tokens.size-1&&(w=this.tokens.size-1),E<0&&(E=0),b==null||b.length===0)return this.tokens.getText(x);let C=[],R=this.reduceToSingleOperationPerIndex(b),T=E;for(;T<=w&&T<this.tokens.size;){let N=R.get(T);R.delete(T);let D=this.tokens.get(T);N==null?(D.type!==r.Token.EOF&&C.push(String(D.text)),T++):T=N.execute(C)}if(w===this.tokens.size-1)for(let N of R.values())N.index>=this.tokens.size-1&&C.push(N.text.toString());return C.join("")}reduceToSingleOperationPerIndex(p){for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof c))continue;let E=b,w=this.getKindOfOps(p,l,x);for(let R of w)R.index===E.index?(p[R.instructionIndex]=void 0,E.text=R.text.toString()+(E.text!=null?E.text.toString():"")):R.index>E.index&&R.index<=E.lastIndex&&(p[R.instructionIndex]=void 0);let C=this.getKindOfOps(p,c,x);for(let R of C){if(R.index>=E.index&&R.lastIndex<=E.lastIndex){p[R.instructionIndex]=void 0;continue}let T=R.lastIndex<E.index||R.index>E.lastIndex;if(R.text==null&&E.text==null&&!T)p[R.instructionIndex]=void 0,E.index=Math.min(R.index,E.index),E.lastIndex=Math.max(R.lastIndex,E.lastIndex);else if(!T)throw new Error(`replace op boundaries of ${E} overlap with previous ${R}`)}}for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof l))continue;let E=b,w=this.getKindOfOps(p,l,x);for(let R of w)R.index===E.index&&(R instanceof u?(E.text=this.catOpText(R.text,E.text),p[R.instructionIndex]=void 0):R instanceof l&&(E.text=this.catOpText(E.text,R.text),p[R.instructionIndex]=void 0));let C=this.getKindOfOps(p,c,x);for(let R of C){if(E.index===R.index){R.text=this.catOpText(E.text,R.text),p[x]=void 0;continue}if(E.index>=R.index&&E.index<=R.lastIndex)throw new Error(`insert op ${E} within boundaries of previous ${R}`)}}let m=new Map;for(let x of p)if(x!=null){if(m.get(x.index)!=null)throw new Error("should only be one op per index");m.set(x.index,x)}return m}catOpText(p,m){let x="",b="";return p!=null&&(x=p.toString()),m!=null&&(b=m.toString()),x+b}getKindOfOps(p,m,x){let b=[];for(let E=0;E<x&&E<p.length;E++){let w=p[E];w!=null&&w instanceof m&&b.push(w)}return b}};Au.TokenStreamRewriter=i,i.DEFAULT_PROGRAM_NAME="default",i.PROGRAM_INIT_SIZE=100,i.MIN_TOKEN_INDEX=0;class s{constructor(p,m,x,b){this.tokens=p,this.instructionIndex=x,this.index=m,this.text=b===void 0?"":b}execute(p){return this.index}toString(){let p=this.constructor.name,m=p.indexOf("$");return p=p.substring(m+1,p.length),"<"+p+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}e([n.Override],s.prototype,"toString",null),Au.RewriteOperation=s;class l extends s{constructor(p,m,x,b){super(p,m,x,b)}execute(p){return p.push(this.text.toString()),this.tokens.get(this.index).type!==r.Token.EOF&&p.push(String(this.tokens.get(this.index).text)),this.index+1}}e([n.Override],l.prototype,"execute",null);class u extends l{constructor(p,m,x,b){super(p,m+1,x,b)}}class c extends s{constructor(p,m,x,b,E){super(p,m,b,E),this.lastIndex=x}execute(p){return this.text!=null&&p.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}return e([n.Override],c.prototype,"execute",null),e([n.Override],c.prototype,"toString",null),Au}var UC={},r3;function v7(){if(r3)return UC;r3=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(UC,"__esModule",{value:!0}),UC}var VC={},i3;function y7(){if(i3)return VC;i3=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(VC,"__esModule",{value:!0}),VC}var o3;function x7(){return o3||(o3=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=nd&&nd.__createBinding||(Object.create?function(r,i,s,l){l===void 0&&(l=s),Object.defineProperty(r,l,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,l){l===void 0&&(l=s),r[l]=i[s]}),n=nd&&nd.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(mW(),e),n(vW(),e),n(sY(),e),n(oB(),e),n(Jk(),e),n(o7(),e),n(jR(),e),n(Kk(),e),n(Zk(),e),n(ay(),e),n(_R(),e),n(zR(),e),n(Tk(),e),n(VR(),e),n(s7(),e),n(a7(),e),n(d1(),e),n(h1(),e),n(tB(),e),n(af(),e),n(df(),e),n(l7(),e),n(v1(),e),n(Qk(),e),n(b1(),e),n(hy(),e),n(u7(),e),n(nB(),e),n(Gs(),e),n(OR(),e),n(qk(),e),n(lf(),e),n(uy(),e),n(Wk(),e),n(c7(),e),n(f7(),e),n(d7(),e),n(qn(),e),n(h7(),e),n(p7(),e),n(g7(),e),n(m7(),e),n(v7(),e),n(Nh(),e),n(y7(),e)}(nd)),nd}var vg=x7(),sB=BR(),b7=df(),S7=y1(),aB=Nh(),lB=Fu();const Bt=class Bt extends b7.Lexer{get vocabulary(){return Bt.VOCABULARY}constructor(t){super(t),this._interp=new S7.LexerATNSimulator(Bt._ATN,this)}get grammarFileName(){return"Formula.g4"}get ruleNames(){return Bt.ruleNames}get serializedATN(){return Bt._serializedATN}get channelNames(){return Bt.channelNames}get modeNames(){return Bt.modeNames}action(t,n,r){switch(n){case 6:this.REF_action(t,r);break}}REF_action(t,n){}static get _ATN(){return Bt.__ATN||(Bt.__ATN=new sB.ATNDeserializer().deserialize(lB.toCharArray(Bt._serializedATN))),Bt.__ATN}};Y(Bt,"T__0",1),Y(Bt,"T__1",2),Y(Bt,"T__2",3),Y(Bt,"REFERENCE",4),Y(Bt,"REF",5),Y(Bt,"REFRANGE",6),Y(Bt,"BOOL",7),Y(Bt,"STRING",8),Y(Bt,"NUM",9),Y(Bt,"FUNCNAME",10),Y(Bt,"WS",11),Y(Bt,"MUL",12),Y(Bt,"DIV",13),Y(Bt,"ADD",14),Y(Bt,"SUB",15),Y(Bt,"EQ",16),Y(Bt,"NEQ",17),Y(Bt,"LTE",18),Y(Bt,"GTE",19),Y(Bt,"LT",20),Y(Bt,"GT",21),Y(Bt,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),Y(Bt,"modeNames",["DEFAULT_MODE"]),Y(Bt,"ruleNames",["T__0","T__1","T__2","REFERENCE","SHEET_NAME","QUOTED_SHEET_NAME","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),Y(Bt,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),Y(Bt,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),Y(Bt,"VOCABULARY",new aB.VocabularyImpl(Bt._LITERAL_NAMES,Bt._SYMBOLIC_NAMES,[])),Y(Bt,"_serializedATN",`\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r											J
\x07N
\fQ\v\x07\x07\x07U
\x07\r\x07\x07V\x07\x07\b\b\\
\b\b\b\b\ba
\b\b\b\x07\be
\b\f\b\bh\v\b				




















\v\v\x07\v
\v\f\v\v\v\v\v\v\f\f
\f\r\f\f\f\f\f
\f\r\f\f\f
\f\r\r\x07\r
\r\f\r\r\v\r
\r\x07	\v\r\x07\b	
\v\f\x1B\r!#%')+-/
C\\c|2;C\\c|))3;2;$$\x07002;C\\aac|\v\v""\x07	\x1B!#%')+-/13\x075	I\vK\rR[i\x1B!#%')+-/12\x07*234\x07+456\x07.6\b78\r\x0789\x07#9:	:J;<\r\x07<=\x07#=>\b>J?@\v@A\x07#AB	BJCD\vDE\x07#EF\bFJGJ	HJ\bI7I;I?ICIGIHJ
KO	LN	MLNQOMOPP\fQORT\x07)SU
TSUVVTVWWXXY\x07)YZ\\\x07&[Z[\\\\]]^	^\`\b\b_a\x07&\`_\`aabbf	ce	dcehfdfgghfij\bjk\x07<kl\blmn\x07Vno\x07Top\x07Wp\x07Gqr\x07Hrs\x07Cst\x07Ntu\x07Uu\x07Gvw\x07vwx\x07txy\x07wy\x07gz{\x07h{|\x07c|}\x07n}~\x07u~\x07gmqvz\x07$
\x07\x07$	\x070			\b		\b\x07,\x071 \x07-"\x07/$\x07?&\x07>\x07@(\x07>\x07?*\x07@\x07?,\x07>.\x07@0IOV[\`f\b\b`),Y(Bt,"__ATN");let yg=Bt;var A7=$a(),E7=d1(),C7=b1(),w7=hy(),GR=Gs(),R7=fy(),GC=lf(),$C=qn();const Qe=class Qe extends w7.Parser{get vocabulary(){return Qe.VOCABULARY}get grammarFileName(){return"Formula.g4"}get ruleNames(){return Qe.ruleNames}get serializedATN(){return Qe._serializedATN}createFailedPredicateException(t,n){return new E7.FailedPredicateException(this,t,n)}constructor(t){super(t),this._interp=new R7.ParserATNSimulator(Qe._ATN,this)}formula(){let t=new T7(this._ctx,this.state);this.enterRule(t,0,Qe.RULE_formula);let n;try{this.enterOuterAlt(t,1);{this.state=7,this._errHandler.sync(this),n=this._input.LA(1);do this.state=6,this.expr(0),this.state=9,this._errHandler.sync(this),n=this._input.LA(1);while((n&-32)===0&&(1<<n&(1<<Qe.T__0|1<<Qe.REFERENCE|1<<Qe.BOOL|1<<Qe.STRING|1<<Qe.NUM|1<<Qe.FUNCNAME))!==0)}}catch(r){if(r instanceof GC.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}expr(t){t===void 0&&(t=0);let n=this._ctx,r=this.state,i=new Qn(this._ctx,r),s=i,l=2;this.enterRecursionRule(i,2,Qe.RULE_expr,t);let u;try{let c;this.enterOuterAlt(i,1);{switch(this.state=26,this._errHandler.sync(this),this._input.LA(1)){case Qe.FUNCNAME:i=new N7(i),this._ctx=i,s=i,this.state=12,this.match(Qe.FUNCNAME),this.state=13,this.match(Qe.T__0),this.state=15,this._errHandler.sync(this),u=this._input.LA(1),(u&-32)===0&&(1<<u&(1<<Qe.T__0|1<<Qe.REFERENCE|1<<Qe.BOOL|1<<Qe.STRING|1<<Qe.NUM|1<<Qe.FUNCNAME))!==0&&(this.state=14,this.args()),this.state=17,this.match(Qe.T__1);break;case Qe.NUM:i=new D7(i),this._ctx=i,s=i,this.state=18,this.match(Qe.NUM);break;case Qe.BOOL:i=new M7(i),this._ctx=i,s=i,this.state=19,this.match(Qe.BOOL);break;case Qe.STRING:i=new P7(i),this._ctx=i,s=i,this.state=20,this.match(Qe.STRING);break;case Qe.REFERENCE:i=new L7(i),this._ctx=i,s=i,this.state=21,this.match(Qe.REFERENCE);break;case Qe.T__0:i=new F7(i),this._ctx=i,s=i,this.state=22,this.match(Qe.T__0),this.state=23,this.expr(0),this.state=24,this.match(Qe.T__1);break;default:throw new C7.NoViableAltException(this)}for(this._ctx._stop=this._input.tryLT(-1),this.state=39,this._errHandler.sync(this),c=this.interpreter.adaptivePredict(this._input,4,this._ctx);c!==2&&c!==A7.ATN.INVALID_ALT_NUMBER;){if(c===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),s=i,this.state=37,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:{if(i=new _7(new Qn(n,r)),this.pushNewRecursionContext(i,l,Qe.RULE_expr),this.state=28,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=29,i._op=this._input.LT(1),u=this._input.LA(1),u===Qe.MUL||u===Qe.DIV?(this._input.LA(1)===$C.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):i._op=this._errHandler.recoverInline(this),this.state=30,this.expr(9)}break;case 2:{if(i=new I7(new Qn(n,r)),this.pushNewRecursionContext(i,l,Qe.RULE_expr),this.state=31,!this.precpred(this._ctx,7))throw this.createFailedPredicateException("this.precpred(this._ctx, 7)");this.state=32,i._op=this._input.LT(1),u=this._input.LA(1),u===Qe.ADD||u===Qe.SUB?(this._input.LA(1)===$C.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):i._op=this._errHandler.recoverInline(this),this.state=33,this.expr(8)}break;case 3:{if(i=new O7(new Qn(n,r)),this.pushNewRecursionContext(i,l,Qe.RULE_expr),this.state=34,!this.precpred(this._ctx,6))throw this.createFailedPredicateException("this.precpred(this._ctx, 6)");this.state=35,i._op=this._input.LT(1),u=this._input.LA(1),(u&-32)===0&&(1<<u&(1<<Qe.EQ|1<<Qe.NEQ|1<<Qe.LTE|1<<Qe.GTE|1<<Qe.LT|1<<Qe.GT))!==0?(this._input.LA(1)===$C.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):i._op=this._errHandler.recoverInline(this),this.state=36,this.expr(7)}break}this.state=41,this._errHandler.sync(this),c=this.interpreter.adaptivePredict(this._input,4,this._ctx)}}}catch(c){if(c instanceof GC.RecognitionException)i.exception=c,this._errHandler.reportError(this,c),this._errHandler.recover(this,c);else throw c}finally{this.unrollRecursionContexts(n)}return i}args(){let t=new uB(this._ctx,this.state);this.enterRule(t,4,Qe.RULE_args);let n;try{for(this.enterOuterAlt(t,1),this.state=42,this.expr(0),this.state=47,this._errHandler.sync(this),n=this._input.LA(1);n===Qe.T__2;)this.state=43,this.match(Qe.T__2),this.state=44,this.expr(0),this.state=49,this._errHandler.sync(this),n=this._input.LA(1)}catch(r){if(r instanceof GC.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}sempred(t,n,r){switch(n){case 1:return this.expr_sempred(t,r)}return!0}expr_sempred(t,n){switch(n){case 0:return this.precpred(this._ctx,8);case 1:return this.precpred(this._ctx,7);case 2:return this.precpred(this._ctx,6)}return!0}static get _ATN(){return Qe.__ATN||(Qe.__ATN=new sB.ATNDeserializer().deserialize(lB.toCharArray(Qe._serializedATN))),Qe.__ATN}};Y(Qe,"T__0",1),Y(Qe,"T__1",2),Y(Qe,"T__2",3),Y(Qe,"REFERENCE",4),Y(Qe,"REF",5),Y(Qe,"REFRANGE",6),Y(Qe,"BOOL",7),Y(Qe,"STRING",8),Y(Qe,"NUM",9),Y(Qe,"FUNCNAME",10),Y(Qe,"WS",11),Y(Qe,"MUL",12),Y(Qe,"DIV",13),Y(Qe,"ADD",14),Y(Qe,"SUB",15),Y(Qe,"EQ",16),Y(Qe,"NEQ",17),Y(Qe,"LTE",18),Y(Qe,"GTE",19),Y(Qe,"LT",20),Y(Qe,"GT",21),Y(Qe,"RULE_formula",0),Y(Qe,"RULE_expr",1),Y(Qe,"RULE_args",2),Y(Qe,"ruleNames",["formula","expr","args"]),Y(Qe,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),Y(Qe,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),Y(Qe,"VOCABULARY",new aB.VocabularyImpl(Qe._LITERAL_NAMES,Qe._SYMBOLIC_NAMES,[])),Y(Qe,"_serializedATN",`5			

\r\v

\x07(
\f+\v\x070
\f3\v<	,\b
	\b
\v\v	\v\f\f\r\b\x07\f\x07\x07\x07\v\x07	\x07
\x07\x07\x1B\x07\x1B\r)\f
 	 (\v!"\f	"#	#(
$%\f\b%&	&(	''!'$(+)')**+),1-.\x07.0/-031/122\x0731\b\v')1`),Y(Qe,"__ATN");let Dn=Qe;class T7 extends GR.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Qn):this.getRuleContext(t,Qn)}constructor(t,n){super(t,n)}get ruleIndex(){return Dn.RULE_formula}enterRule(t){t.enterFormula&&t.enterFormula(this)}exitRule(t){t.exitFormula&&t.exitFormula(this)}accept(t){return t.visitFormula?t.visitFormula(this):t.visitChildren(this)}}class Qn extends GR.ParserRuleContext{constructor(t,n){super(t,n)}get ruleIndex(){return Dn.RULE_expr}copyFrom(t){super.copyFrom(t)}}class N7 extends Qn{FUNCNAME(){return this.getToken(Dn.FUNCNAME,0)}args(){return this.tryGetRuleContext(0,uB)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterFunction&&t.enterFunction(this)}exitRule(t){t.exitFunction&&t.exitFunction(this)}accept(t){return t.visitFunction?t.visitFunction(this):t.visitChildren(this)}}class _7 extends Qn{constructor(n){super(n.parent,n.invokingState);Y(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Qn):this.getRuleContext(n,Qn)}MUL(){return this.tryGetToken(Dn.MUL,0)}DIV(){return this.tryGetToken(Dn.DIV,0)}enterRule(n){n.enterMulDiv&&n.enterMulDiv(this)}exitRule(n){n.exitMulDiv&&n.exitMulDiv(this)}accept(n){return n.visitMulDiv?n.visitMulDiv(this):n.visitChildren(this)}}class I7 extends Qn{constructor(n){super(n.parent,n.invokingState);Y(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Qn):this.getRuleContext(n,Qn)}ADD(){return this.tryGetToken(Dn.ADD,0)}SUB(){return this.tryGetToken(Dn.SUB,0)}enterRule(n){n.enterAddSub&&n.enterAddSub(this)}exitRule(n){n.exitAddSub&&n.exitAddSub(this)}accept(n){return n.visitAddSub?n.visitAddSub(this):n.visitChildren(this)}}class O7 extends Qn{constructor(n){super(n.parent,n.invokingState);Y(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Qn):this.getRuleContext(n,Qn)}EQ(){return this.tryGetToken(Dn.EQ,0)}NEQ(){return this.tryGetToken(Dn.NEQ,0)}LT(){return this.tryGetToken(Dn.LT,0)}GT(){return this.tryGetToken(Dn.GT,0)}LTE(){return this.tryGetToken(Dn.LTE,0)}GTE(){return this.tryGetToken(Dn.GTE,0)}enterRule(n){n.enterComparison&&n.enterComparison(this)}exitRule(n){n.exitComparison&&n.exitComparison(this)}accept(n){return n.visitComparison?n.visitComparison(this):n.visitChildren(this)}}class D7 extends Qn{NUM(){return this.getToken(Dn.NUM,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterNumber&&t.enterNumber(this)}exitRule(t){t.exitNumber&&t.exitNumber(this)}accept(t){return t.visitNumber?t.visitNumber(this):t.visitChildren(this)}}class M7 extends Qn{BOOL(){return this.getToken(Dn.BOOL,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterBoolean&&t.enterBoolean(this)}exitRule(t){t.exitBoolean&&t.exitBoolean(this)}accept(t){return t.visitBoolean?t.visitBoolean(this):t.visitChildren(this)}}class P7 extends Qn{STRING(){return this.getToken(Dn.STRING,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterStr&&t.enterStr(this)}exitRule(t){t.exitStr&&t.exitStr(this)}accept(t){return t.visitStr?t.visitStr(this):t.visitChildren(this)}}class L7 extends Qn{REFERENCE(){return this.getToken(Dn.REFERENCE,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterReference&&t.enterReference(this)}exitRule(t){t.exitReference&&t.exitReference(this)}accept(t){return t.visitReference?t.visitReference(this):t.visitChildren(this)}}class F7 extends Qn{expr(){return this.getRuleContext(0,Qn)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterParentheses&&t.enterParentheses(this)}exitRule(t){t.exitParentheses&&t.exitParentheses(this)}accept(t){return t.visitParentheses?t.visitParentheses(this):t.visitChildren(this)}}class uB extends GR.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Qn):this.getRuleContext(t,Qn)}constructor(t,n){super(t,n)}get ruleIndex(){return Dn.RULE_args}enterRule(t){t.enterArgs&&t.enterArgs(this)}exitRule(t){t.exitArgs&&t.exitArgs(this)}accept(t){return t.visitArgs?t.visitArgs(this):t.visitChildren(this)}}function*s3(e){const[t,n]=e;for(let r=t.r;r<=n.r;r++)for(let i=t.c;i<=n.c;i++)yield{r,c:i}}function Lc(e,t){const[n,r]=t;return n.r<=e.r&&e.r<=r.r&&n.c<=e.c&&e.c<=r.c}function k7(e,t){const[n,r]=e,[i,s]=t;return i.r<=n.r&&r.r<=s.r&&i.c<=n.c&&r.c<=s.c}function a3(e,t){return[{r:Math.min(e.r,t.r),c:Math.min(e.c,t.c)},{r:Math.max(e.r,t.r),c:Math.max(e.c,t.c)}]}function $p(e){return[l3(e[0]),l3(e[1])]}function fS(e,t){return Ev(e[0],t[0])&&Ev(e[1],t[1])}function B7(e,t){const n=[];return e[0].r>t[0].r&&n.push([{r:e[0].r-1,c:e[0].c},{r:e[0].r-1,c:e[1].c}]),e[1].r<t[1].r&&n.push([{r:e[1].r+1,c:e[0].c},{r:e[1].r+1,c:e[1].c}]),e[0].c>t[0].c&&n.push([{r:e[0].r,c:e[0].c-1},{r:e[1].r,c:e[0].c-1}]),e[1].c<t[1].c&&n.push([{r:e[0].r,c:e[1].c+1},{r:e[1].r,c:e[1].c+1}]),n}function HC(e,t){const[n,r]=e,[i,s]=t;return[{r:Math.min(n.r,i.r),c:Math.min(n.c,i.c)},{r:Math.max(r.r,s.r),c:Math.max(r.c,s.c)}]}function Ev(e,t){return e.r===t.r&&e.c===t.c}function l3(e){return{r:e.r,c:e.c}}function Zo(e){return e.includes(":")}function vh(e){return e.includes("!")}function cB(e){const t=e.indexOf("!");if(t===-1)throw new Error(`Not a cross-sheet reference: ${e}`);let n=e.substring(0,t);n.startsWith("'")&&n.endsWith("'")&&(n=n.slice(1,-1));const r=e.substring(t+1);return{sheetName:n,localRef:r}}function*Ls(e){for(const t of e){if(vh(t)){const{sheetName:n,localRef:r}=cB(t);if(r.includes(":")){const i=o2(r);for(const s of s3(i))yield`${n}!${nt(s)}`}else yield t;continue}if(Zo(t)){const n=o2(t);for(const r of s3(n))yield nt(r);continue}yield t}}function nt(e){return Lv(e.c)+e.r}function j7(e){const[t,n]=e;return`${nt(t)}:${nt(n)}`}function Lv(e){let t="";for(;e>0;){const n=e%26;n===0?(t="Z"+t,e=Math.floor(e/26)-1):(t=String.fromCharCode(n+64)+t,e=Math.floor(e/26))}return t}function Lt(e){const t=e.replace(/\$/g,"");let n=0;for(let s=0;s<t.length;s++){const l=t.charCodeAt(s);if(48<=l&&l<=57){n=s;break}}if(n===0)throw new Error("Invalid Reference");const r=parseInt(t.substring(n)),i=t.substring(0,n).split("").reverse().reduce((s,l,u)=>s+Math.pow(26,u)*(l.charCodeAt(0)-65+1),0);if(isNaN(r)||isNaN(i))throw new Error("Invalid Reference");return{r,c:i}}function o2(e){const[t,n]=e.split(":");return[Lt(t),Lt(n)]}class py{constructor(){Y(this,"ref");Y(this,"bool");Y(this,"num");Y(this,"str")}static create(){return new py}setRef(t){return this.ref=t,this}setBool(t){return this.bool=t,this}setNum(t){return this.num=t,this}setStr(t){return this.str=t,this}map(t,n){return t.t==="bool"&&this.bool?this.bool(t):t.t==="num"&&this.num?this.num(t):t.t==="str"&&this.str?this.str(t):t.t==="ref"&&this.ref&&n?this.ref(t,n):t}*iterate(t,n,r){for(const i of t.expr()){const s=n(i);if(s.t==="ref"&&r)for(const l of Ls([s.v]))yield this.ref({t:"ref",v:l},r);else yield this.map(s)}}}function z7(e){return{t:"num",v:e.v?1:0}}function U7(e){const t=Number(e);return{t:"num",v:isNaN(t)?0:t}}function V7(e,t){var i;if(Zo(e.v))return{t:"err",v:"#VALUE!"};const n=((i=t.get(e.v))==null?void 0:i.v)||"",r=Number(n);return{t:"num",v:isNaN(r)?0:r}}const Pn=py.create().setRef(V7).setBool(z7).setStr(U7);function G7(e){return{t:"bool",v:e.v!==0}}function $7(e,t){var i;if(Zo(e.v))return{t:"err",v:"#VALUE!"};const n=((i=t.get(e.v))==null?void 0:i.v)||"";if(n==="TRUE"||n==="true")return{t:"bool",v:!0};if(n==="FALSE"||n==="false"||n==="")return{t:"bool",v:!1};const r=Number(n);return isNaN(r)?{t:"err",v:"#VALUE!"}:{t:"bool",v:r!==0}}const kg=py.create().setRef($7).setNum(G7).setStr(()=>({t:"err",v:"#VALUE!"}));function H7(e){return{t:"str",v:e.v.toString()}}function W7(e){return{t:"str",v:e.v?"TRUE":"FALSE"}}function fB(e,t){var r;return Zo(e.v)?{t:"err",v:"#VALUE!"}:{t:"str",v:((r=t.get(e.v))==null?void 0:r.v)||""}}py.create().setRef(fB).setNum(H7).setBool(W7);const u3=new Map([["SUM",Y7],["ABS",q7],["ROUND",X7],["ROUNDUP",Z7],["ROUNDDOWN",J7],["INT",Q7],["MOD",eq],["SQRT",tq],["POWER",nq],["PRODUCT",rq],["MEDIAN",iq],["IF",oq],["IFS",sq],["SWITCH",aq],["AND",lq],["OR",uq],["NOT",cq],["AVERAGE",fq],["MIN",dq],["MAX",hq],["COUNT",pq],["COUNTA",gq],["COUNTBLANK",mq],["COUNTIF",vq],["SUMIF",yq],["COUNTIFS",xq],["SUMIFS",bq],["TRIM",Sq],["LEN",Aq],["LEFT",Eq],["RIGHT",Cq],["MID",wq],["CONCATENATE",hB],["CONCAT",Rq],["FIND",Tq],["SEARCH",Nq],["TEXTJOIN",_q],["LOWER",Iq],["UPPER",Oq],["PROPER",Dq],["SUBSTITUTE",Mq],["TODAY",Pq],["NOW",Lq],["YEAR",Fq],["MONTH",kq],["DAY",Bq],["ISBLANK",jq],["ISNUMBER",zq],["ISTEXT",Uq],["IFERROR",Vq]]);function Y7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0;for(const s of Pn.iterate(r,t,n)){if(s.t==="err")return s;i+=s.v}return{t:"num",v:i}}function q7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=Pn.map(t(i[0]),n);return s.t==="err"?s:{t:"num",v:Math.abs(s.v)}}function K7(e){return e>=0?Math.floor(e+.5):Math.ceil(e-.5)}function $R(e,t,n){if(!e)return{t:"num",v:0};const r=Pn.map(t(e),n);return r.t==="err"?r:{t:"num",v:Math.trunc(r.v)}}function S1(e){return e.t==="err"}function xg(e,t,n){const r=t(e);return r.t==="err"?r:r.t!=="ref"||!n?{t:"err",v:"#VALUE!"}:{t:"refs",v:Array.from(Ls([r.v]))}}function dB(e){const t=Number(e);return isNaN(t)?0:t}function A1(e,t){if(e.t==="err")return e;if(e.t==="num")return{op:"=",value:e.v.toString(),numericValue:e.v};if(e.t==="bool")return{op:"=",value:e.v?"TRUE":"FALSE",boolValue:e.v};const n=or(e,t);if(n.t==="err")return n;const r=/^(<=|>=|<>|=|<|>)(.*)$/.exec(n.v),i=(r==null?void 0:r[1])||"=",s=r?r[2]:n.v;let l,u;if(s!==""){const g=Number(s);isNaN(g)?s.toUpperCase()==="TRUE"?u=!0:s.toUpperCase()==="FALSE"&&(u=!1):l=g}let c;return(i==="="||i==="<>")&&/(^|[^~])[*?]/.test(s)&&(c=new RegExp(`^${gB(s)}$`,"i")),{op:i,value:s,numericValue:l,boolValue:u,wildcardPattern:c}}function E1(e,t){const n=e===""?void 0:Number(e),r=n!==void 0&&!isNaN(n),i=e.toUpperCase(),s=i==="TRUE"?!0:i==="FALSE"?!1:void 0,l=e.toLowerCase(),u=t.value.toLowerCase();if(t.op==="<"||t.op==="<="||t.op===">"||t.op===">=")return t.numericValue!==void 0?r?t.op==="<"?n<t.numericValue:t.op==="<="?n<=t.numericValue:t.op===">"?n>t.numericValue:n>=t.numericValue:!1:t.op==="<"?l<u:t.op==="<="?l<=u:t.op===">"?l>u:l>=u;let c=!1;return t.wildcardPattern?c=t.wildcardPattern.test(e):t.numericValue!==void 0&&r?c=n===t.numericValue:t.boolValue!==void 0&&s!==void 0?c=s===t.boolValue:c=l===u,t.op==="="?c:!c}function X7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const s=Pn.map(t(i[0]),n);if(s.t==="err")return s;const l=$R(i[1],t,n);if(l.t==="err")return l;const u=10**l.v;return{t:"num",v:K7(s.v*u)/u}}function Z7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const s=Pn.map(t(i[0]),n);if(s.t==="err")return s;const l=$R(i[1],t,n);if(l.t==="err")return l;const u=10**l.v,c=s.v*u;return{t:"num",v:(c>=0?Math.ceil(c):Math.floor(c))/u}}function J7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const s=Pn.map(t(i[0]),n);if(s.t==="err")return s;const l=$R(i[1],t,n);if(l.t==="err")return l;const u=10**l.v,c=s.v*u;return{t:"num",v:(c>=0?Math.floor(c):Math.ceil(c))/u}}function Q7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=Pn.map(t(i[0]),n);return s.t==="err"?s:{t:"num",v:Math.floor(s.v)}}function eq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==2)return{t:"err",v:"#N/A!"};const s=Pn.map(t(i[0]),n);if(s.t==="err")return s;const l=Pn.map(t(i[1]),n);return l.t==="err"?l:l.v===0?{t:"err",v:"#VALUE!"}:{t:"num",v:s.v-l.v*Math.floor(s.v/l.v)}}function tq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=Pn.map(t(i[0]),n);return s.t==="err"?s:s.v<0?{t:"err",v:"#VALUE!"}:{t:"num",v:Math.sqrt(s.v)}}function nq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==2)return{t:"err",v:"#N/A!"};const s=Pn.map(t(i[0]),n);if(s.t==="err")return s;const l=Pn.map(t(i[1]),n);if(l.t==="err")return l;const u=Math.pow(s.v,l.v);return isFinite(u)?{t:"num",v:u}:{t:"err",v:"#VALUE!"}}function rq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=1;for(const s of Pn.iterate(r,t,n)){if(s.t==="err")return s;i*=s.v}return{t:"num",v:i}}function iq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=[];for(const l of Pn.iterate(r,t,n)){if(l.t==="err")return l;i.push(l.v)}if(i.length===0)return{t:"err",v:"#VALUE!"};i.sort((l,u)=>l-u);const s=Math.floor(i.length/2);return i.length%2===1?{t:"num",v:i[s]}:{t:"num",v:(i[s-1]+i[s])/2}}function oq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length>3)return{t:"err",v:"#N/A!"};const s=kg.map(t(i[0]),n);return s.t==="err"?s:s.v?t(i[1]):i.length===3?t(i[2]):{t:"bool",v:!1}}function sq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length%2!==0)return{t:"err",v:"#N/A!"};for(let s=0;s<i.length;s+=2){const l=kg.map(t(i[s]),n);if(l.t==="err")return l;if(l.v)return t(i[s+1])}return{t:"err",v:"#N/A!"}}function aq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<3)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);if(s.t==="err")return s;const l=i.length-1,u=l%2===1,c=u?(l-1)/2:l/2;for(let g=0;g<c;g++){const p=or(t(i[1+g*2]),n);if(p.t==="err")return p;if(p.v===s.v)return t(i[2+g*2])}return u?t(i[i.length-1]):{t:"err",v:"#N/A!"}}function lq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const i of kg.iterate(r,t,n)){if(i.t==="err")return i;if(!i.v)return{t:"bool",v:!1}}return{t:"bool",v:!0}}function uq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const i of kg.iterate(r,t,n)){if(i.t==="err")return i;if(i.v)return{t:"bool",v:!0}}return{t:"bool",v:!1}}function cq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=kg.map(t(i[0]),n);return s.t==="err"?s:{t:"bool",v:!s.v}}function fq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0,s=0;for(const l of Pn.iterate(r,t,n)){if(l.t==="err")return l;i+=l.v,s++}return s===0?{t:"err",v:"#VALUE!"}:{t:"num",v:i/s}}function dq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=1/0;for(const s of Pn.iterate(r,t,n)){if(s.t==="err")return s;s.v<i&&(i=s.v)}return{t:"num",v:i}}function hq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=-1/0;for(const s of Pn.iterate(r,t,n)){if(s.t==="err")return s;s.v>i&&(i=s.v)}return{t:"num",v:i}}function pq(e,t,n){var s,l;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0;for(const u of r.expr()){const c=t(u);if(c.t==="num")i++;else if(c.t==="bool")i++;else if(c.t==="ref"&&n)if(Zo(c.v))for(const g of Ls([c.v])){const p=((s=n.get(g))==null?void 0:s.v)||"";p!==""&&!isNaN(Number(p))&&i++}else{const g=((l=n.get(c.v))==null?void 0:l.v)||"";g!==""&&!isNaN(Number(g))&&i++}}return{t:"num",v:i}}function gq(e,t,n){var s,l;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0;for(const u of r.expr()){const c=t(u);if(c.t==="num"||c.t==="bool")i++;else if(c.t==="str")c.v!==""&&i++;else if(c.t==="ref"&&n)if(Zo(c.v))for(const g of Ls([c.v]))(((s=n.get(g))==null?void 0:s.v)||"")!==""&&i++;else(((l=n.get(c.v))==null?void 0:l.v)||"")!==""&&i++}return{t:"num",v:i}}function mq(e,t,n){var s,l;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0;for(const u of r.expr()){const c=t(u);if(c.t==="str"){c.v===""&&i++;continue}if(c.t!=="ref"||!n)continue;if(Zo(c.v)){for(const p of Ls([c.v]))(((s=n.get(p))==null?void 0:s.v)||"")===""&&i++;continue}(((l=n.get(c.v))==null?void 0:l.v)||"")===""&&i++}return{t:"num",v:i}}function vq(e,t,n){var c;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==2)return{t:"err",v:"#N/A!"};const s=xg(i[0],t,n);if(s.t==="err")return s;const l=A1(t(i[1]),n);if(S1(l))return l;let u=0;for(const g of s.v){const p=((c=n==null?void 0:n.get(g))==null?void 0:c.v)||"";E1(p,l)&&u++}return{t:"num",v:u}}function yq(e,t,n){var g,p;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length>3)return{t:"err",v:"#N/A!"};const s=xg(i[0],t,n);if(s.t==="err")return s;const l=A1(t(i[1]),n);if(S1(l))return l;const u=i.length===3?xg(i[2],t,n):s;if(u.t==="err")return u;if(s.v.length!==u.v.length)return{t:"err",v:"#VALUE!"};let c=0;for(let m=0;m<s.v.length;m++){const x=((g=n==null?void 0:n.get(s.v[m]))==null?void 0:g.v)||"";if(!E1(x,l))continue;const b=((p=n==null?void 0:n.get(u.v[m]))==null?void 0:p.v)||"";c+=dB(b)}return{t:"num",v:c}}function xq(e,t,n){var g;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length%2!==0)return{t:"err",v:"#N/A!"};const s=[],l=[];for(let p=0;p<i.length;p+=2){const m=xg(i[p],t,n);if(m.t==="err")return m;s.push(m.v);const x=A1(t(i[p+1]),n);if(S1(x))return x;l.push(x)}const u=s[0].length;if(s.some(p=>p.length!==u))return{t:"err",v:"#VALUE!"};let c=0;for(let p=0;p<u;p++){let m=!0;for(let x=0;x<s.length;x++){const b=((g=n==null?void 0:n.get(s[x][p]))==null?void 0:g.v)||"";if(!E1(b,l[x])){m=!1;break}}m&&c++}return{t:"num",v:c}}function bq(e,t,n){var g,p;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<3||(i.length-1)%2!==0)return{t:"err",v:"#N/A!"};const s=xg(i[0],t,n);if(s.t==="err")return s;const l=[],u=[];for(let m=1;m<i.length;m+=2){const x=xg(i[m],t,n);if(x.t==="err")return x;l.push(x.v);const b=A1(t(i[m+1]),n);if(S1(b))return b;u.push(b)}if(l.some(m=>m.length!==s.v.length))return{t:"err",v:"#VALUE!"};let c=0;for(let m=0;m<s.v.length;m++){let x=!0;for(let b=0;b<l.length;b++){const E=((g=n==null?void 0:n.get(l[b][m]))==null?void 0:g.v)||"";if(!E1(E,u[b])){x=!1;break}}x&&(c+=dB(((p=n==null?void 0:n.get(s.v[m]))==null?void 0:p.v)||""))}return{t:"num",v:c}}function or(e,t){return e.t==="err"||e.t==="str"?e:e.t==="num"?{t:"str",v:e.v.toString()}:e.t==="bool"?{t:"str",v:e.v?"TRUE":"FALSE"}:e.t==="ref"&&t?fB(e,t):{t:"err",v:"#VALUE!"}}function Sq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);return s.t==="err"?s:{t:"str",v:s.v.trim()}}function Aq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);return s.t==="err"?s:{t:"num",v:s.v.length}}function Eq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);if(s.t==="err")return s;let l=1;if(i.length===2){const u=Pn.map(t(i[1]),n);if(u.t==="err")return u;l=u.v}return{t:"str",v:s.v.slice(0,l)}}function Cq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);if(s.t==="err")return s;let l=1;if(i.length===2){const u=Pn.map(t(i[1]),n);if(u.t==="err")return u;l=u.v}return{t:"str",v:s.v.slice(-l)}}function wq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==3)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);if(s.t==="err")return s;const l=Pn.map(t(i[1]),n);if(l.t==="err")return l;const u=Pn.map(t(i[2]),n);if(u.t==="err")return u;const c=l.v-1;return{t:"str",v:s.v.slice(c,c+u.v)}}function hB(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2)return{t:"err",v:"#N/A!"};let s="";for(const l of i){const u=or(t(l),n);if(u.t==="err")return u;s+=u.v}return{t:"str",v:s}}function Rq(e,t,n){return hB(e,t,n)}function pB(e,t,n,r){if(!e)return{t:"num",v:1};const i=Pn.map(n(e),r);if(i.t==="err")return i;const s=Math.trunc(i.v);return s<1||s>t.length+1?{t:"err",v:"#VALUE!"}:{t:"num",v:s}}function Tq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length>3)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);if(s.t==="err")return s;const l=or(t(i[1]),n);if(l.t==="err")return l;const u=pB(i[2],l.v,t,n);if(u.t==="err")return u;if(s.v==="")return{t:"num",v:u.v};const c=l.v.indexOf(s.v,u.v-1);return c<0?{t:"err",v:"#VALUE!"}:{t:"num",v:c+1}}function gB(e){let t="";for(let n=0;n<e.length;n++){const r=e[n];if(r==="~"&&n+1<e.length){t+=e[n+1].replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n++;continue}if(r==="*"){t+=".*";continue}if(r==="?"){t+=".";continue}t+=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}return t}function Nq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length>3)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);if(s.t==="err")return s;const l=or(t(i[1]),n);if(l.t==="err")return l;const u=pB(i[2],l.v,t,n);if(u.t==="err")return u;if(s.v==="")return{t:"num",v:u.v};const c=gB(s.v),g=new RegExp(c,"i"),p=l.v.slice(u.v-1),m=g.exec(p);return!m||m.index===void 0?{t:"err",v:"#VALUE!"}:{t:"num",v:u.v+m.index}}function _q(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<3)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);if(s.t==="err")return s;const l=kg.map(t(i[1]),n);if(l.t==="err")return l;const u=[];for(const c of i.slice(2)){const g=t(c);if(g.t==="ref"&&n&&Zo(g.v)){for(const m of Ls([g.v])){const x=or({t:"ref",v:m},n);if(x.t==="err")return x;l.v&&x.v===""||u.push(x.v)}continue}const p=or(g,n);if(p.t==="err")return p;l.v&&p.v===""||u.push(p.v)}return{t:"str",v:u.join(s.v)}}function Iq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);return s.t==="err"?s:{t:"str",v:s.v.toLowerCase()}}function Oq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);return s.t==="err"?s:{t:"str",v:s.v.toUpperCase()}}function Dq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);return s.t==="err"?s:{t:"str",v:s.v.toLowerCase().replace(/\b([a-z])([a-z]*)/g,(u,c,g)=>c.toUpperCase()+g)}}function Mq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<3||i.length>4)return{t:"err",v:"#N/A!"};const s=or(t(i[0]),n);if(s.t==="err")return s;const l=or(t(i[1]),n);if(l.t==="err")return l;const u=or(t(i[2]),n);if(u.t==="err")return u;if(l.v==="")return{t:"str",v:s.v};if(i.length===3)return{t:"str",v:s.v.split(l.v).join(u.v)};const c=Pn.map(t(i[3]),n);if(c.t==="err")return c;const g=Math.trunc(c.v);if(g<=0)return{t:"err",v:"#VALUE!"};let p=0,m=0;for(;;){const x=s.v.indexOf(l.v,p);if(x<0)return{t:"str",v:s.v};if(m++,m===g)return{t:"str",v:s.v.slice(0,x)+u.v+s.v.slice(x+l.v.length)};p=x+l.v.length}}function Pq(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const i=new Date,s=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),u=String(i.getDate()).padStart(2,"0");return{t:"str",v:`${s}-${l}-${u}`}}function Lq(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const i=new Date,s=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),u=String(i.getDate()).padStart(2,"0"),c=String(i.getHours()).padStart(2,"0"),g=String(i.getMinutes()).padStart(2,"0"),p=String(i.getSeconds()).padStart(2,"0");return{t:"str",v:`${s}-${l}-${u} ${c}:${g}:${p}`}}function HR(e,t){const n=or(e,t);if(n.t==="err")return n;const r=new Date(n.v);return isNaN(r.getTime())?{t:"err",v:"#VALUE!"}:r}function Fq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=HR(t(i[0]),n);return s instanceof Date?{t:"num",v:s.getFullYear()}:s}function kq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=HR(t(i[0]),n);return s instanceof Date?{t:"num",v:s.getMonth()+1}:s}function Bq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=HR(t(i[0]),n);return s instanceof Date?{t:"num",v:s.getDate()}:s}function jq(e,t,n){var u;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=t(i[0]);return s.t==="err"?s:s.t!=="ref"||!n?{t:"bool",v:!1}:Zo(s.v)?{t:"err",v:"#VALUE!"}:{t:"bool",v:(((u=n.get(s.v))==null?void 0:u.v)||"")===""}}function zq(e,t,n){var g;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=t(i[0]);if(s.t==="err")return s;if(s.t==="num")return{t:"bool",v:!0};if(s.t!=="ref"||!n)return{t:"bool",v:!1};if(Zo(s.v))return{t:"err",v:"#VALUE!"};const l=((g=n.get(s.v))==null?void 0:g.v)||"",u=l.toUpperCase();return{t:"bool",v:l!==""&&!(u==="TRUE"||u==="FALSE")&&!isNaN(Number(l))}}function Uq(e,t,n){var p;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=t(i[0]);if(s.t==="err")return s;if(s.t==="str")return{t:"bool",v:!0};if(s.t!=="ref"||!n)return{t:"bool",v:!1};if(Zo(s.v))return{t:"err",v:"#VALUE!"};const l=((p=n.get(s.v))==null?void 0:p.v)||"";if(l==="")return{t:"bool",v:!1};const u=l.toUpperCase(),c=u==="TRUE"||u==="FALSE",g=!isNaN(Number(l));return{t:"bool",v:!c&&!g}}function Vq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==2)return{t:"err",v:"#N/A!"};const s=t(i[0]);return s.t==="err"?t(i[1]):s}function Cv(e){const t=vg.CharStreams.fromString(e.slice(1)),n=new yg(t),r=new vg.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const i=new Set;for(const s of r.getTokens())s.type===Dn.REFERENCE&&i.add(s.text.toUpperCase());return i}function hf(e){const t=vg.CharStreams.fromString(e.slice(1)),n=new yg(t),r=new vg.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const i=[];for(const u of r.getTokens())u.type!=yg.EOF&&i.push({type:n.vocabulary.getSymbolicName(u.type)||"STRING",start:u.startIndex,stop:u.stopIndex,text:u.text});const s=[];let l;for(const u of i)!l&&u.start>0?s.push({type:"STRING",start:0,stop:u.start-1,text:e.slice(1,u.start+1)}):l&&l.stop+1!==u.start&&s.push({type:"STRING",start:l.stop+1,stop:u.start-1,text:e.slice(l.stop+2,u.start+1)}),s.push(u),l=u;return l&&l.stop+2<e.length&&s.push({type:"STRING",start:l.stop+1,stop:e.length-1,text:e.slice(l.stop+2)}),s}function lv(e){const t=hf(e),n=[];for(const r of t)if(r.type==="REFERENCE")try{const i=r.text.toUpperCase();if(vh(i))continue;if(i.includes(":"))n.push({text:i,range:o2(i)});else{const s=Lt(i);n.push({text:i,range:[s,s]})}}catch{}return n}function Gq(e,t){if(!e.startsWith("=")||t<=0)return!1;if(t===1)return!0;const n=hf(e);for(const u of n){const c=u.start+1,g=u.stop+2;if(u.type==="REFERENCE"&&t>=c&&t<=g)return!0}const i=e.slice(0,t).trimEnd();if(i.length===0)return!1;const s=i[i.length-1];return new Set(["=","(",",","+","-","*","/","<",">",":"]).has(s)}function c3(e,t){if(!e.startsWith("="))return;const n=hf(e);for(const r of n){if(r.type!=="REFERENCE")continue;const i=r.start+1,s=r.stop+2;if(t>=i&&t<=s)return{start:i,end:s,text:r.text}}}function $q(e,t){var n;try{const r=vg.CharStreams.fromString(e.slice(1)),i=new yg(r),s=new vg.CommonTokenStream(i),l=new Dn(s),u=l.expr(),c=new Hq(t);i.removeErrorListeners(),l.removeErrorListeners();const g=c.visit(u);return g.t==="ref"&&t?Zo(g.v)?"#VALUE!":((n=t.get(g.v))==null?void 0:n.v)||"":g.v.toString()}catch{return"#ERROR!"}}class Hq{constructor(t){Y(this,"grid");this.visit=this.visit.bind(this),this.grid=t}visitChildren(){throw new Error("Method not implemented.")}visitTerminal(){throw new Error("Method not implemented.")}visitErrorNode(){throw new Error("Method not implemented.")}visitFormula(){throw new Error("Method not implemented.")}visitExpr(){throw new Error("Method not implemented.")}visitArgs(){throw new Error("Method not implemented.")}visit(t){return t.accept(this)}visitFunction(t){const n=t.FUNCNAME().text.toUpperCase();if(u3.has(n))return u3.get(n)(t,this.visit,this.grid);throw new Error("Function not implemented.")}visitReference(t){return this.grid?{t:"ref",v:t.text.toUpperCase()}:{t:"err",v:"#REF!"}}visitParentheses(t){return this.visit(t.expr())}visitNumber(t){return{t:"num",v:Number(t.text)}}visitBoolean(t){return{t:"bool",v:t.text==="TRUE"||t.text==="true"}}visitAddSub(t){const n=Pn.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=Pn.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===Dn.ADD?{t:"num",v:n.v+r.v}:{t:"num",v:n.v-r.v}}visitMulDiv(t){const n=Pn.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=Pn.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===Dn.MUL?{t:"num",v:n.v*r.v}:{t:"num",v:n.v/r.v}}visitComparison(t){const n=Pn.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=Pn.map(this.visit(t.expr(1)),this.grid);if(r.t==="err")return r;switch(t._op.type){case Dn.EQ:return{t:"bool",v:n.v===r.v};case Dn.NEQ:return{t:"bool",v:n.v!==r.v};case Dn.LT:return{t:"bool",v:n.v<r.v};case Dn.GT:return{t:"bool",v:n.v>r.v};case Dn.LTE:return{t:"bool",v:n.v<=r.v};case Dn.GTE:return{t:"bool",v:n.v>=r.v};default:return{t:"err",v:"#ERROR!"}}}visitStr(t){return{t:"str",v:t.text.slice(1,-1)}}}function rf(e,t,n,r){const i=t+n;return r<=t?e>=t&&e<i?r+(e-t):e>=r&&e<t?e+n:e:e>=t&&e<i?r-n+(e-t):e>=i&&e<r?e-n:e}function Xc(e,t,n,r,i){return t==="row"?{r:rf(e.r,n,r,i),c:e.c}:{r:e.r,c:rf(e.c,n,r,i)}}function mB(e,t,n,r,i){const s=hf(e);let l="=";for(const u of s)if(u.type==="REFERENCE"){const c=u.text;if(c.includes("!"))l+=c;else if(c.includes(":")){const[g,p]=c.split(":"),m=Lt(g.toUpperCase()),x=Lt(p.toUpperCase()),b=Xc(m,t,n,r,i),E=Xc(x,t,n,r,i);l+=nt(b)+":"+nt(E)}else{const g=Lt(c.toUpperCase()),p=Xc(g,t,n,r,i);l+=nt(p)}}else l+=u.text;return l}function Wq(e,t,n,r,i){const s=new Map;for(const[l,u]of e){const c=Lt(l),g=Xc(c,t,n,r,i),p=nt(g);let m;u.f?m={...u,f:mB(u.f,t,n,r,i)}:m={...u},s.set(p,m)}return s}function Yp(e,t,n,r){const i=new Map;for(const[s,l]of e)i.set(rf(s,t,n,r),l);return i}function f3(e,t,n){const r=hf(e);let i="=";for(const s of r)if(s.type==="REFERENCE"){const l=s.text;if(l.includes("!"))i+=l;else if(l.includes(":")){const[u,c]=l.split(":"),g=Lt(u.toUpperCase()),p=Lt(c.toUpperCase()),m={r:g.r+t,c:g.c+n},x={r:p.r+t,c:p.c+n};m.r<1||m.c<1||x.r<1||x.c<1?i+="#REF!":i+=nt(m)+":"+nt(x)}else{const u=Lt(l.toUpperCase()),c={r:u.r+t,c:u.c+n};c.r<1||c.c<1?i+="#REF!":i+=nt(c)}}else i+=s.text;return i}function dS(e,t,n,r){const i=t==="row"?e.r:e.c;if(r>0)return i>=n?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e;const s=Math.abs(r);return i>=n&&i<n+s?null:i>=n+s?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e}function vB(e,t,n,r){const i=Lt(e),s=dS(i,t,n,r);return s?nt(s):null}function yB(e,t,n,r){const i=hf(e);let s="=";for(const l of i)if(l.type==="REFERENCE"){const u=l.text;if(u.includes("!"))s+=u;else if(u.includes(":")){const[c,g]=u.split(":"),p=Lt(c.toUpperCase()),m=Lt(g.toUpperCase()),x=dS(p,t,n,r),b=dS(m,t,n,r);!x||!b?s+="#REF!":s+=nt(x)+":"+nt(b)}else{const c=Lt(u.toUpperCase()),g=dS(c,t,n,r);g?s+=nt(g):s+="#REF!"}}else s+=l.text;return s}function qp(e,t,n){const r=new Map;for(const[i,s]of e)if(n>0)i>=t?r.set(i+n,s):r.set(i,s);else{const l=Math.abs(n);i>=t&&i<t+l||(i>=t+l?r.set(i+n,s):r.set(i,s))}return r}function Yq(e,t,n,r){const i=new Map;for(const[s,l]of e){const u=vB(s,t,n,r);if(u===null)continue;let c;l.f?c={...l,f:yB(l.f,t,n,r)}:c={...l},i.set(u,c)}return i}function uv(e,t){return[{r:e.r,c:e.c},{r:e.r+t.rs-1,c:e.c+t.cs-1}]}function d3(e,t,n,r){if(r>0)return n<=e?[e+r,t+r]:n<=t?[e,t+r]:[e,t];const i=Math.abs(r),s=n,l=n+i-1;if(l<e)return[e+r,t+r];if(s>t)return[e,t];const u=Math.max(e,s),g=Math.min(t,l)-u+1,p=t-e+1-g;return p<=0?null:s<=e?[s,s+p-1]:[e,e+p-1]}function qq(e,t,n,r,i){const s=d3(e.r,e.r+t.rs-1,n==="row"?r:Number.NEGATIVE_INFINITY,n==="row"?i:0);if(!s)return null;const l=d3(e.c,e.c+t.cs-1,n==="column"?r:Number.NEGATIVE_INFINITY,n==="column"?i:0);if(!l)return null;const[u,c]=s,[g,p]=l,m=c-u+1,x=p-g+1;return m<=1&&x<=1?null:{anchor:{r:u,c:g},span:{rs:m,cs:x}}}function Kq(e,t,n,r,i,s){const l=n==="row"?e.r+t.rs-1:e.c+t.cs-1,u=n==="row"?e.r:e.c,c=rf(u,r,i,s),g=rf(l,r,i,s),p=Math.min(c,g),x=Math.max(c,g)-p+1;if(n==="row"){const w=x,C=t.cs;return w<=1&&C<=1?null:{anchor:{r:p,c:e.c},span:{rs:w,cs:C}}}const b=t.rs,E=x;return b<=1&&E<=1?null:{anchor:{r:e.r,c:p},span:{rs:b,cs:E}}}function WR(e,t,n,r){const i=new Map;for(const[s,l]of e){const u=Lt(s),c=qq(u,l,t,n,r);c&&i.set(nt(c.anchor),c.span)}return i}function YR(e,t,n,r,i){const s=new Map;for(const[l,u]of e){const c=Lt(l),g=Kq(c,u,t,n,r,i);g&&s.set(nt(g.anchor),g.span)}return s}function Xq(e,t,n,r,i){const s=n==="row"?e.r:e.c,l=n==="row"?e.r+t.rs-1:e.c+t.cs-1,u=r+i-1;return l<r||s>u?!1:!(s>=r&&l<=u)}class h3{constructor(t){Y(this,"customSizes");Y(this,"defaultSize");this.defaultSize=t,this.customSizes=new Map}getSize(t){return this.customSizes.get(t)??this.defaultSize}setSize(t,n){n===this.defaultSize?this.customSizes.delete(t):this.customSizes.set(t,n)}getDefaultSize(){return this.defaultSize}getOffset(t){let n=(t-1)*this.defaultSize;for(const[r,i]of this.customSizes)r<t&&(n+=i-this.defaultSize);return n}findIndex(t){if(t<0)return 1;if(this.customSizes.size===0)return Math.floor(t/this.defaultSize)+1;const n=Array.from(this.customSizes.entries()).sort((s,l)=>s[0]-l[0]);let r=0,i=0;for(const[s,l]of n){const u=s-1-i,c=r+u*this.defaultSize;if(t<c)return i+Math.floor((t-r)/this.defaultSize)+1;if(r=c,t<r+l)return s;r+=l,i=s}return i+Math.floor((t-r)/this.defaultSize)+1}shift(t,n){const r=new Map;for(const[i,s]of this.customSizes)if(n>0)i>=t?r.set(i+n,s):r.set(i,s);else{const l=Math.abs(n);i>=t&&i<t+l||(i>=t+l?r.set(i+n,s):r.set(i,s))}this.customSizes=r}move(t,n,r){const i=new Map;for(const[s,l]of this.customSizes)i.set(rf(s,t,n,r),l);this.customSizes=i}clear(){this.customSizes.clear()}hasCustomSizes(){return this.customSizes.size>0}}class qR{constructor(){Y(this,"rowIndex",new Map);Y(this,"colIndex",new Map)}add(t,n){let r=this.rowIndex.get(t);r||(r=new Set,this.rowIndex.set(t,r)),r.add(n);let i=this.colIndex.get(n);i||(i=new Set,this.colIndex.set(n,i)),i.add(t)}remove(t,n){const r=this.rowIndex.get(t);r&&(r.delete(n),r.size===0&&this.rowIndex.delete(t));const i=this.colIndex.get(n);i&&(i.delete(t),i.size===0&&this.colIndex.delete(n))}has(t,n){const r=this.rowIndex.get(t);return r!==void 0&&r.has(n)}clear(){this.rowIndex.clear(),this.colIndex.clear()}rebuild(t){this.clear();for(const[n,r]of t)this.add(n,r)}*cellsInRange(t){const[n,r]=t;for(const[i,s]of this.rowIndex)if(!(i<n.r||i>r.r))for(const l of s)l>=n.c&&l<=r.c&&(yield[i,l])}hasAnyInRange(t){return!this.cellsInRange(t).next().done}getOccupiedColsInRow(t){return this.rowIndex.get(t)}getOccupiedRowsInCol(t){return this.colIndex.get(t)}get size(){let t=0;for(const n of this.rowIndex.values())t+=n.size;return t}}function KR(e,t,n,r,i){const s=n==="left"||n==="right",l=n==="down"||n==="right",u=s?t.c:t.r,c=s?r[0].c:r[0].r,g=s?r[1].c:r[1].r,p=s?e.getOccupiedColsInRow(t.r):e.getOccupiedRowsInCol(t.c);let m;if(p&&i){const R=new Set;for(const T of p){const N=s?t.r:T,D=s?T:t.c;i(N,D)&&R.add(T)}m=R.size>0?R:void 0}else m=p;if(!m||m.size===0)return p3(t,n,r);const x=Array.from(m).sort((R,T)=>R-T);l||x.reverse();const b=l?x.filter(R=>R>u):x.filter(R=>R<u),E=m.has(u),w=l?u+1:u-1,C=Lc(s?{r:t.r,c:w}:{r:w,c:t.c},r)&&m.has(w);if(E&&C){let R=u,T=w;for(;(l?T<=g:T>=c)&&m.has(T);)R=T,T=l?T+1:T-1;return s?{r:t.r,c:R}:{r:R,c:t.c}}if(b.length>0){const R=b[0];return s?{r:t.r,c:R}:{r:R,c:t.c}}return p3(t,n,r)}function p3(e,t,n){switch(t){case"up":return{r:n[0].r,c:e.c};case"down":return{r:n[1].r,c:e.c};case"left":return{r:e.r,c:n[0].c};case"right":return{r:e.r,c:n[1].c}}}class Zq{constructor(){Y(this,"grid",new Map);Y(this,"cellIndex",new qR)}loadQueryResults(t,n){this.grid.clear();for(let r=0;r<t.length;r++){const i=nt({r:1,c:r+1});this.grid.set(i,{v:t[r].name,s:{b:!0}})}for(let r=0;r<n.length;r++){const i=n[r];for(let s=0;s<t.length;s++){const l=i[t[s].name];if(l==null)continue;const u=nt({r:r+2,c:s+1});this.grid.set(u,{v:String(l)})}}this.rebuildIndex()}async set(t,n){}async get(t){return this.grid.get(nt(t))}async has(t){return this.grid.has(nt(t))}async delete(t){return!1}async deleteRange(t){return new Set}async setGrid(t){}async getGrid(t){const n=new Map;for(const[r,i]of this.cellIndex.cellsInRange(t)){const s=nt({r,c:i}),l=this.grid.get(s);l!==void 0&&n.set(s,l)}return n}async findEdge(t,n,r){return KR(this.cellIndex,t,n,r,(i,s)=>{const l=this.grid.get(nt({r:i,c:s}));return l!==void 0&&(!!l.v||!!l.f)})}async shiftCells(t,n,r){}async moveCells(t,n,r,i){}async buildDependantsMap(t){return new Map}async getFormulaGrid(){return new Map}getPresences(){return[]}updateActiveCell(t){}async setDimensionSize(t,n,r){}async getDimensionSizes(t){return new Map}async setColumnStyle(t,n){}async getColumnStyles(){return new Map}async setRowStyle(t,n){}async getRowStyles(){return new Map}async setSheetStyle(t){}async getSheetStyle(){}async setMerge(t,n){}async deleteMerge(t){return!1}async getMerges(){return new Map}async setFreezePane(t,n){}async getFreezePane(){return{frozenRows:0,frozenCols:0}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=Lt(t);return[n.r,n.c]}))}}async function Eu(e,t,n){const[r,i]=Jq(t,n);for(const s of r){const l=Lt(s);if(!await e.hasFormula(l))continue;const u=await e.getCell(l);if(i.has(s)){await e.setCell(l,{v:"#REF!",f:u.f,s:u.s});continue}const c=Cv(u.f),g=await e.fetchGridByReferences(c),p=await $q(u.f,g);await e.setCell(l,{v:p,f:u.f,s:u.s})}}function Jq(e,t){const n=[],r=new Set,i=new Set,s=new Set,l=u=>{if(s.has(u))for(const c of s)r.add(c);if(s.add(u),!i.has(u)){if(i.add(u),e.has(u))for(const c of e.get(u))l(c);n.push(u)}s.delete(u)};for(const u of t)l(u);return[n.reverse(),r]}function Qq(e){let t=1/0,n=1/0,r=0,i=0;for(const[l]of e.entries()){const{r:u,c}=Lt(l);t=Math.min(t,u),n=Math.min(n,c),r=Math.max(r,u),i=Math.max(i,c)}const s=Array.from({length:r-t+1},()=>Array(i-n+1).fill(""));for(const[l,u]of e.entries()){const{r:c,c:g}=Lt(l);s[c-t][g-n]=u.v||u.f||""}return s.map(l=>l.join("	")).join(`
`)}function eK(e,t){let n=e.r,r=e.c;const i=new Map,s=t.split(`
`);for(const l of s){const u=l.split("	");for(const c of u)i.set(nt({r:n,c:r}),{v:c}),r+=1;n+=1,r=e.c}return i}function g3(e){const t=e.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);if(!t)return;const n=parseInt(t[1],10),r=parseInt(t[2],10),i=parseInt(t[3],10);if(!(n===255&&r===255&&i===255))return"#"+n.toString(16).padStart(2,"0")+r.toString(16).padStart(2,"0")+i.toString(16).padStart(2,"0")}function tK(e){return e.includes("google-sheets-html-origin")||e.includes("data-sheets-value")||e.includes("urn:schemas-microsoft-com:office:excel")||e.includes('xmlns:x="urn:schemas-microsoft-com:office:excel"')}function nK(e,t){const i=new DOMParser().parseFromString(e,"text/html").querySelector("table");if(!i)return new Map;const s=new Map,l=i.querySelectorAll("tr");for(let u=0;u<l.length;u++){const c=l[u].querySelectorAll("td, th");for(let g=0;g<c.length;g++){const p=c[g],m=p.textContent||"";if(!m&&!p.style.cssText)continue;const x={v:m},b={};let E=!1;const w=p.style.fontWeight;if((w==="bold"||w==="700")&&(b.b=!0,E=!0),p.style.fontStyle==="italic"&&(b.i=!0,E=!0),p.style.backgroundColor){const C=g3(p.style.backgroundColor);C&&(b.bg=C,E=!0)}if(p.style.color){const C=g3(p.style.color);C&&(b.tc=C,E=!0)}if(p.style.textAlign){const C=p.style.textAlign;(C==="left"||C==="center"||C==="right")&&(b.al=C,E=!0)}E&&(x.s=b),s.set(nt({r:t.r+u,c:t.c+g}),x)}}return s}const XR="en-US",m3="USD",rK=new Set(["AT","BE","CY","DE","EE","ES","FI","FR","GR","HR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"]),iK={AE:"AED",AR:"ARS",AU:"AUD",BD:"BDT",BR:"BRL",CA:"CAD",CH:"CHF",CL:"CLP",CN:"CNY",CO:"COP",CZ:"CZK",DK:"DKK",EG:"EGP",GB:"GBP",HK:"HKD",HU:"HUF",ID:"IDR",IL:"ILS",IN:"INR",JP:"JPY",KE:"KES",KR:"KRW",KW:"KWD",MX:"MXN",MY:"MYR",NG:"NGN",NO:"NOK",NZ:"NZD",PE:"PEN",PH:"PHP",PK:"PKR",PL:"PLN",QA:"QAR",RO:"RON",RU:"RUB",SA:"SAR",SE:"SEK",SG:"SGD",TH:"THB",TR:"TRY",TW:"TWD",UA:"UAH",US:"USD",VN:"VND",ZA:"ZAR"},v3=new Map;function ZR(e){return e&&e.trim()?e.trim():typeof navigator<"u"&&navigator.language?navigator.language:Intl.DateTimeFormat().resolvedOptions().locale||XR}function oK(e){const[t]=e.replace(/_/g,"-").split("-u-"),n=t.split("-").filter(Boolean);for(let r=1;r<n.length;r++){const i=n[r];if(/^[a-z]{2}$/i.test(i))return i.toUpperCase()}try{const r=new Intl.Locale(e).maximize().region;if(r)return r.toUpperCase()}catch{}}function WC(e,t,n){try{return new Intl.NumberFormat(t,n).format(e)}catch{return new Intl.NumberFormat(XR,n).format(e)}}function sK(e,t){try{return new Intl.DateTimeFormat(t,{dateStyle:"medium"}).format(e)}catch{return new Intl.DateTimeFormat(XR,{year:"numeric",month:"short",day:"numeric"}).format(e)}}function aK(){return ZR()}function xB(e){const t=ZR(e),n=v3.get(t);if(n)return n;const r=oK(t);let i=m3;return r&&(i=rK.has(r)?"EUR":iK[r]??m3),v3.set(t,i),i}function y3(e){const t=ZR(e),n=xB(t);return{locale:t,currency:n,number:WC(1234.56,t,{minimumFractionDigits:2,maximumFractionDigits:2}),currencyValue:WC(1234.56,t,{style:"currency",currency:n,minimumFractionDigits:2,maximumFractionDigits:2}),percent:WC(.1234,t,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:sK(new Date(2026,1,18),t)}}function YC(e,t,n){try{return e.toLocaleString(t,n)}catch{return e.toLocaleString("en-US",n)}}function lK(e){const t=e.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(t){const r=Number(t[1]),i=Number(t[2]),s=Number(t[3]),l=new Date(r,i-1,s);return l.getFullYear()===r&&l.getMonth()===i-1&&l.getDate()===s?l:void 0}const n=new Date(e);if(!isNaN(n.getTime()))return n}function uK(e,t){const n=lK(e);if(!n)return e;try{return new Intl.DateTimeFormat(t,{dateStyle:"medium"}).format(n)}catch{return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(n)}}function s2(e,t,n,r){if(!t||t==="plain"||e==="")return e;const i=n??2,s=aK(),l=xB(s);switch(t){case"number":{const u=Number(e);return isNaN(u)?e:YC(u,s,{minimumFractionDigits:i,maximumFractionDigits:i})}case"currency":{const u=Number(e);return isNaN(u)?e:YC(u,s,{style:"currency",currency:l,minimumFractionDigits:i,maximumFractionDigits:i})}case"percent":{const u=Number(e);return isNaN(u)?e:YC(u/100,s,{style:"percent",minimumFractionDigits:i,maximumFractionDigits:i})}case"date":return uK(e,s);default:return e}}const cK={rows:1e6,columns:18278},fK=5e4,dK={b:!1,i:!1,u:!1,st:!1,bt:!1,br:!1,bb:!1,bl:!1,al:"left",va:"top",nf:"plain",dp:2};class hK{constructor(t){Y(this,"store");Y(this,"dimension");Y(this,"activeCell");Y(this,"range");Y(this,"selectionType","cell");Y(this,"rowDimensions");Y(this,"colDimensions");Y(this,"frozenRows",0);Y(this,"frozenCols",0);Y(this,"colStyles",new Map);Y(this,"rowStyles",new Map);Y(this,"sheetStyle");Y(this,"merges",new Map);Y(this,"mergeCoverMap",new Map);Y(this,"copyBuffer");Y(this,"gridResolver");this.store=t,this.dimension={...cK},this.activeCell={r:1,c:1}}get dimensionRange(){return[{r:1,c:1},{r:this.dimension.rows,c:this.dimension.columns}]}getDimension(){return this.dimension}setDimensions(t,n){this.rowDimensions=t,this.colDimensions=n}getRowDimensions(){return this.rowDimensions}getColDimensions(){return this.colDimensions}setRowHeight(t,n){var r;(r=this.rowDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("row",t,n)}setColumnWidth(t,n){var r;(r=this.colDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("column",t,n)}async loadDimensions(){if(this.rowDimensions){this.rowDimensions.clear();const t=await this.store.getDimensionSizes("row");for(const[n,r]of t)this.rowDimensions.setSize(n,r)}if(this.colDimensions){this.colDimensions.clear();const t=await this.store.getDimensionSizes("column");for(const[n,r]of t)this.colDimensions.setSize(n,r)}}getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n,await this.store.setFreezePane(t,n)}async loadFreezePane(){const{frozenRows:t,frozenCols:n}=await this.store.getFreezePane();this.frozenRows=t,this.frozenCols=n}async loadStyles(){this.colStyles=await this.store.getColumnStyles(),this.rowStyles=await this.store.getRowStyles(),this.sheetStyle=await this.store.getSheetStyle()}async loadMerges(){this.merges=await this.store.getMerges(),this.rebuildMergeCoverMap()}getColStyles(){return this.colStyles}getRowStyles(){return this.rowStyles}getSheetStyle(){return this.sheetStyle}getMerges(){return this.merges}rebuildMergeCoverMap(){this.mergeCoverMap.clear();for(const[t,n]of this.merges){const r=Lt(t);for(let i=r.r;i<r.r+n.rs;i++)for(let s=r.c;s<r.c+n.cs;s++){const l=nt({r:i,c:s});l!==t&&this.mergeCoverMap.set(l,t)}}}getAnchorSrefForRef(t){const n=nt(t);return this.merges.has(n)?n:this.mergeCoverMap.get(n)||n}normalizeRefToAnchor(t){return Lt(this.getAnchorSrefForRef(t))}getMergeForRef(t){const n=this.getAnchorSrefForRef(t),r=this.merges.get(n);if(!r)return;const i=Lt(n);return{anchorSref:n,anchor:i,span:r,range:uv(i,r)}}expandRangeToMergedBoundaries(t){let n=$p(t),r=!0;for(;r;){r=!1;for(const[i,s]of this.merges){const l=uv(Lt(i),s);if(!Lc(l[0],n)&&!Lc(l[1],n)&&!(l[0].r<=n[1].r&&l[1].r>=n[0].r&&l[0].c<=n[1].c&&l[1].c>=n[0].c))continue;const u=HC(n,l);fS(u,n)||(n=u,r=!0)}}return n}*mergeCoveredSrefs(t,n){for(let r=t.r;r<t.r+n.rs;r++)for(let i=t.c;i<t.c+n.cs;i++)yield nt({r,c:i})}expandChangedSrefsWithMergeAliases(t){const n=new Set;for(const r of t){const i=this.getAnchorSrefForRef(Lt(r)),s=this.merges.get(i);if(!s){n.add(r);continue}const l=Lt(i);for(const u of this.mergeCoveredSrefs(l,s))n.add(u)}return n}getMergesIntersecting(t){const n=[];for(const[r,i]of this.merges){const s=Lt(r),l=uv(s,i);l[0].r<=t[1].r&&l[1].r>=t[0].r&&l[0].c<=t[1].c&&l[1].c>=t[0].c&&n.push({anchorSref:r,anchor:s,span:i,range:l})}return n}resolveEffectiveStyle(t,n,r){const i=this.sheetStyle,s=this.colStyles.get(n),l=this.rowStyles.get(t);if(!(!i&&!s&&!l&&!r))return{...i,...s,...l,...r}}async getCell(t){return this.store.get(this.normalizeRefToAnchor(t))}async setCell(t,n){await this.store.set(this.normalizeRefToAnchor(t),n)}async setGrid(t){await this.store.setGrid(t)}async hasFormula(t){const n=await this.getCell(t);return!!(n&&n.f)}async toInputString(t){const n=await this.getCell(t);return n?n.f?n.f:n.v||"":""}async toDisplayString(t){const n=this.normalizeRefToAnchor(t),r=await this.store.get(n);if(!r||!r.v)return"";const i=this.resolveEffectiveStyle(n.r,n.c,r.s);return s2(r.v,i==null?void 0:i.nf,i==null?void 0:i.dp)}async setData(t,n){const r=this.normalizeRefToAnchor(t);this.store.beginBatch();try{const i=await this.store.get(r),s=n.startsWith("=")?{f:n}:{v:n},l=i!=null&&i.s?{...s,s:i.s}:s;this.isEmptyCell(l)?await this.store.delete(r):await this.store.set(r,l);const u=this.expandChangedSrefsWithMergeAliases([nt(r)]),c=await this.store.buildDependantsMap(u);await Eu(this,c,u)}finally{this.store.endBatch()}}async removeData(){this.store.beginBatch();try{const t=this.getRangeOrActiveCell(),n=await this.store.getGrid(t),r=new Set;for(const[l,u]of n){const c=Lt(l);u.s&&Object.keys(u.s).length>0?await this.store.set(c,{s:u.s}):await this.store.delete(c),r.add(l)}if(r.size===0)return!1;const i=this.expandChangedSrefsWithMergeAliases(r),s=await this.store.buildDependantsMap(i);return await Eu(this,s,i),!0}finally{this.store.endBatch()}}async insertRows(t,n=1){await this.shiftCells("row",t,n)}async deleteRows(t,n=1){await this.shiftCells("row",t,-n)}async insertColumns(t,n=1){await this.shiftCells("column",t,n)}async deleteColumns(t,n=1){await this.shiftCells("column",t,-n)}async moveRows(t,n,r){await this.moveCells("row",t,n,r)}async moveColumns(t,n,r){await this.moveCells("column",t,n,r)}async shiftCells(t,n,r){var s,l;await this.store.shiftCells(t,n,r),t==="row"?((s=this.rowDimensions)==null||s.shift(n,r),this.rowStyles=qp(this.rowStyles,n,r)):((l=this.colDimensions)==null||l.shift(n,r),this.colStyles=qp(this.colStyles,n,r)),this.merges=WR(this.merges,t,n,r),this.rebuildMergeCoverMap();const i=t==="row"?this.activeCell.r:this.activeCell.c;if(r>0&&i>=n)t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r};else if(r<0){const u=Math.abs(r);i>=n&&i<n+u?t==="row"?this.activeCell={r:Math.max(1,n),c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:Math.max(1,n)}:i>=n+u&&(t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r})}this.activeCell=this.normalizeRefToAnchor(this.activeCell),this.store.beginBatch();try{const u=t==="row"?this.frozenRows:this.frozenCols;if(u>0){if(r>0&&n<=u){const m=u+r;t==="row"?this.frozenRows=m:this.frozenCols=m,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}else if(r<0){const m=Math.abs(r);if(n<=u){const x=Math.min(m,u-n+1),b=Math.max(0,u-x);t==="row"?this.frozenRows=b:this.frozenCols=b,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}}}const c=new Set,g=[{r:1,c:1},{r:1e3,c:100}],p=await this.store.getGrid(g);for(const[m,x]of p)x.f&&c.add(m);if(c.size>0){const m=await this.store.buildDependantsMap(c);await Eu(this,m,c)}}finally{this.store.endBatch()}}async moveCells(t,n,r,i){var s,l;if(!(i>=n&&i<=n+r)){for(const[u,c]of this.merges){const g=Lt(u);if(Xq(g,c,t,n,r))return}await this.store.moveCells(t,n,r,i),t==="row"?((s=this.rowDimensions)==null||s.move(n,r,i),this.rowStyles=Yp(this.rowStyles,n,r,i)):((l=this.colDimensions)==null||l.move(n,r,i),this.colStyles=Yp(this.colStyles,n,r,i)),this.merges=YR(this.merges,t,n,r,i),this.rebuildMergeCoverMap(),this.activeCell=this.normalizeRefToAnchor(Xc(this.activeCell,t,n,r,i)),this.range&&(this.range=this.expandRangeToMergedBoundaries([Xc(this.range[0],t,n,r,i),Xc(this.range[1],t,n,r,i)])),this.store.beginBatch();try{const u=new Set,c=[{r:1,c:1},{r:1e3,c:100}],g=await this.store.getGrid(c);for(const[p,m]of g)m.f&&u.add(p);if(u.size>0){const p=await this.store.buildDependantsMap(u);await Eu(this,p,u)}}finally{this.store.endBatch()}}}async fetchGrid(t){return this.store.getGrid(t)}isEmptyCell(t){const n=t.v!==void 0&&t.v!==""&&t.v!==null,r=!!t.f,i=t.s!==void 0&&Object.keys(t.s).length>0;return!n&&!r&&!i}isDefaultStyleValue(t,n){return dK[t]===n}compactCell(t,n){const r={};return t.v!==void 0&&(r.v=t.v),t.f!==void 0&&(r.f=t.f),n&&Object.keys(n).length>0&&(r.s=n),r}getCopyRange(){var t;return(t=this.copyBuffer)==null?void 0:t.sourceRange}clearCopyBuffer(){this.copyBuffer=void 0}async copy(){const t=this.getRangeOrActiveCell(),n=await this.fetchGrid(t),r=Qq(n);return this.copyBuffer={sourceRange:t,grid:n,text:r},{text:r}}async paste(t){const{text:n,html:r}=t;let i;if(this.copyBuffer&&n===this.copyBuffer.text)i=this.relocateGrid(this.copyBuffer.grid,this.copyBuffer.sourceRange,this.activeCell);else if(r&&tK(r))i=nK(r,this.activeCell);else if(n)i=eK(this.activeCell,n);else return;this.store.beginBatch();try{await this.setGrid(i);const s=new Set;for(const[l]of i)s.add(l);if(s.size>0){const l=this.expandChangedSrefsWithMergeAliases(s),u=await this.store.buildDependantsMap(l);await Eu(this,u,l)}}finally{this.store.endBatch()}this.selectPastedRange(i)}selectPastedRange(t){if(t.size===0)return;let n=1/0,r=-1/0,i=1/0,s=-1/0;for(const l of t.keys()){const u=Lt(l);u.r<n&&(n=u.r),u.r>r&&(r=u.r),u.c<i&&(i=u.c),u.c>s&&(s=u.c)}n===r&&i===s?this.selectStart({r:n,c:i}):(this.selectionType="cell",this.activeCell={r:n,c:i},this.range=[{r:n,c:i},{r,c:s}],this.store.updateActiveCell(this.activeCell))}relocateGrid(t,n,r){const i=r.r-n[0].r,s=r.c-n[0].c,l=new Map;for(const[u,c]of t){const g=Lt(u),p={r:g.r+i,c:g.c+s},m=nt(p);if(c.f){const x=f3(c.f,i,s);l.set(m,{f:x,s:c.s})}else l.set(m,{...c})}return l}computeAutofillRange(t,n){if(!Lc(n,t))return HC(t,[n,n])}getAutofillPreviewRange(t){if(this.selectionType!=="cell")return;const n=this.getRangeOrActiveCell();return this.computeAutofillRange(n,t)}positiveMod(t,n){return(t%n+n)%n}cloneCellForAutofill(t,n,r){if(t.f){const s=f3(t.f,n,r);return t.s?{f:s,s:{...t.s}}:{f:s}}const i={};return t.v!==void 0&&(i.v=t.v),t.s&&(i.s={...t.s}),i}async autofill(t){if(this.selectionType!=="cell")return!1;const n=$p(this.getRangeOrActiveCell()),r=this.computeAutofillRange(n,t);if(!r||this.getMergesIntersecting(r).length>0)return!1;const i=await this.store.getGrid(n),s=n[1].r-n[0].r+1,l=n[1].c-n[0].c+1,u=new Set;this.store.beginBatch();try{for(let c=r[0].r;c<=r[1].r;c++)for(let g=r[0].c;g<=r[1].c;g++){const p={r:c,c:g};if(Lc(p,n))continue;const m={r:n[0].r+this.positiveMod(p.r-n[0].r,s),c:n[0].c+this.positiveMod(p.c-n[0].c,l)},x=i.get(nt(m)),b=this.normalizeRefToAnchor(p),E=nt(b);if(!x){await this.store.delete(b),u.add(E);continue}const w=p.r-m.r,C=p.c-m.c,R=this.cloneCellForAutofill(x,w,C);this.isEmptyCell(R)?await this.store.delete(b):await this.store.set(b,R),u.add(E)}if(u.size>0){const c=this.expandChangedSrefsWithMergeAliases(u),g=await this.store.buildDependantsMap(c);await Eu(this,g,c)}}finally{this.store.endBatch()}return u.size===0?!1:(this.selectionType="cell",this.range=r,!0)}async hasContents(t){return(await this.store.getGrid(t)).size>0}async fetchGridByReferences(t){const n=new Map,r=new Map;for(const i of Ls(t))if(vh(i)){const{sheetName:s,localRef:l}=cB(i);r.has(s.toUpperCase())||r.set(s.toUpperCase(),new Set),r.get(s.toUpperCase()).add(l)}else{const s=this.normalizeRefToAnchor(Lt(i)),l=await this.store.get(s);l&&n.set(i,l)}if(this.gridResolver&&r.size>0)for(const[i,s]of r){const l=this.gridResolver(i,s);if(l)for(const[u,c]of l)n.set(`${i}!${u}`,c)}return n}setGridResolver(t){this.gridResolver=t}async recalculateCrossSheetFormulas(){const t=await this.store.getFormulaGrid(),n=new Set;for(const[r]of t)n.add(r);if(n.size!==0){this.store.beginBatch();try{const r=await this.store.buildDependantsMap(n);await Eu(this,r,n)}finally{this.store.endBatch()}}}getActiveCell(){return this.activeCell}setActiveCell(t){const n=this.normalizeRefToAnchor(t);this.activeCell=n,this.store.updateActiveCell(n)}getRange(){return this.range}getPresences(){return this.store.getPresences()}getRangeOrActiveCell(){if(this.range)return this.expandRangeToMergedBoundaries(this.range);const t=this.getMergeForRef(this.activeCell);return t?t.range:[this.activeCell,this.activeCell]}getSelectionType(){return this.selectionType}selectRow(t){this.selectionType="row",this.activeCell={r:t,c:1},this.range=[{r:t,c:1},{r:t,c:this.dimension.columns}],this.store.updateActiveCell(this.activeCell)}selectColumn(t){this.selectionType="column",this.activeCell={r:1,c:t},this.range=[{r:1,c:t},{r:this.dimension.rows,c:t}],this.store.updateActiveCell(this.activeCell)}selectRowRange(t,n){this.selectionType="row";const r=Math.min(t,n),i=Math.max(t,n);this.range=[{r,c:1},{r:i,c:this.dimension.columns}]}selectColumnRange(t,n){this.selectionType="column";const r=Math.min(t,n),i=Math.max(t,n);this.range=[{r:1,c:r},{r:this.dimension.rows,c:i}]}selectAllCells(){this.selectionType="all",this.activeCell={r:1,c:1},this.range=$p(this.dimensionRange),this.store.updateActiveCell(this.activeCell)}getSelectedIndices(){return this.selectionType==="cell"||this.selectionType==="all"||!this.range?null:this.selectionType==="row"?{axis:"row",from:this.range[0].r,to:this.range[1].r}:{axis:"column",from:this.range[0].c,to:this.range[1].c}}selectStart(t){Lc(t,this.dimensionRange)&&(this.selectionType="cell",this.setActiveCell(this.normalizeRefToAnchor(t)),this.range=void 0)}selectEnd(t){if(!Lc(t,this.dimensionRange))return;const n=this.normalizeRefToAnchor(t);if(Ev(this.activeCell,n)){this.range=void 0;return}this.range=this.expandRangeToMergedBoundaries(a3(this.activeCell,n))}hasRange(){return!!this.range}async selectAll(){let t=this.getRangeOrActiveCell(),n=$p(t),r=!0;for(;r;){r=!1;for(const i of B7(n,this.dimensionRange))await this.hasContents(i)&&(n=HC(n,i),r=!0)}if(fS(t,n)){this.range=$p(this.dimensionRange);return}this.range=n}async moveToEdge(t){const n=this.getMergeForRef(this.activeCell),r={...this.activeCell};n&&(t==="right"?r.c=n.range[1].c:t==="down"&&(r.r=n.range[1].r));const i=await this.store.findEdge(r,t,this.dimensionRange),s=this.normalizeRefToAnchor(i);return Ev(this.activeCell,s)?!1:(this.range=void 0,this.setActiveCell(s),!0)}move(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let i=this.activeCell.r,s=this.activeCell.c;const l=this.getMergeForRef(this.activeCell);if(l?t==="right"?s=l.range[1].c+1:t==="down"?i=l.range[1].r+1:t==="left"?s-=1:i-=1:(i+=n,s+=r),!Lc({r:i,c:s},this.dimensionRange))return!1;const u=this.normalizeRefToAnchor({r:i,c:s});return Ev(this.activeCell,u)?!1:(this.range=void 0,this.setActiveCell(u),!0)}resizeRange(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let i=$p(this.getRangeOrActiveCell());return this.activeCell.r===i[1].r?i[0].r+=n:i[1].r+=n,this.activeCell.c===i[1].c?i[0].c+=r:i[1].c+=r,i=a3(i[0],i[1]),k7(i,this.dimensionRange)?(this.range=this.expandRangeToMergedBoundaries(i),!0):!1}async getStyle(t){const n=this.normalizeRefToAnchor(t),r=await this.store.get(n);return this.resolveEffectiveStyle(n.r,n.c,r==null?void 0:r.s)}async setStyle(t,n){const r=this.normalizeRefToAnchor(t),i=await this.store.get(r)||{},s={...i.s,...n},l=this.resolveEffectiveStyle(r.r,r.c);for(const c of Object.keys(s))(s[c]===void 0||s[c]==="")&&delete s[c];for(const c of Object.keys(s)){const g=s[c];if(g===(l==null?void 0:l[c])){delete s[c];continue}(l==null?void 0:l[c])===void 0&&this.isDefaultStyleValue(c,g)&&delete s[c]}const u=this.compactCell(i,Object.keys(s).length>0?s:void 0);if(this.isEmptyCell(u)){await this.store.delete(r);return}await this.store.set(r,u)}async setRangeStyle(t){this.store.beginBatch();try{if(this.selectionType==="column"){const r=this.getRangeOrActiveCell();for(let i=r[0].c;i<=r[1].c;i++){const l={...this.colStyles.get(i)||{},...t};for(const u of Object.keys(l))!l[u]&&l[u]!==0&&delete l[u];this.colStyles.set(i,l),await this.store.setColumnStyle(i,l)}return}if(this.selectionType==="row"){const r=this.getRangeOrActiveCell();for(let i=r[0].r;i<=r[1].r;i++){const l={...this.rowStyles.get(i)||{},...t};for(const u of Object.keys(l))!l[u]&&l[u]!==0&&delete l[u];this.rowStyles.set(i,l),await this.store.setRowStyle(i,l)}return}if(this.selectionType==="all"){const i={...this.sheetStyle||{},...t};for(const s of Object.keys(i))!i[s]&&i[s]!==0&&delete i[s];this.sheetStyle=i,await this.store.setSheetStyle(i);return}const n=this.getRangeOrActiveCell();for(let r=n[0].r;r<=n[1].r;r++)for(let i=n[0].c;i<=n[1].c;i++)await this.setStyle({r,c:i},t)}finally{this.store.endBatch()}}async setRangeBorders(t){if(this.selectionType!=="cell")return!1;const n=this.getRangeOrActiveCell(),r=n[1].r-n[0].r+1,i=n[1].c-n[0].c+1;if(r*i>fK)return!1;const s=this.collectBorderTargets(n);this.store.beginBatch();try{for(const{anchor:l,range:u}of s){const c=this.toBorderPatchForPreset(t,n,u);await this.setStyle(l,c)}}finally{this.store.endBatch()}return!0}async toggleRangeStyle(t){const n=await this.getStyle(this.activeCell),r=!(n!=null&&n[t]);await this.setRangeStyle({[t]:r})}collectBorderTargets(t){const n=[],r=new Set;for(let i=t[0].r;i<=t[1].r;i++)for(let s=t[0].c;s<=t[1].c;s++){const l=this.normalizeRefToAnchor({r:i,c:s}),u=nt(l);if(r.has(u))continue;r.add(u);const c=this.merges.get(u),g=c?uv(l,c):[l,l];n.push({anchor:l,range:g})}return n}toBorderPatchForPreset(t,n,r){const i=r[0].r===n[0].r,s=r[1].r===n[1].r,l=r[0].c===n[0].c,u=r[1].c===n[1].c;switch(t){case"all":return{bt:!0,bl:!0,br:u,bb:s};case"outer":return{bt:i,bl:l,br:u,bb:s};case"inner":return{bt:!i,bl:!l,br:!1,bb:!1};case"top":return{bt:i};case"bottom":return{bb:s};case"left":return{bl:l};case"right":return{br:u};case"clear":default:return{bt:!1,bl:!1,br:!1,bb:!1}}}isSelectionMerged(){if(this.selectionType!=="cell")return!1;const t=this.getRangeOrActiveCell(),n=this.getMergesIntersecting(t);return n.length===1&&fS(n[0].range,t)}canMergeSelection(){if(this.selectionType!=="cell")return!1;const t=this.getRangeOrActiveCell();if(t[0].r===t[1].r&&t[0].c===t[1].c)return!1;const r=this.frozenRows>0&&t[0].r<=this.frozenRows&&t[1].r>this.frozenRows,i=this.frozenCols>0&&t[0].c<=this.frozenCols&&t[1].c>this.frozenCols;return r||i?!1:this.getMergesIntersecting(t).length===0}async toggleMergeSelection(){return this.isSelectionMerged()?this.unmergeSelection():this.mergeSelection()}async mergeSelection(){if(!this.canMergeSelection())return!1;const t=this.getRangeOrActiveCell(),n=t[0],r={rs:t[1].r-t[0].r+1,cs:t[1].c-t[0].c+1},i=new Set;for(const s of this.mergeCoveredSrefs(n,r))i.add(s);this.store.beginBatch();try{for(let u=t[0].r;u<=t[1].r;u++)for(let c=t[0].c;c<=t[1].c;c++){if(u===n.r&&c===n.c)continue;const g={r:u,c},p=await this.store.get(g);p&&(p.s&&Object.keys(p.s).length>0?await this.store.set(g,{s:p.s}):await this.store.delete(g))}await this.store.setMerge(n,r),this.merges.set(nt(n),r),this.rebuildMergeCoverMap();const s=this.expandChangedSrefsWithMergeAliases(i),l=await this.store.buildDependantsMap(s);await Eu(this,l,s)}finally{this.store.endBatch()}return this.selectionType="cell",this.setActiveCell(n),this.range=uv(n,r),!0}async unmergeSelection(){if(this.selectionType!=="cell")return!1;const t=this.getRangeOrActiveCell(),n=this.getMergesIntersecting(t);if(n.length===0)return!1;const r=new Set;for(const i of n)for(const s of this.mergeCoveredSrefs(i.anchor,i.span))r.add(s);this.store.beginBatch();try{for(const l of n)await this.store.deleteMerge(l.anchor),this.merges.delete(l.anchorSref);this.rebuildMergeCoverMap();const i=this.expandChangedSrefsWithMergeAliases(r),s=await this.store.buildDependantsMap(i);await Eu(this,s,i)}finally{this.store.endBatch()}return this.selectionType="cell",this.range=void 0,!0}async getActiveDecimalPlaces(){const t=await this.getStyle(this.activeCell);return(t==null?void 0:t.dp)??2}async undo(){const t=await this.store.undo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadMerges(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}async redo(){const t=await this.store.redo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadMerges(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}moveInRange(t,n){const r=this.range||this.dimensionRange;let i=this.activeCell.r,s=this.activeCell.c;const l=this.getMergeForRef(this.activeCell),u=r[1].r-r[0].r+1,c=r[1].c-r[0].c+1;if(t!==0){const g=t>0?l?l.span.rs:t:t<0?-1:0;i+g>r[1].r?(i=r[0].r,s=(s+1-r[0].c+c)%c+r[0].c):i+g<r[0].r?(i=r[1].r,s=(s-1-r[0].c+c)%c+r[0].c):i+=g}if(n!==0){const g=n>0?l?l.span.cs:n:n<0?-1:0;s+g>r[1].c?(s=r[0].c,i=(i+1-r[0].r+u)%u+r[0].r):s+g<r[0].c?(s=r[1].c,i=(i-1-r[0].r+u)%u+r[0].r):s+=g}this.setActiveCell(this.normalizeRefToAnchor({r:i,c:s}))}}class pK{constructor(t){Y(this,"grid");Y(this,"cellIndex",new qR);Y(this,"rowHeights",new Map);Y(this,"colWidths",new Map);Y(this,"colStyles",new Map);Y(this,"rowStyles",new Map);Y(this,"sheetStyle");Y(this,"merges",new Map);Y(this,"frozenRows",0);Y(this,"frozenCols",0);this.grid=t||new Map,this.rebuildIndex()}async set(t,n){this.grid.set(nt(t),n),this.cellIndex.add(t.r,t.c)}async get(t){return this.grid.get(nt(t))}async has(t){return this.grid.has(nt(t))}async delete(t){const n=this.grid.delete(nt(t));return n&&this.cellIndex.remove(t.r,t.c),n}async deleteRange(t){const n=new Set,r=[];for(const[i,s]of this.cellIndex.cellsInRange(t)){const l=nt({r:i,c:s});this.grid.delete(l),n.add(l),r.push([i,s])}for(const[i,s]of r)this.cellIndex.remove(i,s);return n}async setGrid(t){for(const[n,r]of t){this.grid.set(n,r);const i=Lt(n);this.cellIndex.add(i.r,i.c)}}async getGrid(t){const n=new Map;for(const[r,i]of this.cellIndex.cellsInRange(t)){const s=nt({r,c:i}),l=this.grid.get(s);l!==void 0&&n.set(s,l)}return n}async findEdge(t,n,r){return KR(this.cellIndex,t,n,r,(i,s)=>{const l=this.grid.get(nt({r:i,c:s}));return l!==void 0&&(!!l.v||!!l.f)})}async shiftCells(t,n,r){this.grid=Yq(this.grid,t,n,r),this.rebuildIndex(),t==="row"?(this.rowHeights=qp(this.rowHeights,n,r),this.rowStyles=qp(this.rowStyles,n,r)):(this.colWidths=qp(this.colWidths,n,r),this.colStyles=qp(this.colStyles,n,r)),this.merges=WR(this.merges,t,n,r)}async moveCells(t,n,r,i){this.grid=Wq(this.grid,t,n,r,i),this.rebuildIndex(),t==="row"?(this.rowHeights=Yp(this.rowHeights,n,r,i),this.rowStyles=Yp(this.rowStyles,n,r,i)):(this.colWidths=Yp(this.colWidths,n,r,i),this.colStyles=Yp(this.colStyles,n,r,i)),this.merges=YR(this.merges,t,n,r,i)}async getFormulaGrid(){const t=new Map;for(const[n,r]of this.grid)r.f&&t.set(n,r);return t}async buildDependantsMap(t){const n=Array.from(this.grid.entries()),r=new Map;for(const[i,s]of n)if(s.f)for(const l of Ls(Cv(s.f)))vh(l)||(r.has(l)||r.set(l,new Set),r.get(l).add(i));return r}getPresences(){return[]}async setDimensionSize(t,n,r){(t==="row"?this.rowHeights:this.colWidths).set(n,r)}async getDimensionSizes(t){return new Map(t==="row"?this.rowHeights:this.colWidths)}updateActiveCell(t){}async setColumnStyle(t,n){this.colStyles.set(t,n)}async getColumnStyles(){return new Map(this.colStyles)}async setRowStyle(t,n){this.rowStyles.set(t,n)}async getRowStyles(){return new Map(this.rowStyles)}async setSheetStyle(t){this.sheetStyle=t}async getSheetStyle(){return this.sheetStyle?{...this.sheetStyle}:void 0}async setMerge(t,n){this.merges.set(nt(t),{...n})}async deleteMerge(t){return this.merges.delete(nt(t))}async getMerges(){return new Map(this.merges)}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n}async getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=Lt(t);return[n.r,n.c]}))}}const gK={cellBorderColor:"#D3D3D3",customBorderColor:"#000000",cellBGColor:"#FFFFFF",cellTextColor:"#000000",activeCellColor:"#E6C746",selectionBGColor:"rgba(230, 199, 70, 0.1)",headerBGColor:"#F0F0F0",headerActiveBGColor:"#E6C746","tokens.REFERENCE":"#E6C746","tokens.NUM":"#4DA6FF",peerCursor1:"#FF6B6B",peerCursor2:"#4ECDC4",peerCursor3:"#45B7D1",peerCursor4:"#96CEB4",peerCursor5:"#FFEAA7",peerCursor6:"#DDA0DD",peerCursor7:"#98D8C8",peerCursor8:"#F7DC6F",resizeHandleColor:"#1A73E8",headerSelectedBGColor:"rgba(26, 115, 232, 0.3)",dropIndicatorColor:"#1A73E8",freezeLineColor:"#BBBBBB",freezeHandleColor:"#9E9E9E",freezeHandleHoverColor:"#5F6368",formulaRange1:"#1A73E8",formulaRange2:"#E84C3D",formulaRange3:"#9B59B6",formulaRange4:"#27AE60",formulaRange5:"#F39C12",formulaRange6:"#00ACC1"},mK={cellBorderColor:"#4A4A4A",customBorderColor:"#FFFFFF",cellBGColor:"#1E1E1E",cellTextColor:"#FFFFFF",activeCellColor:"#D4B73E",selectionBGColor:"rgba(212, 183, 62, 0.1)",headerBGColor:"#2D2D2D",headerActiveBGColor:"#D4B73E","tokens.REFERENCE":"#D4B73E","tokens.NUM":"#4DA6FF",peerCursor1:"#FF7979",peerCursor2:"#55EFC4",peerCursor3:"#74B9FF",peerCursor4:"#A4D4C4",peerCursor5:"#FDCB6E",peerCursor6:"#E17055",peerCursor7:"#81ECEC",peerCursor8:"#F8D84F",resizeHandleColor:"#8AB4F8",headerSelectedBGColor:"rgba(138, 180, 248, 0.3)",dropIndicatorColor:"#8AB4F8",freezeLineColor:"#5A5A5A",freezeHandleColor:"#8E8E8E",freezeHandleHoverColor:"#CCCCCC",formulaRange1:"#8AB4F8",formulaRange2:"#FF7979",formulaRange3:"#BB86FC",formulaRange4:"#66BB6A",formulaRange5:"#FFB74D",formulaRange6:"#4DD0E1"};function Qt(e,t){return e==="light"?gK[t]:mK[t]}const x3=["formulaRange1","formulaRange2","formulaRange3","formulaRange4","formulaRange5","formulaRange6"];function _S(e,t){return Qt(e,x3[t%x3.length])}function b3(e,t){const n=["peerCursor1","peerCursor2","peerCursor3","peerCursor4","peerCursor5","peerCursor6","peerCursor7","peerCursor8"];let r=0;for(let s=0;s<t.length;s++){const l=t.charCodeAt(s);r=(r<<5)-r+l,r=r&r}const i=Math.abs(r)%n.length;return Qt(e,n[i])}function Ru(e){const t=window.getSelection();if(t.rangeCount===0)return;const n=t.getRangeAt(0);if(!e.contains(n.commonAncestorContainer))return;let r=0,i=0,s=0;function l(u){if(u.nodeType===Node.TEXT_NODE){const c=u.textContent;u===n.startContainer&&(i=r+n.startOffset),u===n.endContainer&&(s=r+n.endOffset),r+=c.length}for(const c of u.childNodes)l(c)}return l(e),{start:i,end:s}}function kc(e,t){let n=0,r=null,i=null;const s=document.createRange();function l(c){if(c.nodeType===Node.TEXT_NODE){const g=c.textContent;r===null&&n+g.length>=t.start&&(r=c,s.setStart(c,t.start-n)),i===null&&n+g.length>=t.end&&(i=c,s.setEnd(c,t.end-n)),n+=g.length}for(const g of c.childNodes)l(g)}l(e);const u=window.getSelection();u.removeAllRanges(),u.addRange(s),e.focus()}function bB(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#039;"),e=e.replace(/\n/g,"<br>"),e=e.replace(/ /g,"&nbsp;"),e}const SB=23,AB=10;class vK{constructor(t="light"){Y(this,"sheet");Y(this,"theme");Y(this,"container");Y(this,"cellLabel");Y(this,"formulaInput");Y(this,"boundRenderInput");this.theme=t,this.container=document.createElement("div"),this.container.style.height=`${SB}px`,this.container.style.margin=`${AB}px 0px`,this.container.style.display="flex",this.container.style.alignItems="center",this.container.style.borderTop=`1px solid ${Qt(this.theme,"cellBorderColor")}`,this.container.style.borderBottom=`1px solid ${Qt(this.theme,"cellBorderColor")}`,this.container.style.justifyContent="flex-start",this.cellLabel=document.createElement("div"),this.cellLabel.style.width="120px",this.cellLabel.style.textAlign="center",this.cellLabel.style.font="12px Arial",this.cellLabel.style.borderRight=`1px solid ${Qt(this.theme,"cellBorderColor")}`,this.container.appendChild(this.cellLabel),this.formulaInput=document.createElement("div"),this.formulaInput.contentEditable="true",this.formulaInput.style.margin="0 20px",this.formulaInput.style.width="100%",this.formulaInput.style.height="12px",this.formulaInput.style.border="none",this.formulaInput.style.font="12px Arial",this.formulaInput.style.outline="none",this.formulaInput.style.overflow="hidden",this.formulaInput.style.whiteSpace="nowrap",this.formulaInput.style.lineHeight="12px",this.container.appendChild(this.formulaInput),this.boundRenderInput=this.renderInput.bind(this),this.formulaInput.addEventListener("input",this.boundRenderInput)}getContainer(){return this.container}initialize(t){this.sheet=t}cleanup(){this.formulaInput.removeEventListener("input",this.boundRenderInput),this.sheet=void 0,this.container.remove()}async render(){if(!this.sheet)return;const t=this.sheet.getActiveCell(),n=this.sheet.getSelectionType(),r=this.sheet.getSelectedIndices();let i;if(n==="row"&&r)i=`${r.from}:${r.to}`;else if(n==="column"&&r){const s=Lv(r.from),l=Lv(r.to);i=`${s}:${l}`}else{const s=this.sheet.getRange();i=s?j7(s):nt(t)}this.cellLabel.textContent=i,this.formulaInput.innerText=await this.sheet.toInputString(t),this.renderInput()}getFormulaInput(){return this.formulaInput}getValue(){return this.formulaInput.innerText}setValue(t){this.formulaInput.innerText=t,this.renderInput()}focus(){this.formulaInput.focus()}blur(){this.formulaInput.blur()}isFocused(){return document.activeElement===this.formulaInput}renderInput(){const t=this.formulaInput.innerText;if(!t.startsWith("="))return;const n=hf(t),r=[];let i=0;for(const l of n){if(l.type==="REFERENCE"){r.push(`<span style="color: ${_S(this.theme,i)}">${l.text}</span>`),i++;continue}if(l.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${l.text}</span>`);continue}r.push(bB(l.text))}const s=Ru(this.formulaInput);this.formulaInput.innerHTML="="+r.join(""),s&&kc(this.formulaInput,s)}getThemeColor(t){return Qt(this.theme,t)}}const Pa=100,et=23,ot=50,Bc=13,IS=1.5,Gb=4,a2=5,qC=.5,yK=1.5,xK="center",EB=4,bK=10;function jn(e,t={left:0,top:0},n,r){const i=r?r.getOffset(e.c):(e.c-1)*Pa,s=n?n.getOffset(e.r):(e.r-1)*et,l=r?r.getSize(e.c):Pa,u=n?n.getSize(e.r):et;return{left:i+ot-t.left,top:s+et-t.top,width:l,height:u}}function Hp(e,t){const n=Math.min(e.left,t.left),r=Math.min(e.top,t.top),i=Math.max(e.left+e.width,t.left+t.width),s=Math.max(e.top+e.height,t.top+t.height);return{left:n,top:r,width:i-n,height:s-r}}const lh={frozenRows:0,frozenCols:0,frozenWidth:0,frozenHeight:0};function SK(e,t,n,r){return e===0&&t===0?lh:{frozenRows:e,frozenCols:t,frozenWidth:t>0?r.getOffset(t+1):0,frozenHeight:e>0?n.getOffset(e+1):0}}function AK(e,t,n,r){const i=n?n.findIndex(t-et):Math.floor(t/et),s=r?r.findIndex(e-ot):Math.floor((e+ot)/Pa);return{r:i,c:s}}function EK(e,t,n,r,i,s){const l=s.frozenCols>0&&e<ot+s.frozenWidth,u=s.frozenRows>0&&t<et+s.frozenHeight,c=l?e-ot:e-ot-s.frozenWidth+i.getOffset(s.frozenCols+1)+n.left,g=u?t-et:t-et-s.frozenHeight+r.getOffset(s.frozenRows+1)+n.top,p=i.findIndex(c),m=r.findIndex(g);return{r:Math.max(1,m),c:Math.max(1,p)}}function Kp(e,t,n,r,i){const s=r.getOffset(e.c),l=n.getOffset(e.r),u=r.getSize(e.c),c=n.getSize(e.r),g=i.frozenCols>0&&e.c<=i.frozenCols,p=i.frozenRows>0&&e.r<=i.frozenRows,m=g?s+ot:s+ot-t.left-r.getOffset(i.frozenCols+1)+i.frozenWidth,x=p?l+et:l+et-t.top-n.getOffset(i.frozenRows+1)+i.frozenHeight;return{left:m,top:x,width:u,height:c}}class CK{constructor(t="light"){Y(this,"container");Y(this,"input");Y(this,"theme");Y(this,"boundHandleInput");Y(this,"minWidth",Pa);Y(this,"minHeight",et);Y(this,"maxWidth",1/0);Y(this,"maxHeight",1/0);Y(this,"composing",!1);this.theme=t,this.container=document.createElement("div"),this.container.style.position="absolute",this.container.style.left="-1000px",this.container.style.width=Pa+"px",this.container.style.height=et+"px",this.container.style.zIndex="1",this.container.style.margin="0px",this.container.style.pointerEvents="none",this.input=document.createElement("div"),this.input.contentEditable="true",this.input.style.border="none",this.input.style.outline=`2px solid ${this.getThemeColor("activeCellColor")}`,this.input.style.fontFamily="Arial, sans-serif",this.input.style.fontSize=Bc+"px",this.input.style.fontWeight="normal",this.input.style.lineHeight=String(IS),this.input.style.color=this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=this.getThemeColor("cellBGColor"),this.input.style.whiteSpace="pre",this.input.style.overflow="hidden",this.container.appendChild(this.input),this.boundHandleInput=this.handleInput.bind(this),this.input.addEventListener("input",this.boundHandleInput),this.input.addEventListener("compositionstart",()=>{this.composing=!0}),this.input.addEventListener("compositionend",()=>{this.composing=!1,this.adjustSize()})}cleanup(){this.input.removeEventListener("input",this.boundHandleInput),this.container.remove()}getContainer(){return this.container}getInput(){return this.input}show(t,n,r="",i=!0,s,l,u,c){this.minWidth=s??Pa,this.minHeight=l??et,this.maxWidth=u??1/0,this.maxHeight=c??1/0,this.container.style.left=t+"px",this.container.style.top=n+"px",this.container.style.pointerEvents="auto",this.input.innerText=r,this.renderInput(),this.adjustSize(),i&&(kc(this.input,{start:this.input.innerText.length,end:this.input.innerText.length}),this.input.focus())}hide(){this.container.style.left="-1000px",this.container.style.pointerEvents="none",this.input.innerText="",this.input.blur()}isShown(){return this.container.style.left!=="-1000px"}isFocused(){return document.activeElement===this.input}getValue(){return this.input.innerText}setValue(t){this.input.innerText=t,this.renderInput(),this.adjustSize()}hasFormula(){return this.input.innerText.startsWith("=")}applyStyle(t){this.input.style.fontWeight=t!=null&&t.b?"bold":"normal",this.input.style.fontStyle=t!=null&&t.i?"italic":"normal";const n=[];t!=null&&t.u&&n.push("underline"),t!=null&&t.st&&n.push("line-through"),this.input.style.textDecoration=n.length?n.join(" "):"none",this.input.style.color=(t==null?void 0:t.tc)||this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=(t==null?void 0:t.bg)||this.getThemeColor("cellBGColor"),this.input.style.textAlign=(t==null?void 0:t.al)||"left";const r=(t==null?void 0:t.va)||"top";this.container.style.display="flex",this.container.style.alignItems=r==="middle"?"center":r==="bottom"?"flex-end":"flex-start"}handleInput(){this.renderInput(),this.composing||this.adjustSize()}adjustSize(){this.input.style.width=this.minWidth+"px",this.input.style.height=this.minHeight+"px";const t=Math.min(Math.max(this.minWidth,this.input.scrollWidth),this.maxWidth),n=Math.min(Math.max(this.minHeight,this.input.scrollHeight),this.maxHeight);this.container.style.width=t+"px",this.container.style.height=n+"px",this.input.style.width=t+"px",this.input.style.height=n+"px",this.input.style.overflowY=this.input.scrollHeight>this.maxHeight?"auto":"hidden"}renderInput(){const t=this.input.innerText;if(!t.startsWith("="))return;const n=hf(t),r=[];let i=0;for(const l of n){if(l.type==="REFERENCE"){r.push(`<span style="color: ${_S(this.theme,i)}">${l.text}</span>`),i++;continue}if(l.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${l.text}</span>`);continue}r.push(bB(l.text))}const s=Ru(this.input);this.input.innerHTML="="+r.join(""),s&&kc(this.input,s)}getThemeColor(t){return Qt(this.theme,t)}}class wK{constructor(t="light"){Y(this,"canvas");Y(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="1",this.canvas.style.pointerEvents="none"}cleanup(){this.canvas.remove()}getContainer(){return this.canvas}render(t,n,r,i,s,l,u,c,g,p,m,x=lh,b,E,w,C=!0,R){this.canvas.width=0,this.canvas.height=0;const T=this.canvas.getContext("2d"),N=window.devicePixelRatio||1;this.canvas.width=t.width*N,this.canvas.height=t.height*N,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",T.scale(N,N);const D=x.frozenRows>0||x.frozenCols>0,F=this.buildMergeRenderData(R),B=s?[s[0],s[1]]:[r,r];if(!D)this.renderActiveCellSimple(T,r,n,l,u,F),this.renderSelectionSimple(T,t,n,s,g,l,u),this.renderPeerCursorsSimple(T,t,i,n,l,u,F),this.renderFormulaRangesSimple(T,m,n,l,u),this.renderCopyRangeSimple(T,E,n,l,u);else{const j=this.buildQuadrants(t,n,x,l,u);this.renderSelectionFrozen(T,t,n,s,g,l,u,x,j);for(const k of j){T.save(),T.beginPath(),T.rect(k.x,k.y,k.width,k.height),T.clip();const $=this.toCellRect(r,{left:k.scrollLeft,top:k.scrollTop},l,u,F);T.strokeStyle=this.getThemeColor("activeCellColor"),T.lineWidth=2,T.strokeRect($.left,$.top,$.width,$.height),T.restore()}for(const{clientID:k,presence:$}of i){if(!$.activeCell)continue;const Z=Lt($.activeCell),ne=b3(this.theme,k);for(const ie of j){T.save(),T.beginPath(),T.rect(ie.x,ie.y,ie.width,ie.height),T.clip();const he=this.toCellRect(Z,{left:ie.scrollLeft,top:ie.scrollTop},l,u,F);he.left>=-he.width&&he.left<t.width&&he.top>=-he.height&&he.top<t.height&&(T.strokeStyle=ne,T.lineWidth=2,T.strokeRect(he.left,he.top,he.width,he.height)),T.restore()}}if(m&&m.length>0)for(let k=0;k<m.length;k++){const $=m[k],Z=_S(this.theme,k);for(const ne of j){T.save(),T.beginPath(),T.rect(ne.x,ne.y,ne.width,ne.height),T.clip();const ie={left:ne.scrollLeft,top:ne.scrollTop},he=Hp(jn($[0],ie,l,u),jn($[1],ie,l,u));T.strokeStyle=Z,T.lineWidth=2,T.strokeRect(he.left,he.top,he.width,he.height),T.fillStyle=Z+"20",T.fillRect(he.left,he.top,he.width,he.height),T.restore()}}if(E)for(const k of j){T.save(),T.beginPath(),T.rect(k.x,k.y,k.width,k.height),T.clip();const $={left:k.scrollLeft,top:k.scrollTop};this.drawCopyRangeBorder(T,E,$,l,u),T.restore()}}w&&!fS(w,B)&&this.renderAutofillPreview(T,w,n,l,u,x),C&&this.renderAutofillHandle(T,B,g,n,l,u,x),c&&u&&l&&this.renderResizeHover(T,t,n,c,l,u,x),p&&u&&l&&this.renderDragMoveIndicator(T,t,n,p,l,u,x),b&&u&&l&&this.renderFreezeDragPreview(T,t,b,l,u)}buildQuadrants(t,n,r,i,s){const l=r.frozenWidth,u=r.frozenHeight,c=i?i.getOffset(r.frozenRows+1):0,g=s?s.getOffset(r.frozenCols+1):0,p=[];return p.push({x:ot+l,y:et+u,width:t.width-ot-l,height:t.height-et-u,scrollLeft:n.left+g-l,scrollTop:n.top+c-u}),r.frozenRows>0&&p.push({x:ot+l,y:et,width:t.width-ot-l,height:u,scrollLeft:n.left+g-l,scrollTop:0}),r.frozenCols>0&&p.push({x:ot,y:et+u,width:l,height:t.height-et-u,scrollLeft:0,scrollTop:n.top+c-u}),r.frozenRows>0&&r.frozenCols>0&&p.push({x:ot,y:et,width:l,height:u,scrollLeft:0,scrollTop:0}),p}renderActiveCellSimple(t,n,r,i,s,l){const u=this.toCellRect(n,r,i,s,l);t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.strokeRect(u.left,u.top,u.width,u.height)}renderSelectionSimple(t,n,r,i,s,l,u){if(s==="all")t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(ot,et,n.width-ot,n.height-et);else if(i)if(s==="row"){const c=jn(i[0],r,l,u),g=jn(i[1],r,l,u),p=c.top,m=g.top+g.height-c.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(ot,p,n.width-ot,m),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(ot,p,n.width-ot,m)}else if(s==="column"){const c=jn(i[0],r,l,u),g=jn(i[1],r,l,u),p=c.left,m=g.left+g.width-c.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(p,et,m,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(p,et,m,n.height-et)}else{const c=Hp(jn(i[0],r,l,u),jn(i[1],r,l,u));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(c.left,c.top,c.width,c.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(c.left,c.top,c.width,c.height)}}renderPeerCursorsSimple(t,n,r,i,s,l,u){for(const{clientID:c,presence:g}of r){if(!g.activeCell)continue;const p=Lt(g.activeCell),m=this.toCellRect(p,i,s,l,u);if(m.left>=-m.width&&m.left<n.width&&m.top>=-m.height&&m.top<n.height){const x=b3(this.theme,c);t.strokeStyle=x,t.lineWidth=2,t.strokeRect(m.left,m.top,m.width,m.height)}}}renderFormulaRangesSimple(t,n,r,i,s){if(!(!n||n.length===0))for(let l=0;l<n.length;l++){const u=n[l],c=Hp(jn(u[0],r,i,s),jn(u[1],r,i,s)),g=_S(this.theme,l);t.strokeStyle=g,t.lineWidth=2,t.strokeRect(c.left,c.top,c.width,c.height),t.fillStyle=g+"20",t.fillRect(c.left,c.top,c.width,c.height)}}renderCopyRangeSimple(t,n,r,i,s){n&&this.drawCopyRangeBorder(t,n,r,i,s)}drawCopyRangeBorder(t,n,r,i,s){const l=Hp(jn(n[0],r,i,s),jn(n[1],r,i,s));t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.setLineDash([5,3]),t.strokeRect(l.left,l.top,l.width,l.height),t.setLineDash([])}renderSelectionFrozen(t,n,r,i,s,l,u,c,g){if(s==="all"){t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(ot,et,n.width-ot,n.height-et);return}if(i)for(const p of g){t.save(),t.beginPath(),t.rect(p.x,p.y,p.width,p.height),t.clip();const m={left:p.scrollLeft,top:p.scrollTop};if(s==="row"){const x=jn(i[0],m,l,u),b=jn(i[1],m,l,u),E=x.top,w=b.top+b.height-x.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(ot,E,n.width-ot,w),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(ot,E,n.width-ot,w)}else if(s==="column"){const x=jn(i[0],m,l,u),b=jn(i[1],m,l,u),E=x.left,w=b.left+b.width-x.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(E,et,w,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(E,et,w,n.height-et)}else{const x=Hp(jn(i[0],m,l,u),jn(i[1],m,l,u));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(x.left,x.top,x.width,x.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(x.left,x.top,x.width,x.height)}t.restore()}}renderResizeHover(t,n,r,i,s,l,u){if(t.strokeStyle=this.getThemeColor("resizeHandleColor"),t.lineWidth=2,i.axis==="column"){const g=u.frozenCols>0&&i.index<=u.frozenCols?0:r.left+l.getOffset(u.frozenCols+1)-u.frozenWidth,p=ot+l.getOffset(i.index)+l.getSize(i.index)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=u.frozenRows>0&&i.index<=u.frozenRows?0:r.top+s.getOffset(u.frozenRows+1)-u.frozenHeight,p=et+s.getOffset(i.index)+s.getSize(i.index)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderDragMoveIndicator(t,n,r,i,s,l,u){if(t.strokeStyle=this.getThemeColor("dropIndicatorColor"),t.lineWidth=3,i.axis==="column"){const g=u.frozenCols>0&&i.dropIndex<=u.frozenCols?0:r.left+l.getOffset(u.frozenCols+1)-u.frozenWidth,p=ot+l.getOffset(i.dropIndex)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=u.frozenRows>0&&i.dropIndex<=u.frozenRows?0:r.top+s.getOffset(u.frozenRows+1)-u.frozenHeight,p=et+s.getOffset(i.dropIndex)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderFreezeDragPreview(t,n,r,i,s){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,r.axis==="row"){const l=r.targetIndex===0?et:et+i.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(0,l),t.lineTo(n.width,l),t.stroke()}else{const l=r.targetIndex===0?ot:ot+s.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(l,0),t.lineTo(l,n.height),t.stroke()}}toRangeRect(t,n,r,i,s=lh){if(!r||!i)return;const l=s.frozenRows>0||s.frozenCols>0,u=l?Kp(t[0],n,r,i,s):jn(t[0],n,r,i),c=l?Kp(t[1],n,r,i,s):jn(t[1],n,r,i);return Hp(u,c)}renderAutofillPreview(t,n,r,i,s,l=lh){const u=this.toRangeRect(n,r,i,s,l);u&&(t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.setLineDash([4,2]),t.strokeRect(u.left,u.top,u.width,u.height),t.setLineDash([]))}renderAutofillHandle(t,n,r,i,s,l,u=lh){if(r!=="cell"||!n)return;const c=this.toRangeRect(n,i,s,l,u);if(!c)return;const g=8,p=c.left+c.width-g/2,m=c.top+c.height-g/2;t.fillStyle=this.getThemeColor("activeCellColor"),t.fillRect(p,m,g,g),t.strokeStyle=this.getThemeColor("cellBGColor"),t.lineWidth=1,t.strokeRect(p+.5,m+.5,g,g)}getThemeColor(t){return Qt(this.theme,t)}buildMergeRenderData(t){if(!t||t.size===0)return;const n=new Map,r=new Map;for(const[i,s]of t){n.set(i,s);const l=Lt(i);for(let u=l.r;u<l.r+s.rs;u++)for(let c=l.c;c<l.c+s.cs;c++){const g=nt({r:u,c});g!==i&&r.set(g,i)}}return{anchors:n,coverToAnchor:r}}toCellRect(t,n,r,i,s){const l=nt(t),u=(s==null?void 0:s.coverToAnchor.get(l))||l,c=Lt(u),g=s==null?void 0:s.anchors.get(u),p=jn(c,n,r,i);if(!g||g.rs===1&&g.cs===1)return p;const m=jn({r:c.r+g.rs-1,c:c.c+g.cs-1},n,r,i);return{left:p.left,top:p.top,width:m.left+m.width-p.left,height:m.top+m.height-p.top}}}const $b=1e7;class RK{constructor(t="light"){Y(this,"container");Y(this,"scrollContainer");Y(this,"dummyContainer");Y(this,"actualWidth",0);Y(this,"actualHeight",0);this.createContainers()}createContainers(){this.container=document.createElement("div"),this.container.style.position="relative",this.container.style.width="100%",this.container.style.height=`calc(100% - ${SB+AB*2}px)`,this.scrollContainer=document.createElement("div"),this.scrollContainer.style.position="absolute",this.scrollContainer.style.overflow="auto",this.scrollContainer.style.width="100%",this.scrollContainer.style.height="100%",this.scrollContainer.style.zIndex="1",this.dummyContainer=document.createElement("div"),this.dummyContainer.style.margin="0px",this.dummyContainer.style.padding="0px",this.dummyContainer.style.pointerEvents="none",this.scrollContainer.appendChild(this.dummyContainer),this.container.appendChild(this.scrollContainer)}getContainer(){return this.container}getScrollContainer(){return this.scrollContainer}getDummyContainer(){return this.dummyContainer}updateDummySize(t,n){this.actualWidth=t,this.actualHeight=n;const r=Math.min(t,$b),i=Math.min(n,$b);this.dummyContainer.style.width=r+"px",this.dummyContainer.style.height=i+"px"}appendChild(t){this.container.appendChild(t)}getViewport(){return this.scrollContainer.getBoundingClientRect()}getScrollPosition(){const t=this.scrollContainer.scrollLeft,n=this.scrollContainer.scrollTop,r=this.scrollContainer.getBoundingClientRect();return{left:this.toLogical(t,this.actualWidth,r.width),top:this.toLogical(n,this.actualHeight,r.height)}}setScrollPosition(t){const n=this.scrollContainer.getBoundingClientRect();t.left!==void 0&&(this.scrollContainer.scrollLeft=this.toPhysical(t.left,this.actualWidth,n.width)),t.top!==void 0&&(this.scrollContainer.scrollTop=this.toPhysical(t.top,this.actualHeight,n.height))}scrollBy(t,n){const r=this.scrollContainer.getBoundingClientRect(),i=this.needsRemap(this.actualWidth,r.width)?t*this.physicalMax(this.actualWidth,r.width)/this.logicalMax(this.actualWidth,r.width):t,s=this.needsRemap(this.actualHeight,r.height)?n*this.physicalMax(this.actualHeight,r.height)/this.logicalMax(this.actualHeight,r.height):n;this.scrollContainer.scrollBy(i,s)}addEventListener(t,n,r){this.scrollContainer.addEventListener(t,n,r)}removeEventListener(t,n,r){this.scrollContainer.removeEventListener(t,n,r)}cleanup(){this.container.remove()}needsRemap(t,n){return t>$b&&n<t}cappedSize(t){return Math.min(t,$b)}physicalMax(t,n){return Math.max(0,this.cappedSize(t)-n)}logicalMax(t,n){return Math.max(0,t-n)}clamp(t,n,r){return r<=n?n:Math.min(r,Math.max(n,t))}toLogical(t,n,r){const i=this.logicalMax(n,r);if(!this.needsRemap(n,r))return this.clamp(t,0,i);const s=this.physicalMax(n,r);return s<=0||i<=0?0:this.clamp(t,0,s)*i/s}toPhysical(t,n,r){const i=this.logicalMax(n,r);if(!this.needsRemap(n,r))return this.clamp(t,0,i);if(i<=0)return 0;const s=this.physicalMax(n,r);return this.clamp(t,0,i)*s/i}}class TK{constructor(t="light"){Y(this,"canvas");Y(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.pointerEvents="none"}getCanvas(){return this.canvas}render(t,n,r,i,s,l,u,c,g,p=lh,m=null,x,b,E,w){this.canvas.width=0,this.canvas.height=0;const C=this.canvas.getContext("2d"),R=window.devicePixelRatio||1;this.canvas.width=t.width*R,this.canvas.height=t.height*R,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",C.scale(R,R);const[T,N]=r,D=this.buildMergeRenderData(w);if(!(p.frozenRows>0||p.frozenCols>0))this.renderQuadrantCells(C,T.r,N.r+1,T.c,N.c+1,s,n,l,u,x,b,E,D),this.renderColumnHeaders(C,T.c,N.c,n.left,ot,t.width,i,c,g,l,u),this.renderRowHeaders(C,T.r,N.r,n.top,et,t.height,i,c,g,l,u);else{const j=p.frozenWidth,k=p.frozenHeight,$=p.frozenRows,Z=p.frozenCols,ne=$+1,ie=Z+1,he=Math.max(ne,T.r),De=Math.max(ie,T.c),Te=l?l.getOffset(ne):$*et,re=u?u.getOffset(ie):Z*Pa;C.save(),C.beginPath(),C.rect(ot+j,et+k,t.width-ot-j,t.height-et-k),C.clip(),this.renderQuadrantCells(C,he,N.r+1,De,N.c+1,s,{left:n.left+re-j,top:n.top+Te-k},l,u,x,b,E,D),C.restore(),$>0&&(C.save(),C.beginPath(),C.rect(ot+j,et,t.width-ot-j,k),C.clip(),this.renderQuadrantCells(C,1,$+1,De,N.c+1,s,{left:n.left+re-j,top:0},l,u,x,b,E,D),C.restore()),Z>0&&(C.save(),C.beginPath(),C.rect(ot,et+k,j,t.height-et-k),C.clip(),this.renderQuadrantCells(C,he,N.r+1,1,Z+1,s,{left:0,top:n.top+Te-k},l,u,x,b,E,D),C.restore()),$>0&&Z>0&&(C.save(),C.beginPath(),C.rect(ot,et,j,k),C.clip(),this.renderQuadrantCells(C,1,$+1,1,Z+1,s,{left:0,top:0},l,u,x,b,E,D),C.restore()),Z>0&&this.renderColumnHeaders(C,1,Z,0,ot,ot+j,i,c,g,l,u),this.renderColumnHeaders(C,De,N.c,n.left+re-j,ot+j,t.width,i,c,g,l,u),$>0&&this.renderRowHeaders(C,1,$,0,et,et+k,i,c,g,l,u),this.renderRowHeaders(C,he,N.r,n.top+Te-k,et+k,t.height,i,c,g,l,u),this.renderFreezeLines(C,t,j,k)}const B=c==="all";C.fillStyle=B?this.getThemeColor("headerSelectedBGColor"):this.getThemeColor("headerBGColor"),C.fillRect(0,0,ot,et),C.strokeStyle=this.getThemeColor("cellBorderColor"),C.lineWidth=qC,C.strokeRect(0,0,ot,et),this.renderFreezeHandles(C,p,m)}renderQuadrantCells(t,n,r,i,s,l,u,c,g,p,m,x,b){const E=this.buildTextOverflowRenderData(t,n,r,i,s,l,g,p,m,x,b);for(let w=n;w<=r;w++)for(let C=i;C<=s;C++){const R=nt({r:w,c:C});if(b!=null&&b.coverToAnchor.has(R))continue;const T=l==null?void 0:l.get(nt({r:w,c:C})),N=b==null?void 0:b.anchors.get(R),D=this.resolveEffectiveStyle(w,C,T,x,p,m),F=E==null?void 0:E.hiddenVerticalBoundaries.has(this.verticalBoundaryKey(w,C-1)),B=E==null?void 0:E.hiddenVerticalBoundaries.has(this.verticalBoundaryKey(w,C));this.renderCellBackground(t,{r:w,c:C},T,u,c,g,D,N,F,B)}for(let w=n;w<=r;w++)for(let C=i;C<=s;C++){const R=nt({r:w,c:C});if(b!=null&&b.coverToAnchor.has(R))continue;const T=l==null?void 0:l.get(nt({r:w,c:C})),N=b==null?void 0:b.anchors.get(R),D=this.resolveEffectiveStyle(w,C,T,x,p,m);this.renderCellCustomBorders(t,{r:w,c:C},u,c,g,D,N)}for(let w=n;w<=r;w++)for(let C=i;C<=s;C++){const R=nt({r:w,c:C});if(b!=null&&b.coverToAnchor.has(R))continue;const T=l==null?void 0:l.get(nt({r:w,c:C})),N=b==null?void 0:b.anchors.get(R),D=this.resolveEffectiveStyle(w,C,T,x,p,m),F=E==null?void 0:E.anchorToEndCol.get(R);this.renderCellContent(t,{r:w,c:C},T,u,c,g,D,l,s,N,F)}}renderColumnHeaders(t,n,r,i,s,l,u,c,g,p,m){t.save(),t.beginPath(),t.rect(s,0,l-s,et),t.clip();for(let x=n;x<=r;x++){const b=m?m.getOffset(x):Pa*(x-1),E=m?m.getSize(x):Pa,w=ot+b-i,C=0,R=c==="all"||c==="column"&&g&&x>=g[0].c&&x<=g[1].c;this.renderHeader(t,w,C,E,et,Lv(x),u.c===x,R||!1)}t.restore()}renderRowHeaders(t,n,r,i,s,l,u,c,g,p,m){t.save(),t.beginPath(),t.rect(0,s,ot,l-s),t.clip();for(let x=n;x<=r;x++){const b=p?p.getOffset(x):et*(x-1),E=p?p.getSize(x):et,w=0,C=b+et-i,R=c==="all"||c==="row"&&g&&x>=g[0].r&&x<=g[1].r;this.renderHeader(t,w,C,ot,E,String(x),u.r===x,R||!1)}t.restore()}renderFreezeLines(t,n,r,i){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,i>0){const s=et+i;t.beginPath(),t.moveTo(0,s),t.lineTo(n.width,s),t.stroke()}if(r>0){const s=ot+r;t.beginPath(),t.moveTo(s,0),t.lineTo(s,n.height),t.stroke()}}renderFreezeHandles(t,n,r){const i=n.frozenRows>0||n.frozenCols>0,s=EB,l=i&&n.frozenRows>0?et+n.frozenHeight-s/2:et-s,u=r==="row";t.fillStyle=u?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(0,l,ot,s);const c=i&&n.frozenCols>0?ot+n.frozenWidth-s/2:ot-s,g=r==="column";t.fillStyle=g?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(c,0,s,et)}renderHeader(t,n,r,i,s,l,u,c=!1){t.fillStyle=c?this.getThemeColor("headerSelectedBGColor"):u?this.getThemeColor("headerActiveBGColor"):this.getThemeColor("headerBGColor"),t.fillRect(n,r,i,s),t.strokeStyle=this.getThemeColor("cellBorderColor"),t.lineWidth=qC,t.strokeRect(n,r,i,s),t.fillStyle=this.getThemeColor("cellTextColor"),t.textAlign=xK,t.font=u||c?"bold 10px Arial":"10px Arial",t.fillText(l,n+i/2,r+Math.min(15,s-4))}renderCellBackground(t,n,r,i,s,l,u,c,g=!1,p=!1){const m=this.toCellRect(n,i,s,l,c),x=u??(r==null?void 0:r.s);if(t.fillStyle=(x==null?void 0:x.bg)||this.getThemeColor("cellBGColor"),t.fillRect(m.left,m.top,m.width,m.height),t.beginPath(),t.strokeStyle=this.getThemeColor("cellBorderColor"),t.lineWidth=qC,g||(t.moveTo(m.left,m.top),t.lineTo(m.left,m.top+m.height)),!p){const b=m.left+m.width;t.moveTo(b,m.top),t.lineTo(b,m.top+m.height)}t.moveTo(m.left,m.top),t.lineTo(m.left+m.width,m.top),t.moveTo(m.left,m.top+m.height),t.lineTo(m.left+m.width,m.top+m.height),t.stroke()}renderCellCustomBorders(t,n,r,i,s,l,u){if(!l||!l.bt&&!l.br&&!l.bb&&!l.bl)return;const c=this.toCellRect(n,r,i,s,u);if(t.beginPath(),t.strokeStyle=this.getThemeColor("customBorderColor"),t.lineWidth=yK,l.bt&&(t.moveTo(c.left,c.top),t.lineTo(c.left+c.width,c.top)),l.br){const g=c.left+c.width;t.moveTo(g,c.top),t.lineTo(g,c.top+c.height)}if(l.bb){const g=c.top+c.height;t.moveTo(c.left,g),t.lineTo(c.left+c.width,g)}l.bl&&(t.moveTo(c.left,c.top),t.lineTo(c.left,c.top+c.height)),t.stroke()}renderCellContent(t,n,r,i,s,l,u,c,g,p,m){const x=this.toCellRect(n,i,s,l,p),b=u??(r==null?void 0:r.s),E=(r==null?void 0:r.v)||"";if(E){const w=s2(E,b==null?void 0:b.nf,b==null?void 0:b.dp),C=w.split(`
`),R=this.toCellFont(b);let T=x.width;const N=(b==null?void 0:b.al)||"left";if(!p&&m&&l&&m>n.c){let k=0;for(let $=n.c+1;$<=m;$++)k+=l.getSize($);T=x.width+k}else if(!p&&C.length===1&&N==="left"&&c&&l&&g){t.save(),t.font=R;const k=t.measureText(w).width+Gb*2;if(t.restore(),k>x.width){let $=0;for(let Z=n.c+1;Z<=g;Z++){const ne=c.get(nt({r:n.r,c:Z}));if(ne&&(ne.v||ne.f))break;const ie=l.getSize(Z);if($+=ie,x.width+$>=k)break}T=x.width+$}}t.save(),t.beginPath(),t.rect(x.left,x.top,T,x.height),t.clip(),t.fillStyle=(b==null?void 0:b.tc)||this.getThemeColor("cellTextColor"),t.font=R,t.textBaseline="top";let D;N==="center"?(t.textAlign="center",D=x.left+x.width/2):N==="right"?(t.textAlign="right",D=x.left+x.width-Gb):(t.textAlign="left",D=x.left+Gb);const F=(b==null?void 0:b.va)||"top",B=C.length*Bc*IS;let j;F==="middle"?j=x.top+(x.height-B)/2:F==="bottom"?j=x.top+x.height-B-a2:j=x.top+a2;for(let k=0;k<C.length;k++){const $=j+k*(Bc*IS);if(t.fillText(C[k],D,$),b!=null&&b.u){const Z=t.measureText(C[k]),ne=$+Bc+1;let ie;N==="center"?ie=D-Z.width/2:N==="right"?ie=D-Z.width:ie=D,t.beginPath(),t.strokeStyle=(b==null?void 0:b.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(ie,ne),t.lineTo(ie+Z.width,ne),t.stroke()}if(b!=null&&b.st){const Z=t.measureText(C[k]),ne=$+Bc/2;let ie;N==="center"?ie=D-Z.width/2:N==="right"?ie=D-Z.width:ie=D,t.beginPath(),t.strokeStyle=(b==null?void 0:b.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(ie,ne),t.lineTo(ie+Z.width,ne),t.stroke()}}t.restore()}}buildTextOverflowRenderData(t,n,r,i,s,l,u,c,g,p,m){if(!l||!u)return;const x=new Map,b=new Set;t.save();for(let E=n;E<=r;E++)for(let w=i;w<=s;w++){const C=nt({r:E,c:w});if(m!=null&&m.coverToAnchor.has(C)||m!=null&&m.anchors.has(C))continue;const R=l.get(C),T=(R==null?void 0:R.v)||"";if(!T)continue;const N=this.resolveEffectiveStyle(E,w,R,p,c,g);if(((N==null?void 0:N.al)||"left")!=="left")continue;const F=s2(T,N==null?void 0:N.nf,N==null?void 0:N.dp);if(F.split(`
`).length!==1)continue;const j=u.getSize(w);t.font=this.toCellFont(N);const k=t.measureText(F).width+Gb*2;if(k<=j)continue;let $=j,Z=w;for(let ne=w+1;ne<=s;ne++){const ie=this.resolveEffectiveStyle(E,ne-1,l.get(nt({r:E,c:ne-1})),p,c,g),he=this.resolveEffectiveStyle(E,ne,l.get(nt({r:E,c:ne})),p,c,g);if(ie!=null&&ie.br||he!=null&&he.bl)break;const De=nt({r:E,c:ne});if(m!=null&&m.coverToAnchor.has(De)||m!=null&&m.anchors.has(De))break;const Te=l.get(De);if(Te&&(Te.v||Te.f)||($+=u.getSize(ne),Z=ne,$>=k))break}if(Z>w){x.set(C,Z);for(let ne=w;ne<Z;ne++)b.add(this.verticalBoundaryKey(E,ne))}}if(t.restore(),x.size!==0)return{anchorToEndCol:x,hiddenVerticalBoundaries:b}}resolveEffectiveStyle(t,n,r,i,s,l){const u=s==null?void 0:s.get(n),c=l==null?void 0:l.get(t);if(!(!i&&!u&&!c&&!(r!=null&&r.s)))return{...i,...u,...c,...r==null?void 0:r.s}}buildMergeRenderData(t){if(!t||t.size===0)return;const n=new Map,r=new Map;for(const[i,s]of t){n.set(i,s);const l=Lt(i);for(let u=l.r;u<l.r+s.rs;u++)for(let c=l.c;c<l.c+s.cs;c++){const g=nt({r:u,c});g!==i&&r.set(g,i)}}return{anchors:n,coverToAnchor:r}}toCellRect(t,n,r,i,s){const l=jn(t,n,r,i);if(!s||s.rs===1&&s.cs===1)return l;const u=jn({r:t.r+s.rs-1,c:t.c+s.cs-1},n,r,i);return{left:l.left,top:l.top,width:u.left+u.width-l.left,height:u.top+u.height-l.top}}toCellFont(t){const n=[];return t!=null&&t.b&&n.push("bold"),t!=null&&t.i&&n.push("italic"),n.push(`${Bc}px Arial`),n.join(" ")}verticalBoundaryKey(t,n){return`${t}:${n}`}getThemeColor(t){return Qt(this.theme,t)}cleanup(){this.canvas.remove()}}class NK{constructor(t="light"){Y(this,"container");Y(this,"theme");this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="160px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.applyTheme(),this.handleDocumentClick=this.handleDocumentClick.bind(this)}getContainer(){return this.container}show(t,n,r){this.container.innerHTML="";for(const i of r){const s=document.createElement("div");s.textContent=i.label,s.style.padding="6px 16px",s.style.cursor="pointer",s.style.color=Qt(this.theme,"cellTextColor"),s.addEventListener("mouseenter",()=>{s.style.backgroundColor=Qt(this.theme,"selectionBGColor")}),s.addEventListener("mouseleave",()=>{s.style.backgroundColor="transparent"}),s.addEventListener("mousedown",l=>{l.preventDefault(),l.stopPropagation(),this.hide(),i.action()}),this.container.appendChild(s)}this.container.style.left=`${t}px`,this.container.style.top=`${n}px`,this.container.style.display="block",document.addEventListener("mousedown",this.handleDocumentClick)}hide(){this.container.style.display="none",document.removeEventListener("mousedown",this.handleDocumentClick)}cleanup(){this.hide(),this.container.remove()}handleDocumentClick(t){this.container.contains(t.target)||this.hide()}applyTheme(){this.container.style.backgroundColor=Qt(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${Qt(this.theme,"cellBorderColor")}`}}const wv=[{name:"SUM",description:"Returns the sum of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"ABS",description:"Returns the absolute value of a number",args:[{name:"number"}]},{name:"ROUND",description:"Rounds a number to a certain number of decimal places",args:[{name:"value"},{name:"places",optional:!0}]},{name:"ROUNDUP",description:"Rounds a number away from zero",args:[{name:"value"},{name:"places",optional:!0}]},{name:"ROUNDDOWN",description:"Rounds a number toward zero",args:[{name:"value"},{name:"places",optional:!0}]},{name:"INT",description:"Rounds a number down to the nearest integer",args:[{name:"value"}]},{name:"MOD",description:"Returns the remainder after division",args:[{name:"dividend"},{name:"divisor"}]},{name:"SQRT",description:"Returns the positive square root of a number",args:[{name:"value"}]},{name:"POWER",description:"Returns a number raised to a power",args:[{name:"base"},{name:"exponent"}]},{name:"PRODUCT",description:"Multiplies a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MEDIAN",description:"Returns the middle number in a series",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"IF",description:"Returns one value if true and another if false",args:[{name:"condition"},{name:"value_if_true"},{name:"value_if_false",optional:!0}]},{name:"IFS",description:"Returns the first value whose condition is true",args:[{name:"condition1"},{name:"value1"},{name:"condition2",optional:!0,repeating:!0},{name:"value2",optional:!0,repeating:!0}]},{name:"SWITCH",description:"Matches an expression against case/value pairs",args:[{name:"expression"},{name:"case1"},{name:"value1"},{name:"case2",optional:!0,repeating:!0},{name:"value2",optional:!0,repeating:!0},{name:"default",optional:!0}]},{name:"AND",description:"Returns TRUE if all arguments are true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"OR",description:"Returns TRUE if any argument is true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"NOT",description:"Returns the opposite of a logical value",args:[{name:"logical"}]},{name:"AVERAGE",description:"Returns the average of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MIN",description:"Returns the smallest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MAX",description:"Returns the largest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"COUNT",description:"Counts the number of numeric values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"COUNTA",description:"Counts the number of non-empty values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"COUNTBLANK",description:"Counts empty cells",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"COUNTIF",description:"Counts values in a range that meet a criterion",args:[{name:"range"},{name:"criterion"}]},{name:"SUMIF",description:"Sums values in a range that meet a criterion",args:[{name:"range"},{name:"criterion"},{name:"sum_range",optional:!0}]},{name:"COUNTIFS",description:"Counts values that meet multiple criteria",args:[{name:"criteria_range1"},{name:"criterion1"},{name:"criteria_range2",optional:!0,repeating:!0},{name:"criterion2",optional:!0,repeating:!0}]},{name:"SUMIFS",description:"Sums values that meet multiple criteria",args:[{name:"sum_range"},{name:"criteria_range1"},{name:"criterion1"},{name:"criteria_range2",optional:!0,repeating:!0},{name:"criterion2",optional:!0,repeating:!0}]},{name:"TRIM",description:"Removes leading and trailing whitespace from text",args:[{name:"text"}]},{name:"LEN",description:"Returns the number of characters in a text string",args:[{name:"text"}]},{name:"LEFT",description:"Returns the leftmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"RIGHT",description:"Returns the rightmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"MID",description:"Returns characters from the middle of a text string",args:[{name:"text"},{name:"start_num"},{name:"num_chars"}]},{name:"CONCATENATE",description:"Joins two or more text strings into one",args:[{name:"text1"},{name:"text2"},{name:"text3",optional:!0,repeating:!0}]},{name:"CONCAT",description:"Joins text values into one string",args:[{name:"text1"},{name:"text2"},{name:"text3",optional:!0,repeating:!0}]},{name:"FIND",description:"Finds one text value inside another (case-sensitive)",args:[{name:"search_for"},{name:"text_to_search"},{name:"starting_at",optional:!0}]},{name:"SEARCH",description:"Finds one text value inside another (case-insensitive)",args:[{name:"search_for"},{name:"text_to_search"},{name:"starting_at",optional:!0}]},{name:"TEXTJOIN",description:"Joins text values with a delimiter",args:[{name:"delimiter"},{name:"ignore_empty"},{name:"text1"},{name:"text2",optional:!0,repeating:!0}]},{name:"LOWER",description:"Converts text to lowercase",args:[{name:"text"}]},{name:"UPPER",description:"Converts text to uppercase",args:[{name:"text"}]},{name:"PROPER",description:"Capitalizes each word in text",args:[{name:"text"}]},{name:"SUBSTITUTE",description:"Replaces existing text with new text in a string",args:[{name:"text"},{name:"search_for"},{name:"replace_with"},{name:"occurrence",optional:!0}]},{name:"TODAY",description:"Returns the current date",args:[]},{name:"NOW",description:"Returns the current date and time",args:[]},{name:"YEAR",description:"Returns the year from a date",args:[{name:"date"}]},{name:"MONTH",description:"Returns the month from a date (1-12)",args:[{name:"date"}]},{name:"DAY",description:"Returns the day of the month from a date (1-31)",args:[{name:"date"}]},{name:"ISBLANK",description:"Checks whether a value is blank",args:[{name:"value"}]},{name:"ISNUMBER",description:"Checks whether a value is a number",args:[{name:"value"}]},{name:"ISTEXT",description:"Checks whether a value is text",args:[{name:"value"}]},{name:"IFERROR",description:"Returns a value if no error, otherwise returns an alternate value",args:[{name:"value"},{name:"value_if_error"}]}];function _K(e){const t=e.toUpperCase();return wv.filter(n=>n.name.startsWith(t))}function IK(e){const t=e.toUpperCase();return wv.find(n=>n.name===t)}function l2(e){const t=e.args.map(n=>{let r=n.optional?`[${n.name}]`:n.name;return n.repeating&&(r+=", ..."),r});return`${e.name}(${t.join(", ")})`}function OK(e,t){if(!e.startsWith("="))return{type:"none"};const n=e.slice(1,t);let r=0,i=0;for(let l=n.length-1;l>=0;l--){const u=n[l];if(u===")")r++;else if(u==="(")if(r>0)r--;else{const c=n.slice(0,l).match(/([A-Za-z_]\w*)$/);return c?{type:"argument",funcName:c[1].toUpperCase(),argIndex:i}:{type:"none"}}else u===","&&r===0&&i++}const s=n.match(/([A-Za-z_]\w*)$/);return s?{type:"function-name",prefix:s[1]}:{type:"none"}}class DK{constructor(t="light"){Y(this,"container");Y(this,"theme");Y(this,"selectedIndex",0);Y(this,"matches",[]);Y(this,"mode","hidden");Y(this,"currentHint",null);this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="220px",this.container.style.maxWidth="360px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.container.style.overflow="hidden",this.applyTheme()}getContainer(){return this.container}showList(t,n){if(this.matches=_K(t),this.matches.length===0){this.hide();return}this.mode="list",this.selectedIndex=0,this.renderList(),this.positionAt(n),this.container.style.display="block"}showHint(t,n,r){const i=IK(t);if(!i){this.hide();return}this.mode="hint",this.currentHint={info:i,argIndex:n},this.renderHint(),this.positionAt(r),this.container.style.display="block"}hide(){this.mode="hidden",this.matches=[],this.currentHint=null,this.container.style.display="none",this.container.innerHTML=""}moveUp(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex-1+this.matches.length)%this.matches.length,this.renderList())}moveDown(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex+1)%this.matches.length,this.renderList())}getSelectedFunction(){if(this.mode==="list")return this.matches[this.selectedIndex]}isListVisible(){return this.mode==="list"}isHintVisible(){return this.mode==="hint"}cleanup(){this.hide(),this.container.remove()}positionAt(t){this.container.style.left=`${t.left}px`,this.container.style.top=`${t.top}px`}renderList(){this.container.innerHTML="";const t=Qt(this.theme,"cellBGColor"),n=Qt(this.theme,"cellTextColor"),r=Qt(this.theme,"selectionBGColor"),i=Qt(this.theme,"activeCellColor");for(let s=0;s<this.matches.length;s++){const l=this.matches[s],u=document.createElement("div");u.style.padding="4px 10px",u.style.cursor="pointer",u.style.display="flex",u.style.flexDirection="column",u.style.gap="1px",u.style.backgroundColor=s===this.selectedIndex?r:t;const c=document.createElement("div");c.style.fontWeight="600",c.style.color=s===this.selectedIndex?i:n,c.textContent=l.name;const g=document.createElement("div");g.style.fontSize="11px",g.style.opacity="0.7",g.style.color=n,g.textContent=l.description,u.appendChild(c),u.appendChild(g),u.addEventListener("mouseenter",()=>{this.selectedIndex=s,this.renderList()}),u.addEventListener("mousedown",p=>{p.preventDefault(),p.stopPropagation()}),this.container.appendChild(u)}}renderHint(){if(this.container.innerHTML="",!this.currentHint)return;const{info:t,argIndex:n}=this.currentHint,r=Qt(this.theme,"cellTextColor"),i=Qt(this.theme,"activeCellColor"),s=document.createElement("div");s.style.padding="6px 10px",s.style.color=r,s.style.whiteSpace="nowrap";const l=document.createElement("span");l.style.fontWeight="600",l.textContent=t.name+"(",s.appendChild(l);for(let c=0;c<t.args.length;c++){c>0&&s.appendChild(document.createTextNode(", "));const g=t.args[c];let p=g.optional?`[${g.name}]`:g.name;g.repeating&&(p+=", ...");const m=document.createElement("span");(c===n||c===t.args.length-1&&g.repeating&&n>=c)&&(m.style.fontWeight="700",m.style.color=i),m.textContent=p,s.appendChild(m)}s.appendChild(document.createTextNode(")"));const u=document.createElement("div");u.style.fontSize="11px",u.style.opacity="0.7",u.style.color=r,u.style.padding="2px 10px 4px",u.textContent=l2(t)+"  "+t.description,this.container.appendChild(s),this.container.appendChild(u)}applyTheme(){this.container.style.backgroundColor=Qt(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${Qt(this.theme,"cellBorderColor")}`}}class MK{constructor(t="light"){Y(this,"theme");Y(this,"container");Y(this,"panel");Y(this,"searchInput");Y(this,"status");Y(this,"list");Y(this,"rows",[]);Y(this,"matches",[...wv]);Y(this,"selectedIndex",0);Y(this,"listTextColor","");Y(this,"listSelectedBG","");Y(this,"listActiveColor","");Y(this,"onInsert");Y(this,"onClose");Y(this,"boundHandleBackdropMouseDown");Y(this,"boundHandleSearchInput");Y(this,"boundHandleSearchKeydown");Y(this,"boundHandleListPointerDown");Y(this,"boundHandleListClick");Y(this,"boundHandleListMouseOver");this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.inset="0",this.container.style.display="none",this.container.style.zIndex="1100",this.container.style.backgroundColor="rgba(0, 0, 0, 0.18)",this.container.style.padding="40px 16px 16px",this.container.style.boxSizing="border-box",this.panel=document.createElement("div"),this.panel.style.margin="0 auto",this.panel.style.maxWidth="720px",this.panel.style.height="min(560px, calc(100vh - 72px))",this.panel.style.display="flex",this.panel.style.flexDirection="column",this.panel.style.backgroundColor=Qt(this.theme,"cellBGColor"),this.panel.style.border=`1px solid ${Qt(this.theme,"cellBorderColor")}`,this.panel.style.borderRadius="8px",this.panel.style.boxShadow="0 10px 30px rgba(0, 0, 0, 0.2)",this.panel.style.color=Qt(this.theme,"cellTextColor"),this.panel.style.overflow="hidden";const n=document.createElement("div");n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="space-between",n.style.padding="12px 14px",n.style.borderBottom=`1px solid ${Qt(this.theme,"cellBorderColor")}`;const r=document.createElement("div");r.textContent="Functions",r.style.font="600 14px Arial",n.appendChild(r);const i=document.createElement("button");i.type="button",i.textContent="Close",i.style.border=`1px solid ${Qt(this.theme,"cellBorderColor")}`,i.style.borderRadius="4px",i.style.backgroundColor=Qt(this.theme,"cellBGColor"),i.style.color=Qt(this.theme,"cellTextColor"),i.style.padding="4px 8px",i.style.font="12px Arial",i.style.cursor="pointer",i.addEventListener("click",()=>this.hide()),n.appendChild(i);const s=document.createElement("div");s.style.display="flex",s.style.flexDirection="column",s.style.gap="6px",s.style.padding="12px 14px 10px",s.style.borderBottom=`1px solid ${Qt(this.theme,"cellBorderColor")}`,this.searchInput=document.createElement("input"),this.searchInput.type="text",this.searchInput.placeholder="Search by name or description",this.searchInput.style.width="100%",this.searchInput.style.boxSizing="border-box",this.searchInput.style.padding="7px 10px",this.searchInput.style.border=`1px solid ${Qt(this.theme,"cellBorderColor")}`,this.searchInput.style.borderRadius="4px",this.searchInput.style.outline="none",this.searchInput.style.font="13px Arial",this.searchInput.style.color=Qt(this.theme,"cellTextColor"),this.searchInput.style.backgroundColor=Qt(this.theme,"cellBGColor"),s.appendChild(this.searchInput),this.status=document.createElement("div"),this.status.style.font="12px Arial",this.status.style.opacity="0.75",s.appendChild(this.status),this.list=document.createElement("div"),this.list.style.flex="1",this.list.style.overflow="auto",this.list.style.padding="6px 0",this.panel.appendChild(n),this.panel.appendChild(s),this.panel.appendChild(this.list),this.container.appendChild(this.panel),this.boundHandleBackdropMouseDown=l=>{l.target===this.container&&this.hide()},this.boundHandleSearchInput=()=>{this.selectedIndex=0,this.filterAndRender()},this.boundHandleSearchKeydown=l=>{if(l.key==="ArrowDown"){l.preventDefault(),this.matches.length>0&&(this.setSelectedIndex((this.selectedIndex+1)%this.matches.length),this.scrollSelectedIntoView());return}if(l.key==="ArrowUp"){l.preventDefault(),this.matches.length>0&&(this.setSelectedIndex((this.selectedIndex-1+this.matches.length)%this.matches.length),this.scrollSelectedIntoView());return}if(l.key==="Enter"){l.preventDefault(),this.insertSelected();return}l.key==="Escape"&&(l.preventDefault(),this.hide())},this.boundHandleListPointerDown=l=>{if(l.button!==0)return;const u=this.getRowIndexFromTarget(l.target);u!==null&&(l.preventDefault(),this.setSelectedIndex(u),this.insertSelected())},this.boundHandleListClick=l=>{if(l.button!==0||!this.isVisible())return;const u=this.getRowIndexFromTarget(l.target);u!==null&&(l.preventDefault(),this.setSelectedIndex(u),this.insertSelected())},this.boundHandleListMouseOver=l=>{const u=this.getRowIndexFromTarget(l.target);u===null||u===this.selectedIndex||this.setSelectedIndex(u)},this.container.addEventListener("mousedown",this.boundHandleBackdropMouseDown),this.searchInput.addEventListener("input",this.boundHandleSearchInput),this.searchInput.addEventListener("keydown",this.boundHandleSearchKeydown),this.list.addEventListener("pointerdown",this.boundHandleListPointerDown),this.list.addEventListener("click",this.boundHandleListClick),this.list.addEventListener("mouseover",this.boundHandleListMouseOver),this.filterAndRender()}getContainer(){return this.container}setOnInsert(t){this.onInsert=t}setOnClose(t){this.onClose=t}contains(t){return t instanceof Node&&this.container.contains(t)}isVisible(){return this.container.style.display!=="none"}show(){this.searchInput.value="",this.selectedIndex=0,this.filterAndRender(),this.container.style.display="block",requestAnimationFrame(()=>this.searchInput.focus())}hide(){var t;this.isVisible()&&(this.container.style.display="none",(t=this.onClose)==null||t.call(this))}cleanup(){this.container.removeEventListener("mousedown",this.boundHandleBackdropMouseDown),this.searchInput.removeEventListener("input",this.boundHandleSearchInput),this.searchInput.removeEventListener("keydown",this.boundHandleSearchKeydown),this.list.removeEventListener("pointerdown",this.boundHandleListPointerDown),this.list.removeEventListener("click",this.boundHandleListClick),this.list.removeEventListener("mouseover",this.boundHandleListMouseOver),this.container.remove()}filterAndRender(){const t=this.searchInput.value.trim().toUpperCase();this.matches=t.length===0?[...wv]:wv.filter(n=>{const r=n.name.toUpperCase(),i=n.description.toUpperCase(),s=l2(n).toUpperCase();return r.includes(t)||i.includes(t)||s.includes(t)}),this.selectedIndex>=this.matches.length&&(this.selectedIndex=Math.max(0,this.matches.length-1)),this.renderList()}renderList(){if(this.list.innerHTML="",this.rows=[],this.status.textContent=`${this.matches.length} functions`,this.matches.length===0){const n=document.createElement("div");n.textContent="No matching functions",n.style.padding="16px 14px",n.style.font="13px Arial",n.style.opacity="0.8",this.list.appendChild(n);return}const t=Qt(this.theme,"cellBorderColor");this.listTextColor=Qt(this.theme,"cellTextColor"),this.listSelectedBG=Qt(this.theme,"selectionBGColor"),this.listActiveColor=Qt(this.theme,"activeCellColor");for(let n=0;n<this.matches.length;n++){const r=this.matches[n],i=document.createElement("div");i.dataset.funcName=r.name,i.dataset.funcIndex=String(n),i.style.display="flex",i.style.gap="10px",i.style.alignItems="flex-start",i.style.justifyContent="flex-start",i.style.padding="10px 14px",i.style.cursor="pointer",i.style.borderBottom=`1px solid ${t}`,i.style.backgroundColor="transparent";const s=document.createElement("div");s.style.minWidth="0",s.style.flex="1";const l=document.createElement("div");l.textContent=r.name,l.style.font="600 13px Arial",l.style.color=this.listTextColor;const u=document.createElement("div");u.textContent=l2(r),u.style.font="12px Arial",u.style.opacity="0.82",u.style.marginTop="2px",u.style.wordBreak="break-word";const c=document.createElement("div");c.textContent=r.description,c.style.font="12px Arial",c.style.opacity="0.72",c.style.marginTop="2px",c.style.wordBreak="break-word",s.appendChild(l),s.appendChild(u),s.appendChild(c),i.appendChild(s),this.list.appendChild(i),this.rows.push({row:i,name:l})}this.updateRowSelection(this.selectedIndex)}scrollSelectedIntoView(){var n;const t=(n=this.rows[this.selectedIndex])==null?void 0:n.row;t&&t.scrollIntoView({block:"nearest"})}getRowIndexFromTarget(t){if(!(t instanceof Element))return null;const n=t.closest("[data-func-index]");if(!(n instanceof HTMLDivElement)||!this.list.contains(n))return null;const r=Number(n.dataset.funcIndex);return Number.isInteger(r)?r:null}setSelectedIndex(t){if(t===this.selectedIndex||t<0||t>=this.matches.length)return;const n=this.selectedIndex;this.selectedIndex=t,this.updateRowSelection(n),this.updateRowSelection(t)}updateRowSelection(t){const n=this.rows[t];if(!n)return;const r=t===this.selectedIndex;n.row.style.backgroundColor=r?this.listSelectedBG:"transparent",n.name.style.color=r?this.listActiveColor:this.listTextColor}insertSelected(){var n;const t=this.matches[this.selectedIndex];t&&((n=this.onInsert)==null||n.call(this,t),this.hide())}}const Hb=6,PK=10,S3=20,A3=120,E3=300,LK=1800,Wb=8,Yb=4;class FK{constructor(t,n="light",r=!1){Y(this,"sheet");Y(this,"container");Y(this,"formulaBar");Y(this,"cellInput");Y(this,"overlay");Y(this,"gridContainer");Y(this,"gridCanvas");Y(this,"contextMenu");Y(this,"autocomplete");Y(this,"functionBrowser");Y(this,"resizeTooltip");Y(this,"rowDim");Y(this,"colDim");Y(this,"listeners",[]);Y(this,"resizeObserver");Y(this,"boundRender");Y(this,"boundHandleGridKeydown");Y(this,"boundHandleFormulaKeydown");Y(this,"boundHandleCellInputKeydown");Y(this,"boundHandleMouseDown");Y(this,"boundHandleDblClick");Y(this,"boundHandleKeyDown");Y(this,"boundHandleKeyUp");Y(this,"boundHandleMouseMove");Y(this,"boundHandleContextMenu");Y(this,"boundPreventDocumentSelectStart");Y(this,"resizeHover",null);Y(this,"dragMove",null);Y(this,"editMode",!1);Y(this,"manuallyResizedRows",new Set);Y(this,"formulaRanges",[]);Y(this,"freezeState",lh);Y(this,"freezeHandleHover",null);Y(this,"freezeDrag",null);Y(this,"autofillPreview");Y(this,"onRenderCallback");Y(this,"readOnly");Y(this,"formulaRangeAnchor",null);Y(this,"activeFormulaInput",null);Y(this,"formulaRefInsertPos",null);Y(this,"lastFormulaRefTarget",null);Y(this,"nativeSelectionBlockDepth",0);Y(this,"previousBodyUserSelect","");Y(this,"previousBodyWebkitUserSelect","");this.container=t,this.readOnly=r,this.formulaBar=new vK(n),this.gridContainer=new RK(n),this.overlay=new wK(n),this.gridCanvas=new TK(n),this.cellInput=new CK(n),this.contextMenu=new NK(n),this.autocomplete=new DK(n),this.functionBrowser=new MK(n),this.resizeTooltip=document.createElement("div"),this.rowDim=new h3(et),this.colDim=new h3(Pa),this.gridContainer.appendChild(this.overlay.getContainer()),this.gridContainer.appendChild(this.gridCanvas.getCanvas()),this.gridContainer.appendChild(this.cellInput.getContainer()),this.container.appendChild(this.formulaBar.getContainer()),this.container.appendChild(this.gridContainer.getContainer()),this.container.appendChild(this.contextMenu.getContainer()),this.container.appendChild(this.autocomplete.getContainer()),document.body.appendChild(this.functionBrowser.getContainer()),this.resizeTooltip.style.position="fixed",this.resizeTooltip.style.display="none",this.resizeTooltip.style.pointerEvents="none",this.resizeTooltip.style.zIndex="1001",this.resizeTooltip.style.padding="4px 8px",this.resizeTooltip.style.borderRadius="4px",this.resizeTooltip.style.border=`1px solid ${Qt(n,"cellBorderColor")}`,this.resizeTooltip.style.backgroundColor=Qt(n,"cellBGColor"),this.resizeTooltip.style.color=Qt(n,"cellTextColor"),this.resizeTooltip.style.fontSize="11px",this.resizeTooltip.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.resizeTooltip.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)",document.body.appendChild(this.resizeTooltip),this.functionBrowser.setOnInsert(i=>{this.readOnly||this.insertFunctionFromBrowser(i.name)}),this.boundRender=this.render.bind(this),this.boundHandleGridKeydown=this.handleGridKeydown.bind(this),this.boundHandleFormulaKeydown=this.handleFormulaKeydown.bind(this),this.boundHandleCellInputKeydown=this.handleCellInputKeydown.bind(this),this.boundHandleMouseDown=this.handleMouseDown.bind(this),this.boundHandleDblClick=this.handleDblClick.bind(this),this.boundHandleKeyDown=this.handleKeyDown.bind(this),this.boundHandleKeyUp=this.handleKeyUp.bind(this),this.boundHandleMouseMove=this.handleMouseMove.bind(this),this.boundHandleContextMenu=this.handleContextMenu.bind(this),this.boundPreventDocumentSelectStart=i=>{i.preventDefault()},this.resizeObserver=new ResizeObserver(()=>this.boundRender())}async initialize(t){this.sheet=t,this.sheet.setDimensions(this.rowDim,this.colDim),await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadMerges(),await this.sheet.loadFreezePane(),this.updateFreezeState(),this.formulaBar.initialize(t),this.addEventListeners(),this.resizeObserver.observe(this.container),this.render()}updateFreezeState(){const{frozenRows:t,frozenCols:n}=this.sheet.getFreezePane();this.freezeState=SK(t,n,this.rowDim,this.colDim)}async setFreezePane(t,n){await this.sheet.setFreezePane(t,n),this.updateFreezeState(),this.render()}async reloadFreezePane(){await this.sheet.loadFreezePane(),this.updateFreezeState()}panBy(t,n){this.gridContainer.scrollBy(t,n)}handleMobileDoubleTap(t,n){const{x:r,y:i}=this.clampClientPointToViewport(t,n);this.handleDblClickAt(r,i)}cleanup(){this.removeAllEventListeners(),this.forceEndNativeSelectionBlock(),this.resizeObserver.disconnect(),this.formulaBar.cleanup(),this.cellInput.cleanup(),this.overlay.cleanup(),this.gridCanvas.cleanup(),this.gridContainer.cleanup(),this.contextMenu.cleanup(),this.autocomplete.cleanup(),this.functionBrowser.cleanup(),this.resizeTooltip.remove(),this.sheet=void 0,this.container.innerHTML=""}beginNativeSelectionBlock(){if(this.nativeSelectionBlockDepth+=1,this.nativeSelectionBlockDepth!==1)return;const t=document.body.style;this.previousBodyUserSelect=t.userSelect,this.previousBodyWebkitUserSelect=t.webkitUserSelect,t.userSelect="none",t.webkitUserSelect="none",document.addEventListener("selectstart",this.boundPreventDocumentSelectStart)}endNativeSelectionBlock(){if(this.nativeSelectionBlockDepth===0||(this.nativeSelectionBlockDepth-=1,this.nativeSelectionBlockDepth>0))return;const t=document.body.style;t.userSelect=this.previousBodyUserSelect,t.webkitUserSelect=this.previousBodyWebkitUserSelect,document.removeEventListener("selectstart",this.boundPreventDocumentSelectStart)}forceEndNativeSelectionBlock(){this.nativeSelectionBlockDepth!==0&&(this.nativeSelectionBlockDepth=1,this.endNativeSelectionBlock())}showResizeTooltip(t,n,r,i,s){const l=t==="column"?"Width":"Height",u=s>1?` (${s} ${t==="column"?"columns":"rows"})`:"";this.resizeTooltip.textContent=`${l}: ${Math.round(n)}px${u}`,this.resizeTooltip.style.left=`${r+12}px`,this.resizeTooltip.style.top=`${i+12}px`,this.resizeTooltip.style.display="block"}hideResizeTooltip(){this.resizeTooltip.style.display="none"}addEventListener(t,n,r,i){t.addEventListener(n,r,i),this.listeners.push({element:t,type:n,handler:r})}removeAllEventListeners(){for(const{element:t,type:n,handler:r}of this.listeners)t.removeEventListener(n,r);this.listeners=[]}focusGrid(){var t;this.formulaBar.blur(),this.cellInput.hide(),this.autocomplete.hide(),this.functionBrowser.hide(),this.formulaRanges=[],this.resetFormulaRangeState(),(t=window.getSelection())==null||t.removeAllRanges()}async finishEditing(){this.autocomplete.hide(),this.functionBrowser.hide();const t=this.sheet.getActiveCell();if(this.formulaBar.isFocused())await this.sheet.setData(t,this.formulaBar.getValue()),this.formulaBar.blur(),this.cellInput.hide();else if(this.cellInput.isFocused())await this.sheet.setData(t,this.cellInput.getValue()),this.cellInput.hide();else return;this.formulaRanges=[],this.resetFormulaRangeState(),await this.autoResizeRow(t.r)}isExternalInput(t){if(this.functionBrowser.contains(t))return!0;if(!(t instanceof Element)||this.container.contains(t))return!1;const n=t.tagName;return!!(n==="INPUT"||n==="TEXTAREA"||n==="SELECT"||t.isContentEditable)}handleKeyDown(t){if(this.functionBrowser.isVisible()){t.key==="Escape"&&(t.preventDefault(),this.functionBrowser.hide());return}if(!this.isExternalInput(t.target)){if(this.formulaBar.isFocused()){this.boundHandleFormulaKeydown(t);return}else if(this.cellInput.isFocused()){this.boundHandleCellInputKeydown(t);return}this.boundHandleGridKeydown(t)}}handleKeyUp(t){if(this.functionBrowser.isVisible()||this.isExternalInput(t.target))return;const r=(t.key==="ArrowDown"||t.key==="ArrowUp"||t.key==="Escape"||t.key==="Enter"||t.key==="Tab")&&(this.autocomplete.isListVisible()||this.autocomplete.isHintVisible());let i,s;this.formulaBar.isFocused()?(i=this.formulaBar.getValue(),s=this.formulaBar.getFormulaInput(),this.cellInput.setValue(i)):this.cellInput.isFocused()&&(i=this.cellInput.getValue(),s=this.cellInput.getInput(),this.formulaBar.setValue(i)),i!==void 0&&i.startsWith("=")?(this.formulaRanges=lv(i).map(l=>l.range),this.renderOverlay()):i!==void 0&&(this.formulaRanges=[],this.renderOverlay()),!r&&(s&&i!==void 0?this.updateAutocomplete(i,s):this.autocomplete.hide())}updateAutocomplete(t,n){if(!t.startsWith("=")){this.autocomplete.hide();return}const r=Ru(n);if(!r){this.autocomplete.hide();return}const i=r.end,s=OK(t,i),l=n.getBoundingClientRect(),u={left:l.left,top:l.bottom+2};s.type==="function-name"?this.autocomplete.showList(s.prefix,u):s.type==="argument"?this.autocomplete.showHint(s.funcName,s.argIndex,u):this.autocomplete.hide()}toggleFunctionBrowser(){if(this.functionBrowser.isVisible()){this.functionBrowser.hide();return}this.autocomplete.hide(),this.functionBrowser.show()}insertFunctionCompletion(t,n){const r=n.innerText,i=Ru(n);if(!i)return;const s=i.end,u=r.slice(0,s).match(/([A-Za-z_]\w*)$/);if(!u)return;const c=s-u[1].length,g=r.slice(s),p=r.slice(0,c)+t+"("+g;this.formulaBar.setValue(p),this.cellInput.setValue(p);const m=c+t.length+1;kc(n,{start:m,end:m}),this.autocomplete.hide(),this.updateAutocomplete(p,n)}async insertFunctionFromBrowser(t){const n=await this.getInputForFunctionInsert(),r=n.innerText,i=Ru(n);let s,l;if(!r.startsWith("="))s=`=${t}(`,l=s.length;else{const u=(i==null?void 0:i.start)??r.length,c=(i==null?void 0:i.end)??r.length;s=r.slice(0,u)+t+"("+r.slice(c),l=u+t.length+1}this.formulaBar.setValue(s),this.cellInput.setValue(s),kc(n,{start:l,end:l}),n.focus(),this.formulaRanges=lv(s).map(u=>u.range),this.renderOverlay(),this.autocomplete.hide(),this.updateAutocomplete(s,n)}async getInputForFunctionInsert(){if(this.cellInput.isFocused())return this.cellInput.getInput();const t=this.cellInput.getInput(),n=this.formulaBar.getFormulaInput(),r=n.innerText,i=Ru(n);this.cellInput.isShown()||await this.showCellInput(!0,!0),this.cellInput.setValue(r);const s=(i==null?void 0:i.end)??r.length;return kc(t,{start:s,end:s}),this.cellInput.isFocused()||t.focus(),t}isInFormulaRangeMode(){let t,n;if(this.cellInput.isFocused()?(t=this.cellInput.getValue(),n=this.cellInput.getInput()):this.formulaBar.isFocused()&&(t=this.formulaBar.getValue(),n=this.formulaBar.getFormulaInput()),!t||!n||!t.startsWith("="))return!1;const r=Ru(n);return r?Gq(t,r.end):!1}insertReferenceAtCursor(t,n){const r=this.cellInput.isFocused(),i=this.formulaBar.isFocused();if(!r&&!i)return;const s=r?this.cellInput.getInput():this.formulaBar.getFormulaInput(),l=s.innerText,u=Ru(s);if(!u)return;const c=n&&(t.r!==n.r||t.c!==n.c)?nt(t)+":"+nt(n):nt(t);let g,p;if(this.formulaRefInsertPos){const{start:m,end:x}=this.formulaRefInsertPos;g=l.slice(0,m)+c+l.slice(x),p=m+c.length,this.formulaRefInsertPos={start:m,end:p}}else{const m=c3(l,u.end);m?(g=l.slice(0,m.start)+c+l.slice(m.end),p=m.start+c.length,this.formulaRefInsertPos={start:m.start,end:p}):u.start!==u.end?(g=l.slice(0,u.start)+c+l.slice(u.end),p=u.start+c.length,this.formulaRefInsertPos={start:u.start,end:p}):(g=l.slice(0,u.end)+c+l.slice(u.end),p=u.end+c.length,this.formulaRefInsertPos={start:u.end,end:p})}this.formulaBar.setValue(g),this.cellInput.setValue(g),kc(s,{start:p,end:p}),g.startsWith("=")&&(this.formulaRanges=lv(g).map(m=>m.range),this.renderOverlay()),this.lastFormulaRefTarget=n||t}toggleAbsoluteReference(t){const n=t.innerText;if(!n.startsWith("="))return;const r=Ru(t);if(!r)return;const i=c3(n,r.end);if(!i)return;const s=i.text,l=s.startsWith("$"),u=s.replace(/\$/g,"");let c=0;for(let C=0;C<u.length;C++)if(u.charCodeAt(C)>=48&&u.charCodeAt(C)<=57){c=C;break}const g=u.slice(0,c),p=u.slice(c),m=s.indexOf(p,s.lastIndexOf(g)+g.length),x=m>0&&s[m-1]==="$";let b;!l&&!x?b="$"+g+"$"+p:l&&x?b=g+"$"+p:!l&&x?b="$"+g+p:b=g+p;const E=n.slice(0,i.start)+b+n.slice(i.end),w=i.start+b.length;this.formulaBar.setValue(E),this.cellInput.setValue(E),kc(t,{start:w,end:w}),E.startsWith("=")&&(this.formulaRanges=lv(E).map(C=>C.range),this.renderOverlay())}resetFormulaRangeState(){this.formulaRangeAnchor=null,this.activeFormulaInput=null,this.formulaRefInsertPos=null,this.lastFormulaRefTarget=null}handleDblClick(t){t.preventDefault(),this.handleDblClickAt(t.offsetX,t.offsetY)}handleDblClickAt(t,n){if(this.readOnly)return;const r=this.detectFreezeHandle(t,n);if(r){const s=this.sheet.getFreezePane();r==="row"?this.setFreezePane(s.frozenRows>0?0:1,s.frozenCols):this.setFreezePane(s.frozenRows,s.frozenCols>0?0:1);return}const i=this.detectResizeEdge(t,n);if(i){this.autoFitSize(i.axis,i.index);return}this.showCellInput()}handleContextMenu(t){if(this.readOnly)return;const n=t.offsetX,r=t.offsetY,i=n<ot,s=r<et;if(!(!i&&!s)){if(t.preventDefault(),i){const l=this.toRowFromMouse(r);if(l<1)return;const u=this.sheet.getSelectedIndices(),c=u&&u.axis==="row"&&l>=u.from&&l<=u.to,g=c?u.from:l,p=c?u.to-u.from+1:1,m=p>1?`${p} rows`:"row";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} above`,action:()=>{this.sheet.insertRows(g,p).then(()=>this.render())}},{label:`Insert ${m} below`,action:()=>{this.sheet.insertRows(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteRows(g,p).then(()=>this.render())}}])}else if(s){const l=this.toColFromMouse(n);if(l<1)return;const u=this.sheet.getSelectedIndices(),c=u&&u.axis==="column"&&l>=u.from&&l<=u.to,g=c?u.from:l,p=c?u.to-u.from+1:1,m=p>1?`${p} columns`:"column";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} left`,action:()=>{this.sheet.insertColumns(g,p).then(()=>this.render())}},{label:`Insert ${m} right`,action:()=>{this.sheet.insertColumns(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteColumns(g,p).then(()=>this.render())}}])}}}addEventListeners(){this.addEventListener(window,"resize",this.boundRender),this.gridContainer.addEventListener("scroll",this.boundRender),this.gridContainer.addEventListener("mousedown",this.boundHandleMouseDown),this.gridContainer.addEventListener("mousemove",this.boundHandleMouseMove),this.gridContainer.addEventListener("dblclick",this.boundHandleDblClick),this.gridContainer.addEventListener("contextmenu",this.boundHandleContextMenu),this.addEventListener(document,"keydown",this.boundHandleKeyDown),this.addEventListener(document,"keyup",this.boundHandleKeyUp)}detectResizeEdge(t,n){const r=this.scroll,i=this.freezeState;if(n<et&&t>ot){const l=i.frozenCols>0&&t<ot+i.frozenWidth?t-ot:t-ot-i.frozenWidth+this.colDim.getOffset(i.frozenCols+1)+r.left,u=this.colDim.findIndex(l),c=this.colDim.getOffset(u)+this.colDim.getSize(u);if(Math.abs(l-c)<Hb)return{axis:"column",index:u};if(u>1){const g=this.colDim.getOffset(u-1)+this.colDim.getSize(u-1);if(Math.abs(l-g)<Hb)return{axis:"column",index:u-1}}}if(t<ot&&n>et){const l=i.frozenRows>0&&n<et+i.frozenHeight?n-et:n-et-i.frozenHeight+this.rowDim.getOffset(i.frozenRows+1)+r.top,u=this.rowDim.findIndex(l),c=this.rowDim.getOffset(u)+this.rowDim.getSize(u);if(Math.abs(l-c)<Hb)return{axis:"row",index:u};if(u>1){const g=this.rowDim.getOffset(u-1)+this.rowDim.getSize(u-1);if(Math.abs(l-g)<Hb)return{axis:"row",index:u-1}}}return null}detectFreezeHandle(t,n){const r=this.freezeState,i=r.frozenRows>0||r.frozenCols>0,s=EB,l=bK,u=i&&r.frozenRows>0?et+r.frozenHeight-s/2:et-s;if(t>=0&&t<=ot&&n>=u-l&&n<=u+s+l)return"row";const c=i&&r.frozenCols>0?ot+r.frozenWidth-s/2:ot-s;return t>=c-l&&t<=c+s+l&&n>=0&&n<=et?"column":null}startFreezeDrag(t,n){const r=this.gridContainer.getScrollContainer();r.style.cursor="grabbing";const i=u=>{const c=this.viewport;if(t==="row"){const g=u.target!==r?Math.max(0,Math.min(c.height,u.clientY-c.top)):u.offsetY;if(g<=et)return 0;const p=g-et,m=this.rowDim.findIndex(p),b=this.rowDim.getOffset(m)+this.rowDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}else{const g=u.target!==r?Math.max(0,Math.min(c.width,u.clientX-c.left)):u.offsetX;if(g<=ot)return 0;const p=g-ot,m=this.colDim.findIndex(p),b=this.colDim.getOffset(m)+this.colDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}};this.freezeDrag={axis:t,targetIndex:i(n)},this.renderOverlay();const s=u=>{const c=i(u);this.freezeDrag&&this.freezeDrag.targetIndex!==c&&(this.freezeDrag={axis:t,targetIndex:c},this.renderOverlay())},l=()=>{var g;r.style.cursor="",document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l);const u=((g=this.freezeDrag)==null?void 0:g.targetIndex)??0;this.freezeDrag=null,this.freezeHandleHover=null;const c=this.sheet.getFreezePane();t==="row"?this.setFreezePane(u,c.frozenCols):this.setFreezePane(c.frozenRows,u)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)}toRefFromMouse(t,n){const r=this.freezeState;return r.frozenRows>0||r.frozenCols>0?EK(t,n,this.scroll,this.rowDim,this.colDim,r):AK(t+this.scroll.left,n+this.scroll.top,this.rowDim,this.colDim)}toRowFromMouse(t){const n=this.freezeState,i=n.frozenRows>0&&t<et+n.frozenHeight?t-et:t-et-n.frozenHeight+this.rowDim.getOffset(n.frozenRows+1)+this.scroll.top;return this.rowDim.findIndex(i)}toColFromMouse(t){const n=this.freezeState,i=n.frozenCols>0&&t<ot+n.frozenWidth?t-ot:t-ot-n.frozenWidth+this.colDim.getOffset(n.frozenCols+1)+this.scroll.left;return this.colDim.findIndex(i)}getAutofillSelectionRect(){if(!this.sheet||this.sheet.getSelectionType()!=="cell")return;const t=this.sheet.getRangeOrActiveCell(),n=Kp(t[0],this.scroll,this.rowDim,this.colDim,this.freezeState),r=Kp(t[1],this.scroll,this.rowDim,this.colDim,this.freezeState),i=Math.min(n.left,r.left),s=Math.min(n.top,r.top),l=Math.max(n.left+n.width,r.left+r.width),u=Math.max(n.top+n.height,r.top+r.height);return{left:i,top:s,width:l-i,height:u-s}}detectAutofillHandle(t,n){if(this.readOnly)return!1;const r=this.getAutofillSelectionRect();if(!r)return!1;const i=r.left+r.width-Wb/2,s=r.top+r.height-Wb/2;return t>=i-Yb&&t<=i+Wb+Yb&&n>=s-Yb&&n<=s+Wb+Yb}clampClientPointToViewport(t,n){const r=this.viewport;return{x:Math.max(0,Math.min(r.width,t-r.left)),y:Math.max(0,Math.min(r.height,n-r.top))}}getAutoScrollSpeed(t){const r=Math.min(A3,Math.max(0,t))/A3;return E3+(LK-E3)*r}getAutoScrollVelocity(t,n,r){return t<n?-this.getAutoScrollSpeed(n-t):t>r?this.getAutoScrollSpeed(t-r):0}handleMouseMove(t){var l,u,c;const n=this.gridContainer.getScrollContainer(),r=this.detectFreezeHandle(t.offsetX,t.offsetY);if(r!==this.freezeHandleHover&&(this.freezeHandleHover=r,this.renderSheet()),r){n.style.cursor="grab",this.resizeHover&&(this.resizeHover=null,this.renderOverlay());return}const i=this.detectResizeEdge(t.offsetX,t.offsetY),s=(i==null?void 0:i.axis)!==((l=this.resizeHover)==null?void 0:l.axis)||(i==null?void 0:i.index)!==((u=this.resizeHover)==null?void 0:u.index);if(s&&(this.resizeHover=i),i)n.style.cursor=i.axis==="column"?"col-resize":"row-resize";else{if(this.detectAutofillHandle(t.offsetX,t.offsetY)){n.style.cursor="crosshair",s&&this.renderOverlay();return}const g=t.offsetX,p=t.offsetY,m=(c=this.sheet)==null?void 0:c.getSelectedIndices();if(m){const x=m.axis==="column"?p<et&&g>ot&&(()=>{const b=this.toColFromMouse(g);return b>=m.from&&b<=m.to})():g<ot&&p>et&&(()=>{const b=this.toRowFromMouse(p);return b>=m.from&&b<=m.to})();n.style.cursor=x?"grab":""}else n.style.cursor=""}s&&this.renderOverlay()}async handleMouseDown(t){const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n&&!this.readOnly){t.preventDefault(),this.startFreezeDrag(n,t);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r&&!this.readOnly){t.preventDefault(),this.startResize(r.axis,r.index,t);return}const i=t.offsetX,s=t.offsetY;if(i<ot&&s<et){t.preventDefault(),await this.finishEditing(),this.sheet.selectAllCells(),this.render();return}const u=s<et&&i>ot,c=i<ot&&s>et;if(u){t.preventDefault(),await this.finishEditing();const N=this.toColFromMouse(i);if(N<1)return;if(t.shiftKey){this.sheet.selectColumnRange(this.sheet.getActiveCell().c,N),this.render();return}const D=this.sheet.getSelectedIndices();if(!this.readOnly&&D&&D.axis==="column"&&N>=D.from&&N<=D.to){this.startDragMove("column",D.from,D.to-D.from+1,t);return}this.sheet.selectColumn(N),this.render();const F=N;let B=N,j=t.clientX,k=null,$=null;const Z=()=>{const{x:re}=this.clampClientPointToViewport(j,0),Ae=this.toColFromMouse(re);Ae>=1&&Ae!==B&&(B=Ae,this.sheet.selectColumnRange(F,B))},ne=()=>{k!==null&&(cancelAnimationFrame(k),k=null),$=null},ie=re=>{const Ae=this.viewport,de=this.getAutoScrollVelocity(j,Ae.left,Ae.left+Ae.width);if(de===0){k=null,$=null;return}const ue=Math.min(50,$===null?16:re-$);$=re,this.gridContainer.scrollBy(de*ue/1e3,0),Z(),this.render(),k=requestAnimationFrame(ie)},he=()=>{k===null&&(k=requestAnimationFrame(ie))},De=re=>{j=re.clientX,Z(),this.render();const Ae=this.viewport;this.getAutoScrollVelocity(j,Ae.left,Ae.left+Ae.width)===0?ne():he()},Te=()=>{ne(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",De),document.removeEventListener("mouseup",Te)};this.beginNativeSelectionBlock(),document.addEventListener("mousemove",De),document.addEventListener("mouseup",Te);return}if(c){t.preventDefault(),await this.finishEditing();const N=this.toRowFromMouse(s);if(N<1)return;if(t.shiftKey){this.sheet.selectRowRange(this.sheet.getActiveCell().r,N),this.render();return}const D=this.sheet.getSelectedIndices();if(!this.readOnly&&D&&D.axis==="row"&&N>=D.from&&N<=D.to){this.startDragMove("row",D.from,D.to-D.from+1,t);return}this.sheet.selectRow(N),this.render();const F=N;let B=N,j=t.clientY,k=null,$=null;const Z=()=>{const{y:re}=this.clampClientPointToViewport(0,j),Ae=this.toRowFromMouse(re);Ae>=1&&Ae!==B&&(B=Ae,this.sheet.selectRowRange(F,B))},ne=()=>{k!==null&&(cancelAnimationFrame(k),k=null),$=null},ie=re=>{const Ae=this.viewport,de=this.getAutoScrollVelocity(j,Ae.top,Ae.top+Ae.height);if(de===0){k=null,$=null;return}const ue=Math.min(50,$===null?16:re-$);$=re,this.gridContainer.scrollBy(0,de*ue/1e3),Z(),this.render(),k=requestAnimationFrame(ie)},he=()=>{k===null&&(k=requestAnimationFrame(ie))},De=re=>{j=re.clientY,Z(),this.render();const Ae=this.viewport;this.getAutoScrollVelocity(j,Ae.top,Ae.top+Ae.height)===0?ne():he()},Te=()=>{ne(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",De),document.removeEventListener("mouseup",Te)};this.beginNativeSelectionBlock(),document.addEventListener("mousemove",De),document.addEventListener("mouseup",Te);return}if(this.isInFormulaRangeMode()){t.preventDefault();const N=this.toRefFromMouse(t.offsetX,t.offsetY);if(this.activeFormulaInput=this.cellInput.isFocused()?"cellInput":"formulaBar",t.shiftKey&&this.formulaRangeAnchor){const j={r:Math.min(this.formulaRangeAnchor.r,N.r),c:Math.min(this.formulaRangeAnchor.c,N.c)},k={r:Math.max(this.formulaRangeAnchor.r,N.r),c:Math.max(this.formulaRangeAnchor.c,N.c)};this.insertReferenceAtCursor(j,k)}else this.formulaRangeAnchor=N,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(N);const D=this.gridContainer.getScrollContainer(),F=j=>{const k=this.viewport,$=j.target!==D?Math.max(0,Math.min(k.width,j.clientX-k.left)):j.offsetX,Z=j.target!==D?Math.max(0,Math.min(k.height,j.clientY-k.top)):j.offsetY,ne=this.toRefFromMouse($,Z),ie={r:Math.min(this.formulaRangeAnchor.r,ne.r),c:Math.min(this.formulaRangeAnchor.c,ne.c)},he={r:Math.max(this.formulaRangeAnchor.r,ne.r),c:Math.max(this.formulaRangeAnchor.c,ne.c)};this.insertReferenceAtCursor(ie,he)},B=()=>{this.endNativeSelectionBlock(),document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",B),this.activeFormulaInput==="cellInput"?this.cellInput.getInput().focus():this.activeFormulaInput==="formulaBar"&&this.formulaBar.getFormulaInput().focus(),this.formulaRefInsertPos=null};this.beginNativeSelectionBlock(),document.addEventListener("mousemove",F),document.addEventListener("mouseup",B);return}if(this.detectAutofillHandle(t.offsetX,t.offsetY)){t.preventDefault(),await this.finishEditing(),this.startAutofillDrag(t);return}if(await this.finishEditing(),t.shiftKey){const N=this.toRefFromMouse(t.offsetX,t.offsetY);this.sheet.selectEnd(N),this.render();return}this.sheet.selectStart(this.toRefFromMouse(t.offsetX,t.offsetY)),this.render();let g=t.clientX,p=t.clientY,m=null,x=null;const b=()=>{const{x:N,y:D}=this.clampClientPointToViewport(g,p);this.sheet.selectEnd(this.toRefFromMouse(N,D))},E=()=>{m!==null&&(cancelAnimationFrame(m),m=null),x=null},w=N=>{const D=this.viewport,F=this.getAutoScrollVelocity(g,D.left,D.left+D.width),B=this.getAutoScrollVelocity(p,D.top,D.top+D.height);if(F===0&&B===0){m=null,x=null;return}const j=Math.min(50,x===null?16:N-x);x=N,this.gridContainer.scrollBy(F*j/1e3,B*j/1e3),b(),this.render(),m=requestAnimationFrame(w)},C=()=>{m===null&&(m=requestAnimationFrame(w))},R=N=>{g=N.clientX,p=N.clientY,b(),this.renderOverlay();const D=this.viewport,F=this.getAutoScrollVelocity(g,D.left,D.left+D.width),B=this.getAutoScrollVelocity(p,D.top,D.top+D.height);F===0&&B===0?E():C()},T=()=>{E(),this.render(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",T)};this.beginNativeSelectionBlock(),document.addEventListener("mousemove",R),document.addEventListener("mouseup",T)}startAutofillDrag(t){let n=t.clientX,r=t.clientY,i=null,s=null;const l=()=>{const{x,y:b}=this.clampClientPointToViewport(n,r),E=this.toRefFromMouse(x,b);this.autofillPreview=this.sheet.getAutofillPreviewRange(E),this.renderOverlay()},u=()=>{i!==null&&(cancelAnimationFrame(i),i=null),s=null},c=x=>{const b=this.viewport,E=this.getAutoScrollVelocity(n,b.left,b.left+b.width),w=this.getAutoScrollVelocity(r,b.top,b.top+b.height);if(E===0&&w===0){i=null,s=null;return}const C=Math.min(50,s===null?16:x-s);s=x,this.gridContainer.scrollBy(E*C/1e3,w*C/1e3),l(),i=requestAnimationFrame(c)},g=()=>{i===null&&(i=requestAnimationFrame(c))},p=x=>{n=x.clientX,r=x.clientY,l();const b=this.viewport,E=this.getAutoScrollVelocity(n,b.left,b.left+b.width),w=this.getAutoScrollVelocity(r,b.top,b.top+b.height);E===0&&w===0?u():g()},m=async()=>{u(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m);const{x,y:b}=this.clampClientPointToViewport(n,r),E=this.toRefFromMouse(x,b),w=await this.sheet.autofill(E);this.autofillPreview=void 0,w?this.render():this.renderOverlay()};this.beginNativeSelectionBlock(),l(),document.addEventListener("mousemove",p),document.addEventListener("mouseup",m)}startResize(t,n,r){const i=t==="column"?r.clientX:r.clientY,s=t==="column"?this.colDim.getSize(n):this.rowDim.getSize(n),l=this.gridContainer.getScrollContainer();l.style.cursor=t==="column"?"col-resize":"row-resize";const u=t==="column"?this.colDim:this.rowDim,c=this.sheet.getSelectedIndices(),p=c&&c.axis===t&&n>=c.from&&n<=c.to?Array.from({length:c.to-c.from+1},(C,R)=>c.from+R):[n],m=p.length;let x=s,b=null;this.beginNativeSelectionBlock(),this.showResizeTooltip(t,s,r.clientX,r.clientY,m);const E=C=>{const T=(t==="column"?C.clientX:C.clientY)-i;x=Math.max(t==="column"?S3:PK,s+T),b===null&&(b=requestAnimationFrame(()=>{b=null,u.setSize(n,x),this.render()})),this.showResizeTooltip(t,x,C.clientX,C.clientY,m)},w=()=>{l.style.cursor="",this.hideResizeTooltip(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",w),b!==null&&(cancelAnimationFrame(b),b=null);const C=x;u.setSize(n,C);for(const R of p)u.setSize(R,C),t==="column"?this.sheet.setColumnWidth(R,C):(this.manuallyResizedRows.add(R),this.sheet.setRowHeight(R,C));this.render()};document.addEventListener("mousemove",E),document.addEventListener("mouseup",w)}async autoFitSize(t,n){const i=document.createElement("canvas").getContext("2d"),s=6;if(t==="column"){i.font=`${Bc}px Arial`;const l=Lv(n);let u=i.measureText(l).width+s;const[c,g]=this.viewRange,p=[{r:c.r,c:n},{r:g.r,c:n}],m=await this.sheet.fetchGrid(p);for(const[,b]of m)if(b.v){const E=i.measureText(b.v).width+s;E>u&&(u=E)}const x=Math.max(S3,Math.ceil(u));this.sheet.setColumnWidth(n,x)}else{this.manuallyResizedRows.delete(n);const l=await this.computeContentHeight(n);this.sheet.setRowHeight(n,l)}this.render()}async computeContentHeight(t){const[n,r]=this.viewRange,i=[{r:t,c:n.c},{r:t,c:r.c}],s=await this.sheet.fetchGrid(i);let l=1;for(const[,u]of s)if(u.v){const c=u.v.split(`
`).length;c>l&&(l=c)}return l<=1?et:Math.max(et,Math.ceil(l*Bc*IS+2*a2))}async autoResizeRow(t){if(this.manuallyResizedRows.has(t))return;const n=await this.computeContentHeight(t),r=this.rowDim.getSize(t);n!==r&&(this.sheet.setRowHeight(t,n),this.render())}startDragMove(t,n,r,i){const s=this.gridContainer.getScrollContainer();s.style.cursor="grabbing";const l=t==="column"?this.colDim:this.rowDim,u=p=>{const m=this.viewport;if(t==="column"){const x=p.target!==s?Math.max(0,Math.min(m.width,p.clientX-m.left)):p.offsetX,b=this.toColFromMouse(x),E=this.freezeState,C=E.frozenCols>0&&x<ot+E.frozenWidth?x-ot:x-ot-E.frozenWidth+this.colDim.getOffset(E.frozenCols+1)+this.scroll.left,T=l.getOffset(b)+l.getSize(b)/2;return C<T?b:b+1}else{const x=p.target!==s?Math.max(0,Math.min(m.height,p.clientY-m.top)):p.offsetY,b=this.toRowFromMouse(x),E=this.freezeState,C=E.frozenRows>0&&x<et+E.frozenHeight?x-et:x-et-E.frozenHeight+this.rowDim.getOffset(E.frozenRows+1)+this.scroll.top,T=l.getOffset(b)+l.getSize(b)/2;return C<T?b:b+1}};this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:u(i)},this.renderOverlay();const c=p=>{const m=u(p);this.dragMove&&this.dragMove.dropIndex!==m&&(this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:m},this.renderOverlay())},g=()=>{var m;s.style.cursor="",document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",g);const p=(m=this.dragMove)==null?void 0:m.dropIndex;this.dragMove=null,p!==void 0&&!(p>=n&&p<=n+r)?(t==="row"?this.sheet.moveRows(n,r,p):this.sheet.moveColumns(n,r,p)).then(()=>{const b=p<n?p:p-r;t==="row"?(this.sheet.selectRow(b),r>1&&this.sheet.selectRowRange(b,b+r-1)):(this.sheet.selectColumn(b),r>1&&this.sheet.selectColumnRange(b,b+r-1)),this.render()}):this.renderOverlay()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",g)}async handleFormulaKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.formulaBar.getFormulaInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.move("down"),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const i={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},s={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(i,s),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.formulaBar.getFormulaInput())):t.key==="Escape"?(t.preventDefault(),this.focusGrid(),this.render()):this.cellInput.isShown()||this.showCellInput(!0,!0)}}async handleCellInputKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.cellInput.getInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&this.cellInput.hasFormula()&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const i={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},s={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(i,s),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key.startsWith("Arrow")&&!this.cellInput.hasFormula()&&!this.editMode?(t.preventDefault(),await this.finishEditing(),t.key==="ArrowDown"?this.sheet.move("down"):t.key==="ArrowUp"?this.sheet.move("up"):t.key==="ArrowLeft"?this.sheet.move("left"):t.key==="ArrowRight"&&this.sheet.move("right"),this.render(),this.scrollIntoView()):t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.cellInput.getInput())):t.key==="Escape"&&(t.preventDefault(),this.focusGrid(),this.render())}}async copy(){const{text:t}=await this.sheet.copy();await navigator.clipboard.writeText(t)}async paste(){try{let t,n;if(navigator.clipboard.read)try{const r=await navigator.clipboard.read();for(const i of r)i.types.includes("text/html")&&(n=await(await i.getType("text/html")).text()),i.types.includes("text/plain")&&(t=await(await i.getType("text/plain")).text())}catch{t=await navigator.clipboard.readText()}else t=await navigator.clipboard.readText();await this.sheet.paste({text:t,html:n}),this.sheet.clearCopyBuffer(),this.render()}catch(t){console.error("Failed to paste cell content: ",t)}}async handleGridKeydown(t){const n=async(r,i,s)=>{t.preventDefault(),(i?this.sheet.resizeRange(r):s?await this.sheet.moveToEdge(r):this.sheet.move(r))&&(this.render(),this.scrollIntoView())};if(t.key==="ArrowDown")n("down",t.shiftKey,t.metaKey);else if(t.key==="ArrowUp")n("up",t.shiftKey,t.metaKey);else if(t.key==="ArrowLeft")n("left",t.shiftKey,t.metaKey);else if(t.key==="ArrowRight")n("right",t.shiftKey,t.metaKey);else if(t.key==="a"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.sheet.selectAll(),this.render();else if(t.key==="Tab")t.preventDefault(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key==="Enter")t.preventDefault(),this.sheet.hasRange()?(this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView()):this.readOnly||this.showCellInput();else if(t.key==="Delete"||t.key==="Backspace"){if(this.readOnly)return;t.preventDefault(),await this.sheet.removeData()&&this.render()}else if(!t.metaKey&&!t.ctrlKey&&this.isValidCellInput(t.key)){if(this.readOnly)return;this.showCellInput(!0)}else if(t.key==="z"&&(t.metaKey||t.ctrlKey)&&!t.shiftKey){if(this.readOnly)return;t.preventDefault(),await this.sheet.undo()&&(this.render(),this.scrollIntoView())}else if((t.key==="z"&&t.shiftKey||t.key==="y")&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.redo()&&(this.render(),this.scrollIntoView())}else if(t.key==="Escape")t.preventDefault(),this.sheet.getCopyRange()&&(this.sheet.clearCopyBuffer(),this.renderOverlay());else if(t.key==="c"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.copy();else if(t.key==="v"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.paste()}else if(t.key==="b"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("b"),this.render()}else if(t.key==="i"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("i"),this.render()}else if(t.key==="u"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("u"),this.render()}else if((t.key==="m"||t.key==="M")&&(t.metaKey||t.ctrlKey)&&t.shiftKey){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleMergeSelection()&&this.render()}}async reloadDimensions(){await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadMerges(),await this.sheet.loadFreezePane(),this.updateFreezeState()}setOnRender(t){this.onRenderCallback=t}render(){var t;this.formulaBar.render(),this.renderSheet(),this.renderOverlay(),(t=this.onRenderCallback)==null||t.call(this)}renderOverlay(){this.overlay.render(this.viewport,this.scroll,this.sheet.getActiveCell(),this.sheet.getPresences(),this.sheet.getRange(),this.rowDim,this.colDim,this.resizeHover,this.sheet.getSelectionType(),this.dragMove?{axis:this.dragMove.axis,dropIndex:this.dragMove.dropIndex}:null,this.formulaRanges,this.freezeState,this.freezeDrag,this.sheet.getCopyRange(),this.autofillPreview,!this.readOnly,this.sheet.getMerges())}get viewRange(){const t=this.scroll,n=this.viewport,r=this.freezeState,i=this.rowDim.getOffset(r.frozenRows+1),s=this.colDim.getOffset(r.frozenCols+1),l=Math.max(r.frozenRows+1,this.rowDim.findIndex(i+t.top)),u=Math.max(l,this.rowDim.findIndex(i+t.top+n.height)+1),c=Math.max(r.frozenCols+1,this.colDim.findIndex(s+t.left)),g=Math.max(c,this.colDim.findIndex(s+t.left+n.width)+1);return[{r:l,c},{r:u,c:g}]}scrollIntoView(t=this.sheet.getActiveCell()){const n=this.scroll,r=this.freezeState,i=r.frozenRows>0&&t.r<=r.frozenRows,s=r.frozenCols>0&&t.c<=r.frozenCols,l=jn(t,{left:0,top:0},this.rowDim,this.colDim),u=this.sheet.getMerges().get(nt(t));if(u){const b=jn({r:t.r+u.rs-1,c:t.c+u.cs-1},{left:0,top:0},this.rowDim,this.colDim);l.width=b.left+b.width-l.left,l.height=b.top+b.height-l.top}const c=this.colDim.getOffset(r.frozenCols+1),g=this.rowDim.getOffset(r.frozenRows+1),p=this.viewport.width-ot-r.frozenWidth,m=this.viewport.height-et-r.frozenHeight;let x=!1;if(!s){const b=c+n.left,E=b+p,w=l.left-ot,C=w+l.width;w<b?(this.scroll={left:w-c},x=!0):C>E&&(this.scroll={left:C-p-c},x=!0)}if(!i){const b=g+n.top,E=b+m,w=l.top-et,C=w+l.height;w<b?(this.scroll={top:w-g},x=!0):C>E&&(this.scroll={top:C-m-g},x=!0)}x&&this.render()}async showCellInput(t=!1,n=!1){n||(this.editMode=!t);const r=this.sheet.getActiveCell(),i=this.freezeState,s=i.frozenRows>0||i.frozenCols>0?Kp(r,this.scroll,this.rowDim,this.colDim,i):jn(r,this.scroll,this.rowDim,this.colDim),l=this.sheet.getMerges().get(nt(r));if(l){const m=i.frozenRows>0||i.frozenCols>0?Kp({r:r.r+l.rs-1,c:r.c+l.cs-1},this.scroll,this.rowDim,this.colDim,i):jn({r:r.r+l.rs-1,c:r.c+l.cs-1},this.scroll,this.rowDim,this.colDim);s.width=m.left+m.width-s.left,s.height=m.top+m.height-s.top}const u=t?"":await this.sheet.toInputString(r),c=Math.max(s.width,this.viewport.width-s.left),g=Math.max(s.height,this.viewport.height-s.top);this.cellInput.show(s.left,s.top,u,!n,s.width,s.height,c,g);const p=await this.sheet.getStyle(r);this.cellInput.applyStyle(p),u.startsWith("=")&&(this.formulaRanges=lv(u).map(m=>m.range),this.renderOverlay())}isValidCellInput(t){return t.length===1||t==="Process"}async renderSheet(){const t=this.gridSize,n=this.freezeState;this.gridContainer.updateDummySize(t.width+ot,t.height+et);const r=this.viewRange,i=[{r:1,c:1},{r:r[1].r,c:r[1].c}],s=await this.sheet.fetchGrid(i);this.gridCanvas.render(this.viewport,this.scroll,this.viewRange,this.sheet.getActiveCell(),s,this.rowDim,this.colDim,this.sheet.getSelectionType(),this.sheet.getRange(),n,this.freezeHandleHover,this.sheet.getColStyles(),this.sheet.getRowStyles(),this.sheet.getSheetStyle(),this.sheet.getMerges())}get gridSize(){const t=this.sheet.getDimension();return{width:this.colDim.getOffset(t.columns+1),height:this.rowDim.getOffset(t.rows+1)}}get viewport(){return this.gridContainer.getViewport()}get scroll(){return this.gridContainer.getScrollPosition()}set scroll(t){this.gridContainer.setScrollPosition(t)}}async function CB(e,t){const n=new kK(e,t),r=(t==null?void 0:t.store)||new pK;return await n.initialize(r),n}class kK{constructor(t,n){Y(this,"container");Y(this,"worksheet");Y(this,"sheet");Y(this,"theme");Y(this,"_readOnly");Y(this,"selectionChangeCallbacks",[]);this.container=t,this.container.style.position="relative",this.container.style.overflow="hidden",this.theme=(n==null?void 0:n.theme)||"light",this._readOnly=(n==null?void 0:n.readOnly)||!1,this.worksheet=new FK(this.container,this.theme,this._readOnly)}get readOnly(){return this._readOnly}async initialize(t){this.sheet=new hK(t),this.worksheet.setOnRender(()=>this.notifySelectionChange()),await this.worksheet.initialize(this.sheet)}async reloadDimensions(){await this.worksheet.reloadDimensions()}async setFreezePane(t,n){this._readOnly||await this.worksheet.setFreezePane(t,n)}render(){this.worksheet.render()}renderOverlay(){this.worksheet.renderOverlay()}panBy(t,n){this.worksheet.panBy(t,n)}handleMobileDoubleTap(t,n){this.worksheet.handleMobileDoubleTap(t,n)}async applyStyle(t){!this.sheet||this._readOnly||(await this.sheet.setRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async applyBorders(t){!this.sheet||this._readOnly||await this.sheet.setRangeBorders(t)&&(this.worksheet.render(),this.notifySelectionChange())}async toggleStyle(t){!this.sheet||this._readOnly||(await this.sheet.toggleRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async getActiveStyle(){if(this.sheet)return this.sheet.getStyle(this.sheet.getActiveCell())}onSelectionChange(t){return this.selectionChangeCallbacks.push(t),()=>{this.selectionChangeCallbacks=this.selectionChangeCallbacks.filter(n=>n!==t)}}notifySelectionChange(){for(const t of this.selectionChangeCallbacks)t()}async increaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:t+1}),this.worksheet.render(),this.notifySelectionChange()}async decreaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:Math.max(0,t-1)}),this.worksheet.render(),this.notifySelectionChange()}async toggleMergeCells(){!this.sheet||this._readOnly||await this.sheet.toggleMergeSelection()&&(this.worksheet.render(),this.notifySelectionChange())}isSelectionMerged(){return this.sheet?this.sheet.isSelectionMerged():!1}canMergeSelection(){return this.sheet?this.sheet.canMergeSelection():!1}async undo(){!this.sheet||this._readOnly||await this.sheet.undo()&&(this.worksheet.render(),this.notifySelectionChange())}async redo(){!this.sheet||this._readOnly||await this.sheet.redo()&&(this.worksheet.render(),this.notifySelectionChange())}toggleFunctionBrowser(){this.worksheet.toggleFunctionBrowser()}cleanup(){this.worksheet.cleanup(),this.selectionChangeCallbacks=[]}setGridResolver(t){this.sheet&&this.sheet.setGridResolver(t)}async recalculateCrossSheetFormulas(){this.sheet&&(await this.sheet.recalculateCrossSheetFormulas(),this.worksheet.render())}}var BK="Toggle",wB=P.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...s}=e,[l=!1,u]=bh({prop:n,onChange:i,defaultProp:r});return I.jsx(Kt.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:dt(e.onClick,()=>{e.disabled||u(!l)})})});wB.displayName=BK;var jK=wB;const zK=zS("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function KC({className:e,variant:t,size:n,...r}){return I.jsx(jK,{"data-slot":"toggle",className:St(zK({variant:t,size:n}),e),...r})}const UK=["#000000","#434343","#666666","#999999","#cccccc","#d50000","#e67c73","#f4511e","#ef6c00","#f09300","#0b8043","#33b679","#039be5","#3f51b5","#7986cb","#8e24aa","#d81b60","#ad1457","#6a1b9a","#4a148c"],VK=["#ffffff","#f3f3f3","#e8e8e8","#d9d9d9","#cccccc","#fce4ec","#fff3e0","#fff9c4","#e8f5e9","#e0f7fa","#e3f2fd","#ede7f6","#fce4ec","#f3e5f5","#e8eaf6","#ffcdd2","#ffe0b2","#fff59d","#c8e6c9","#b2dfdb"],GK={left:zw,center:jw,right:Uw},$K={top:Bw,middle:kw,bottom:Fw},HK={plain:Lw,number:Gw,currency:pv,percent:oS,date:Vw},RB=typeof navigator<"u"&&/Mac|iPhone|iPad|iPod/.test(navigator.userAgent),cv=RB?"":"Ctrl";function WK({spreadsheet:e}){const t=fR(),[n,r]=P.useState(void 0),[i,s]=P.useState(!1),[l,u]=P.useState(!1),c=P.useMemo(()=>y3("en-US"),[]),g=P.useMemo(()=>y3(),[]),p=P.useCallback(async()=>{if(!e)return;const re=await e.getActiveStyle();r(re),s(e.isSelectionMerged()),u(e.canMergeSelection())},[e]);P.useEffect(()=>{if(e)return p(),e.onSelectionChange(p)},[e,p]);const m=P.useCallback(re=>{e==null||e.toggleStyle(re)},[e]),x=P.useCallback(re=>{e==null||e.applyStyle({al:re})},[e]),b=P.useCallback(re=>{e==null||e.applyStyle({va:re})},[e]),E=P.useCallback(re=>{e==null||e.applyStyle({tc:re})},[e]),w=P.useCallback(()=>{e==null||e.applyStyle({tc:""})},[e]),C=P.useCallback(re=>{e==null||e.applyStyle({bg:re})},[e]),R=P.useCallback(()=>{e==null||e.applyStyle({bg:""})},[e]),T=P.useCallback(()=>{e==null||e.undo()},[e]),N=P.useCallback(()=>{e==null||e.redo()},[e]),D=P.useCallback(()=>{e==null||e.toggleFunctionBrowser()},[e]),F=P.useCallback(re=>{e==null||e.applyStyle({nf:re})},[e]),B=P.useCallback(()=>{e==null||e.increaseDecimals()},[e]),j=P.useCallback(()=>{e==null||e.decreaseDecimals()},[e]),k=P.useCallback(()=>{e==null||e.toggleMergeCells()},[e]),$=P.useCallback(re=>{e==null||e.applyBorders(re)},[e]),Z=(n==null?void 0:n.al)||"left",ne=GK[Z],ie=(n==null?void 0:n.va)||"top",he=$K[ie],De=(n==null?void 0:n.nf)||"plain",Te=HK[De];return I.jsxs("div",{className:"flex items-center gap-0.5 overflow-x-auto border-b bg-background px-2 py-1 whitespace-nowrap",children:[I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:T,children:I.jsx(iH,{size:16})})}),I.jsxs(Pr,{children:["Undo (",cv,"+Z)"]})]}),I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:N,children:I.jsx(oH,{size:16})})}),I.jsxs(Pr,{children:["Redo (",cv,"+",RB?"Z":"Y",")"]})]}),I.jsx(ah,{orientation:"vertical",className:"mx-1 h-6"}),!t&&I.jsxs(I.Fragment,{children:[I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>F("currency"),children:I.jsx(pv,{size:16})})}),I.jsxs(Pr,{children:["Format as currency (",g.currency,")"]})]}),I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>F("percent"),children:I.jsx(oS,{size:16})})}),I.jsx(Pr,{children:"Format as percent"})]}),I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:j,children:[I.jsx(Ub,{size:16}),I.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"-"})]})}),I.jsx(Pr,{children:"Decrease decimal places"})]}),I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:B,children:[I.jsx(Ub,{size:16}),I.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"+"})]})}),I.jsx(Pr,{children:"Increase decimal places"})]}),I.jsxs(Ho,{children:[I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx(Wo,{asChild:!0,children:I.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[I.jsx(Te,{size:16}),I.jsx(zb,{size:12,className:"ml-0.5 opacity-50"})]})})}),I.jsx(Pr,{children:"More format"})]}),I.jsxs(Yo,{children:[I.jsx(oh,{className:"text-xs font-normal text-muted-foreground",children:"Common formats (US examples)"}),I.jsx(Vo,{}),I.jsxs(Ct,{onClick:()=>F("plain"),children:[I.jsx(Lw,{size:16,className:"mr-2"}),"Plain text"]}),I.jsxs(Ct,{onClick:()=>F("number"),children:[I.jsx(Gw,{size:16,className:"mr-2"}),"Number",I.jsx(j0,{children:c.number})]}),I.jsxs(Ct,{onClick:()=>F("currency"),children:[I.jsx(pv,{size:16,className:"mr-2"}),"Currency",I.jsx(j0,{children:c.currencyValue})]}),I.jsxs(Ct,{onClick:()=>F("percent"),children:[I.jsx(oS,{size:16,className:"mr-2"}),"Percent",I.jsx(j0,{children:c.percent})]}),I.jsx(Vo,{}),I.jsxs(oh,{className:"text-xs font-normal text-muted-foreground",children:["US date preview: ",c.date]}),I.jsx(Vo,{}),I.jsxs(oh,{className:"text-xs font-normal text-muted-foreground",children:["Your locale (",g.locale,")"]}),I.jsxs(Ct,{onClick:()=>F("currency"),children:[I.jsx(pv,{size:16,className:"mr-2"}),"Locale currency",I.jsx(j0,{children:g.currencyValue})]}),I.jsxs(Ct,{onClick:()=>F("date"),children:[I.jsx(Vw,{size:16,className:"mr-2"}),"Locale date",I.jsx(j0,{children:g.date})]})]})]}),I.jsx(ah,{orientation:"vertical",className:"mx-1 h-6"})]}),I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx(KC,{size:"sm",pressed:(n==null?void 0:n.b)||!1,onPressedChange:()=>m("b"),className:"h-7 w-7 cursor-pointer",children:I.jsx(sH,{size:16})})}),I.jsxs(Pr,{children:["Bold (",cv,"+B)"]})]}),I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx(KC,{size:"sm",pressed:(n==null?void 0:n.i)||!1,onPressedChange:()=>m("i"),className:"h-7 w-7 cursor-pointer",children:I.jsx(lH,{size:16})})}),I.jsxs(Pr,{children:["Italic (",cv,"+I)"]})]}),!t&&I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx(KC,{size:"sm",pressed:(n==null?void 0:n.st)||!1,onPressedChange:()=>m("st"),className:"h-7 w-7 cursor-pointer",children:I.jsx(jN,{size:16})})}),I.jsx(Pr,{children:"Strikethrough"})]}),I.jsxs(Ho,{children:[I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx(Wo,{asChild:!0,children:I.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",children:[I.jsx(gH,{size:16}),I.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(n==null?void 0:n.tc)||"#000000"}})]})})}),I.jsx(Pr,{children:"Text color"})]}),I.jsxs(Yo,{className:"w-auto p-2",children:[I.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:w,children:[I.jsx(kN,{size:14}),"Reset"]}),I.jsx("div",{className:"grid grid-cols-5 gap-1",children:UK.map(re=>I.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:re},onClick:()=>E(re)},re))})]})]}),I.jsx(ah,{orientation:"vertical",className:"mx-1 h-6"}),I.jsxs(Ho,{children:[I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx(Wo,{asChild:!0,children:I.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",children:[I.jsx(cH,{size:16}),I.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(n==null?void 0:n.bg)||"transparent",border:n!=null&&n.bg?"none":"1px solid #ccc"}})]})})}),I.jsx(Pr,{children:"Fill color"})]}),I.jsxs(Yo,{className:"w-auto p-2",children:[I.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:R,children:[I.jsx(kN,{size:14}),"Reset"]}),I.jsx("div",{className:"grid grid-cols-5 gap-1",children:VK.map(re=>I.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:re},onClick:()=>C(re)},re))})]})]}),!t&&I.jsxs(Ho,{children:[I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx(Wo,{asChild:!0,children:I.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[I.jsx(oE,{size:14}),I.jsx(zb,{size:12,className:"ml-0.5 opacity-50"})]})})}),I.jsx(Pr,{children:"Cell borders"})]}),I.jsxs(Yo,{children:[I.jsxs(Ct,{onClick:()=>$("all"),children:[I.jsx(oE,{size:14,className:"mr-2"}),"All borders"]}),I.jsxs(Ct,{onClick:()=>$("outer"),children:[I.jsx(PN,{size:14,className:"mr-2"}),"Outer border"]}),I.jsxs(Ct,{onClick:()=>$("inner"),children:[I.jsx(ON,{size:14,className:"mr-2"}),"Inner borders"]}),I.jsx(Vo,{}),I.jsxs(Ct,{onClick:()=>$("top"),children:[I.jsx(FN,{size:14,className:"mr-2"}),"Top border"]}),I.jsxs(Ct,{onClick:()=>$("bottom"),children:[I.jsx(IN,{size:14,className:"mr-2"}),"Bottom border"]}),I.jsxs(Ct,{onClick:()=>$("left"),children:[I.jsx(DN,{size:14,className:"mr-2"}),"Left border"]}),I.jsxs(Ct,{onClick:()=>$("right"),children:[I.jsx(LN,{size:14,className:"mr-2"}),"Right border"]}),I.jsx(Vo,{}),I.jsxs(Ct,{onClick:()=>$("clear"),children:[I.jsx(MN,{size:14,className:"mr-2"}),"Clear borders"]})]})]}),I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx("button",{className:`inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted disabled:cursor-not-allowed disabled:opacity-50 ${i?"bg-muted":""}`,onClick:k,disabled:!i&&!l,children:I.jsx(hH,{size:16})})}),I.jsx(Pr,{children:i?"Unmerge cells":`Merge cells (${cv}+Shift+M)`})]}),!t&&I.jsxs(I.Fragment,{children:[I.jsx(ah,{orientation:"vertical",className:"mx-1 h-6"}),I.jsxs(Ho,{children:[I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx(Wo,{asChild:!0,children:I.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[I.jsx(ne,{size:16}),I.jsx(zb,{size:12,className:"ml-0.5 opacity-50"})]})})}),I.jsx(Pr,{children:"Horizontal align"})]}),I.jsxs(Yo,{children:[I.jsxs(Ct,{onClick:()=>x("left"),children:[I.jsx(zw,{size:16,className:"mr-2"}),"Left"]}),I.jsxs(Ct,{onClick:()=>x("center"),children:[I.jsx(jw,{size:16,className:"mr-2"}),"Center"]}),I.jsxs(Ct,{onClick:()=>x("right"),children:[I.jsx(Uw,{size:16,className:"mr-2"}),"Right"]})]})]}),I.jsxs(Ho,{children:[I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx(Wo,{asChild:!0,children:I.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[I.jsx(he,{size:16}),I.jsx(zb,{size:12,className:"ml-0.5 opacity-50"})]})})}),I.jsx(Pr,{children:"Vertical align"})]}),I.jsxs(Yo,{children:[I.jsxs(Ct,{onClick:()=>b("top"),children:[I.jsx(Bw,{size:16,className:"mr-2"}),"Top"]}),I.jsxs(Ct,{onClick:()=>b("middle"),children:[I.jsx(kw,{size:16,className:"mr-2"}),"Middle"]}),I.jsxs(Ct,{onClick:()=>b("bottom"),children:[I.jsx(Fw,{size:16,className:"mr-2"}),"Bottom"]})]})]}),I.jsxs(Dr,{children:[I.jsx(Mr,{asChild:!0,children:I.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-[11px] font-semibold hover:bg-muted",onClick:D,children:I.jsx(BN,{size:16,className:"mr-2"})})}),I.jsx(Pr,{children:"Functions"})]})]}),t&&I.jsxs(I.Fragment,{children:[I.jsx(ah,{orientation:"vertical",className:"mx-1 h-6"}),I.jsxs(Ho,{children:[I.jsx(Wo,{asChild:!0,children:I.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",children:I.jsx(SF,{size:16})})}),I.jsxs(Yo,{align:"end",children:[I.jsx(oh,{children:"Format"}),I.jsxs(Ct,{onClick:()=>F("currency"),children:[I.jsx(pv,{size:16,className:"mr-2"}),"Currency"]}),I.jsxs(Ct,{onClick:()=>F("percent"),children:[I.jsx(oS,{size:16,className:"mr-2"}),"Percent"]}),I.jsxs(Ct,{onClick:j,children:[I.jsx(Ub,{size:16,className:"mr-2"}),"Decrease decimals"]}),I.jsxs(Ct,{onClick:B,children:[I.jsx(Ub,{size:16,className:"mr-2"}),"Increase decimals"]}),I.jsx(Vo,{}),I.jsxs(Ct,{onClick:()=>F("plain"),children:[I.jsx(Lw,{size:16,className:"mr-2"}),"Plain text"]}),I.jsxs(Ct,{onClick:()=>F("number"),children:[I.jsx(Gw,{size:16,className:"mr-2"}),"Number (",c.number,")"]}),I.jsxs(Ct,{onClick:()=>F("date"),children:[I.jsx(Vw,{size:16,className:"mr-2"}),"Date (",g.date,")"]}),I.jsx(Vo,{}),I.jsx(oh,{children:"Align"}),I.jsxs(Ct,{onClick:()=>x("left"),children:[I.jsx(zw,{size:16,className:"mr-2"}),"Left"]}),I.jsxs(Ct,{onClick:()=>x("center"),children:[I.jsx(jw,{size:16,className:"mr-2"}),"Center"]}),I.jsxs(Ct,{onClick:()=>x("right"),children:[I.jsx(Uw,{size:16,className:"mr-2"}),"Right"]}),I.jsxs(Ct,{onClick:()=>b("top"),children:[I.jsx(Bw,{size:16,className:"mr-2"}),"Top"]}),I.jsxs(Ct,{onClick:()=>b("middle"),children:[I.jsx(kw,{size:16,className:"mr-2"}),"Middle"]}),I.jsxs(Ct,{onClick:()=>b("bottom"),children:[I.jsx(Fw,{size:16,className:"mr-2"}),"Bottom"]}),I.jsx(Vo,{}),I.jsx(oh,{children:"Borders"}),I.jsxs(Ct,{onClick:()=>$("all"),children:[I.jsx(oE,{size:14,className:"mr-2"}),"All borders"]}),I.jsxs(Ct,{onClick:()=>$("outer"),children:[I.jsx(PN,{size:14,className:"mr-2"}),"Outer border"]}),I.jsxs(Ct,{onClick:()=>$("inner"),children:[I.jsx(ON,{size:14,className:"mr-2"}),"Inner borders"]}),I.jsxs(Ct,{onClick:()=>$("top"),children:[I.jsx(FN,{size:14,className:"mr-2"}),"Top border"]}),I.jsxs(Ct,{onClick:()=>$("bottom"),children:[I.jsx(IN,{size:14,className:"mr-2"}),"Bottom border"]}),I.jsxs(Ct,{onClick:()=>$("left"),children:[I.jsx(DN,{size:14,className:"mr-2"}),"Left border"]}),I.jsxs(Ct,{onClick:()=>$("right"),children:[I.jsx(LN,{size:14,className:"mr-2"}),"Right border"]}),I.jsxs(Ct,{onClick:()=>$("clear"),children:[I.jsx(MN,{size:14,className:"mr-2"}),"Clear borders"]}),I.jsx(Vo,{}),I.jsxs(Ct,{onClick:()=>m("st"),children:[I.jsx(jN,{size:16,className:"mr-2"}),"Strikethrough"]}),I.jsxs(Ct,{onClick:D,children:[I.jsx(BN,{size:16,className:"mr-2"}),"Functions"]})]})]})]})]})}const YK={theme:"system",resolvedTheme:"light",setTheme:()=>null},JR=P.createContext(YK);function qK({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[i,s]=P.useState(()=>localStorage.getItem(n)||t),[l,u]=P.useState(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");P.useEffect(()=>{const g=window.document.documentElement;g.classList.remove("light","dark");let p;if(i==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";p=m,g.classList.add(m)}else p=i,g.classList.add(i);u(p)},[i]),P.useEffect(()=>{const g=window.matchMedia("(prefers-color-scheme: dark)"),p=()=>{if(i==="system"){const m=window.document.documentElement,x=g.matches?"dark":"light";m.classList.remove("light","dark"),m.classList.add(x),u(x)}};return g.addEventListener("change",p),()=>g.removeEventListener("change",p)},[i]);const c={theme:i,resolvedTheme:l,setTheme:g=>{localStorage.setItem(n,g),s(g)}};return I.jsx(JR.Provider,{...r,value:c,children:e})}const TB=()=>{const e=P.useContext(JR);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};class KK{constructor(t,n){Y(this,"doc");Y(this,"tabId");Y(this,"cellIndex",new qR);Y(this,"dirty",!0);Y(this,"batchOverlay",null);Y(this,"batchOps",null);this.doc=t,this.tabId=n,t.subscribe(r=>{r.type==="remote-change"&&(this.dirty=!0)})}getSheet(){return this.doc.getRoot().sheets[this.tabId]}ensureIndex(){if(!this.dirty)return;const t=this.getSheet().sheet,n=[];for(const r of Object.keys(t)){const i=Lt(r);n.push([i.r,i.c])}this.cellIndex.rebuild(n),this.dirty=!1}async set(t,n){const r=nt(t);if(this.batchOverlay){this.batchOverlay.set(r,n),this.dirty||this.cellIndex.add(t.r,t.c);return}const i=this.tabId;this.doc.update(s=>{s.sheets[i].sheet[r]=n}),this.dirty||this.cellIndex.add(t.r,t.c)}async get(t){const n=nt(t);if(this.batchOverlay&&this.batchOverlay.has(n)){const r=this.batchOverlay.get(n);return r===null?void 0:r}return this.getSheet().sheet[n]}async has(t){const n=nt(t);return this.batchOverlay&&this.batchOverlay.has(n)?this.batchOverlay.get(n)!==null:this.getSheet().sheet[n]!==void 0}async delete(t){const n=nt(t);if(this.batchOverlay){let s=!1;return this.batchOverlay.has(n)?s=this.batchOverlay.get(n)!==null:s=this.getSheet().sheet[n]!==void 0,s?(this.batchOverlay.set(n,null),this.dirty||this.cellIndex.remove(t.r,t.c),!0):!1}let r=!1;const i=this.tabId;return this.doc.update(s=>{s.sheets[i].sheet[n]!==void 0&&(delete s.sheets[i].sheet[n],r=!0)}),r&&!this.dirty&&this.cellIndex.remove(t.r,t.c),r}async deleteRange(t){this.ensureIndex();const n=Array.from(this.cellIndex.cellsInRange(t)),r=new Set;if(this.batchOverlay){for(const[s,l]of n){const u=nt({r:s,c:l});this.batchOverlay.has(u)&&this.batchOverlay.get(u)===null||(this.batchOverlay.set(u,null),r.add(u))}for(const[s,l]of n)this.cellIndex.remove(s,l);return r}const i=this.tabId;this.doc.update(s=>{for(const[l,u]of n){const c=nt({r:l,c:u});delete s.sheets[i].sheet[c],r.add(c)}});for(const[s,l]of n)this.cellIndex.remove(s,l);return r}async setGrid(t){if(this.batchOverlay){for(const[r,i]of t)this.batchOverlay.set(r,i);if(!this.dirty)for(const[r]of t){const i=Lt(r);this.cellIndex.add(i.r,i.c)}return}const n=this.tabId;if(this.doc.update(r=>{for(const[i,s]of t)r.sheets[n].sheet[i]=s}),!this.dirty)for(const[r]of t){const i=Lt(r);this.cellIndex.add(i.r,i.c)}}async getGrid(t){this.ensureIndex();const n=this.getSheet().sheet,r=new Map;for(const[i,s]of this.cellIndex.cellsInRange(t)){const l=nt({r:i,c:s});if(this.batchOverlay&&this.batchOverlay.has(l)){const c=this.batchOverlay.get(l);c!==null&&r.set(l,c);continue}const u=n[l];u!==void 0&&r.set(l,u)}return r}async findEdge(t,n,r){return this.ensureIndex(),KR(this.cellIndex,t,n,r,(i,s)=>{const l=nt({r:i,c:s}),u=this.getSheet().sheet[l];return u!==void 0&&(!!u.v||!!u.f)})}async shiftCells(t,n,r){const i=this.tabId;this.doc.update(s=>{const l=s.sheets[i],u=[];for(const[b,E]of Object.entries(l.sheet))u.push([b,{v:E.v,f:E.f,s:E.s}]);for(const[b]of u)delete l.sheet[b];for(const[b,E]of u){const w=vB(b,t,n,r);w!==null&&(E.f?l.sheet[w]={...E,f:yB(E.f,t,n,r)}:l.sheet[w]={...E})}const c=t==="row"?l.rowHeights:l.colWidths,g=[];for(const[b,E]of Object.entries(c))g.push([b,E]);for(const[b]of g)delete c[b];for(const[b,E]of g){const w=Number(b);if(r>0)w>=n?c[String(w+r)]=E:c[b]=E;else{const C=Math.abs(r);w>=n&&w<n+C||(w>=n+C?c[String(w+r)]=E:c[b]=E)}}const p=t==="row"?l.rowStyles:l.colStyles;if(p){const b=[];for(const[E,w]of Object.entries(p))b.push([E,w]);for(const[E]of b)delete p[E];for(const[E,w]of b){const C=Number(E);if(r>0)C>=n?p[String(C+r)]=w:p[E]=w;else{const R=Math.abs(r);C>=n&&C<n+R||(C>=n+R?p[String(C+r)]=w:p[E]=w)}}}const m=new Map(Object.entries(l.merges||{})),x=WR(m,t,n,r);l.merges={};for(const[b,E]of x)l.merges[b]=E}),this.dirty=!0}async moveCells(t,n,r,i){const s=this.tabId;this.doc.update(l=>{const u=l.sheets[s],c=[];for(const[E,w]of Object.entries(u.sheet))c.push([E,{v:w.v,f:w.f,s:w.s}]);for(const[E]of c)delete u.sheet[E];for(const[E,w]of c){const C=Lt(E),R=Xc(C,t,n,r,i),T=nt(R);w.f?u.sheet[T]={...w,f:mB(w.f,t,n,r,i)}:u.sheet[T]={...w}}const g=t==="row"?u.rowHeights:u.colWidths,p=[];for(const[E,w]of Object.entries(g))p.push([E,w]);for(const[E]of p)delete g[E];for(const[E,w]of p){const C=Number(E),R=rf(C,n,r,i);g[String(R)]=w}const m=t==="row"?u.rowStyles:u.colStyles;if(m){const E=[];for(const[w,C]of Object.entries(m))E.push([w,C]);for(const[w]of E)delete m[w];for(const[w,C]of E){const R=Number(w),T=rf(R,n,r,i);m[String(T)]=C}}const x=new Map(Object.entries(u.merges||{})),b=YR(x,t,n,r,i);u.merges={};for(const[E,w]of b)u.merges[E]=w}),this.dirty=!0}async getFormulaGrid(){const t=new Map,n=this.getSheet().sheet;for(const[r,i]of Object.entries(n))i.f&&t.set(r,i);return t}async buildDependantsMap(t){const n=new Map,r=this.getSheet().sheet;if(this.batchOverlay){for(const[i,s]of Object.entries(r))if(!this.batchOverlay.has(i)&&s.f)for(const l of Ls(Cv(s.f)))vh(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(i));for(const[i,s]of this.batchOverlay)if(!(s===null||!s.f))for(const l of Ls(Cv(s.f)))vh(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(i));return n}for(const[i,s]of Object.entries(r))if(s.f)for(const l of Ls(Cv(s.f)))vh(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(i));return n}async setDimensionSize(t,n,r){if(this.batchOps){const s=this.tabId;this.batchOps.push(l=>{const u=t==="row"?l.sheets[s].rowHeights:l.sheets[s].colWidths;u[String(n)]=r});return}const i=this.tabId;this.doc.update(s=>{const l=t==="row"?s.sheets[i].rowHeights:s.sheets[i].colWidths;l[String(n)]=r})}async getDimensionSizes(t){const n=this.getSheet(),r=t==="row"?n.rowHeights:n.colWidths,i=new Map;if(r)for(const[s,l]of Object.entries(r))i.set(Number(s),l);return i}updateActiveCell(t){this.doc.update((n,r)=>{r.set({activeCell:nt(t)})})}getPresences(){return this.doc.getOthersPresences()}async setColumnStyle(t,n){if(this.batchOps){const i=this.tabId;this.batchOps.push(s=>{s.sheets[i].colStyles||(s.sheets[i].colStyles={}),s.sheets[i].colStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(i=>{i.sheets[r].colStyles||(i.sheets[r].colStyles={}),i.sheets[r].colStyles[String(t)]=n})}async getColumnStyles(){const t=this.getSheet(),n=new Map;if(t.colStyles)for(const[r,i]of Object.entries(t.colStyles))n.set(Number(r),i);return n}async setRowStyle(t,n){if(this.batchOps){const i=this.tabId;this.batchOps.push(s=>{s.sheets[i].rowStyles||(s.sheets[i].rowStyles={}),s.sheets[i].rowStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(i=>{i.sheets[r].rowStyles||(i.sheets[r].rowStyles={}),i.sheets[r].rowStyles[String(t)]=n})}async getRowStyles(){const t=this.getSheet(),n=new Map;if(t.rowStyles)for(const[r,i]of Object.entries(t.rowStyles))n.set(Number(r),i);return n}async setSheetStyle(t){if(this.batchOps){const r=this.tabId;this.batchOps.push(i=>{i.sheets[r].sheetStyle=t});return}const n=this.tabId;this.doc.update(r=>{r.sheets[n].sheetStyle=t})}async getSheetStyle(){const t=this.getSheet();return t.sheetStyle?{...t.sheetStyle}:void 0}async setMerge(t,n){if(this.batchOps){const s=this.tabId,l=nt(t);this.batchOps.push(u=>{u.sheets[s].merges||(u.sheets[s].merges={}),u.sheets[s].merges[l]={...n}});return}const r=this.tabId,i=nt(t);this.doc.update(s=>{s.sheets[r].merges||(s.sheets[r].merges={}),s.sheets[r].merges[i]={...n}})}async deleteMerge(t){var s;const n=nt(t);if(this.batchOps){const l=this.tabId;return!((s=this.getSheet().merges)!=null&&s[n])?!1:(this.batchOps.push(g=>{var p;(p=g.sheets[l].merges)!=null&&p[n]&&delete g.sheets[l].merges[n]}),!0)}let r=!1;const i=this.tabId;return this.doc.update(l=>{var u;(u=l.sheets[i].merges)!=null&&u[n]&&(delete l.sheets[i].merges[n],r=!0)}),r}async getMerges(){const t=this.getSheet(),n=new Map;if(!t.merges)return n;for(const[r,i]of Object.entries(t.merges))n.set(r,{...i});return n}async setFreezePane(t,n){if(this.batchOps){const i=this.tabId;this.batchOps.push(s=>{s.sheets[i].frozenRows=t,s.sheets[i].frozenCols=n});return}const r=this.tabId;this.doc.update(i=>{i.sheets[r].frozenRows=t,i.sheets[r].frozenCols=n})}async getFreezePane(){const t=this.getSheet();return{frozenRows:t.frozenRows??0,frozenCols:t.frozenCols??0}}beginBatch(){this.batchOverlay=new Map,this.batchOps=[]}endBatch(){const t=this.batchOverlay,n=this.batchOps;this.batchOverlay=null,this.batchOps=null;const r=t&&t.size>0,i=n&&n.length>0;if(!r&&!i)return;const s=this.tabId;this.doc.update(l=>{const u=l.sheets[s];if(t)for(const[c,g]of t)g===null?u.sheet[c]!==void 0&&delete u.sheet[c]:u.sheet[c]=g;if(n)for(const c of n)c(l)}),this.dirty=!0}async undo(){if(!this.doc.history.canUndo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet)),n=new Map(Object.entries(this.getSheet().merges||{}));return this.doc.history.undo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t,n)}}async redo(){if(!this.doc.history.canRedo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet)),n=new Map(Object.entries(this.getSheet().merges||{}));return this.doc.history.redo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t,n)}}computeAffectedRange(t,n){const r=new Set(Object.keys(this.getSheet().sheet)),i=new Map(Object.entries(this.getSheet().merges||{})),s=new Set;for(const p of r)t.has(p)||s.add(p);for(const p of t)r.has(p)||s.add(p);for(const[p,m]of i){const x=n.get(p);(!x||x.rs!==m.rs||x.cs!==m.cs)&&s.add(p)}for(const p of n.keys())i.has(p)||s.add(p);if(s.size===0)return;let l=1/0,u=-1/0,c=1/0,g=-1/0;for(const p of s){const m=Lt(p);m.r<l&&(l=m.r),m.r>u&&(u=m.r),m.c<c&&(c=m.c),m.c>g&&(g=m.c)}return[{r:l,c},{r:u,c:g}]}canUndo(){return this.doc.history.canUndo()}canRedo(){return this.doc.history.canRedo()}}const XK=8,ZK=280,JK=24;function NB({containerRef:e,sheetRef:t,enabled:n=!0}){const r=fR();P.useEffect(()=>{const i=e.current;if(!n||!r||!i)return;let s=0,l=0,u=0,c=0,g=!1,p=!1,m=0,x=0,b=0;const E=T=>{if(T.touches.length!==1){p=T.touches.length>1,g=!1;return}const N=T.touches[0];s=N.clientX,l=N.clientY,u=N.clientX,c=N.clientY},w=T=>{var j;if(T.touches.length!==1){p=p||T.touches.length>1;return}const N=T.touches[0],D=N.clientX-u,F=N.clientY-c,B=Math.hypot(N.clientX-s,N.clientY-l);!g&&B>=XK&&(g=!0),g&&(T.preventDefault(),(j=t.current)==null||j.panBy(-D,-F)),u=N.clientX,c=N.clientY},C=T=>{var F;if(T.touches.length>0)return;if(p){p=!1,g=!1;return}if(g){g=!1;return}const N=Date.now(),D=Math.hypot(u-x,c-b);if(m!==0&&N-m<=ZK&&D<=JK){(F=t.current)==null||F.handleMobileDoubleTap(u,c),m=0;return}m=N,x=u,b=c},R=()=>{g=!1,p=!1};return i.addEventListener("touchstart",E,{passive:!0}),i.addEventListener("touchmove",w,{passive:!1}),i.addEventListener("touchend",C,{passive:!0}),i.addEventListener("touchcancel",R,{passive:!0}),()=>{i.removeEventListener("touchstart",E),i.removeEventListener("touchmove",w),i.removeEventListener("touchend",C),i.removeEventListener("touchcancel",R)}},[e,n,r,t])}function _B({tabId:e,readOnly:t=!1}){const{resolvedTheme:n}=TB(),r=P.useRef(null),[i,s]=P.useState(!1),l=P.useRef(void 0),{doc:u,loading:c,error:g}=Fa.useDocument();return NB({containerRef:r,sheetRef:l}),P.useEffect(()=>{s(!0)},[]),P.useEffect(()=>{const p=r.current;if(!i||!p||!u)return;let m;const x=[];let b=!1,E=!1,w=!1;return CB(p,{theme:n,store:new KK(u,e),readOnly:t}).then(C=>{if(b){C.cleanup();return}m=C,l.current=C;const R=()=>{if(!(b||!m)){if(E){w=!0;return}E=!0,m.reloadDimensions().then(()=>{if(!(b||!m))return m.recalculateCrossSheetFormulas()}).finally(()=>{E=!1,w&&(w=!1,queueMicrotask(R))})}};C.setGridResolver((T,N)=>{const D=u.getRoot(),F=Object.values(D.tabs).find($=>$.name.toUpperCase()===T);if(!F)return;const B=D.sheets[F.id];if(!B)return;const j=new Map;if(B.merges)for(const[$,Z]of Object.entries(B.merges)){const ne=Lt($);for(let ie=ne.r;ie<ne.r+Z.rs;ie++)for(let he=ne.c;he<ne.c+Z.cs;he++){const De=nt({r:ie,c:he});De!==$&&j.set(De,$)}}const k=new Map;for(const $ of N){const Z=Lt($),ne=nt(Z),ie=j.get(ne)||ne,he=B.sheet[ie];he&&k.set($,he)}return k}),R(),x.push(u.subscribe(T=>{T.type==="remote-change"&&R()})),x.push(u.subscribe("presence",()=>m.renderOverlay()))}),()=>{b=!0,m&&m.cleanup(),l.current=void 0;for(const C of x)C()}},[i,r,u,e,t,n]),c?I.jsx(Pu,{}):g?I.jsx("div",{className:"flex h-full w-full items-center justify-center",children:I.jsx("div",{className:"text-red-500",children:g.message})}):I.jsxs("div",{className:"flex h-full w-full flex-col",children:[!t&&I.jsx(WK,{spreadsheet:l.current}),I.jsx("div",{ref:r,className:"flex-1 w-full",style:{touchAction:"manipulation"}})]})}function QK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const C1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bg(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function QR(e){return"nodeType"in e}function Ji(e){var t,n;return e?Bg(e)?e:QR(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function eT(e){const{Document:t}=Ji(e);return e instanceof t}function gy(e){return Bg(e)?!1:e instanceof Ji(e).HTMLElement}function IB(e){return e instanceof Ji(e).SVGElement}function jg(e){return e?Bg(e)?e.document:QR(e)?eT(e)?e:gy(e)||IB(e)?e.ownerDocument:document:document:document}const ka=C1?P.useLayoutEffect:P.useEffect;function tT(e){const t=P.useRef(e);return ka(()=>{t.current=e}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function eX(){const e=P.useRef(null),t=P.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=P.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Fv(e,t){t===void 0&&(t=[e]);const n=P.useRef(e);return ka(()=>{n.current!==e&&(n.current=e)},t),n}function my(e,t){const n=P.useRef();return P.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function OS(e){const t=tT(e),n=P.useRef(null),r=P.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function u2(e){const t=P.useRef();return P.useEffect(()=>{t.current=e},[e]),t.current}let XC={};function vy(e,t){return P.useMemo(()=>{if(t)return t;const n=XC[e]==null?0:XC[e]+1;return XC[e]=n,e+"-"+n},[e,t])}function OB(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,l)=>{const u=Object.entries(l);for(const[c,g]of u){const p=s[c];p!=null&&(s[c]=p+e*g)}return s},{...t})}}const eg=OB(1),DS=OB(-1);function tX(e){return"clientX"in e&&"clientY"in e}function nT(e){if(!e)return!1;const{KeyboardEvent:t}=Ji(e.target);return t&&e instanceof t}function nX(e){if(!e)return!1;const{TouchEvent:t}=Ji(e.target);return t&&e instanceof t}function c2(e){if(nX(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return tX(e)?{x:e.clientX,y:e.clientY}:null}const kv=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[kv.Translate.toString(e),kv.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),C3="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function rX(e){return e.matches(C3)?e:e.querySelector(C3)}const iX={display:"none"};function oX(e){let{id:t,value:n}=e;return Ke.createElement("div",{id:t,style:iX},n)}function sX(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ke.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function aX(){const[e,t]=P.useState("");return{announce:P.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const DB=P.createContext(null);function lX(e){const t=P.useContext(DB);P.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function uX(){const[e]=P.useState(()=>new Set),t=P.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[P.useCallback(r=>{let{type:i,event:s}=r;e.forEach(l=>{var u;return(u=l[i])==null?void 0:u.call(l,s)})},[e]),t]}const cX={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fX={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function dX(e){let{announcements:t=fX,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=cX}=e;const{announce:s,announcement:l}=aX(),u=vy("DndLiveRegion"),[c,g]=P.useState(!1);if(P.useEffect(()=>{g(!0)},[]),lX(P.useMemo(()=>({onDragStart(m){let{active:x}=m;s(t.onDragStart({active:x}))},onDragMove(m){let{active:x,over:b}=m;t.onDragMove&&s(t.onDragMove({active:x,over:b}))},onDragOver(m){let{active:x,over:b}=m;s(t.onDragOver({active:x,over:b}))},onDragEnd(m){let{active:x,over:b}=m;s(t.onDragEnd({active:x,over:b}))},onDragCancel(m){let{active:x,over:b}=m;s(t.onDragCancel({active:x,over:b}))}}),[s,t])),!c)return null;const p=Ke.createElement(Ke.Fragment,null,Ke.createElement(oX,{id:r,value:i.draggable}),Ke.createElement(sX,{id:u,announcement:l}));return n?Oa.createPortal(p,n):p}var Fr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Fr||(Fr={}));function MS(){}function hX(e,t){return P.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function pX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const js=Object.freeze({x:0,y:0});function gX(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function mX(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function vX(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function yX(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function w3(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const xX=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=w3(t,t.left,t.top),s=[];for(const l of r){const{id:u}=l,c=n.get(u);if(c){const g=gX(w3(c),i);s.push({id:u,data:{droppableContainer:l,value:g}})}}return s.sort(mX)};function bX(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),l=i-r,u=s-n;if(r<i&&n<s){const c=t.width*t.height,g=e.width*e.height,p=l*u,m=p/(c+g-p);return Number(m.toFixed(4))}return 0}const SX=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const s of r){const{id:l}=s,u=n.get(l);if(u){const c=bX(u,t);c>0&&i.push({id:l,data:{droppableContainer:s,value:c}})}}return i.sort(vX)};function AX(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function MB(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:js}function EX(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...n})}}const CX=EX(1);function wX(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function RX(e,t,n){const r=wX(t);if(!r)return e;const{scaleX:i,scaleY:s,x:l,y:u}=r,c=e.left-l-(1-i)*parseFloat(n),g=e.top-u-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?e.width/i:e.width,m=s?e.height/s:e.height;return{width:p,height:m,top:g,right:c+p,bottom:g+m,left:c}}const TX={ignoreTransform:!1};function zg(e,t){t===void 0&&(t=TX);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:g,transformOrigin:p}=Ji(e).getComputedStyle(e);g&&(n=RX(n,g,p))}const{top:r,left:i,width:s,height:l,bottom:u,right:c}=n;return{top:r,left:i,width:s,height:l,bottom:u,right:c}}function R3(e){return zg(e,{ignoreTransform:!0})}function NX(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function _X(e,t){return t===void 0&&(t=Ji(e).getComputedStyle(e)),t.position==="fixed"}function IX(e,t){t===void 0&&(t=Ji(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function rT(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(eT(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!gy(i)||IB(i)||n.includes(i))return n;const s=Ji(e).getComputedStyle(i);return i!==e&&IX(i,s)&&n.push(i),_X(i,s)?n:r(i.parentNode)}return e?r(e):n}function PB(e){const[t]=rT(e,1);return t??null}function ZC(e){return!C1||!e?null:Bg(e)?e:QR(e)?eT(e)||e===jg(e).scrollingElement?window:gy(e)?e:null:null}function LB(e){return Bg(e)?e.scrollX:e.scrollLeft}function FB(e){return Bg(e)?e.scrollY:e.scrollTop}function f2(e){return{x:LB(e),y:FB(e)}}var Hr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Hr||(Hr={}));function kB(e){return!C1||!e?!1:e===document.scrollingElement}function BB(e){const t={x:0,y:0},n=kB(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:l,isRight:u,maxScroll:r,minScroll:t}}const OX={x:.2,y:.2};function DX(e,t,n,r,i){let{top:s,left:l,right:u,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=OX);const{isTop:g,isBottom:p,isLeft:m,isRight:x}=BB(e),b={x:0,y:0},E={x:0,y:0},w={height:t.height*i.y,width:t.width*i.x};return!g&&s<=t.top+w.height?(b.y=Hr.Backward,E.y=r*Math.abs((t.top+w.height-s)/w.height)):!p&&c>=t.bottom-w.height&&(b.y=Hr.Forward,E.y=r*Math.abs((t.bottom-w.height-c)/w.height)),!x&&u>=t.right-w.width?(b.x=Hr.Forward,E.x=r*Math.abs((t.right-w.width-u)/w.width)):!m&&l<=t.left+w.width&&(b.x=Hr.Backward,E.x=r*Math.abs((t.left+w.width-l)/w.width)),{direction:b,speed:E}}function MX(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:l}=window;return{top:0,left:0,right:s,bottom:l,width:s,height:l}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function jB(e){return e.reduce((t,n)=>eg(t,f2(n)),js)}function PX(e){return e.reduce((t,n)=>t+LB(n),0)}function LX(e){return e.reduce((t,n)=>t+FB(n),0)}function FX(e,t){if(t===void 0&&(t=zg),!e)return;const{top:n,left:r,bottom:i,right:s}=t(e);PB(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const kX=[["x",["left","right"],PX],["y",["top","bottom"],LX]];class iT{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=rT(n),i=jB(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,l,u]of kX)for(const c of l)Object.defineProperty(this,c,{get:()=>{const g=u(r),p=i[s]-g;return this.rect[c]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Rv{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function BX(e){const{EventTarget:t}=Ji(e);return e instanceof t?e:jg(e)}function JC(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var qo;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(qo||(qo={}));function T3(e){e.preventDefault()}function jX(e){e.stopPropagation()}var Cn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Cn||(Cn={}));const zB={start:[Cn.Space,Cn.Enter],cancel:[Cn.Esc],end:[Cn.Space,Cn.Enter,Cn.Tab]},zX=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Cn.Right:return{...n,x:n.x+25};case Cn.Left:return{...n,x:n.x-25};case Cn.Down:return{...n,y:n.y+25};case Cn.Up:return{...n,y:n.y-25}}};class UB{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Rv(jg(n)),this.windowListeners=new Rv(Ji(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(qo.Resize,this.handleCancel),this.windowListeners.add(qo.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(qo.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&FX(r),n(js)}handleKeyDown(t){if(nT(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=zB,coordinateGetter:l=zX,scrollBehavior:u="smooth"}=i,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:g}=r.current,p=g?{x:g.left,y:g.top}:js;this.referenceCoordinates||(this.referenceCoordinates=p);const m=l(t,{active:n,context:r.current,currentCoordinates:p});if(m){const x=DS(m,p),b={x:0,y:0},{scrollableAncestors:E}=r.current;for(const w of E){const C=t.code,{isTop:R,isRight:T,isLeft:N,isBottom:D,maxScroll:F,minScroll:B}=BB(w),j=MX(w),k={x:Math.min(C===Cn.Right?j.right-j.width/2:j.right,Math.max(C===Cn.Right?j.left:j.left+j.width/2,m.x)),y:Math.min(C===Cn.Down?j.bottom-j.height/2:j.bottom,Math.max(C===Cn.Down?j.top:j.top+j.height/2,m.y))},$=C===Cn.Right&&!T||C===Cn.Left&&!N,Z=C===Cn.Down&&!D||C===Cn.Up&&!R;if($&&k.x!==m.x){const ne=w.scrollLeft+x.x,ie=C===Cn.Right&&ne<=F.x||C===Cn.Left&&ne>=B.x;if(ie&&!x.y){w.scrollTo({left:ne,behavior:u});return}ie?b.x=w.scrollLeft-ne:b.x=C===Cn.Right?w.scrollLeft-F.x:w.scrollLeft-B.x,b.x&&w.scrollBy({left:-b.x,behavior:u});break}else if(Z&&k.y!==m.y){const ne=w.scrollTop+x.y,ie=C===Cn.Down&&ne<=F.y||C===Cn.Up&&ne>=B.y;if(ie&&!x.x){w.scrollTo({top:ne,behavior:u});return}ie?b.y=w.scrollTop-ne:b.y=C===Cn.Down?w.scrollTop-F.y:w.scrollTop-B.y,b.y&&w.scrollBy({top:-b.y,behavior:u});break}}this.handleMove(t,eg(DS(m,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}UB.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=zB,onActivation:i}=t,{active:s}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const u=s.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function N3(e){return!!(e&&"distance"in e)}function _3(e){return!!(e&&"delay"in e)}class oT{constructor(t,n,r){var i;r===void 0&&(r=BX(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:l}=s;this.props=t,this.events=n,this.document=jg(l),this.documentListeners=new Rv(this.document),this.listeners=new Rv(r),this.windowListeners=new Rv(Ji(l)),this.initialCoordinates=(i=c2(s))!=null?i:js,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(qo.Resize,this.handleCancel),this.windowListeners.add(qo.DragStart,T3),this.windowListeners.add(qo.VisibilityChange,this.handleCancel),this.windowListeners.add(qo.ContextMenu,T3),this.documentListeners.add(qo.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(_3(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(N3(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(qo.Click,jX,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(qo.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:l,options:{activationConstraint:u}}=s;if(!i)return;const c=(n=c2(t))!=null?n:js,g=DS(i,c);if(!r&&u){if(N3(u)){if(u.tolerance!=null&&JC(g,u.tolerance))return this.handleCancel();if(JC(g,u.distance))return this.handleStart()}if(_3(u)&&JC(g,u.tolerance))return this.handleCancel();this.handlePending(u,g);return}t.cancelable&&t.preventDefault(),l(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Cn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const UX={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class sT extends oT{constructor(t){const{event:n}=t,r=jg(n.target);super(t,UX,r)}}sT.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const VX={move:{name:"mousemove"},end:{name:"mouseup"}};var d2;(function(e){e[e.RightClick=2]="RightClick"})(d2||(d2={}));class GX extends oT{constructor(t){super(t,VX,jg(t.event.target))}}GX.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===d2.RightClick?!1:(r==null||r({event:n}),!0)}}];const QC={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $X extends oT{constructor(t){super(t,QC)}static setup(){return window.addEventListener(QC.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(QC.move.name,t)};function t(){}}}$X.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Tv;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Tv||(Tv={}));var PS;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(PS||(PS={}));function HX(e){let{acceleration:t,activator:n=Tv.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:l=5,order:u=PS.TreeOrder,pointerCoordinates:c,scrollableAncestors:g,scrollableAncestorRects:p,delta:m,threshold:x}=e;const b=YX({delta:m,disabled:!s}),[E,w]=eX(),C=P.useRef({x:0,y:0}),R=P.useRef({x:0,y:0}),T=P.useMemo(()=>{switch(n){case Tv.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Tv.DraggableRect:return i}},[n,i,c]),N=P.useRef(null),D=P.useCallback(()=>{const B=N.current;if(!B)return;const j=C.current.x*R.current.x,k=C.current.y*R.current.y;B.scrollBy(j,k)},[]),F=P.useMemo(()=>u===PS.TreeOrder?[...g].reverse():g,[u,g]);P.useEffect(()=>{if(!s||!g.length||!T){w();return}for(const B of F){if((r==null?void 0:r(B))===!1)continue;const j=g.indexOf(B),k=p[j];if(!k)continue;const{direction:$,speed:Z}=DX(B,k,T,t,x);for(const ne of["x","y"])b[ne][$[ne]]||(Z[ne]=0,$[ne]=0);if(Z.x>0||Z.y>0){w(),N.current=B,E(D,l),C.current=Z,R.current=$;return}}C.current={x:0,y:0},R.current={x:0,y:0},w()},[t,D,r,w,s,l,JSON.stringify(T),JSON.stringify(b),E,g,F,p,JSON.stringify(x)])}const WX={x:{[Hr.Backward]:!1,[Hr.Forward]:!1},y:{[Hr.Backward]:!1,[Hr.Forward]:!1}};function YX(e){let{delta:t,disabled:n}=e;const r=u2(t);return my(i=>{if(n||!r||!i)return WX;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Hr.Backward]:i.x[Hr.Backward]||s.x===-1,[Hr.Forward]:i.x[Hr.Forward]||s.x===1},y:{[Hr.Backward]:i.y[Hr.Backward]||s.y===-1,[Hr.Forward]:i.y[Hr.Forward]||s.y===1}}},[n,t,r])}function qX(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return my(i=>{var s;return t==null?null:(s=r??i)!=null?s:null},[r,t])}function KX(e,t){return P.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...s]},[]),[e,t])}var Bv;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Bv||(Bv={}));var h2;(function(e){e.Optimized="optimized"})(h2||(h2={}));const I3=new Map;function XX(e,t){let{dragging:n,dependencies:r,config:i}=t;const[s,l]=P.useState(null),{frequency:u,measure:c,strategy:g}=i,p=P.useRef(e),m=C(),x=Fv(m),b=P.useCallback(function(R){R===void 0&&(R=[]),!x.current&&l(T=>T===null?R:T.concat(R.filter(N=>!T.includes(N))))},[x]),E=P.useRef(null),w=my(R=>{if(m&&!n)return I3;if(!R||R===I3||p.current!==e||s!=null){const T=new Map;for(let N of e){if(!N)continue;if(s&&s.length>0&&!s.includes(N.id)&&N.rect.current){T.set(N.id,N.rect.current);continue}const D=N.node.current,F=D?new iT(c(D),D):null;N.rect.current=F,F&&T.set(N.id,F)}return T}return R},[e,s,n,m,c]);return P.useEffect(()=>{p.current=e},[e]),P.useEffect(()=>{m||b()},[n,m]),P.useEffect(()=>{s&&s.length>0&&l(null)},[JSON.stringify(s)]),P.useEffect(()=>{m||typeof u!="number"||E.current!==null||(E.current=setTimeout(()=>{b(),E.current=null},u))},[u,m,b,...r]),{droppableRects:w,measureDroppableContainers:b,measuringScheduled:s!=null};function C(){switch(g){case Bv.Always:return!1;case Bv.BeforeDragging:return n;default:return!n}}}function VB(e,t){return my(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function ZX(e,t){return VB(e,t)}function JX(e){let{callback:t,disabled:n}=e;const r=tT(t),i=P.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return P.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function w1(e){let{callback:t,disabled:n}=e;const r=tT(t),i=P.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return P.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function QX(e){return new iT(zg(e),e)}function O3(e,t,n){t===void 0&&(t=QX);const[r,i]=P.useState(null);function s(){i(c=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=c??n)!=null?g:null}const p=t(e);return JSON.stringify(c)===JSON.stringify(p)?c:p})}const l=JX({callback(c){if(e)for(const g of c){const{type:p,target:m}=g;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){s();break}}}}),u=w1({callback:s});return ka(()=>{s(),e?(u==null||u.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[e]),r}function eZ(e){const t=VB(e);return MB(e,t)}const D3=[];function tZ(e){const t=P.useRef(e),n=my(r=>e?r&&r!==D3&&e&&t.current&&e.parentNode===t.current.parentNode?r:rT(e):D3,[e]);return P.useEffect(()=>{t.current=e},[e]),n}function nZ(e){const[t,n]=P.useState(null),r=P.useRef(e),i=P.useCallback(s=>{const l=ZC(s.target);l&&n(u=>u?(u.set(l,f2(l)),new Map(u)):null)},[]);return P.useEffect(()=>{const s=r.current;if(e!==s){l(s);const u=e.map(c=>{const g=ZC(c);return g?(g.addEventListener("scroll",i,{passive:!0}),[g,f2(g)]):null}).filter(c=>c!=null);n(u.length?new Map(u):null),r.current=e}return()=>{l(e),l(s)};function l(u){u.forEach(c=>{const g=ZC(c);g==null||g.removeEventListener("scroll",i)})}},[i,e]),P.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,l)=>eg(s,l),js):jB(e):js,[e,t])}function M3(e,t){t===void 0&&(t=[]);const n=P.useRef(null);return P.useEffect(()=>{n.current=null},t),P.useEffect(()=>{const r=e!==js;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?DS(e,n.current):js}function rZ(e){P.useEffect(()=>{if(!C1)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function iZ(e,t){return P.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=l=>{s(l,t)},n},{}),[e,t])}function GB(e){return P.useMemo(()=>e?NX(e):null,[e])}const P3=[];function oZ(e,t){t===void 0&&(t=zg);const[n]=e,r=GB(n?Ji(n):null),[i,s]=P.useState(P3);function l(){s(()=>e.length?e.map(c=>kB(c)?r:new iT(t(c),c)):P3)}const u=w1({callback:l});return ka(()=>{u==null||u.disconnect(),l(),e.forEach(c=>u==null?void 0:u.observe(c))},[e]),i}function sZ(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return gy(t)?t:e}function aZ(e){let{measure:t}=e;const[n,r]=P.useState(null),i=P.useCallback(g=>{for(const{target:p}of g)if(gy(p)){r(m=>{const x=t(p);return m?{...m,width:x.width,height:x.height}:x});break}},[t]),s=w1({callback:i}),l=P.useCallback(g=>{const p=sZ(g);s==null||s.disconnect(),p&&(s==null||s.observe(p)),r(p?t(p):null)},[t,s]),[u,c]=OS(l);return P.useMemo(()=>({nodeRef:u,rect:n,setRef:c}),[n,u,c])}const lZ=[{sensor:sT,options:{}},{sensor:UB,options:{}}],uZ={current:{}},hS={draggable:{measure:R3},droppable:{measure:R3,strategy:Bv.WhileDragging,frequency:h2.Optimized},dragOverlay:{measure:zg}};class Nv extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const cZ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Nv,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:MS},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:hS,measureDroppableContainers:MS,windowRect:null,measuringScheduled:!1},fZ={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:MS,draggableNodes:new Map,over:null,measureDroppableContainers:MS},R1=P.createContext(fZ),$B=P.createContext(cZ);function dZ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Nv}}}function hZ(e,t){switch(t.type){case Fr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Fr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Fr.DragEnd:case Fr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fr.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Nv(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Fr.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const l=new Nv(e.droppable.containers);return l.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case Fr.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new Nv(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function pZ(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=P.useContext(R1),s=u2(r),l=u2(n==null?void 0:n.id);return P.useEffect(()=>{if(!t&&!r&&s&&l!=null){if(!nT(s)||document.activeElement===s.target)return;const u=i.get(l);if(!u)return;const{activatorNode:c,node:g}=u;if(!c.current&&!g.current)return;requestAnimationFrame(()=>{for(const p of[c.current,g.current]){if(!p)continue;const m=rX(p);if(m){m.focus();break}}})}},[r,t,i,l,s]),null}function gZ(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...r}),n):n}function mZ(e){return P.useMemo(()=>({draggable:{...hS.draggable,...e==null?void 0:e.draggable},droppable:{...hS.droppable,...e==null?void 0:e.droppable},dragOverlay:{...hS.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function vZ(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const s=P.useRef(!1),{x:l,y:u}=typeof i=="boolean"?{x:i,y:i}:i;ka(()=>{if(!l&&!u||!t){s.current=!1;return}if(s.current||!r)return;const g=t==null?void 0:t.node.current;if(!g||g.isConnected===!1)return;const p=n(g),m=MB(p,r);if(l||(m.x=0),u||(m.y=0),s.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const x=PB(g);x&&x.scrollBy({top:m.y,left:m.x})}},[t,l,u,r,n])}const HB=P.createContext({...js,scaleX:1,scaleY:1});var Fc;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Fc||(Fc={}));const yZ=P.memo(function(t){var n,r,i,s;let{id:l,accessibility:u,autoScroll:c=!0,children:g,sensors:p=lZ,collisionDetection:m=SX,measuring:x,modifiers:b,...E}=t;const w=P.useReducer(hZ,void 0,dZ),[C,R]=w,[T,N]=uX(),[D,F]=P.useState(Fc.Uninitialized),B=D===Fc.Initialized,{draggable:{active:j,nodes:k,translate:$},droppable:{containers:Z}}=C,ne=j!=null?k.get(j):null,ie=P.useRef({initial:null,translated:null}),he=P.useMemo(()=>{var cn;return j!=null?{id:j,data:(cn=ne==null?void 0:ne.data)!=null?cn:uZ,rect:ie}:null},[j,ne]),De=P.useRef(null),[Te,re]=P.useState(null),[Ae,de]=P.useState(null),ue=Fv(E,Object.values(E)),K=vy("DndDescribedBy",l),oe=P.useMemo(()=>Z.getEnabled(),[Z]),pe=mZ(x),{droppableRects:z,measureDroppableContainers:U,measuringScheduled:G}=XX(oe,{dragging:B,dependencies:[$.x,$.y],config:pe.droppable}),W=qX(k,j),Q=P.useMemo(()=>Ae?c2(Ae):null,[Ae]),X=Kn(),J=ZX(W,pe.draggable.measure);vZ({activeNode:j!=null?k.get(j):null,config:X.layoutShiftCompensation,initialRect:J,measure:pe.draggable.measure});const se=O3(W,pe.draggable.measure,J),xe=O3(W?W.parentElement:null),be=P.useRef({activatorEvent:null,active:null,activeNode:W,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ae=Z.getNodeFor((n=be.current.over)==null?void 0:n.id),le=aZ({measure:pe.dragOverlay.measure}),Ce=(r=le.nodeRef.current)!=null?r:W,Oe=B?(i=le.rect)!=null?i:se:null,je=!!(le.nodeRef.current&&le.rect),Ue=eZ(je?null:se),ve=GB(Ce?Ji(Ce):null),Pe=tZ(B?ae??W:null),Ze=oZ(Pe),pt=gZ(b,{transform:{x:$.x-Ue.x,y:$.y-Ue.y,scaleX:1,scaleY:1},activatorEvent:Ae,active:he,activeNodeRect:se,containerNodeRect:xe,draggingNodeRect:Oe,over:be.current.over,overlayNodeRect:le.rect,scrollableAncestors:Pe,scrollableAncestorRects:Ze,windowRect:ve}),gt=Q?eg(Q,$):null,me=nZ(Pe),_e=M3(me),qe=M3(me,[se]),Ye=eg(pt,_e),tt=Oe?CX(Oe,pt):null,lt=he&&tt?m({active:he,collisionRect:tt,droppableRects:z,droppableContainers:oe,pointerCoordinates:gt}):null,xt=yX(lt,"id"),[Tt,Ot]=P.useState(null),un=je?pt:eg(pt,qe),ke=AX(un,(s=Tt==null?void 0:Tt.rect)!=null?s:null,se),rt=P.useRef(null),mt=P.useCallback((cn,tr)=>{let{sensor:it,options:fn}=tr;if(De.current==null)return;const tn=k.get(De.current);if(!tn)return;const sn=cn.nativeEvent,vr=new it({active:De.current,activeNode:tn,event:sn,options:fn,context:be,onAbort(jt){if(!k.get(jt))return;const{onDragAbort:Ft}=ue.current,Rn={id:jt};Ft==null||Ft(Rn),T({type:"onDragAbort",event:Rn})},onPending(jt,dn,Ft,Rn){if(!k.get(jt))return;const{onDragPending:Sr}=ue.current,yi={id:jt,constraint:dn,initialCoordinates:Ft,offset:Rn};Sr==null||Sr(yi),T({type:"onDragPending",event:yi})},onStart(jt){const dn=De.current;if(dn==null)return;const Ft=k.get(dn);if(!Ft)return;const{onDragStart:Rn}=ue.current,Di={activatorEvent:sn,active:{id:dn,data:Ft.data,rect:ie}};Oa.unstable_batchedUpdates(()=>{Rn==null||Rn(Di),F(Fc.Initializing),R({type:Fr.DragStart,initialCoordinates:jt,active:dn}),T({type:"onDragStart",event:Di}),re(rt.current),de(sn)})},onMove(jt){R({type:Fr.DragMove,coordinates:jt})},onEnd:Xt(Fr.DragEnd),onCancel:Xt(Fr.DragCancel)});rt.current=vr;function Xt(jt){return async function(){const{active:Ft,collisions:Rn,over:Di,scrollAdjustedTranslate:Sr}=be.current;let yi=null;if(Ft&&Sr){const{cancelDrop:Jo}=ue.current;yi={activatorEvent:sn,active:Ft,collisions:Rn,delta:Sr,over:Di},jt===Fr.DragEnd&&typeof Jo=="function"&&await Promise.resolve(Jo(yi))&&(jt=Fr.DragCancel)}De.current=null,Oa.unstable_batchedUpdates(()=>{R({type:jt}),F(Fc.Uninitialized),Ot(null),re(null),de(null),rt.current=null;const Jo=jt===Fr.DragEnd?"onDragEnd":"onDragCancel";if(yi){const Qi=ue.current[Jo];Qi==null||Qi(yi),T({type:Jo,event:yi})}})}}},[k]),At=P.useCallback((cn,tr)=>(it,fn)=>{const tn=it.nativeEvent,sn=k.get(fn);if(De.current!==null||!sn||tn.dndKit||tn.defaultPrevented)return;const vr={active:sn};cn(it,tr.options,vr)===!0&&(tn.dndKit={capturedBy:tr.sensor},De.current=fn,mt(it,tr))},[k,mt]),Mt=KX(p,At);rZ(p),ka(()=>{se&&D===Fc.Initializing&&F(Fc.Initialized)},[se,D]),P.useEffect(()=>{const{onDragMove:cn}=ue.current,{active:tr,activatorEvent:it,collisions:fn,over:tn}=be.current;if(!tr||!it)return;const sn={active:tr,activatorEvent:it,collisions:fn,delta:{x:Ye.x,y:Ye.y},over:tn};Oa.unstable_batchedUpdates(()=>{cn==null||cn(sn),T({type:"onDragMove",event:sn})})},[Ye.x,Ye.y]),P.useEffect(()=>{const{active:cn,activatorEvent:tr,collisions:it,droppableContainers:fn,scrollAdjustedTranslate:tn}=be.current;if(!cn||De.current==null||!tr||!tn)return;const{onDragOver:sn}=ue.current,vr=fn.get(xt),Xt=vr&&vr.rect.current?{id:vr.id,rect:vr.rect.current,data:vr.data,disabled:vr.disabled}:null,jt={active:cn,activatorEvent:tr,collisions:it,delta:{x:tn.x,y:tn.y},over:Xt};Oa.unstable_batchedUpdates(()=>{Ot(Xt),sn==null||sn(jt),T({type:"onDragOver",event:jt})})},[xt]),ka(()=>{be.current={activatorEvent:Ae,active:he,activeNode:W,collisionRect:tt,collisions:lt,droppableRects:z,draggableNodes:k,draggingNode:Ce,draggingNodeRect:Oe,droppableContainers:Z,over:Tt,scrollableAncestors:Pe,scrollAdjustedTranslate:Ye},ie.current={initial:Oe,translated:tt}},[he,W,lt,tt,k,Ce,Oe,z,Z,Tt,Pe,Ye]),HX({...X,delta:$,draggingRect:tt,pointerCoordinates:gt,scrollableAncestors:Pe,scrollableAncestorRects:Ze});const bn=P.useMemo(()=>({active:he,activeNode:W,activeNodeRect:se,activatorEvent:Ae,collisions:lt,containerNodeRect:xe,dragOverlay:le,draggableNodes:k,droppableContainers:Z,droppableRects:z,over:Tt,measureDroppableContainers:U,scrollableAncestors:Pe,scrollableAncestorRects:Ze,measuringConfiguration:pe,measuringScheduled:G,windowRect:ve}),[he,W,se,Ae,lt,xe,le,k,Z,z,Tt,U,Pe,Ze,pe,G,ve]),zn=P.useMemo(()=>({activatorEvent:Ae,activators:Mt,active:he,activeNodeRect:se,ariaDescribedById:{draggable:K},dispatch:R,draggableNodes:k,over:Tt,measureDroppableContainers:U}),[Ae,Mt,he,se,R,K,k,Tt,U]);return Ke.createElement(DB.Provider,{value:N},Ke.createElement(R1.Provider,{value:zn},Ke.createElement($B.Provider,{value:bn},Ke.createElement(HB.Provider,{value:ke},g)),Ke.createElement(pZ,{disabled:(u==null?void 0:u.restoreFocus)===!1})),Ke.createElement(dX,{...u,hiddenTextDescribedById:K}));function Kn(){const cn=(Te==null?void 0:Te.autoScrollEnabled)===!1,tr=typeof c=="object"?c.enabled===!1:c===!1,it=B&&!cn&&!tr;return typeof c=="object"?{...c,enabled:it}:{enabled:it}}}),xZ=P.createContext(null),L3="button",bZ="Draggable";function SZ(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const s=vy(bZ),{activators:l,activatorEvent:u,active:c,activeNodeRect:g,ariaDescribedById:p,draggableNodes:m,over:x}=P.useContext(R1),{role:b=L3,roleDescription:E="draggable",tabIndex:w=0}=i??{},C=(c==null?void 0:c.id)===t,R=P.useContext(C?HB:xZ),[T,N]=OS(),[D,F]=OS(),B=iZ(l,t),j=Fv(n);ka(()=>(m.set(t,{id:t,key:s,node:T,activatorNode:D,data:j}),()=>{const $=m.get(t);$&&$.key===s&&m.delete(t)}),[m,t]);const k=P.useMemo(()=>({role:b,tabIndex:w,"aria-disabled":r,"aria-pressed":C&&b===L3?!0:void 0,"aria-roledescription":E,"aria-describedby":p.draggable}),[r,b,w,C,E,p.draggable]);return{active:c,activatorEvent:u,activeNodeRect:g,attributes:k,isDragging:C,listeners:r?void 0:B,node:T,over:x,setNodeRef:N,setActivatorNodeRef:F,transform:R}}function AZ(){return P.useContext($B)}const EZ="Droppable",CZ={timeout:25};function wZ(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const s=vy(EZ),{active:l,dispatch:u,over:c,measureDroppableContainers:g}=P.useContext(R1),p=P.useRef({disabled:n}),m=P.useRef(!1),x=P.useRef(null),b=P.useRef(null),{disabled:E,updateMeasurementsFor:w,timeout:C}={...CZ,...i},R=Fv(w??r),T=P.useCallback(()=>{if(!m.current){m.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{g(Array.isArray(R.current)?R.current:[R.current]),b.current=null},C)},[C]),N=w1({callback:T,disabled:E||!l}),D=P.useCallback((k,$)=>{N&&($&&(N.unobserve($),m.current=!1),k&&N.observe(k))},[N]),[F,B]=OS(D),j=Fv(t);return P.useEffect(()=>{!N||!F.current||(N.disconnect(),m.current=!1,N.observe(F.current))},[F,N]),P.useEffect(()=>(u({type:Fr.RegisterDroppable,element:{id:r,key:s,disabled:n,node:F,rect:x,data:j}}),()=>u({type:Fr.UnregisterDroppable,key:s,id:r})),[r]),P.useEffect(()=>{n!==p.current.disabled&&(u({type:Fr.SetDroppableDisabled,id:r,key:s,disabled:n}),p.current.disabled=n)},[r,s,n,u]),{active:l,rect:x,isOver:(c==null?void 0:c.id)===r,node:F,over:c,setNodeRef:B}}function WB(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function RZ(e,t){return e.reduce((n,r,i)=>{const s=t.get(r);return s&&(n[i]=s),n},Array(e.length))}function qb(e){return e!==null&&e>=0}function TZ(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function NZ(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Kb={scaleX:1,scaleY:1},_Z=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:i,overIndex:s,index:l}=e;const u=(t=n[i])!=null?t:r;if(!u)return null;const c=IZ(n,l,i);if(l===i){const g=n[s];return g?{x:i<s?g.left+g.width-(u.left+u.width):g.left-u.left,y:0,...Kb}:null}return l>i&&l<=s?{x:-u.width-c,y:0,...Kb}:l<i&&l>=s?{x:u.width+c,y:0,...Kb}:{x:0,y:0,...Kb}};function IZ(e,t,n){const r=e[t],i=e[t-1],s=e[t+1];return!r||!i&&!s?0:n<t?i?r.left-(i.left+i.width):s.left-(r.left+r.width):s?s.left-(r.left+r.width):r.left-(i.left+i.width)}const YB=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const s=WB(t,r,n),l=t[i],u=s[i];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},qB="Sortable",KB=Ke.createContext({activeIndex:-1,containerId:qB,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:YB,disabled:{draggable:!1,droppable:!1}});function OZ(e){let{children:t,id:n,items:r,strategy:i=YB,disabled:s=!1}=e;const{active:l,dragOverlay:u,droppableRects:c,over:g,measureDroppableContainers:p}=AZ(),m=vy(qB,n),x=u.rect!==null,b=P.useMemo(()=>r.map(B=>typeof B=="object"&&"id"in B?B.id:B),[r]),E=l!=null,w=l?b.indexOf(l.id):-1,C=g?b.indexOf(g.id):-1,R=P.useRef(b),T=!TZ(b,R.current),N=C!==-1&&w===-1||T,D=NZ(s);ka(()=>{T&&E&&p(b)},[T,b,E,p]),P.useEffect(()=>{R.current=b},[b]);const F=P.useMemo(()=>({activeIndex:w,containerId:m,disabled:D,disableTransforms:N,items:b,overIndex:C,useDragOverlay:x,sortedRects:RZ(b,c),strategy:i}),[w,m,D.draggable,D.droppable,N,b,C,c,x,i]);return Ke.createElement(KB.Provider,{value:F},t)}const DZ=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return WB(n,r,i).indexOf(t)},MZ=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:l,previousItems:u,previousContainerId:c,transition:g}=e;return!g||!r||u!==s&&i===l?!1:n?!0:l!==i&&t===c},PZ={duration:200,easing:"ease"},XB="transform",LZ=kv.Transition.toString({property:XB,duration:0,easing:"linear"}),FZ={roleDescription:"sortable"};function kZ(e){let{disabled:t,index:n,node:r,rect:i}=e;const[s,l]=P.useState(null),u=P.useRef(n);return ka(()=>{if(!t&&n!==u.current&&r.current){const c=i.current;if(c){const g=zg(r.current,{ignoreTransform:!0}),p={x:c.left-g.left,y:c.top-g.top,scaleX:c.width/g.width,scaleY:c.height/g.height};(p.x||p.y)&&l(p)}}n!==u.current&&(u.current=n)},[t,n,r,i]),P.useEffect(()=>{s&&l(null)},[s]),s}function BZ(e){let{animateLayoutChanges:t=MZ,attributes:n,disabled:r,data:i,getNewIndex:s=DZ,id:l,strategy:u,resizeObserverConfig:c,transition:g=PZ}=e;const{items:p,containerId:m,activeIndex:x,disabled:b,disableTransforms:E,sortedRects:w,overIndex:C,useDragOverlay:R,strategy:T}=P.useContext(KB),N=jZ(r,b),D=p.indexOf(l),F=P.useMemo(()=>({sortable:{containerId:m,index:D,items:p},...i}),[m,i,D,p]),B=P.useMemo(()=>p.slice(p.indexOf(l)),[p,l]),{rect:j,node:k,isOver:$,setNodeRef:Z}=wZ({id:l,data:F,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:B,...c}}),{active:ne,activatorEvent:ie,activeNodeRect:he,attributes:De,setNodeRef:Te,listeners:re,isDragging:Ae,over:de,setActivatorNodeRef:ue,transform:K}=SZ({id:l,data:F,attributes:{...FZ,...n},disabled:N.draggable}),oe=QK(Z,Te),pe=!!ne,z=pe&&!E&&qb(x)&&qb(C),U=!R&&Ae,G=U&&z?K:null,Q=z?G??(u??T)({rects:w,activeNodeRect:he,activeIndex:x,overIndex:C,index:D}):null,X=qb(x)&&qb(C)?s({id:l,items:p,activeIndex:x,overIndex:C}):D,J=ne==null?void 0:ne.id,se=P.useRef({activeId:J,items:p,newIndex:X,containerId:m}),xe=p!==se.current.items,be=t({active:ne,containerId:m,isDragging:Ae,isSorting:pe,id:l,index:D,items:p,newIndex:se.current.newIndex,previousItems:se.current.items,previousContainerId:se.current.containerId,transition:g,wasDragging:se.current.activeId!=null}),ae=kZ({disabled:!be,index:D,node:k,rect:j});return P.useEffect(()=>{pe&&se.current.newIndex!==X&&(se.current.newIndex=X),m!==se.current.containerId&&(se.current.containerId=m),p!==se.current.items&&(se.current.items=p)},[pe,X,m,p]),P.useEffect(()=>{if(J===se.current.activeId)return;if(J!=null&&se.current.activeId==null){se.current.activeId=J;return}const Ce=setTimeout(()=>{se.current.activeId=J},50);return()=>clearTimeout(Ce)},[J]),{active:ne,activeIndex:x,attributes:De,data:F,rect:j,index:D,newIndex:X,items:p,isOver:$,isSorting:pe,isDragging:Ae,listeners:re,node:k,overIndex:C,over:de,setNodeRef:oe,setActivatorNodeRef:ue,setDroppableNodeRef:Z,setDraggableNodeRef:Te,transform:ae??Q,transition:le()};function le(){if(ae||xe&&se.current.newIndex===D)return LZ;if(!(U&&!nT(ie)||!g)&&(pe||be))return kv.Transition.toString({...g,property:XB})}}function jZ(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Cn.Down,Cn.Right,Cn.Up,Cn.Left;const zZ=e=>{let{transform:t}=e;return{...t,y:0}};function UZ({tab:e,isActive:t,isEditing:n,editValue:r,onEditValueChange:i,onSelect:s,onStartRename:l,onCommitRename:u,onCancelRename:c,onContextMenu:g,inputRef:p}){const{attributes:m,listeners:x,setNodeRef:b,transform:E,transition:w,isDragging:C}=BZ({id:e.id,disabled:n}),R={transform:kv.Translate.toString(E),transition:w,zIndex:C?10:void 0,opacity:C?.5:void 0};return I.jsxs("button",{ref:b,style:R,className:St("flex items-center gap-1.5 px-3 py-1 text-sm rounded-t border-b-2 cursor-pointer select-none","hover:bg-muted/50 transition-colors",t?"border-primary bg-background text-foreground font-medium":"border-transparent text-muted-foreground"),onClick:s,onDoubleClick:l,onContextMenu:g,...m,...x,children:[e.type==="datasource"?I.jsx(ry,{className:"size-3.5"}):I.jsx(wF,{className:"size-3.5"}),n?I.jsx("input",{ref:p,className:"w-20 bg-transparent border-b border-primary text-sm outline-none",value:r,onChange:T=>i(T.target.value),onBlur:u,onKeyDown:T=>{T.key==="Enter"&&u(),T.key==="Escape"&&c(),T.stopPropagation()},onMouseDown:T=>T.stopPropagation(),onClick:T=>T.stopPropagation(),onPointerDown:T=>T.stopPropagation()}):I.jsx("span",{children:e.name})]})}function VZ({tabs:e,activeTabId:t,onSelectTab:n,onAddTab:r,onRenameTab:i,onDeleteTab:s,onMoveTab:l}){const[u,c]=P.useState(null),[g,p]=P.useState(""),[m,x]=P.useState(null),b=P.useRef(null),E=pX(hX(sT,{activationConstraint:{distance:5}}));P.useEffect(()=>{if(!u)return;const N=setTimeout(()=>{b.current&&(b.current.focus(),b.current.select())},50);return()=>clearTimeout(N)},[u]);const w=P.useCallback(N=>{c(N.id),p(N.name)},[]),C=P.useCallback(()=>{u&&g.trim()&&i(u,g.trim()),c(null)},[u,g,i]),R=P.useCallback(()=>{c(null)},[]),T=P.useCallback(N=>{const{active:D,over:F}=N;if(!F||D.id===F.id||!l)return;const B=e.findIndex(k=>k.id===D.id),j=e.findIndex(k=>k.id===F.id);B!==-1&&j!==-1&&l(B,j)},[e,l]);return I.jsxs("div",{className:"flex items-center border-t bg-muted/30 px-1 h-9 shrink-0",children:[I.jsx(yZ,{sensors:E,collisionDetection:xX,modifiers:[zZ],onDragEnd:T,children:I.jsx(OZ,{items:e.map(N=>N.id),strategy:_Z,children:e.map(N=>I.jsxs(Ho,{open:m===N.id,onOpenChange:D=>{D||x(null)},children:[I.jsx(Wo,{asChild:!0,children:I.jsx("div",{children:I.jsx(UZ,{tab:N,isActive:N.id===t,isEditing:u===N.id,editValue:g,onEditValueChange:p,onSelect:()=>n(N.id),onStartRename:()=>w(N),onCommitRename:C,onCancelRename:R,onContextMenu:D=>{D.preventDefault(),x(N.id)},inputRef:b})})}),I.jsxs(Yo,{align:"start",children:[I.jsx(Ct,{onClick:()=>{x(null),setTimeout(()=>w(N),0)},children:"Rename"}),e.length>1&&I.jsxs(I.Fragment,{children:[I.jsx(Vo,{}),I.jsx(Ct,{variant:"destructive",onClick:()=>s(N.id),children:"Delete"})]})]})]},N.id))})}),I.jsxs(Ho,{children:[I.jsx(Wo,{asChild:!0,children:I.jsx("button",{className:"flex items-center justify-center size-7 ml-1 rounded hover:bg-muted/50 text-muted-foreground cursor-pointer",children:I.jsx(EF,{className:"size-4"})})}),I.jsxs(Yo,{align:"start",children:[I.jsxs(Ct,{onClick:()=>r("sheet"),children:[I.jsx(wF,{className:"size-4"}),"New Sheet"]}),I.jsxs(Ct,{onClick:()=>r("datasource"),children:[I.jsx(ry,{className:"size-4"}),"New DataSource"]})]})]})]})}const Ug="https://wafflebase-api.yorkie.dev/datasources";async function F3(e){const t=await Ii(Ug,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create datasource");return t.json()}async function p2(){const e=await Ii(Ug);if(!e.ok)throw new Error("Failed to fetch datasources");return e.json()}async function GZ(e,t){const n=await Ii(`${Ug}/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update datasource");return n.json()}async function $Z(e){if(!(await Ii(`${Ug}/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete datasource")}async function LS(e){const t=await Ii(`${Ug}/${e}/test`,{method:"POST"});if(!t.ok)throw new Error("Failed to test connection");return t.json()}async function HZ(e,t){const n=await Ii(`${Ug}/${e}/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.message||"Query execution failed")}return n.json()}function WZ({tabId:e}){const{resolvedTheme:t}=TB(),n=P.useRef(null),[r,i]=P.useState(!1),s=P.useRef(void 0),l=P.useRef(new Zq),{doc:u,loading:c,error:g}=Fa.useDocument(),[p,m]=P.useState(""),[x,b]=P.useState(!1),[E,w]=P.useState(null),[C,R]=P.useState(null);NB({containerRef:n,sheetRef:s}),P.useEffect(()=>{i(!0)},[]),P.useEffect(()=>{if(!u)return;const F=u.getRoot().tabs[e];F!=null&&F.query&&m(F.query)},[u,e]),P.useEffect(()=>{const D=n.current;if(!r||!D)return;let F,B=!1;return CB(D,{theme:t,store:l.current,readOnly:!0}).then(j=>{if(B){j.cleanup();return}F=j,s.current=j}),()=>{B=!0,F&&F.cleanup(),s.current=void 0}},[r,t]);const T=P.useCallback(async()=>{if(!u||!p.trim())return;const F=u.getRoot().tabs[e];if(!(F!=null&&F.datasourceId)){R("No datasource connected to this tab");return}u.update(B=>{B.tabs[e]&&(B.tabs[e].query=p)}),b(!0),R(null);try{const B=await HZ(F.datasourceId,p);w(B),l.current.loadQueryResults(B.columns,B.rows),s.current&&(await s.current.reloadDimensions(),s.current.render())}catch(B){R(B.message)}finally{b(!1)}},[u,e,p]),N=P.useCallback(D=>{(D.metaKey||D.ctrlKey)&&D.key==="Enter"&&(D.preventDefault(),T())},[T]);return c?I.jsx(Pu,{}):g?I.jsx("div",{className:"flex h-full w-full items-center justify-center",children:I.jsx("div",{className:"text-red-500",children:g.message})}):I.jsxs("div",{className:"flex h-full w-full flex-col",children:[I.jsx("div",{className:"border-b p-2 shrink-0",children:I.jsx("textarea",{className:"w-full h-24 p-2 font-mono text-sm border rounded resize-y bg-background text-foreground focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"SELECT * FROM users LIMIT 100",value:p,onChange:D=>m(D.target.value),onKeyDown:N})}),I.jsxs("div",{className:"flex items-center gap-3 px-3 py-1.5 border-b shrink-0",children:[I.jsxs(ir,{size:"sm",onClick:T,disabled:x||!p.trim(),children:[I.jsx(fH,{className:"size-4"}),x?"Executing...":"Execute"]}),E&&I.jsxs("span",{className:"text-xs text-muted-foreground",children:[E.rowCount," row",E.rowCount!==1?"s":"",E.truncated?" (truncated)":""," in ",E.executionTime,"ms"]}),C&&I.jsx("span",{className:"text-xs text-destructive truncate",children:C})]}),I.jsx("div",{ref:n,className:"flex-1 w-full",style:{touchAction:"manipulation"}})]})}var YZ=J3[" useInsertionEffect ".trim().toString()]||Br;function qZ({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,l]=KZ({defaultProp:t,onChange:n}),u=e!==void 0,c=u?e:i;{const p=P.useRef(e!==void 0);P.useEffect(()=>{const m=p.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const g=P.useCallback(p=>{var m;if(u){const x=XZ(p)?p(e):p;x!==e&&((m=l.current)==null||m.call(l,x))}else s(p)},[u,e,s,l]);return[c,g]}function KZ({defaultProp:e,onChange:t}){const[n,r]=P.useState(e),i=P.useRef(n),s=P.useRef(t);return YZ(()=>{s.current=t},[t]),P.useEffect(()=>{var l;i.current!==n&&((l=s.current)==null||l.call(s,n),i.current=n)},[n,i]),[n,r,s]}function XZ(e){return typeof e=="function"}var ZZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ZB=ZZ.reduce((e,t)=>{const n=Zc(`Primitive.${t}`),r=P.forwardRef((i,s)=>{const{asChild:l,...u}=i,c=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(c,{...u,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),T1="Switch",[JZ,mee]=za(T1),[QZ,eJ]=JZ(T1),JB=P.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:l,disabled:u,value:c="on",onCheckedChange:g,form:p,...m}=e,[x,b]=P.useState(null),E=wn(t,N=>b(N)),w=P.useRef(!1),C=x?p||!!x.closest("form"):!0,[R,T]=qZ({prop:i,defaultProp:s??!1,onChange:g,caller:T1});return I.jsxs(QZ,{scope:n,checked:R,disabled:u,children:[I.jsx(ZB.button,{type:"button",role:"switch","aria-checked":R,"aria-required":l,"data-state":nj(R),"data-disabled":u?"":void 0,disabled:u,value:c,...m,ref:E,onClick:dt(e.onClick,N=>{T(D=>!D),C&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})}),C&&I.jsx(tj,{control:x,bubbles:!w.current,name:r,value:c,checked:R,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});JB.displayName=T1;var QB="SwitchThumb",ej=P.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=eJ(QB,n);return I.jsx(ZB.span,{"data-state":nj(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});ej.displayName=QB;var tJ="SwitchBubbleInput",tj=P.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const l=P.useRef(null),u=wn(l,s),c=PF(n),g=sL(t);return P.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&b){const E=new Event("click",{bubbles:r});b.call(p,n),p.dispatchEvent(E)}},[c,n,r]),I.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});tj.displayName=tJ;function nj(e){return e?"checked":"unchecked"}var nJ=JB,rJ=ej;function aT({className:e,...t}){return I.jsx(nJ,{"data-slot":"switch",className:St("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:I.jsx(rJ,{"data-slot":"switch-thumb",className:St("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function rj({open:e,onOpenChange:t,onCreated:n}){const[r,i]=P.useState(""),[s,l]=P.useState("localhost"),[u,c]=P.useState("5432"),[g,p]=P.useState(""),[m,x]=P.useState(""),[b,E]=P.useState(""),[w,C]=P.useState(!1),[R,T]=P.useState(!1),[N,D]=P.useState(!1),[F,B]=P.useState(null),j=()=>{i(""),l("localhost"),c("5432"),p(""),x(""),E(""),C(!1),B(null)},k=async()=>{D(!0);try{const Z=await F3({name:r,host:s,port:Number(u),database:g,username:m,password:b,sslEnabled:w});B(Z.id),Vn.success("DataSource created"),n(Z),j(),t(!1)}catch{Vn.error("Failed to create datasource")}finally{D(!1)}},$=async()=>{if(!F){D(!0);try{const Z=await F3({name:r||"Untitled",host:s,port:Number(u),database:g,username:m,password:b,sslEnabled:w});B(Z.id),T(!0);const ne=await LS(Z.id);ne.success?Vn.success("Connection successful"):Vn.error(`Connection failed: ${ne.error}`)}catch{Vn.error("Failed to test connection")}finally{D(!1),T(!1)}return}T(!0);try{const Z=await LS(F);Z.success?Vn.success("Connection successful"):Vn.error(`Connection failed: ${Z.error}`)}catch{Vn.error("Failed to test connection")}finally{T(!1)}};return I.jsx(qv,{open:e,onOpenChange:Z=>{Z||j(),t(Z)},children:I.jsxs(Kv,{className:"sm:max-w-md",children:[I.jsxs(Xv,{children:[I.jsx(Zv,{children:"New DataSource Connection"}),I.jsx(Jv,{children:"Connect to an external PostgreSQL database."})]}),I.jsxs("div",{className:"grid gap-4 py-2",children:[I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"ds-name",children:"Name"}),I.jsx(Ni,{id:"ds-name",placeholder:"My Database",value:r,onChange:Z=>i(Z.target.value)})]}),I.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[I.jsxs("div",{className:"col-span-2 grid gap-2",children:[I.jsx(Lr,{htmlFor:"ds-host",children:"Host"}),I.jsx(Ni,{id:"ds-host",placeholder:"localhost",value:s,onChange:Z=>l(Z.target.value)})]}),I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"ds-port",children:"Port"}),I.jsx(Ni,{id:"ds-port",type:"number",value:u,onChange:Z=>c(Z.target.value)})]})]}),I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"ds-database",children:"Database"}),I.jsx(Ni,{id:"ds-database",placeholder:"mydb",value:g,onChange:Z=>p(Z.target.value)})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"ds-username",children:"Username"}),I.jsx(Ni,{id:"ds-username",placeholder:"postgres",value:m,onChange:Z=>x(Z.target.value)})]}),I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"ds-password",children:"Password"}),I.jsx(Ni,{id:"ds-password",type:"password",value:b,onChange:Z=>E(Z.target.value)})]})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(aT,{id:"ds-ssl",checked:w,onCheckedChange:C}),I.jsx(Lr,{htmlFor:"ds-ssl",children:"Enable SSL"})]})]}),I.jsxs("div",{className:"flex justify-between",children:[I.jsx(ir,{variant:"outline",onClick:$,disabled:R||!s||!g,children:R?"Testing...":"Test Connection"}),I.jsx(ir,{onClick:k,disabled:N||!r||!s||!g||!m,children:N?"Saving...":"Save"})]})]})})}function iJ({open:e,onOpenChange:t,onSelect:n}){const[r,i]=P.useState([]),[s,l]=P.useState(!1),[u,c]=P.useState(!1),[g,p]=P.useState(null);P.useEffect(()=>{e&&(l(!0),p2().then(i).catch(()=>i([])).finally(()=>l(!1)))},[e]);const m=()=>{const x=r.find(b=>b.id===g);x&&(n(x),t(!1))};return I.jsxs(I.Fragment,{children:[I.jsx(qv,{open:e&&!u,onOpenChange:t,children:I.jsxs(Kv,{className:"sm:max-w-sm",children:[I.jsxs(Xv,{children:[I.jsx(Zv,{children:"Select DataSource"}),I.jsx(Jv,{children:"Choose an existing connection or create a new one."})]}),I.jsx("div",{className:"grid gap-4 py-2",children:s?I.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Loading..."}):r.length===0?I.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No datasources yet. Create one to get started."}):I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{children:"Connections"}),I.jsx("div",{className:"flex flex-col gap-1 max-h-60 overflow-y-auto",children:r.map(x=>I.jsxs("button",{className:St("flex items-center gap-2 px-3 py-2 rounded-md border text-sm text-left cursor-pointer","hover:bg-muted/50 transition-colors",g===x.id&&"bg-muted border-primary"),onClick:()=>p(x.id),onDoubleClick:()=>{n(x),t(!1)},children:[I.jsx(ry,{className:"size-4 text-muted-foreground shrink-0"}),I.jsxs("div",{className:"flex flex-col min-w-0",children:[I.jsx("span",{className:"font-medium truncate",children:x.name}),I.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[x.host,":",x.port,"/",x.database]})]})]},x.id))})]})}),I.jsxs("div",{className:"flex justify-between",children:[I.jsxs(ir,{variant:"outline",onClick:()=>c(!0),children:[I.jsx(EF,{className:"size-4"}),"New Connection"]}),I.jsx(ir,{disabled:!g,onClick:m,children:"Select"})]})]})}),I.jsx(rj,{open:u,onOpenChange:x=>{c(x),x||p2().then(i).catch(()=>{})},onCreated:x=>{n(x),t(!1),c(!1)}})]})}const Xb="tab-1",ij={tabs:{[Xb]:{id:Xb,name:"Sheet1",type:"sheet"}},tabOrder:[Xb],sheets:{[Xb]:{sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},merges:{},frozenRows:0,frozenCols:0}}},oJ={main:[{title:"Documents",url:"/",icon:AF},{title:"Data Sources",url:"/datasources",icon:ry}],secondary:[{title:"Settings",url:"/settings",icon:CF}]};function sJ(e){if(!e)return;const t=e.getRoot();if(t.tabs||!t.sheet)return;const r="tab-1";e.update(i=>{i.tabs={[r]:{id:r,name:"Sheet1",type:"sheet"}},i.tabOrder=[r],i.sheets={[r]:{sheet:i.sheet||{},rowHeights:i.rowHeights||{},colWidths:i.colWidths||{},colStyles:i.colStyles||{},rowStyles:i.rowStyles||{},sheetStyle:i.sheetStyle,merges:i.merges||{},frozenRows:i.frozenRows||0,frozenCols:i.frozenCols||0}},delete i.sheet,delete i.rowHeights,delete i.colWidths,delete i.colStyles,delete i.rowStyles,delete i.sheetStyle,delete i.merges,delete i.frozenRows,delete i.frozenCols})}function k3(){return`tab-${Date.now()}-${Math.random().toString(36).slice(2,6)}`}function aJ({documentId:e}){gW();const t=Hv(),{doc:n}=Fa.useDocument(),[r,i]=P.useState(null),[s,l]=P.useState(!1),[u,c]=P.useState(!1),{data:g}=ja({queryKey:["document",e],queryFn:()=>hV(e)}),p=P.useCallback(async D=>{await JM(e,D),t.invalidateQueries({queryKey:["document",e]}),t.invalidateQueries({queryKey:["documents"]})},[e,t]);P.useEffect(()=>{n&&(sJ(n),l(!0))},[n]),P.useEffect(()=>{if(!n||!s)return;const D=n.getRoot();D.tabOrder&&D.tabOrder.length>0&&!r&&i(D.tabOrder[0])},[n,s,r]);const m=P.useCallback(()=>{if(!n)return;const D=n.getRoot(),F=k3(),B=D.tabOrder.filter(j=>{var k;return((k=D.tabs[j])==null?void 0:k.type)==="sheet"}).length+1;n.update(j=>{j.tabs[F]={id:F,name:`Sheet${B}`,type:"sheet"},j.tabOrder.push(F),j.sheets[F]={sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},merges:{},frozenRows:0,frozenCols:0}}),i(F)},[n]),x=P.useCallback(D=>{if(!n)return;const F=n.getRoot(),B=k3(),j=F.tabOrder.filter(k=>{var $;return(($=F.tabs[k])==null?void 0:$.type)==="datasource"}).length+1;n.update(k=>{k.tabs[B]={id:B,name:D.name||`DataSource${j}`,type:"datasource",datasourceId:D.id,query:""},k.tabOrder.push(B)}),i(B)},[n]),b=P.useCallback(D=>{D==="datasource"?c(!0):m()},[m]),E=P.useCallback((D,F)=>{n&&n.update(B=>{B.tabs[D]&&(B.tabs[D].name=F)})},[n]),w=P.useCallback(D=>{if(!n)return;const F=n.getRoot();if(F.tabOrder.length<=1)return;const B=F.tabOrder.indexOf(D);if(n.update(j=>{delete j.tabs[D],j.sheets[D]&&delete j.sheets[D];const k=j.tabOrder.indexOf(D);k!==-1&&j.tabOrder.splice(k,1)}),r===D){const j=n.getRoot(),k=Math.min(B,j.tabOrder.length-1);i(j.tabOrder[k])}},[n,r]),C=P.useCallback((D,F)=>{n&&n.update(B=>{const[j]=B.tabOrder.splice(D,1);B.tabOrder.splice(F,0,j)})},[n]);if(!n||!s||!r)return I.jsx(Pu,{});const R=n.getRoot(),T=R.tabOrder.map(D=>R.tabs[D]).filter(Boolean),N=R.tabs[r];return I.jsxs(vF,{children:[I.jsx(DF,{variant:"inset",items:oJ}),I.jsxs(yF,{children:[I.jsx(MF,{title:(g==null?void 0:g.title)??"Loading...",editable:!0,onRename:p,children:I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(pW,{documentId:e}),I.jsx(wH,{})]})}),I.jsxs("div",{className:"flex flex-1 flex-col",children:[I.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:I.jsx("div",{className:"flex flex-col h-full",children:(N==null?void 0:N.type)==="datasource"?I.jsx(WZ,{tabId:r}):I.jsx(_B,{tabId:r})})}),I.jsx(VZ,{tabs:T,activeTabId:r,onSelectTab:i,onAddTab:b,onRenameTab:E,onDeleteTab:w,onMoveTab:C})]})]}),I.jsx(iJ,{open:u,onOpenChange:c,onSelect:x})]})}function lJ(){const{id:e}=sM(),{data:t,isLoading:n,isError:r}=ja({queryKey:["me"],queryFn:Ch,retry:!1,staleTime:5*60*1e3});return n?I.jsx(Pu,{}):r||!t?I.jsx("div",{children:"User not found"}):!t.username||!t.email?I.jsx(Pu,{}):I.jsx(Fa.DocumentProvider,{docKey:`sheet-${e}`,initialRoot:ij,initialPresence:{username:t.username,email:t.email,photo:t.photo||""},enableDevtools:!1,children:I.jsx(aJ,{documentId:e})})}const uJ=zS("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function cJ({className:e,variant:t,asChild:n=!1,...r}){const i=n?_2:"span";return I.jsx(i,{"data-slot":"badge",className:St(uJ({variant:t}),e),...r})}function fJ({datasource:e,open:t,onOpenChange:n,onSaved:r}){const[i,s]=P.useState(""),[l,u]=P.useState(""),[c,g]=P.useState("5432"),[p,m]=P.useState(""),[x,b]=P.useState(""),[E,w]=P.useState(""),[C,R]=P.useState(!1),[T,N]=P.useState(!1),[D,F]=P.useState(!1);P.useEffect(()=>{e&&(s(e.name),u(e.host),g(String(e.port)),m(e.database),b(e.username),w(""),R(e.sslEnabled))},[e]);const B=async()=>{if(e){F(!0);try{const k={};i!==e.name&&(k.name=i),l!==e.host&&(k.host=l),Number(c)!==e.port&&(k.port=Number(c)),p!==e.database&&(k.database=p),x!==e.username&&(k.username=x),E&&(k.password=E),C!==e.sslEnabled&&(k.sslEnabled=C),await GZ(e.id,k),Vn.success("DataSource updated"),r()}catch{Vn.error("Failed to update datasource")}finally{F(!1)}}},j=async()=>{if(e){N(!0);try{const k=await LS(e.id);k.success?Vn.success("Connection successful"):Vn.error(`Connection failed: ${k.error}`)}catch{Vn.error("Failed to test connection")}finally{N(!1)}}};return I.jsx(qv,{open:t,onOpenChange:n,children:I.jsxs(Kv,{className:"sm:max-w-md",children:[I.jsxs(Xv,{children:[I.jsx(Zv,{children:"Edit DataSource"}),I.jsx(Jv,{children:"Update the connection settings for this datasource."})]}),I.jsxs("div",{className:"grid gap-4 py-2",children:[I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"edit-ds-name",children:"Name"}),I.jsx(Ni,{id:"edit-ds-name",value:i,onChange:k=>s(k.target.value)})]}),I.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[I.jsxs("div",{className:"col-span-2 grid gap-2",children:[I.jsx(Lr,{htmlFor:"edit-ds-host",children:"Host"}),I.jsx(Ni,{id:"edit-ds-host",value:l,onChange:k=>u(k.target.value)})]}),I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"edit-ds-port",children:"Port"}),I.jsx(Ni,{id:"edit-ds-port",type:"number",value:c,onChange:k=>g(k.target.value)})]})]}),I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"edit-ds-database",children:"Database"}),I.jsx(Ni,{id:"edit-ds-database",value:p,onChange:k=>m(k.target.value)})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"edit-ds-username",children:"Username"}),I.jsx(Ni,{id:"edit-ds-username",value:x,onChange:k=>b(k.target.value)})]}),I.jsxs("div",{className:"grid gap-2",children:[I.jsx(Lr,{htmlFor:"edit-ds-password",children:"Password"}),I.jsx(Ni,{id:"edit-ds-password",type:"password",placeholder:"Leave blank to keep current",value:E,onChange:k=>w(k.target.value)})]})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(aT,{id:"edit-ds-ssl",checked:C,onCheckedChange:R}),I.jsx(Lr,{htmlFor:"edit-ds-ssl",children:"Enable SSL"})]})]}),I.jsxs("div",{className:"flex justify-between",children:[I.jsx(ir,{variant:"outline",onClick:j,disabled:T,children:T?"Testing...":"Test Connection"}),I.jsx(ir,{onClick:B,disabled:D||!i||!l||!p||!x,children:D?"Saving...":"Save Changes"})]})]})})}function dJ({data:e}){var B,j;const t=Hv(),[n,r]=P.useState(!1),[i,s]=P.useState(null),[l,u]=P.useState(null),[c,g]=P.useState({}),p=eS({mutationFn:async k=>await $Z(k),onSuccess:()=>{t.invalidateQueries({queryKey:["datasources"]}),Vn.success("DataSource deleted")},onError:()=>{Vn.error("Failed to delete datasource")}}),m=async k=>{u(k),g($=>({...$,[k]:null}));try{const $=await LS(k);g(Z=>({...Z,[k]:$.success})),$.success?Vn.success("Connection successful"):Vn.error(`Connection failed: ${$.error}`)}catch{g($=>({...$,[k]:!1})),Vn.error("Failed to test connection")}finally{u(null)}},x=[{accessorKey:"name",header:"Name",cell:({row:k})=>I.jsx("div",{className:"font-medium",children:k.getValue("name")})},{id:"connection",header:"Connection",cell:({row:k})=>{const $=k.original;return I.jsxs("div",{className:"text-sm text-muted-foreground",children:[$.host,":",$.port,"/",$.database]})}},{accessorKey:"username",header:"User",cell:({row:k})=>I.jsx("div",{className:"text-sm",children:k.getValue("username")})},{id:"ssl",header:"SSL",cell:({row:k})=>k.original.sslEnabled?I.jsx(cJ,{variant:"secondary",children:"SSL"}):null},{id:"status",header:"Status",cell:({row:k})=>{const $=k.original.id,Z=c[$];return l===$?I.jsx(MM,{className:"h-4 w-4 animate-spin text-muted-foreground"}):Z===!0?I.jsx(uU,{className:"h-4 w-4 text-green-500"}):Z===!1?I.jsx(fU,{className:"h-4 w-4 text-red-500"}):I.jsx("span",{className:"text-sm text-muted-foreground",children:""})}},{accessorKey:"createdAt",header:()=>I.jsx("div",{className:"text-right",children:"Created"}),cell:({row:k})=>{const $=k.getValue("createdAt"),Z=hP(new Date($),{includeSeconds:!0,addSuffix:!0});return I.jsx("div",{className:"text-right text-sm",children:Z})}},{id:"actions",enableHiding:!1,cell:({row:k})=>{const $=k.original;return I.jsxs(Ho,{children:[I.jsx(Wo,{asChild:!0,children:I.jsxs(ir,{variant:"ghost",className:"h-8 w-8 p-0",children:[I.jsx("span",{className:"sr-only",children:"Open menu"}),I.jsx(OM,{})]})}),I.jsxs(Yo,{align:"end",children:[I.jsxs(Ct,{onClick:Z=>{Z.stopPropagation(),m($.id)},children:[I.jsx(bU,{className:"mr-2 h-4 w-4"}),"Test Connection"]}),I.jsxs(Ct,{onClick:Z=>{Z.stopPropagation(),s($)},children:[I.jsx(PM,{className:"mr-2 h-4 w-4"}),"Edit"]}),I.jsx(Vo,{}),I.jsxs(Ct,{className:"text-red-500 focus:text-red-500",onClick:Z=>{Z.stopPropagation(),p.mutate($.id)},children:[I.jsx(FM,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}],[b,E]=P.useState([]),[w,C]=P.useState([]),[R,T]=P.useState({}),[N,D]=P.useState({}),F=dP({data:e,columns:x,onSortingChange:E,onColumnFiltersChange:C,getCoreRowModel:lP(),getPaginationRowModel:cP(),getSortedRowModel:fP(),getFilteredRowModel:uP(),onColumnVisibilityChange:T,onRowSelectionChange:D,state:{sorting:b,columnFilters:w,columnVisibility:R,rowSelection:N}});return I.jsxs("div",{className:"w-full",children:[I.jsxs("div",{className:"flex items-center justify-between py-4",children:[I.jsx(Ni,{placeholder:"Filter by name...",value:((B=F.getColumn("name"))==null?void 0:B.getFilterValue())??"",onChange:k=>{var $;return($=F.getColumn("name"))==null?void 0:$.setFilterValue(k.target.value)},className:"max-w-sm"}),I.jsxs(ir,{onClick:()=>r(!0),className:"flex items-center gap-2",children:[I.jsx(LM,{className:"w-4 h-4"}),"New DataSource"]})]}),I.jsx("div",{className:"rounded-md border",children:I.jsxs(nF,{children:[I.jsx(rF,{children:F.getHeaderGroups().map(k=>I.jsx(Qp,{children:k.headers.map($=>I.jsx(oF,{children:$.isPlaceholder?null:vS($.column.columnDef.header,$.getContext())},$.id))},k.id))}),I.jsx(iF,{children:(j=F.getRowModel().rows)!=null&&j.length?F.getRowModel().rows.map(k=>I.jsx(Qp,{"data-state":k.getIsSelected()&&"selected",children:k.getVisibleCells().map($=>I.jsx(wS,{children:vS($.column.columnDef.cell,$.getContext())},$.id))},k.id)):I.jsx(Qp,{children:I.jsx(wS,{colSpan:x.length,className:"h-24 text-center",children:"No datasources yet. Create one to get started."})})})]})}),I.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[I.jsx("div",{className:"flex-1"}),I.jsxs("div",{className:"space-x-2",children:[I.jsx(ir,{variant:"outline",size:"sm",onClick:()=>F.previousPage(),disabled:!F.getCanPreviousPage(),children:"Previous"}),I.jsx(ir,{variant:"outline",size:"sm",onClick:()=>F.nextPage(),disabled:!F.getCanNextPage(),children:"Next"})]})]}),I.jsx(rj,{open:n,onOpenChange:r,onCreated:()=>{r(!1),t.invalidateQueries({queryKey:["datasources"]})}}),I.jsx(fJ,{datasource:i,open:i!==null,onOpenChange:k=>{k||s(null)},onSaved:()=>{s(null),t.invalidateQueries({queryKey:["datasources"]})}})]})}function hJ(){const{data:e=[],isLoading:t,isError:n}=ja({queryKey:["datasources"],queryFn:p2});return t?I.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:I.jsx("p",{className:"text-gray-500 text-lg",children:"Loading datasources..."})}):n?I.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[I.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load datasources."}),I.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):I.jsx("div",{className:"p-4",children:I.jsx(dJ,{data:e})})}function pJ({resolved:e}){const t=e.role==="viewer",{doc:n}=Fa.useDocument();if(!n)return I.jsx(Pu,{});const r=n.getRoot(),i=r.tabOrder&&r.tabOrder.length>0?r.tabOrder[0]:"tab-1";return I.jsxs("div",{className:"flex h-screen w-full flex-col",children:[I.jsxs("header",{className:"flex h-14 shrink-0 items-center gap-2 border-b px-4",children:[I.jsx("h1",{className:"text-base font-medium",children:e.title}),t&&I.jsx("span",{className:"rounded bg-muted px-2 py-0.5 text-xs text-muted-foreground",children:"View only"})]}),I.jsx("div",{className:"flex flex-1 flex-col",children:I.jsx(_B,{tabId:i,readOnly:t})})]})}function gJ({resolved:e}){const{data:t}=ja({queryKey:["me"],queryFn:Ch,retry:!1}),n={username:(t==null?void 0:t.username)||"Anonymous",email:(t==null?void 0:t.email)||"",photo:(t==null?void 0:t.photo)||""};return I.jsx(Fa.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:n.username},children:I.jsx(Fa.DocumentProvider,{docKey:`sheet-${e.documentId}`,initialRoot:ij,initialPresence:n,enableDevtools:!1,children:I.jsx(pJ,{resolved:e})})})}function mJ(){const{token:e}=sM(),[t,n]=P.useState(null),[r,i]=P.useState(null),[s,l]=P.useState(!0);return P.useEffect(()=>{if(!e){i("No share token provided"),l(!1);return}fW(e).then(u=>{n(u),l(!1)}).catch(u=>{i(u.message||"Invalid or expired link"),l(!1)})},[e]),s?I.jsx(Pu,{}):r||!t?I.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:I.jsxs("div",{className:"text-center",children:[I.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Link unavailable"}),I.jsx("p",{className:"text-muted-foreground",children:r||"Invalid or expired link"})]})}):I.jsx(gJ,{resolved:t})}function vJ(){const{theme:e,setTheme:t}=P.useContext(JR),n=()=>{t(e==="dark"?"light":"dark")};return I.jsx("div",{className:"max-w-2xl mx-auto p-6",children:I.jsxs("div",{className:"flex items-center justify-between p-4",children:[I.jsxs("div",{children:[I.jsx("label",{htmlFor:"theme-switch",className:"text-sm font-medium",children:"Theme"}),I.jsx("p",{className:"text-xs text-gray-500",children:"Toggle between light and dark themes."})]}),I.jsx("div",{className:"ml-4",children:I.jsx("div",{className:"flex items-center space-x-2",children:I.jsx(aT,{id:"theme-switch",checked:e==="dark",onCheckedChange:n})})})]})})}const yJ=()=>{const{data:e,isLoading:t}=ja({queryKey:["me"],queryFn:Ch,retry:!1});return t?I.jsx(Pu,{}):e?I.jsx(Fa.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:e.username||"anonymous-user"},children:I.jsx(S2,{})}):I.jsx(uM,{to:"/login"})},xJ=()=>{const{data:e,isLoading:t}=ja({queryKey:["me"],queryFn:Ch,retry:!1});return t?I.jsx(Pu,{}):e?I.jsx(uM,{to:"/"}):I.jsx(S2,{})},ew={main:[{title:"Documents",url:"/",icon:AF},{title:"Data Sources",url:"/datasources",icon:ry}],secondary:[{title:"Settings",url:"/settings",icon:CF}]};function bJ(){var n,r;const e=Ba();let t="";return e.pathname==="/"?t="Documents":e.pathname==="/datasources"?t="Data Sources":e.pathname==="/settings"?t="Settings":e.pathname.match(/^\/\d+$/)?t="Spreadsheet":t=((n=ew.secondary.find(i=>i.url===e.pathname))==null?void 0:n.title)||((r=ew.main.find(i=>e.pathname.startsWith(i.url)))==null?void 0:r.title)||"",I.jsxs(vF,{children:[I.jsx(DF,{variant:"inset",items:ew}),I.jsxs(yF,{children:[I.jsx(MF,{title:t}),I.jsx("div",{className:"flex flex-1 flex-col",children:I.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:I.jsx("div",{className:"flex flex-col h-full",children:I.jsx(S2,{})})})})]})]})}function SJ(){return I.jsxs(qK,{defaultTheme:"system",storageKey:"vite-ui-theme",children:[I.jsx(h5,{client:new l5,children:I.jsx(kz,{basename:"/",children:I.jsxs(pz,{children:[I.jsx(Ra,{element:I.jsx(xJ,{}),children:I.jsx(Ra,{path:"/login",element:I.jsx(cV,{})})}),I.jsx(Ra,{path:"/shared/:token",element:I.jsx(mJ,{})}),I.jsxs(Ra,{element:I.jsx(yJ,{}),children:[I.jsxs(Ra,{element:I.jsx(bJ,{}),children:[I.jsx(Ra,{path:"/",element:I.jsx(s$,{})}),I.jsx(Ra,{path:"/datasources",element:I.jsx(hJ,{})}),I.jsx(Ra,{path:"/settings",element:I.jsx(vJ,{})})]}),I.jsx(Ra,{path:"/:id",element:I.jsx(lJ,{})})]})]})})}),I.jsx(Z5,{})]})}Aj.createRoot(document.getElementById("root")).render(I.jsx(P.StrictMode,{children:I.jsx(SJ,{})}));
